var p9=Object.defineProperty;var g9=(t,e,n)=>e in t?p9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fb=(t,e,n)=>g9(t,typeof e!="symbol"?e+"":e,n);function y9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Hye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qb={exports:{}},Nf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function v9(){if(SC)return Nf;SC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Nf.Fragment=e,Nf.jsx=n,Nf.jsxs=n,Nf}var jC;function x9(){return jC||(jC=1,qb.exports=v9()),qb.exports}var c=x9(),Hb={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function b9(){if(NC)return ze;NC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function C(q,re,pe){this.props=q,this.context=re,this.refs=S,this.updater=pe||E}C.prototype.isReactComponent={},C.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function U(){}U.prototype=C.prototype;function R(q,re,pe){this.props=q,this.context=re,this.refs=S,this.updater=pe||E}var T=R.prototype=new U;T.constructor=R,A(T,C.prototype),T.isPureReactComponent=!0;var M=Array.isArray;function V(){}var I={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function N(q,re,pe){var ye=pe.ref;return{$$typeof:t,type:q,key:re,ref:ye!==void 0?ye:null,props:pe}}function P(q,re){return N(q.type,re,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function z(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(pe){return re[pe]})}var $=/\/+/g;function ne(q,re){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):re.toString(36)}function me(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(V,V):(q.status="pending",q.then(function(re){q.status==="pending"&&(q.status="fulfilled",q.value=re)},function(re){q.status==="pending"&&(q.status="rejected",q.reason=re)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Y(q,re,pe,ye,Ce){var ke=typeof q;(ke==="undefined"||ke==="boolean")&&(q=null);var Pe=!1;if(q===null)Pe=!0;else switch(ke){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(q.$$typeof){case t:case e:Pe=!0;break;case p:return Pe=q._init,Y(Pe(q._payload),re,pe,ye,Ce)}}if(Pe)return Ce=Ce(q),Pe=ye===""?"."+ne(q,0):ye,M(Ce)?(pe="",Pe!=null&&(pe=Pe.replace($,"$&/")+"/"),Y(Ce,re,pe,"",function(Ue){return Ue})):Ce!=null&&(L(Ce)&&(Ce=P(Ce,pe+(Ce.key==null||q&&q.key===Ce.key?"":(""+Ce.key).replace($,"$&/")+"/")+Pe)),re.push(Ce)),1;Pe=0;var Nt=ye===""?".":ye+":";if(M(q))for(var ce=0;ce<q.length;ce++)ye=q[ce],ke=Nt+ne(ye,ce),Pe+=Y(ye,re,pe,ke,Ce);else if(ce=w(q),typeof ce=="function")for(q=ce.call(q),ce=0;!(ye=q.next()).done;)ye=ye.value,ke=Nt+ne(ye,ce++),Pe+=Y(ye,re,pe,ke,Ce);else if(ke==="object"){if(typeof q.then=="function")return Y(me(q),re,pe,ye,Ce);throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function oe(q,re,pe){if(q==null)return q;var ye=[],Ce=0;return Y(q,ye,"","",function(ke){return re.call(pe,ke,Ce++)}),ye}function H(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(pe){(q._status===0||q._status===-1)&&(q._status=1,q._result=pe)},function(pe){(q._status===0||q._status===-1)&&(q._status=2,q._result=pe)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var K=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ae={map:oe,forEach:function(q,re,pe){oe(q,function(){re.apply(this,arguments)},pe)},count:function(q){var re=0;return oe(q,function(){re++}),re},toArray:function(q){return oe(q,function(re){return re})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return ze.Activity=g,ze.Children=ae,ze.Component=C,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=R,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ze.__COMPILER_RUNTIME={__proto__:null,c:function(q){return I.H.useMemoCache(q)}},ze.cache=function(q){return function(){return q.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(q,re,pe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ye=A({},q.props),Ce=q.key;if(re!=null)for(ke in re.key!==void 0&&(Ce=""+re.key),re)!k.call(re,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&re.ref===void 0||(ye[ke]=re[ke]);var ke=arguments.length-2;if(ke===1)ye.children=pe;else if(1<ke){for(var Pe=Array(ke),Nt=0;Nt<ke;Nt++)Pe[Nt]=arguments[Nt+2];ye.children=Pe}return N(q.type,Ce,ye)},ze.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},ze.createElement=function(q,re,pe){var ye,Ce={},ke=null;if(re!=null)for(ye in re.key!==void 0&&(ke=""+re.key),re)k.call(re,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ce[ye]=re[ye]);var Pe=arguments.length-2;if(Pe===1)Ce.children=pe;else if(1<Pe){for(var Nt=Array(Pe),ce=0;ce<Pe;ce++)Nt[ce]=arguments[ce+2];Ce.children=Nt}if(q&&q.defaultProps)for(ye in Pe=q.defaultProps,Pe)Ce[ye]===void 0&&(Ce[ye]=Pe[ye]);return N(q,ke,Ce)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(q){return{$$typeof:d,render:q}},ze.isValidElement=L,ze.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:H}},ze.memo=function(q,re){return{$$typeof:h,type:q,compare:re===void 0?null:re}},ze.startTransition=function(q){var re=I.T,pe={};I.T=pe;try{var ye=q(),Ce=I.S;Ce!==null&&Ce(pe,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(V,K)}catch(ke){K(ke)}finally{re!==null&&pe.types!==null&&(re.types=pe.types),I.T=re}},ze.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ze.use=function(q){return I.H.use(q)},ze.useActionState=function(q,re,pe){return I.H.useActionState(q,re,pe)},ze.useCallback=function(q,re){return I.H.useCallback(q,re)},ze.useContext=function(q){return I.H.useContext(q)},ze.useDebugValue=function(){},ze.useDeferredValue=function(q,re){return I.H.useDeferredValue(q,re)},ze.useEffect=function(q,re){return I.H.useEffect(q,re)},ze.useEffectEvent=function(q){return I.H.useEffectEvent(q)},ze.useId=function(){return I.H.useId()},ze.useImperativeHandle=function(q,re,pe){return I.H.useImperativeHandle(q,re,pe)},ze.useInsertionEffect=function(q,re){return I.H.useInsertionEffect(q,re)},ze.useLayoutEffect=function(q,re){return I.H.useLayoutEffect(q,re)},ze.useMemo=function(q,re){return I.H.useMemo(q,re)},ze.useOptimistic=function(q,re){return I.H.useOptimistic(q,re)},ze.useReducer=function(q,re,pe){return I.H.useReducer(q,re,pe)},ze.useRef=function(q){return I.H.useRef(q)},ze.useState=function(q){return I.H.useState(q)},ze.useSyncExternalStore=function(q,re,pe){return I.H.useSyncExternalStore(q,re,pe)},ze.useTransition=function(){return I.H.useTransition()},ze.version="19.2.0",ze}var TC;function td(){return TC||(TC=1,Hb.exports=b9()),Hb.exports}var b=td();const Mh=Gi(b),w9=y9({__proto__:null,default:Mh},[b]);var Gb={exports:{}},Tf={},Kb={exports:{}},Wb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function _9(){return CC||(CC=1,(function(t){function e(Y,oe){var H=Y.length;Y.push(oe);e:for(;0<H;){var K=H-1>>>1,ae=Y[K];if(0<a(ae,oe))Y[K]=oe,Y[H]=ae,H=K;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var oe=Y[0],H=Y.pop();if(H!==oe){Y[0]=H;e:for(var K=0,ae=Y.length,q=ae>>>1;K<q;){var re=2*(K+1)-1,pe=Y[re],ye=re+1,Ce=Y[ye];if(0>a(pe,H))ye<ae&&0>a(Ce,pe)?(Y[K]=Ce,Y[ye]=H,K=ye):(Y[K]=pe,Y[re]=H,K=re);else if(ye<ae&&0>a(Ce,H))Y[K]=Ce,Y[ye]=H,K=ye;else break e}}return oe}function a(Y,oe){var H=Y.sortIndex-oe.sortIndex;return H!==0?H:Y.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,x=3,w=!1,E=!1,A=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function T(Y){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=Y)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(h)}}function M(Y){if(A=!1,T(Y),!E)if(n(f)!==null)E=!0,V||(V=!0,z());else{var oe=n(h);oe!==null&&me(M,oe.startTime-Y)}}var V=!1,I=-1,k=5,N=-1;function P(){return S?!0:!(t.unstable_now()-N<k)}function L(){if(S=!1,V){var Y=t.unstable_now();N=Y;var oe=!0;try{e:{E=!1,A&&(A=!1,U(I),I=-1),w=!0;var H=x;try{t:{for(T(Y),g=n(f);g!==null&&!(g.expirationTime>Y&&P());){var K=g.callback;if(typeof K=="function"){g.callback=null,x=g.priorityLevel;var ae=K(g.expirationTime<=Y);if(Y=t.unstable_now(),typeof ae=="function"){g.callback=ae,T(Y),oe=!0;break t}g===n(f)&&r(f),T(Y)}else r(f);g=n(f)}if(g!==null)oe=!0;else{var q=n(h);q!==null&&me(M,q.startTime-Y),oe=!1}}break e}finally{g=null,x=H,w=!1}oe=void 0}}finally{oe?z():V=!1}}}var z;if(typeof R=="function")z=function(){R(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=L,z=function(){ne.postMessage(null)}}else z=function(){C(L,0)};function me(Y,oe){I=C(function(){Y(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var H=x;x=oe;try{return Y()}finally{x=H}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var H=x;x=Y;try{return oe()}finally{x=H}},t.unstable_scheduleCallback=function(Y,oe,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,Y){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=H+ae,Y={id:p++,callback:oe,priorityLevel:Y,startTime:H,expirationTime:ae,sortIndex:-1},H>K?(Y.sortIndex=H,e(h,Y),n(f)===null&&Y===n(h)&&(A?(U(I),I=-1):A=!0,me(M,H-K))):(Y.sortIndex=ae,e(f,Y),E||w||(E=!0,V||(V=!0,z()))),Y},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Y){var oe=x;return function(){var H=x;x=oe;try{return Y.apply(this,arguments)}finally{x=H}}}})(Wb)),Wb}var IC;function E9(){return IC||(IC=1,Kb.exports=_9()),Kb.exports}var Yb={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function A9(){if(OC)return tr;OC=1;var t=td();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},tr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},tr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},tr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},tr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},tr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},tr.requestFormReset=function(f){r.d.r(f)},tr.unstable_batchedUpdates=function(f,h){return f(h)},tr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},tr.useFormStatus=function(){return l.H.useHostTransitionStatus()},tr.version="19.2.0",tr}var kC;function KD(){if(kC)return Yb.exports;kC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yb.exports=A9(),Yb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC;function S9(){if(PC)return Tf;PC=1;var t=E9(),e=td(),n=KD();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return f(v),i;if(_===m)return f(v),o;_=_.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=_;else{for(var O=!1,B=v.child;B;){if(B===u){O=!0,u=v,m=_;break}if(B===m){O=!0,m=v,u=_;break}B=B.sibling}if(!O){for(B=_.child;B;){if(B===u){O=!0,u=_,m=v;break}if(B===m){O=!0,m=_,u=v;break}B=B.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),R=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var $=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===$?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case V:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case R:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return o=i.displayName||null,o!==null?o:ne(i.type)||"Memo";case k:o=i._payload,i=i._init;try{return ne(i(o))}catch{}}return null}var me=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},K=[],ae=-1;function q(i){return{current:i}}function re(i){0>ae||(i.current=K[ae],K[ae]=null,ae--)}function pe(i,o){ae++,K[ae]=i.current,i.current=o}var ye=q(null),Ce=q(null),ke=q(null),Pe=q(null);function Nt(i,o){switch(pe(ke,o),pe(Ce,i),pe(ye,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?WT(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=WT(o),i=YT(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ye),pe(ye,i)}function ce(){re(ye),re(Ce),re(ke)}function Ue(i){i.memoizedState!==null&&pe(Pe,i);var o=ye.current,u=YT(o,i.type);o!==u&&(pe(Ce,i),pe(ye,u))}function He(i){Ce.current===i&&(re(ye),re(Ce)),Pe.current===i&&(re(Pe),Ef._currentValue=H)}var ge,Xt;function Ke(i){if(ge===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",Xt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+i+Xt}var Sn=!1;function Zt(i,o){if(!i||Sn)return"";Sn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var te=se}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(se){te=se}i.call(fe.prototype)}}else{try{throw Error()}catch(se){te=se}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),O=_[0],B=_[1];if(O&&B){var G=O.split(`
`),ee=B.split(`
`);for(v=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(m===G.length||v===ee.length)for(m=G.length-1,v=ee.length-1;1<=m&&0<=v&&G[m]!==ee[v];)v--;for(;1<=m&&0<=v;m--,v--)if(G[m]!==ee[v]){if(m!==1||v!==1)do if(m--,v--,0>v||G[m]!==ee[v]){var le=`
`+G[m].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=m&&0<=v);break}}}finally{Sn=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ke(u):""}function Ur(i,o){switch(i.tag){case 26:case 27:case 5:return Ke(i.type);case 16:return Ke("Lazy");case 13:return i.child!==o&&o!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return Zt(i.type,!1);case 11:return Zt(i.type.render,!1);case 1:return Zt(i.type,!0);case 31:return Ke("Activity");default:return""}}function Xs(i){try{var o="",u=null;do o+=Ur(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ln=Object.prototype.hasOwnProperty,jn=t.unstable_scheduleCallback,Zs=t.unstable_cancelCallback,H0=t.unstable_shouldYield,Tm=t.unstable_requestPaint,dr=t.unstable_now,fl=t.unstable_getCurrentPriorityLevel,Sd=t.unstable_ImmediatePriority,jd=t.unstable_UserBlockingPriority,Js=t.unstable_NormalPriority,G0=t.unstable_LowPriority,Cm=t.unstable_IdlePriority,Im=t.log,Om=t.unstable_setDisableYieldValue,Pa=null,Hn=null;function aa(i){if(typeof Im=="function"&&Om(i),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(Pa,i)}catch{}}var Jt=Math.clz32?Math.clz32:Pm,km=Math.log,Nc=Math.LN2;function Pm(i){return i>>>=0,i===0?32:31-(km(i)/Nc|0)|0}var ai=256,hl=262144,cn=4194304;function ii(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function si(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,_=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var B=m&134217727;return B!==0?(m=B&~_,m!==0?v=ii(m):(O&=B,O!==0?v=ii(O):u||(u=B&~i,u!==0&&(v=ii(u))))):(B=m&~_,B!==0?v=ii(B):O!==0?v=ii(O):u||(u=m&~i,u!==0&&(v=ii(u)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:v}function Ra(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function K0(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rm(){var i=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),i}function oi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function ml(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function W0(i,o,u,m,v,_){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var B=i.entanglements,G=i.expirationTimes,ee=i.hiddenUpdates;for(u=O&~u;0<u;){var le=31-Jt(u),fe=1<<le;B[le]=0,G[le]=-1;var te=ee[le];if(te!==null)for(ee[le]=null,le=0;le<te.length;le++){var se=te[le];se!==null&&(se.lane&=-536870913)}u&=~fe}m!==0&&pl(i,m,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(O&~o))}function pl(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-Jt(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function Nd(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-Jt(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}function Td(i,o){var u=o&-o;return u=(u&42)!==0?1:gl(u),(u&(i.suspendedLanes|o))!==0?0:u}function gl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Zi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Dm(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:vC(i.type))}function Da(i,o){var u=oe.p;try{return oe.p=i,o()}finally{oe.p=u}}var Ma=Math.random().toString(36).slice(2),un="__reactFiber$"+Ma,Rn="__reactProps$"+Ma,li="__reactContainer$"+Ma,Tc="__reactEvents$"+Ma,Y0="__reactListeners$"+Ma,Mm="__reactHandles$"+Ma,Lm="__reactResources$"+Ma,ci="__reactMarker$"+Ma;function Cc(i){delete i[un],delete i[Rn],delete i[Tc],delete i[Y0],delete i[Mm]}function ui(i){var o=i[un];if(o)return o;for(var u=i.parentNode;u;){if(o=u[li]||u[un]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=nC(i);i!==null;){if(u=i[un])return u;i=nC(i)}return o}i=u,u=i.parentNode}return null}function ia(i){if(i=i[un]||i[li]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function zr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function di(i){var o=i[Lm];return o||(o=i[Lm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function dn(i){i[ci]=!0}var Cd=new Set,Id={};function fi(i,o){hi(i,o),hi(i+"Capture",o)}function hi(i,o){for(Id[i]=o,i=0;i<o.length;i++)Cd.add(o[i])}var Od=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kd={},Pd={};function Um(i){return ln.call(Pd,i)?!0:ln.call(kd,i)?!1:Od.test(i)?Pd[i]=!0:(kd[i]=!0,!1)}function Ic(i,o,u){if(Um(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Vr(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function fn(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function eo(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rd(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,_=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(O){u=""+O,_.call(this,O)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function mt(i){if(!i._valueTracker){var o=eo(i)?"checked":"value";i._valueTracker=Rd(i,o,""+i[o])}}function yl(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=eo(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function mi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vl=/[\n"\\]/g;function Ar(i){return i.replace(vl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Oc(i,o,u,m,v,_,O,B){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Dn(o)):i.value!==""+Dn(o)&&(i.value=""+Dn(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?Dd(i,O,Dn(o)):u!=null?Dd(i,O,Dn(u)):m!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+Dn(B):i.removeAttribute("name")}function zm(i,o,u,m,v,_,O,B){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){mt(i);return}u=u!=null?""+Dn(u):"",o=o!=null?""+Dn(o):u,B||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=B?i.checked:!!m,i.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),mt(i)}function Dd(i,o,u){o==="number"&&mi(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function to(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Dn(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function Vm(i,o,u){if(o!=null&&(o=""+Dn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Dn(u):""}function no(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(me(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Dn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),mt(i)}function Sr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var $m=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Md(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||$m.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Ld(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&Md(i,v,m)}else for(var _ in o)o.hasOwnProperty(_)&&Md(i,_,o[_])}function kc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pc(i){return ro.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function La(){}var Ud=null;function sa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ao=null,pi=null;function xl(i){var o=ia(i);if(o&&(i=o.stateNode)){var u=i[Rn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Oc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ar(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=m[Rn]||null;if(!v)throw Error(r(90));Oc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&yl(m)}break e;case"textarea":Vm(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&to(i,!!u.multiple,o,!1)}}}var Rc=!1;function io(i,o,u){if(Rc)return i(o,u);Rc=!0;try{var m=i(o);return m}finally{if(Rc=!1,(ao!==null||pi!==null)&&(Dp(),ao&&(o=ao,i=pi,pi=ao=null,xl(o),i)))for(o=0;o<i.length;o++)xl(i[o])}}function Ua(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Rn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=!1;if(oa)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){bl=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{bl=!1}var gi=null,zd=null,wl=null;function Vd(){if(wl)return wl;var i,o=zd,u=o.length,m,v="value"in gi?gi.value:gi.textContent,_=v.length;for(i=0;i<u&&o[i]===v[i];i++);var O=u-i;for(m=1;m<=O&&o[u-m]===v[_-m];m++);return wl=v.slice(i,1<m?1-m:void 0)}function _l(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ji(){return!0}function za(){return!1}function Gn(i){function o(u,m,v,_,O){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(u=i[B],this[B]=u?u(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ji:za,this.isPropagationStopped=za,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),o}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Gn(es),so=g({},es,{view:0,detail:0}),$d=Gn(so),oo,Dc,vi,Mc=g({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vi&&(vi&&i.type==="mousemove"?(oo=i.screenX-vi.screenX,Dc=i.screenY-vi.screenY):Dc=oo=0,vi=i),oo)},movementY:function(i){return"movementY"in i?i.movementY:Dc}}),Bd=Gn(Mc),El=g({},Mc,{dataTransfer:0}),Fm=Gn(El),qm=g({},so,{relatedTarget:0}),Al=Gn(qm),Fd=g({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=Gn(Fd),Lc=g({},es,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gm=Gn(Lc),Km=g({},es,{data:0}),xi=Gn(Km),Wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Qm[i])?!!o[i]:!1}function lo(){return Xm}var fr=g({},so,{key:function(i){if(i.key){var o=Wm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=_l(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ym[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(i){return i.type==="keypress"?_l(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_l(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zm=Gn(fr),Jm=g({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Gn(Jm),y=g({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),j=Gn(y),D=g({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=Gn(D),X=g({},Mc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=Gn(X),ve=g({},es,{newState:0,oldState:0}),$e=Gn(ve),en=[9,13,27,32],ut=oa&&"CompositionEvent"in window,Dt=null;oa&&"documentMode"in document&&(Dt=document.documentMode);var la=oa&&"TextEvent"in window&&!Dt,bi=oa&&(!ut||Dt&&8<Dt&&11>=Dt),Va=" ",$a=!1;function Sl(i,o){switch(i){case"keyup":return en.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zc=!1;function z8(i,o){switch(i){case"compositionend":return Uc(o);case"keypress":return o.which!==32?null:($a=!0,Va);case"textInput":return i=o.data,i===Va&&$a?null:i;default:return null}}function V8(i,o){if(zc)return i==="compositionend"||!ut&&Sl(i,o)?(i=Vd(),wl=zd=gi=null,zc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return bi&&o.locale!=="ko"?null:o.data;default:return null}}var $8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!$8[i.type]:o==="textarea"}function sN(i,o,u,m){ao?pi?pi.push(m):pi=[m]:ao=m,o=Bp(o,"onChange"),0<o.length&&(u=new yi("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var qd=null,Hd=null;function B8(i){BT(i,0)}function ep(i){var o=zr(i);if(yl(o))return i}function oN(i,o){if(i==="change")return o}var lN=!1;if(oa){var Q0;if(oa){var X0="oninput"in document;if(!X0){var cN=document.createElement("div");cN.setAttribute("oninput","return;"),X0=typeof cN.oninput=="function"}Q0=X0}else Q0=!1;lN=Q0&&(!document.documentMode||9<document.documentMode)}function uN(){qd&&(qd.detachEvent("onpropertychange",dN),Hd=qd=null)}function dN(i){if(i.propertyName==="value"&&ep(Hd)){var o=[];sN(o,Hd,i,sa(i)),io(B8,o)}}function F8(i,o,u){i==="focusin"?(uN(),qd=o,Hd=u,qd.attachEvent("onpropertychange",dN)):i==="focusout"&&uN()}function q8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ep(Hd)}function H8(i,o){if(i==="click")return ep(o)}function G8(i,o){if(i==="input"||i==="change")return ep(o)}function K8(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var $r=typeof Object.is=="function"?Object.is:K8;function Gd(i,o){if($r(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!ln.call(o,v)||!$r(i[v],o[v]))return!1}return!0}function fN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hN(i,o){var u=fN(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=fN(u)}}function mN(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?mN(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function pN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=mi(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=mi(i.document)}return o}function Z0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var W8=oa&&"documentMode"in document&&11>=document.documentMode,Vc=null,J0=null,Kd=null,ex=!1;function gN(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ex||Vc==null||Vc!==mi(m)||(m=Vc,"selectionStart"in m&&Z0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Kd&&Gd(Kd,m)||(Kd=m,m=Bp(J0,"onSelect"),0<m.length&&(o=new yi("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=Vc)))}function jl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var $c={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},tx={},yN={};oa&&(yN=document.createElement("div").style,"AnimationEvent"in window||(delete $c.animationend.animation,delete $c.animationiteration.animation,delete $c.animationstart.animation),"TransitionEvent"in window||delete $c.transitionend.transition);function Nl(i){if(tx[i])return tx[i];if(!$c[i])return i;var o=$c[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in yN)return tx[i]=o[u];return i}var vN=Nl("animationend"),xN=Nl("animationiteration"),bN=Nl("animationstart"),Y8=Nl("transitionrun"),Q8=Nl("transitionstart"),X8=Nl("transitioncancel"),wN=Nl("transitionend"),_N=new Map,nx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nx.push("scrollEnd");function Ba(i,o){_N.set(i,o),fi(o,[i])}var tp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ca=[],Bc=0,rx=0;function np(){for(var i=Bc,o=rx=Bc=0;o<i;){var u=ca[o];ca[o++]=null;var m=ca[o];ca[o++]=null;var v=ca[o];ca[o++]=null;var _=ca[o];if(ca[o++]=null,m!==null&&v!==null){var O=m.pending;O===null?v.next=v:(v.next=O.next,O.next=v),m.pending=v}_!==0&&EN(u,v,_)}}function rp(i,o,u,m){ca[Bc++]=i,ca[Bc++]=o,ca[Bc++]=u,ca[Bc++]=m,rx|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function ax(i,o,u,m){return rp(i,o,u,m),ap(i)}function Tl(i,o){return rp(i,null,null,o),ap(i)}function EN(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,_=i.return;_!==null;)_.childLanes|=u,m=_.alternate,m!==null&&(m.childLanes|=u),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&o!==null&&(v=31-Jt(u),i=_.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=u|536870912),_):null}function ap(i){if(50<gf)throw gf=0,hb=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Fc={};function Z8(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(i,o,u,m){return new Z8(i,o,u,m)}function ix(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ns(i,o){var u=i.alternate;return u===null?(u=Br(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function AN(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function ip(i,o,u,m,v,_){var O=0;if(m=i,typeof i=="function")ix(i)&&(O=1);else if(typeof i=="string")O=r9(i,u,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Br(31,u,o,v),i.elementType=N,i.lanes=_,i;case A:return Cl(u.children,v,_,o);case S:O=8,v|=24;break;case C:return i=Br(12,u,o,v|2),i.elementType=C,i.lanes=_,i;case M:return i=Br(13,u,o,v),i.elementType=M,i.lanes=_,i;case V:return i=Br(19,u,o,v),i.elementType=V,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:O=10;break e;case U:O=9;break e;case T:O=11;break e;case I:O=14;break e;case k:O=16,m=null;break e}O=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=Br(O,u,o,v),o.elementType=i,o.type=m,o.lanes=_,o}function Cl(i,o,u,m){return i=Br(7,i,m,o),i.lanes=u,i}function sx(i,o,u){return i=Br(6,i,null,o),i.lanes=u,i}function SN(i){var o=Br(18,null,null,0);return o.stateNode=i,o}function ox(i,o,u){return o=Br(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var jN=new WeakMap;function ua(i,o){if(typeof i=="object"&&i!==null){var u=jN.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Xs(o)},jN.set(i,o),o)}return{value:i,source:o,stack:Xs(o)}}var qc=[],Hc=0,sp=null,Wd=0,da=[],fa=0,co=null,wi=1,_i="";function rs(i,o){qc[Hc++]=Wd,qc[Hc++]=sp,sp=i,Wd=o}function NN(i,o,u){da[fa++]=wi,da[fa++]=_i,da[fa++]=co,co=i;var m=wi;i=_i;var v=32-Jt(m)-1;m&=~(1<<v),u+=1;var _=32-Jt(o)+v;if(30<_){var O=v-v%5;_=(m&(1<<O)-1).toString(32),m>>=O,v-=O,wi=1<<32-Jt(o)+v|u<<v|m,_i=_+i}else wi=1<<_|u<<v|m,_i=i}function lx(i){i.return!==null&&(rs(i,1),NN(i,1,0))}function cx(i){for(;i===sp;)sp=qc[--Hc],qc[Hc]=null,Wd=qc[--Hc],qc[Hc]=null;for(;i===co;)co=da[--fa],da[fa]=null,_i=da[--fa],da[fa]=null,wi=da[--fa],da[fa]=null}function TN(i,o){da[fa++]=wi,da[fa++]=_i,da[fa++]=co,wi=o.id,_i=o.overflow,co=i}var Kn=null,It=null,nt=!1,uo=null,ha=!1,ux=Error(r(519));function fo(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yd(ua(o,i)),ux}function CN(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[un]=i,o[Rn]=m,u){case"dialog":Ye("cancel",o),Ye("close",o);break;case"iframe":case"object":case"embed":Ye("load",o);break;case"video":case"audio":for(u=0;u<vf.length;u++)Ye(vf[u],o);break;case"source":Ye("error",o);break;case"img":case"image":case"link":Ye("error",o),Ye("load",o);break;case"details":Ye("toggle",o);break;case"input":Ye("invalid",o),zm(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ye("invalid",o);break;case"textarea":Ye("invalid",o),no(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||GT(o.textContent,u)?(m.popover!=null&&(Ye("beforetoggle",o),Ye("toggle",o)),m.onScroll!=null&&Ye("scroll",o),m.onScrollEnd!=null&&Ye("scrollend",o),m.onClick!=null&&(o.onclick=La),o=!0):o=!1,o||fo(i,!0)}function IN(i){for(Kn=i.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:Kn=Kn.return}}function Gc(i){if(i!==Kn)return!1;if(!nt)return IN(i),nt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Tb(i.type,i.memoizedProps)),u=!u),u&&It&&fo(i),IN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));It=tC(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));It=tC(i)}else o===27?(o=It,jo(i.type)?(i=Pb,Pb=null,It=i):It=o):It=Kn?pa(i.stateNode.nextSibling):null;return!0}function Il(){It=Kn=null,nt=!1}function dx(){var i=uo;return i!==null&&(Cr===null?Cr=i:Cr.push.apply(Cr,i),uo=null),i}function Yd(i){uo===null?uo=[i]:uo.push(i)}var fx=q(null),Ol=null,as=null;function ho(i,o,u){pe(fx,o._currentValue),o._currentValue=u}function is(i){i._currentValue=fx.current,re(fx)}function hx(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function mx(i,o,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var O=v.child;_=_.firstContext;e:for(;_!==null;){var B=_;_=v;for(var G=0;G<o.length;G++)if(B.context===o[G]){_.lanes|=u,B=_.alternate,B!==null&&(B.lanes|=u),hx(_.return,u,i),m||(O=null);break e}_=B.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=u,_=O.alternate,_!==null&&(_.lanes|=u),hx(O,u,i),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===i){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Kc(i,o,u,m){i=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var B=v.type;$r(v.pendingProps.value,O.value)||(i!==null?i.push(B):i=[B])}}else if(v===Pe.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Ef):i=[Ef])}v=v.return}i!==null&&mx(o,i,u,m),o.flags|=262144}function op(i){for(i=i.firstContext;i!==null;){if(!$r(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function kl(i){Ol=i,as=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wn(i){return ON(Ol,i)}function lp(i,o){return Ol===null&&kl(i),ON(i,o)}function ON(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},as===null){if(i===null)throw Error(r(308));as=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else as=as.next=o;return u}var J8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},eV=t.unstable_scheduleCallback,tV=t.unstable_NormalPriority,hn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function px(){return{controller:new J8,data:new Map,refCount:0}}function Qd(i){i.refCount--,i.refCount===0&&eV(tV,function(){i.controller.abort()})}var Xd=null,gx=0,Wc=0,Yc=null;function nV(i,o){if(Xd===null){var u=Xd=[];gx=0,Wc=xb(),Yc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return gx++,o.then(kN,kN),o}function kN(){if(--gx===0&&Xd!==null){Yc!==null&&(Yc.status="fulfilled");var i=Xd;Xd=null,Wc=0,Yc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function rV(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var PN=Y.S;Y.S=function(i,o){gT=dr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&nV(i,o),PN!==null&&PN(i,o)};var Pl=q(null);function yx(){var i=Pl.current;return i!==null?i:At.pooledCache}function cp(i,o){o===null?pe(Pl,Pl.current):pe(Pl,o.pool)}function RN(){var i=yx();return i===null?null:{parent:hn._currentValue,pool:i}}var Qc=Error(r(460)),vx=Error(r(474)),up=Error(r(542)),dp={then:function(){}};function DN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function MN(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(La,La),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,UN(i),i;default:if(typeof o.status=="string")o.then(La,La);else{if(i=At,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,UN(i),i}throw Dl=o,Qc}}function Rl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Dl=u,Qc):u}}var Dl=null;function LN(){if(Dl===null)throw Error(r(459));var i=Dl;return Dl=null,i}function UN(i){if(i===Qc||i===up)throw Error(r(483))}var Xc=null,Zd=0;function fp(i){var o=Zd;return Zd+=1,Xc===null&&(Xc=[]),MN(Xc,i,o)}function Jd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function hp(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function zN(i){function o(Q,W){if(i){var Z=Q.deletions;Z===null?(Q.deletions=[W],Q.flags|=16):Z.push(W)}}function u(Q,W){if(!i)return null;for(;W!==null;)o(Q,W),W=W.sibling;return null}function m(Q){for(var W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function v(Q,W){return Q=ns(Q,W),Q.index=0,Q.sibling=null,Q}function _(Q,W,Z){return Q.index=Z,i?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<W?(Q.flags|=67108866,W):Z):(Q.flags|=67108866,W)):(Q.flags|=1048576,W)}function O(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function B(Q,W,Z,ue){return W===null||W.tag!==6?(W=sx(Z,Q.mode,ue),W.return=Q,W):(W=v(W,Z),W.return=Q,W)}function G(Q,W,Z,ue){var Ie=Z.type;return Ie===A?le(Q,W,Z.props.children,ue,Z.key):W!==null&&(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===k&&Rl(Ie)===W.type)?(W=v(W,Z.props),Jd(W,Z),W.return=Q,W):(W=ip(Z.type,Z.key,Z.props,null,Q.mode,ue),Jd(W,Z),W.return=Q,W)}function ee(Q,W,Z,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=ox(Z,Q.mode,ue),W.return=Q,W):(W=v(W,Z.children||[]),W.return=Q,W)}function le(Q,W,Z,ue,Ie){return W===null||W.tag!==7?(W=Cl(Z,Q.mode,ue,Ie),W.return=Q,W):(W=v(W,Z),W.return=Q,W)}function fe(Q,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=sx(""+W,Q.mode,Z),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return Z=ip(W.type,W.key,W.props,null,Q.mode,Z),Jd(Z,W),Z.return=Q,Z;case E:return W=ox(W,Q.mode,Z),W.return=Q,W;case k:return W=Rl(W),fe(Q,W,Z)}if(me(W)||z(W))return W=Cl(W,Q.mode,Z,null),W.return=Q,W;if(typeof W.then=="function")return fe(Q,fp(W),Z);if(W.$$typeof===R)return fe(Q,lp(Q,W),Z);hp(Q,W)}return null}function te(Q,W,Z,ue){var Ie=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ie!==null?null:B(Q,W,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Ie?G(Q,W,Z,ue):null;case E:return Z.key===Ie?ee(Q,W,Z,ue):null;case k:return Z=Rl(Z),te(Q,W,Z,ue)}if(me(Z)||z(Z))return Ie!==null?null:le(Q,W,Z,ue,null);if(typeof Z.then=="function")return te(Q,W,fp(Z),ue);if(Z.$$typeof===R)return te(Q,W,lp(Q,Z),ue);hp(Q,Z)}return null}function se(Q,W,Z,ue,Ie){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(Z)||null,B(W,Q,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return Q=Q.get(ue.key===null?Z:ue.key)||null,G(W,Q,ue,Ie);case E:return Q=Q.get(ue.key===null?Z:ue.key)||null,ee(W,Q,ue,Ie);case k:return ue=Rl(ue),se(Q,W,Z,ue,Ie)}if(me(ue)||z(ue))return Q=Q.get(Z)||null,le(W,Q,ue,Ie,null);if(typeof ue.then=="function")return se(Q,W,Z,fp(ue),Ie);if(ue.$$typeof===R)return se(Q,W,Z,lp(W,ue),Ie);hp(W,ue)}return null}function je(Q,W,Z,ue){for(var Ie=null,st=null,Te=W,qe=W=0,Ze=null;Te!==null&&qe<Z.length;qe++){Te.index>qe?(Ze=Te,Te=null):Ze=Te.sibling;var ot=te(Q,Te,Z[qe],ue);if(ot===null){Te===null&&(Te=Ze);break}i&&Te&&ot.alternate===null&&o(Q,Te),W=_(ot,W,qe),st===null?Ie=ot:st.sibling=ot,st=ot,Te=Ze}if(qe===Z.length)return u(Q,Te),nt&&rs(Q,qe),Ie;if(Te===null){for(;qe<Z.length;qe++)Te=fe(Q,Z[qe],ue),Te!==null&&(W=_(Te,W,qe),st===null?Ie=Te:st.sibling=Te,st=Te);return nt&&rs(Q,qe),Ie}for(Te=m(Te);qe<Z.length;qe++)Ze=se(Te,Q,qe,Z[qe],ue),Ze!==null&&(i&&Ze.alternate!==null&&Te.delete(Ze.key===null?qe:Ze.key),W=_(Ze,W,qe),st===null?Ie=Ze:st.sibling=Ze,st=Ze);return i&&Te.forEach(function(Oo){return o(Q,Oo)}),nt&&rs(Q,qe),Ie}function Re(Q,W,Z,ue){if(Z==null)throw Error(r(151));for(var Ie=null,st=null,Te=W,qe=W=0,Ze=null,ot=Z.next();Te!==null&&!ot.done;qe++,ot=Z.next()){Te.index>qe?(Ze=Te,Te=null):Ze=Te.sibling;var Oo=te(Q,Te,ot.value,ue);if(Oo===null){Te===null&&(Te=Ze);break}i&&Te&&Oo.alternate===null&&o(Q,Te),W=_(Oo,W,qe),st===null?Ie=Oo:st.sibling=Oo,st=Oo,Te=Ze}if(ot.done)return u(Q,Te),nt&&rs(Q,qe),Ie;if(Te===null){for(;!ot.done;qe++,ot=Z.next())ot=fe(Q,ot.value,ue),ot!==null&&(W=_(ot,W,qe),st===null?Ie=ot:st.sibling=ot,st=ot);return nt&&rs(Q,qe),Ie}for(Te=m(Te);!ot.done;qe++,ot=Z.next())ot=se(Te,Q,qe,ot.value,ue),ot!==null&&(i&&ot.alternate!==null&&Te.delete(ot.key===null?qe:ot.key),W=_(ot,W,qe),st===null?Ie=ot:st.sibling=ot,st=ot);return i&&Te.forEach(function(m9){return o(Q,m9)}),nt&&rs(Q,qe),Ie}function _t(Q,W,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Ie=Z.key;W!==null;){if(W.key===Ie){if(Ie=Z.type,Ie===A){if(W.tag===7){u(Q,W.sibling),ue=v(W,Z.props.children),ue.return=Q,Q=ue;break e}}else if(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===k&&Rl(Ie)===W.type){u(Q,W.sibling),ue=v(W,Z.props),Jd(ue,Z),ue.return=Q,Q=ue;break e}u(Q,W);break}else o(Q,W);W=W.sibling}Z.type===A?(ue=Cl(Z.props.children,Q.mode,ue,Z.key),ue.return=Q,Q=ue):(ue=ip(Z.type,Z.key,Z.props,null,Q.mode,ue),Jd(ue,Z),ue.return=Q,Q=ue)}return O(Q);case E:e:{for(Ie=Z.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){u(Q,W.sibling),ue=v(W,Z.children||[]),ue.return=Q,Q=ue;break e}else{u(Q,W);break}else o(Q,W);W=W.sibling}ue=ox(Z,Q.mode,ue),ue.return=Q,Q=ue}return O(Q);case k:return Z=Rl(Z),_t(Q,W,Z,ue)}if(me(Z))return je(Q,W,Z,ue);if(z(Z)){if(Ie=z(Z),typeof Ie!="function")throw Error(r(150));return Z=Ie.call(Z),Re(Q,W,Z,ue)}if(typeof Z.then=="function")return _t(Q,W,fp(Z),ue);if(Z.$$typeof===R)return _t(Q,W,lp(Q,Z),ue);hp(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(u(Q,W.sibling),ue=v(W,Z),ue.return=Q,Q=ue):(u(Q,W),ue=sx(Z,Q.mode,ue),ue.return=Q,Q=ue),O(Q)):u(Q,W)}return function(Q,W,Z,ue){try{Zd=0;var Ie=_t(Q,W,Z,ue);return Xc=null,Ie}catch(Te){if(Te===Qc||Te===up)throw Te;var st=Br(29,Te,null,Q.mode);return st.lanes=ue,st.return=Q,st}finally{}}}var Ml=zN(!0),VN=zN(!1),mo=!1;function xx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function po(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function go(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(dt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=ap(i),EN(i,null,u),o}return rp(i,m,o,u),ap(i)}function ef(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Nd(i,u)}}function wx(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=O:_=_.next=O,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var _x=!1;function tf(){if(_x){var i=Yc;if(i!==null)throw i}}function nf(i,o,u,m){_x=!1;var v=i.updateQueue;mo=!1;var _=v.firstBaseUpdate,O=v.lastBaseUpdate,B=v.shared.pending;if(B!==null){v.shared.pending=null;var G=B,ee=G.next;G.next=null,O===null?_=ee:O.next=ee,O=G;var le=i.alternate;le!==null&&(le=le.updateQueue,B=le.lastBaseUpdate,B!==O&&(B===null?le.firstBaseUpdate=ee:B.next=ee,le.lastBaseUpdate=G))}if(_!==null){var fe=v.baseState;O=0,le=ee=G=null,B=_;do{var te=B.lane&-536870913,se=te!==B.lane;if(se?(Xe&te)===te:(m&te)===te){te!==0&&te===Wc&&(_x=!0),le!==null&&(le=le.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var je=i,Re=B;te=o;var _t=u;switch(Re.tag){case 1:if(je=Re.payload,typeof je=="function"){fe=je.call(_t,fe,te);break e}fe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Re.payload,te=typeof je=="function"?je.call(_t,fe,te):je,te==null)break e;fe=g({},fe,te);break e;case 2:mo=!0}}te=B.callback,te!==null&&(i.flags|=64,se&&(i.flags|=8192),se=v.callbacks,se===null?v.callbacks=[te]:se.push(te))}else se={lane:te,tag:B.tag,payload:B.payload,callback:B.callback,next:null},le===null?(ee=le=se,G=fe):le=le.next=se,O|=te;if(B=B.next,B===null){if(B=v.shared.pending,B===null)break;se=B,B=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);le===null&&(G=fe),v.baseState=G,v.firstBaseUpdate=ee,v.lastBaseUpdate=le,_===null&&(v.shared.lanes=0),wo|=O,i.lanes=O,i.memoizedState=fe}}function $N(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function BN(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)$N(u[i],o)}var Zc=q(null),mp=q(0);function FN(i,o){i=ms,pe(mp,i),pe(Zc,o),ms=i|o.baseLanes}function Ex(){pe(mp,ms),pe(Zc,Zc.current)}function Ax(){ms=mp.current,re(Zc),re(mp)}var Fr=q(null),ma=null;function yo(i){var o=i.alternate;pe(tn,tn.current&1),pe(Fr,i),ma===null&&(o===null||Zc.current!==null||o.memoizedState!==null)&&(ma=i)}function Sx(i){pe(tn,tn.current),pe(Fr,i),ma===null&&(ma=i)}function qN(i){i.tag===22?(pe(tn,tn.current),pe(Fr,i),ma===null&&(ma=i)):vo()}function vo(){pe(tn,tn.current),pe(Fr,Fr.current)}function qr(i){re(Fr),ma===i&&(ma=null),re(tn)}var tn=q(0);function pp(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ob(u)||kb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ss=0,Be=null,bt=null,mn=null,gp=!1,Jc=!1,Ll=!1,yp=0,rf=0,eu=null,aV=0;function Ht(){throw Error(r(321))}function jx(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!$r(i[u],o[u]))return!1;return!0}function Nx(i,o,u,m,v,_){return ss=_,Be=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=i===null||i.memoizedState===null?N2:Bx,Ll=!1,_=u(m,v),Ll=!1,Jc&&(_=GN(o,u,m,v)),HN(i),_}function HN(i){Y.H=of;var o=bt!==null&&bt.next!==null;if(ss=0,mn=bt=Be=null,gp=!1,rf=0,eu=null,o)throw Error(r(300));i===null||pn||(i=i.dependencies,i!==null&&op(i)&&(pn=!0))}function GN(i,o,u,m){Be=i;var v=0;do{if(Jc&&(eu=null),rf=0,Jc=!1,25<=v)throw Error(r(301));if(v+=1,mn=bt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=T2,_=o(u,m)}while(Jc);return _}function iV(){var i=Y.H,o=i.useState()[0];return o=typeof o.then=="function"?af(o):o,i=i.useState()[0],(bt!==null?bt.memoizedState:null)!==i&&(Be.flags|=1024),o}function Tx(){var i=yp!==0;return yp=0,i}function Cx(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Ix(i){if(gp){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}gp=!1}ss=0,mn=bt=Be=null,Jc=!1,rf=yp=0,eu=null}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Be.memoizedState=mn=i:mn=mn.next=i,mn}function nn(){if(bt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var o=mn===null?Be.memoizedState:mn.next;if(o!==null)mn=o,bt=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},mn===null?Be.memoizedState=mn=i:mn=mn.next=i}return mn}function vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function af(i){var o=rf;return rf+=1,eu===null&&(eu=[]),i=MN(eu,i,o),o=Be,(mn===null?o.memoizedState:mn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?N2:Bx),i}function xp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return af(i);if(i.$$typeof===R)return Wn(i)}throw Error(r(438,String(i)))}function Ox(i){var o=null,u=Be.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Be.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=vp(),Be.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=P;return o.index++,u}function os(i,o){return typeof o=="function"?o(i):o}function bp(i){var o=nn();return kx(o,bt,i)}function kx(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=i.baseQueue,_=m.pending;if(_!==null){if(v!==null){var O=v.next;v.next=_.next,_.next=O}o.baseQueue=v=_,m.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{o=v.next;var B=O=null,G=null,ee=o,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(Xe&fe)===fe:(ss&fe)===fe){var te=ee.revertLane;if(te===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Wc&&(le=!0);else if((ss&te)===te){ee=ee.next,te===Wc&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(B=G=fe,O=_):G=G.next=fe,Be.lanes|=te,wo|=te;fe=ee.action,Ll&&u(_,fe),_=ee.hasEagerState?ee.eagerState:u(_,fe)}else te={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(B=G=te,O=_):G=G.next=te,Be.lanes|=fe,wo|=fe;ee=ee.next}while(ee!==null&&ee!==o);if(G===null?O=_:G.next=B,!$r(_,i.memoizedState)&&(pn=!0,le&&(u=Yc,u!==null)))throw u;i.memoizedState=_,i.baseState=O,i.baseQueue=G,m.lastRenderedState=_}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Px(i){var o=nn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var O=v=v.next;do _=i(_,O.action),O=O.next;while(O!==v);$r(_,o.memoizedState)||(pn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,m]}function KN(i,o,u){var m=Be,v=nn(),_=nt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var O=!$r((bt||v).memoizedState,u);if(O&&(v.memoizedState=u,pn=!0),v=v.queue,Mx(QN.bind(null,m,v,i),[i]),v.getSnapshot!==o||O||mn!==null&&mn.memoizedState.tag&1){if(m.flags|=2048,tu(9,{destroy:void 0},YN.bind(null,m,v,u,o),null),At===null)throw Error(r(349));_||(ss&127)!==0||WN(m,o,u)}return u}function WN(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Be.updateQueue,o===null?(o=vp(),Be.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function YN(i,o,u,m){o.value=u,o.getSnapshot=m,XN(o)&&ZN(i)}function QN(i,o,u){return u(function(){XN(o)&&ZN(i)})}function XN(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!$r(i,u)}catch{return!0}}function ZN(i){var o=Tl(i,2);o!==null&&Ir(o,i,2)}function Rx(i){var o=hr();if(typeof i=="function"){var u=i;if(i=u(),Ll){aa(!0);try{u()}finally{aa(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:i},o}function JN(i,o,u,m){return i.baseState=u,kx(i,bt,typeof m=="function"?m:os)}function sV(i,o,u,m,v){if(Ep(i))throw Error(r(485));if(i=o.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};Y.T!==null?u(!0):_.isTransition=!1,m(_),u=o.pending,u===null?(_.next=o.pending=_,e2(o,_)):(_.next=u.next,o.pending=u.next=_)}}function e2(i,o){var u=o.action,m=o.payload,v=i.state;if(o.isTransition){var _=Y.T,O={};Y.T=O;try{var B=u(v,m),G=Y.S;G!==null&&G(O,B),t2(i,o,B)}catch(ee){Dx(i,o,ee)}finally{_!==null&&O.types!==null&&(_.types=O.types),Y.T=_}}else try{_=u(v,m),t2(i,o,_)}catch(ee){Dx(i,o,ee)}}function t2(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){n2(i,o,m)},function(m){return Dx(i,o,m)}):n2(i,o,u)}function n2(i,o,u){o.status="fulfilled",o.value=u,r2(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,e2(i,u)))}function Dx(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,r2(o),o=o.next;while(o!==m)}i.action=null}function r2(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function a2(i,o){return o}function i2(i,o){if(nt){var u=At.formState;if(u!==null){e:{var m=Be;if(nt){if(It){t:{for(var v=It,_=ha;v.nodeType!==8;){if(!_){v=null;break t}if(v=pa(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){It=pa(v.nextSibling),m=v.data==="F!";break e}}fo(m)}m=!1}m&&(o=u[0])}}return u=hr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a2,lastRenderedState:o},u.queue=m,u=A2.bind(null,Be,m),m.dispatch=u,m=Rx(!1),_=$x.bind(null,Be,!1,m.queue),m=hr(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,u=sV.bind(null,Be,v,_,u),v.dispatch=u,m.memoizedState=i,[o,u,!1]}function s2(i){var o=nn();return o2(o,bt,i)}function o2(i,o,u){if(o=kx(i,o,a2)[0],i=bp(os)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=af(o)}catch(O){throw O===Qc?up:O}else m=o;o=nn();var v=o.queue,_=v.dispatch;return u!==o.memoizedState&&(Be.flags|=2048,tu(9,{destroy:void 0},oV.bind(null,v,u),null)),[m,_,i]}function oV(i,o){i.action=o}function l2(i){var o=nn(),u=bt;if(u!==null)return o2(o,u,i);nn(),o=o.memoizedState,u=nn();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function tu(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=Be.updateQueue,o===null&&(o=vp(),Be.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function c2(){return nn().memoizedState}function wp(i,o,u,m){var v=hr();Be.flags|=i,v.memoizedState=tu(1|o,{destroy:void 0},u,m===void 0?null:m)}function _p(i,o,u,m){var v=nn();m=m===void 0?null:m;var _=v.memoizedState.inst;bt!==null&&m!==null&&jx(m,bt.memoizedState.deps)?v.memoizedState=tu(o,_,u,m):(Be.flags|=i,v.memoizedState=tu(1|o,_,u,m))}function u2(i,o){wp(8390656,8,i,o)}function Mx(i,o){_p(2048,8,i,o)}function lV(i){Be.flags|=4;var o=Be.updateQueue;if(o===null)o=vp(),Be.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function d2(i){var o=nn().memoizedState;return lV({ref:o,nextImpl:i}),function(){if((dt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function f2(i,o){return _p(4,2,i,o)}function h2(i,o){return _p(4,4,i,o)}function m2(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function p2(i,o,u){u=u!=null?u.concat([i]):null,_p(4,4,m2.bind(null,o,i),u)}function Lx(){}function g2(i,o){var u=nn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&jx(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function y2(i,o){var u=nn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&jx(o,m[1]))return m[0];if(m=i(),Ll){aa(!0);try{i()}finally{aa(!1)}}return u.memoizedState=[m,o],m}function Ux(i,o,u){return u===void 0||(ss&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=vT(),Be.lanes|=i,wo|=i,u)}function v2(i,o,u,m){return $r(u,o)?u:Zc.current!==null?(i=Ux(i,u,m),$r(i,o)||(pn=!0),i):(ss&42)===0||(ss&1073741824)!==0&&(Xe&261930)===0?(pn=!0,i.memoizedState=u):(i=vT(),Be.lanes|=i,wo|=i,o)}function x2(i,o,u,m,v){var _=oe.p;oe.p=_!==0&&8>_?_:8;var O=Y.T,B={};Y.T=B,$x(i,!1,o,u);try{var G=v(),ee=Y.S;if(ee!==null&&ee(B,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=rV(G,m);sf(i,o,le,Kr(i))}else sf(i,o,m,Kr(i))}catch(fe){sf(i,o,{then:function(){},status:"rejected",reason:fe},Kr())}finally{oe.p=_,O!==null&&B.types!==null&&(O.types=B.types),Y.T=O}}function cV(){}function zx(i,o,u,m){if(i.tag!==5)throw Error(r(476));var v=b2(i).queue;x2(i,v,o,H,u===null?cV:function(){return w2(i),u(m)})}function b2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function w2(i){var o=b2(i);o.next===null&&(o=i.alternate.memoizedState),sf(i,o.next.queue,{},Kr())}function Vx(){return Wn(Ef)}function _2(){return nn().memoizedState}function E2(){return nn().memoizedState}function uV(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Kr();i=po(u);var m=go(o,i,u);m!==null&&(Ir(m,o,u),ef(m,o,u)),o={cache:px()},i.payload=o;return}o=o.return}}function dV(i,o,u){var m=Kr();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ep(i)?S2(o,u):(u=ax(i,o,u,m),u!==null&&(Ir(u,i,m),j2(u,o,m)))}function A2(i,o,u){var m=Kr();sf(i,o,u,m)}function sf(i,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ep(i))S2(o,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var O=o.lastRenderedState,B=_(O,u);if(v.hasEagerState=!0,v.eagerState=B,$r(B,O))return rp(i,o,v,0),At===null&&np(),!1}catch{}finally{}if(u=ax(i,o,v,m),u!==null)return Ir(u,i,m),j2(u,o,m),!0}return!1}function $x(i,o,u,m){if(m={lane:2,revertLane:xb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ep(i)){if(o)throw Error(r(479))}else o=ax(i,u,m,2),o!==null&&Ir(o,i,2)}function Ep(i){var o=i.alternate;return i===Be||o!==null&&o===Be}function S2(i,o){Jc=gp=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function j2(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Nd(i,u)}}var of={readContext:Wn,use:xp,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};of.useEffectEvent=Ht;var N2={readContext:Wn,use:xp,useCallback:function(i,o){return hr().memoizedState=[i,o===void 0?null:o],i},useContext:Wn,useEffect:u2,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,wp(4194308,4,m2.bind(null,o,i),u)},useLayoutEffect:function(i,o){return wp(4194308,4,i,o)},useInsertionEffect:function(i,o){wp(4,2,i,o)},useMemo:function(i,o){var u=hr();o=o===void 0?null:o;var m=i();if(Ll){aa(!0);try{i()}finally{aa(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=hr();if(u!==void 0){var v=u(o);if(Ll){aa(!0);try{u(o)}finally{aa(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=dV.bind(null,Be,i),[m.memoizedState,i]},useRef:function(i){var o=hr();return i={current:i},o.memoizedState=i},useState:function(i){i=Rx(i);var o=i.queue,u=A2.bind(null,Be,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Lx,useDeferredValue:function(i,o){var u=hr();return Ux(u,i,o)},useTransition:function(){var i=Rx(!1);return i=x2.bind(null,Be,i.queue,!0,!1),hr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=Be,v=hr();if(nt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),At===null)throw Error(r(349));(Xe&127)!==0||WN(m,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,u2(QN.bind(null,m,_,i),[i]),m.flags|=2048,tu(9,{destroy:void 0},YN.bind(null,m,_,u,o),null),u},useId:function(){var i=hr(),o=At.identifierPrefix;if(nt){var u=_i,m=wi;u=(m&~(1<<32-Jt(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=yp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=aV++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Vx,useFormState:i2,useActionState:i2,useOptimistic:function(i){var o=hr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=$x.bind(null,Be,!0,u),u.dispatch=o,[i,o]},useMemoCache:Ox,useCacheRefresh:function(){return hr().memoizedState=uV.bind(null,Be)},useEffectEvent:function(i){var o=hr(),u={impl:i};return o.memoizedState=u,function(){if((dt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Bx={readContext:Wn,use:xp,useCallback:g2,useContext:Wn,useEffect:Mx,useImperativeHandle:p2,useInsertionEffect:f2,useLayoutEffect:h2,useMemo:y2,useReducer:bp,useRef:c2,useState:function(){return bp(os)},useDebugValue:Lx,useDeferredValue:function(i,o){var u=nn();return v2(u,bt.memoizedState,i,o)},useTransition:function(){var i=bp(os)[0],o=nn().memoizedState;return[typeof i=="boolean"?i:af(i),o]},useSyncExternalStore:KN,useId:_2,useHostTransitionStatus:Vx,useFormState:s2,useActionState:s2,useOptimistic:function(i,o){var u=nn();return JN(u,bt,i,o)},useMemoCache:Ox,useCacheRefresh:E2};Bx.useEffectEvent=d2;var T2={readContext:Wn,use:xp,useCallback:g2,useContext:Wn,useEffect:Mx,useImperativeHandle:p2,useInsertionEffect:f2,useLayoutEffect:h2,useMemo:y2,useReducer:Px,useRef:c2,useState:function(){return Px(os)},useDebugValue:Lx,useDeferredValue:function(i,o){var u=nn();return bt===null?Ux(u,i,o):v2(u,bt.memoizedState,i,o)},useTransition:function(){var i=Px(os)[0],o=nn().memoizedState;return[typeof i=="boolean"?i:af(i),o]},useSyncExternalStore:KN,useId:_2,useHostTransitionStatus:Vx,useFormState:l2,useActionState:l2,useOptimistic:function(i,o){var u=nn();return bt!==null?JN(u,bt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Ox,useCacheRefresh:E2};T2.useEffectEvent=d2;function Fx(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var qx={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=Kr(),v=po(m);v.payload=o,u!=null&&(v.callback=u),o=go(i,v,m),o!==null&&(Ir(o,i,m),ef(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=Kr(),v=po(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=go(i,v,m),o!==null&&(Ir(o,i,m),ef(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Kr(),m=po(u);m.tag=2,o!=null&&(m.callback=o),o=go(i,m,u),o!==null&&(Ir(o,i,u),ef(o,i,u))}};function C2(i,o,u,m,v,_,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,O):o.prototype&&o.prototype.isPureReactComponent?!Gd(u,m)||!Gd(v,_):!0}function I2(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&qx.enqueueReplaceState(o,o.state,null)}function Ul(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function O2(i){tp(i)}function k2(i){console.error(i)}function P2(i){tp(i)}function Ap(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function R2(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Hx(i,o,u){return u=po(u),u.tag=3,u.payload={element:null},u.callback=function(){Ap(i,o)},u}function D2(i){return i=po(i),i.tag=3,i}function M2(i,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=m.value;i.payload=function(){return v(_)},i.callback=function(){R2(o,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){R2(o,u,m),typeof v!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var B=m.stack;this.componentDidCatch(m.value,{componentStack:B!==null?B:""})})}function fV(i,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Kc(o,u,v,!0),u=Fr.current,u!==null){switch(u.tag){case 31:case 13:return ma===null?Mp():u.alternate===null&&Gt===0&&(Gt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===dp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),gb(i,m,v)),!1;case 22:return u.flags|=65536,m===dp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),gb(i,m,v)),!1}throw Error(r(435,u.tag))}return gb(i,m,v),Mp(),!1}if(nt)return o=Fr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==ux&&(i=Error(r(422),{cause:m}),Yd(ua(i,u)))):(m!==ux&&(o=Error(r(423),{cause:m}),Yd(ua(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=ua(m,u),v=Hx(i.stateNode,m,v),wx(i,v),Gt!==4&&(Gt=2)),!1;var _=Error(r(520),{cause:m});if(_=ua(_,u),pf===null?pf=[_]:pf.push(_),Gt!==4&&(Gt=2),o===null)return!0;m=ua(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Hx(u.stateNode,m,i),wx(u,i),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_o===null||!_o.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=D2(v),M2(v,i,u,m),wx(u,v),!1}u=u.return}while(u!==null);return!1}var Gx=Error(r(461)),pn=!1;function Yn(i,o,u,m){o.child=i===null?VN(o,null,u,m):Ml(o,i.child,u,m)}function L2(i,o,u,m,v){u=u.render;var _=o.ref;if("ref"in m){var O={};for(var B in m)B!=="ref"&&(O[B]=m[B])}else O=m;return kl(o),m=Nx(i,o,u,O,_,v),B=Tx(),i!==null&&!pn?(Cx(i,o,v),ls(i,o,v)):(nt&&B&&lx(o),o.flags|=1,Yn(i,o,m,v),o.child)}function U2(i,o,u,m,v){if(i===null){var _=u.type;return typeof _=="function"&&!ix(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,z2(i,o,_,m,v)):(i=ip(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!eb(i,v)){var O=_.memoizedProps;if(u=u.compare,u=u!==null?u:Gd,u(O,m)&&i.ref===o.ref)return ls(i,o,v)}return o.flags|=1,i=ns(_,m),i.ref=o.ref,i.return=o,o.child=i}function z2(i,o,u,m,v){if(i!==null){var _=i.memoizedProps;if(Gd(_,m)&&i.ref===o.ref)if(pn=!1,o.pendingProps=m=_,eb(i,v))(i.flags&131072)!==0&&(pn=!0);else return o.lanes=i.lanes,ls(i,o,v)}return Kx(i,o,u,m,v)}function V2(i,o,u,m){var v=m.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,i!==null){for(m=o.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~_}else m=0,o.child=null;return $2(i,o,_,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&cp(o,_!==null?_.cachePool:null),_!==null?FN(o,_):Ex(),qN(o);else return m=o.lanes=536870912,$2(i,o,_!==null?_.baseLanes|u:u,u,m)}else _!==null?(cp(o,_.cachePool),FN(o,_),vo(),o.memoizedState=null):(i!==null&&cp(o,null),Ex(),vo());return Yn(i,o,v,u),o.child}function lf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function $2(i,o,u,m,v){var _=yx();return _=_===null?null:{parent:hn._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},i!==null&&cp(o,null),Ex(),qN(o),i!==null&&Kc(i,o,m,!0),o.childLanes=v,null}function Sp(i,o){return o=Np({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function B2(i,o,u){return Ml(o,i.child,null,u),i=Sp(o,o.pendingProps),i.flags|=2,qr(o),o.memoizedState=null,i}function hV(i,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(nt){if(m.mode==="hidden")return i=Sp(o,m),o.lanes=536870912,lf(null,i);if(Sx(o),(i=It)?(i=eC(i,ha),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:co!==null?{id:wi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},u=SN(i),u.return=o,o.child=u,Kn=o,It=null)):i=null,i===null)throw fo(o);return o.lanes=536870912,null}return Sp(o,m)}var _=i.memoizedState;if(_!==null){var O=_.dehydrated;if(Sx(o),v)if(o.flags&256)o.flags&=-257,o=B2(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(pn||Kc(i,o,u,!1),v=(u&i.childLanes)!==0,pn||v){if(m=At,m!==null&&(O=Td(m,u),O!==0&&O!==_.retryLane))throw _.retryLane=O,Tl(i,O),Ir(m,i,O),Gx;Mp(),o=B2(i,o,u)}else i=_.treeContext,It=pa(O.nextSibling),Kn=o,nt=!0,uo=null,ha=!1,i!==null&&TN(o,i),o=Sp(o,m),o.flags|=4096;return o}return i=ns(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function jp(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Kx(i,o,u,m,v){return kl(o),u=Nx(i,o,u,m,void 0,v),m=Tx(),i!==null&&!pn?(Cx(i,o,v),ls(i,o,v)):(nt&&m&&lx(o),o.flags|=1,Yn(i,o,u,v),o.child)}function F2(i,o,u,m,v,_){return kl(o),o.updateQueue=null,u=GN(o,m,u,v),HN(i),m=Tx(),i!==null&&!pn?(Cx(i,o,_),ls(i,o,_)):(nt&&m&&lx(o),o.flags|=1,Yn(i,o,u,_),o.child)}function q2(i,o,u,m,v){if(kl(o),o.stateNode===null){var _=Fc,O=u.contextType;typeof O=="object"&&O!==null&&(_=Wn(O)),_=new u(m,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=qx,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=m,_.state=o.memoizedState,_.refs={},xx(o),O=u.contextType,_.context=typeof O=="object"&&O!==null?Wn(O):Fc,_.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Fx(o,u,O,m),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&qx.enqueueReplaceState(_,_.state,null),nf(o,m,_,v),tf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){_=o.stateNode;var B=o.memoizedProps,G=Ul(u,B);_.props=G;var ee=_.context,le=u.contextType;O=Fc,typeof le=="object"&&le!==null&&(O=Wn(le));var fe=u.getDerivedStateFromProps;le=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(B||ee!==O)&&I2(o,_,m,O),mo=!1;var te=o.memoizedState;_.state=te,nf(o,m,_,v),tf(),ee=o.memoizedState,B||te!==ee||mo?(typeof fe=="function"&&(Fx(o,u,fe,m),ee=o.memoizedState),(G=mo||C2(o,u,G,m,te,ee,O))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ee),_.props=m,_.state=ee,_.context=O,m=G):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{_=o.stateNode,bx(i,o),O=o.memoizedProps,le=Ul(u,O),_.props=le,fe=o.pendingProps,te=_.context,ee=u.contextType,G=Fc,typeof ee=="object"&&ee!==null&&(G=Wn(ee)),B=u.getDerivedStateFromProps,(ee=typeof B=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==fe||te!==G)&&I2(o,_,m,G),mo=!1,te=o.memoizedState,_.state=te,nf(o,m,_,v),tf();var se=o.memoizedState;O!==fe||te!==se||mo||i!==null&&i.dependencies!==null&&op(i.dependencies)?(typeof B=="function"&&(Fx(o,u,B,m),se=o.memoizedState),(le=mo||C2(o,u,le,m,te,se,G)||i!==null&&i.dependencies!==null&&op(i.dependencies))?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,se,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,se,G)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=se),_.props=m,_.state=se,_.context=G,m=le):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),m=!1)}return _=m,jp(i,o),m=(o.flags&128)!==0,_||m?(_=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&m?(o.child=Ml(o,i.child,null,v),o.child=Ml(o,null,u,v)):Yn(i,o,u,v),o.memoizedState=_.state,i=o.child):i=ls(i,o,v),i}function H2(i,o,u,m){return Il(),o.flags|=256,Yn(i,o,u,m),o.child}var Wx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yx(i){return{baseLanes:i,cachePool:RN()}}function Qx(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Gr),i}function G2(i,o,u){var m=o.pendingProps,v=!1,_=(o.flags&128)!==0,O;if((O=_)||(O=i!==null&&i.memoizedState===null?!1:(tn.current&2)!==0),O&&(v=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(nt){if(v?yo(o):vo(),(i=It)?(i=eC(i,ha),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:co!==null?{id:wi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},u=SN(i),u.return=o,o.child=u,Kn=o,It=null)):i=null,i===null)throw fo(o);return kb(i)?o.lanes=32:o.lanes=536870912,null}var B=m.children;return m=m.fallback,v?(vo(),v=o.mode,B=Np({mode:"hidden",children:B},v),m=Cl(m,v,u,null),B.return=o,m.return=o,B.sibling=m,o.child=B,m=o.child,m.memoizedState=Yx(u),m.childLanes=Qx(i,O,u),o.memoizedState=Wx,lf(null,m)):(yo(o),Xx(o,B))}var G=i.memoizedState;if(G!==null&&(B=G.dehydrated,B!==null)){if(_)o.flags&256?(yo(o),o.flags&=-257,o=Zx(i,o,u)):o.memoizedState!==null?(vo(),o.child=i.child,o.flags|=128,o=null):(vo(),B=m.fallback,v=o.mode,m=Np({mode:"visible",children:m.children},v),B=Cl(B,v,u,null),B.flags|=2,m.return=o,B.return=o,m.sibling=B,o.child=m,Ml(o,i.child,null,u),m=o.child,m.memoizedState=Yx(u),m.childLanes=Qx(i,O,u),o.memoizedState=Wx,o=lf(null,m));else if(yo(o),kb(B)){if(O=B.nextSibling&&B.nextSibling.dataset,O)var ee=O.dgst;O=ee,m=Error(r(419)),m.stack="",m.digest=O,Yd({value:m,source:null,stack:null}),o=Zx(i,o,u)}else if(pn||Kc(i,o,u,!1),O=(u&i.childLanes)!==0,pn||O){if(O=At,O!==null&&(m=Td(O,u),m!==0&&m!==G.retryLane))throw G.retryLane=m,Tl(i,m),Ir(O,i,m),Gx;Ob(B)||Mp(),o=Zx(i,o,u)}else Ob(B)?(o.flags|=192,o.child=i.child,o=null):(i=G.treeContext,It=pa(B.nextSibling),Kn=o,nt=!0,uo=null,ha=!1,i!==null&&TN(o,i),o=Xx(o,m.children),o.flags|=4096);return o}return v?(vo(),B=m.fallback,v=o.mode,G=i.child,ee=G.sibling,m=ns(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ee!==null?B=ns(ee,B):(B=Cl(B,v,u,null),B.flags|=2),B.return=o,m.return=o,m.sibling=B,o.child=m,lf(null,m),m=o.child,B=i.child.memoizedState,B===null?B=Yx(u):(v=B.cachePool,v!==null?(G=hn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=RN(),B={baseLanes:B.baseLanes|u,cachePool:v}),m.memoizedState=B,m.childLanes=Qx(i,O,u),o.memoizedState=Wx,lf(i.child,m)):(yo(o),u=i.child,i=u.sibling,u=ns(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function Xx(i,o){return o=Np({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Np(i,o){return i=Br(22,i,null,o),i.lanes=0,i}function Zx(i,o,u){return Ml(o,i.child,null,u),i=Xx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function K2(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),hx(i.return,o,u)}function Jx(i,o,u,m,v,_){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:_}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=u,O.tailMode=v,O.treeForkCount=_)}function W2(i,o,u){var m=o.pendingProps,v=m.revealOrder,_=m.tail;m=m.children;var O=tn.current,B=(O&2)!==0;if(B?(O=O&1|2,o.flags|=128):O&=1,pe(tn,O),Yn(i,o,m,u),m=nt?Wd:0,!B&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&K2(i,u,o);else if(i.tag===19)K2(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&pp(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Jx(o,!1,v,u,_,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&pp(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Jx(o,!0,u,null,_,m);break;case"together":Jx(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function ls(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),wo|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Kc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=ns(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ns(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function eb(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&op(i)))}function mV(i,o,u){switch(o.tag){case 3:Nt(o,o.stateNode.containerInfo),ho(o,hn,i.memoizedState.cache),Il();break;case 27:case 5:Ue(o);break;case 4:Nt(o,o.stateNode.containerInfo);break;case 10:ho(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Sx(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(yo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?G2(i,o,u):(yo(o),i=ls(i,o,u),i!==null?i.sibling:null);yo(o);break;case 19:var v=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Kc(i,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return W2(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(tn,tn.current),m)break;return null;case 22:return o.lanes=0,V2(i,o,u,o.pendingProps);case 24:ho(o,hn,i.memoizedState.cache)}return ls(i,o,u)}function Y2(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)pn=!0;else{if(!eb(i,u)&&(o.flags&128)===0)return pn=!1,mV(i,o,u);pn=(i.flags&131072)!==0}else pn=!1,nt&&(o.flags&1048576)!==0&&NN(o,Wd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Rl(o.elementType),o.type=i,typeof i=="function")ix(i)?(m=Ul(i,m),o.tag=1,o=q2(null,o,i,m,u)):(o.tag=0,o=Kx(null,o,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===T){o.tag=11,o=L2(null,o,i,m,u);break e}else if(v===I){o.tag=14,o=U2(null,o,i,m,u);break e}}throw o=ne(i)||i,Error(r(306,o,""))}}return o;case 0:return Kx(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=Ul(m,o.pendingProps),q2(i,o,m,v,u);case 3:e:{if(Nt(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var _=o.memoizedState;v=_.element,bx(i,o),nf(o,m,null,u);var O=o.memoizedState;if(m=O.cache,ho(o,hn,m),m!==_.cache&&mx(o,[hn],u,!0),tf(),m=O.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=H2(i,o,m,u);break e}else if(m!==v){v=ua(Error(r(424)),o),Yd(v),o=H2(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(It=pa(i.firstChild),Kn=o,nt=!0,uo=null,ha=!0,u=VN(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Il(),m===v){o=ls(i,o,u);break e}Yn(i,o,m,u)}o=o.child}return o;case 26:return jp(i,o),i===null?(u=sC(o.type,null,o.pendingProps,null))?o.memoizedState=u:nt||(u=o.type,i=o.pendingProps,m=Fp(ke.current).createElement(u),m[un]=o,m[Rn]=i,Qn(m,u,i),dn(m),o.stateNode=m):o.memoizedState=sC(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ue(o),i===null&&nt&&(m=o.stateNode=rC(o.type,o.pendingProps,ke.current),Kn=o,ha=!0,v=It,jo(o.type)?(Pb=v,It=pa(m.firstChild)):It=v),Yn(i,o,o.pendingProps.children,u),jp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&nt&&((v=m=It)&&(m=qV(m,o.type,o.pendingProps,ha),m!==null?(o.stateNode=m,Kn=o,It=pa(m.firstChild),ha=!1,v=!0):v=!1),v||fo(o)),Ue(o),v=o.type,_=o.pendingProps,O=i!==null?i.memoizedProps:null,m=_.children,Tb(v,_)?m=null:O!==null&&Tb(v,O)&&(o.flags|=32),o.memoizedState!==null&&(v=Nx(i,o,iV,null,null,u),Ef._currentValue=v),jp(i,o),Yn(i,o,m,u),o.child;case 6:return i===null&&nt&&((i=u=It)&&(u=HV(u,o.pendingProps,ha),u!==null?(o.stateNode=u,Kn=o,It=null,i=!0):i=!1),i||fo(o)),null;case 13:return G2(i,o,u);case 4:return Nt(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Ml(o,null,m,u):Yn(i,o,m,u),o.child;case 11:return L2(i,o,o.type,o.pendingProps,u);case 7:return Yn(i,o,o.pendingProps,u),o.child;case 8:return Yn(i,o,o.pendingProps.children,u),o.child;case 12:return Yn(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,ho(o,o.type,m.value),Yn(i,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,kl(o),v=Wn(v),m=m(v),o.flags|=1,Yn(i,o,m,u),o.child;case 14:return U2(i,o,o.type,o.pendingProps,u);case 15:return z2(i,o,o.type,o.pendingProps,u);case 19:return W2(i,o,u);case 31:return hV(i,o,u);case 22:return V2(i,o,u,o.pendingProps);case 24:return kl(o),m=Wn(hn),i===null?(v=yx(),v===null&&(v=At,_=px(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),o.memoizedState={parent:m,cache:v},xx(o),ho(o,hn,v)):((i.lanes&u)!==0&&(bx(i,o),nf(o,null,null,u),tf()),v=i.memoizedState,_=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ho(o,hn,m)):(m=_.cache,ho(o,hn,m),m!==v.cache&&mx(o,[hn],u,!0))),Yn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function cs(i){i.flags|=4}function tb(i,o,u,m,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(_T())i.flags|=8192;else throw Dl=dp,vx}else i.flags&=-16777217}function Q2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dC(o))if(_T())i.flags|=8192;else throw Dl=dp,vx}function Tp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Rm():536870912,i.lanes|=o,iu|=o)}function cf(i,o){if(!nt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ot(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function pV(i,o,u){var m=o.pendingProps;switch(cx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),is(hn),ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Gc(o)?cs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,dx())),Ot(o),null;case 26:var v=o.type,_=o.memoizedState;return i===null?(cs(o),_!==null?(Ot(o),Q2(o,_)):(Ot(o),tb(o,v,null,m,u))):_?_!==i.memoizedState?(cs(o),Ot(o),Q2(o,_)):(Ot(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&cs(o),Ot(o),tb(o,v,i,m,u)),null;case 27:if(He(o),u=ke.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&cs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}i=ye.current,Gc(o)?CN(o):(i=rC(v,m,u),o.stateNode=i,cs(o))}return Ot(o),null;case 5:if(He(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&cs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}if(_=ye.current,Gc(o))CN(o);else{var O=Fp(ke.current);switch(_){case 1:_=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=O.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?O.createElement(v,{is:m.is}):O.createElement(v)}}_[un]=o,_[Rn]=m;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)_.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=_;e:switch(Qn(_,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&cs(o)}}return Ot(o),tb(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&cs(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=ke.current,Gc(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,v=Kn,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[un]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||GT(i.nodeValue,u)),i||fo(o,!0)}else i=Fp(i).createTextNode(m),i[un]=o,o.stateNode=i}return Ot(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=Gc(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[un]=o}else Il(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),i=!1}else u=dx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(qr(o),o):(qr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ot(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Gc(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[un]=o}else Il(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),v=!1}else v=dx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(qr(o),o):(qr(o),null)}return qr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==v&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Tp(o,o.updateQueue),Ot(o),null);case 4:return ce(),i===null&&Eb(o.stateNode.containerInfo),Ot(o),null;case 10:return is(o.type),Ot(o),null;case 19:if(re(tn),m=o.memoizedState,m===null)return Ot(o),null;if(v=(o.flags&128)!==0,_=m.rendering,_===null)if(v)cf(m,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=pp(i),_!==null){for(o.flags|=128,cf(m,!1),i=_.updateQueue,o.updateQueue=i,Tp(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)AN(u,i),u=u.sibling;return pe(tn,tn.current&1|2),nt&&rs(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&dr()>Pp&&(o.flags|=128,v=!0,cf(m,!1),o.lanes=4194304)}else{if(!v)if(i=pp(_),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,Tp(o,i),cf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!nt)return Ot(o),null}else 2*dr()-m.renderingStartTime>Pp&&u!==536870912&&(o.flags|=128,v=!0,cf(m,!1),o.lanes=4194304);m.isBackwards?(_.sibling=o.child,o.child=_):(i=m.last,i!==null?i.sibling=_:o.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=dr(),i.sibling=null,u=tn.current,pe(tn,v?u&1|2:u&1),nt&&rs(o,m.treeForkCount),i):(Ot(o),null);case 22:case 23:return qr(o),Ax(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),u=o.updateQueue,u!==null&&Tp(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&re(Pl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),is(hn),Ot(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function gV(i,o){switch(cx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return is(hn),ce(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 31:if(o.memoizedState!==null){if(qr(o),o.alternate===null)throw Error(r(340));Il()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(qr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Il()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return re(tn),null;case 4:return ce(),null;case 10:return is(o.type),null;case 22:case 23:return qr(o),Ax(),i!==null&&re(Pl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return is(hn),null;case 25:return null;default:return null}}function X2(i,o){switch(cx(o),o.tag){case 3:is(hn),ce();break;case 26:case 27:case 5:He(o);break;case 4:ce();break;case 31:o.memoizedState!==null&&qr(o);break;case 13:qr(o);break;case 19:re(tn);break;case 10:is(o.type);break;case 22:case 23:qr(o),Ax(),i!==null&&re(Pl);break;case 24:is(hn)}}function uf(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var _=u.create,O=u.inst;m=_(),O.destroy=m}u=u.next}while(u!==v)}}catch(B){gt(o,o.return,B)}}function xo(i,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var _=v.next;m=_;do{if((m.tag&i)===i){var O=m.inst,B=O.destroy;if(B!==void 0){O.destroy=void 0,v=o;var G=u,ee=B;try{ee()}catch(le){gt(v,G,le)}}}m=m.next}while(m!==_)}}catch(le){gt(o,o.return,le)}}function Z2(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{BN(o,u)}catch(m){gt(i,i.return,m)}}}function J2(i,o,u){u.props=Ul(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){gt(i,o,m)}}function df(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){gt(i,o,v)}}function Ei(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){gt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){gt(i,o,v)}else u.current=null}function eT(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){gt(i,i.return,v)}}function nb(i,o,u){try{var m=i.stateNode;UV(m,i.type,u,o),m[Rn]=o}catch(v){gt(i,i.return,v)}}function tT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&jo(i.type)||i.tag===4}function rb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||tT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&jo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ab(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=La));else if(m!==4&&(m===27&&jo(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(ab(i,o,u),i=i.sibling;i!==null;)ab(i,o,u),i=i.sibling}function Cp(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&jo(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Cp(i,o,u),i=i.sibling;i!==null;)Cp(i,o,u),i=i.sibling}function nT(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Qn(o,m,u),o[un]=i,o[Rn]=u}catch(_){gt(i,i.return,_)}}var us=!1,gn=!1,ib=!1,rT=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function yV(i,o){if(i=i.containerInfo,jb=Qp,i=pN(i),Z0(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var O=0,B=-1,G=-1,ee=0,le=0,fe=i,te=null;t:for(;;){for(var se;fe!==u||v!==0&&fe.nodeType!==3||(B=O+v),fe!==_||m!==0&&fe.nodeType!==3||(G=O+m),fe.nodeType===3&&(O+=fe.nodeValue.length),(se=fe.firstChild)!==null;)te=fe,fe=se;for(;;){if(fe===i)break t;if(te===u&&++ee===v&&(B=O),te===_&&++le===m&&(G=O),(se=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=se}u=B===-1||G===-1?null:{start:B,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Nb={focusedElem:i,selectionRange:u},Qp=!1,Mn=o;Mn!==null;)if(o=Mn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Mn=i;else for(;Mn!==null;){switch(o=Mn,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,u=o,v=_.memoizedProps,_=_.memoizedState,m=u.stateNode;try{var je=Ul(u.type,v);i=m.getSnapshotBeforeUpdate(je,_),m.__reactInternalSnapshotBeforeUpdate=i}catch(Re){gt(u,u.return,Re)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Ib(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ib(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Mn=i;break}Mn=o.return}}function aT(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:fs(i,u),m&4&&uf(5,u);break;case 1:if(fs(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){gt(u,u.return,O)}else{var v=Ul(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){gt(u,u.return,O)}}m&64&&Z2(u),m&512&&df(u,u.return);break;case 3:if(fs(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{BN(i,o)}catch(O){gt(u,u.return,O)}}break;case 27:o===null&&m&4&&nT(u);case 26:case 5:fs(i,u),o===null&&m&4&&eT(u),m&512&&df(u,u.return);break;case 12:fs(i,u);break;case 31:fs(i,u),m&4&&oT(i,u);break;case 13:fs(i,u),m&4&&lT(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=jV.bind(null,u),GV(i,u))));break;case 22:if(m=u.memoizedState!==null||us,!m){o=o!==null&&o.memoizedState!==null||gn,v=us;var _=gn;us=m,(gn=o)&&!_?hs(i,u,(u.subtreeFlags&8772)!==0):fs(i,u),us=v,gn=_}break;case 30:break;default:fs(i,u)}}function iT(i){var o=i.alternate;o!==null&&(i.alternate=null,iT(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Cc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Mt=null,jr=!1;function ds(i,o,u){for(u=u.child;u!==null;)sT(i,o,u),u=u.sibling}function sT(i,o,u){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Pa,u)}catch{}switch(u.tag){case 26:gn||Ei(u,o),ds(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:gn||Ei(u,o);var m=Mt,v=jr;jo(u.type)&&(Mt=u.stateNode,jr=!1),ds(i,o,u),bf(u.stateNode),Mt=m,jr=v;break;case 5:gn||Ei(u,o);case 6:if(m=Mt,v=jr,Mt=null,ds(i,o,u),Mt=m,jr=v,Mt!==null)if(jr)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(u.stateNode)}catch(_){gt(u,o,_)}else try{Mt.removeChild(u.stateNode)}catch(_){gt(u,o,_)}break;case 18:Mt!==null&&(jr?(i=Mt,ZT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),hu(i)):ZT(Mt,u.stateNode));break;case 4:m=Mt,v=jr,Mt=u.stateNode.containerInfo,jr=!0,ds(i,o,u),Mt=m,jr=v;break;case 0:case 11:case 14:case 15:xo(2,u,o),gn||xo(4,u,o),ds(i,o,u);break;case 1:gn||(Ei(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&J2(u,o,m)),ds(i,o,u);break;case 21:ds(i,o,u);break;case 22:gn=(m=gn)||u.memoizedState!==null,ds(i,o,u),gn=m;break;default:ds(i,o,u)}}function oT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{hu(i)}catch(u){gt(o,o.return,u)}}}function lT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hu(i)}catch(u){gt(o,o.return,u)}}function vV(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new rT),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new rT),o;default:throw Error(r(435,i.tag))}}function Ip(i,o){var u=vV(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=NV.bind(null,i,m);m.then(v,v)}})}function Nr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],_=i,O=o,B=O;e:for(;B!==null;){switch(B.tag){case 27:if(jo(B.type)){Mt=B.stateNode,jr=!1;break e}break;case 5:Mt=B.stateNode,jr=!1;break e;case 3:case 4:Mt=B.stateNode.containerInfo,jr=!0;break e}B=B.return}if(Mt===null)throw Error(r(160));sT(_,O,v),Mt=null,jr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)cT(o,i),o=o.sibling}var Fa=null;function cT(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Nr(o,i),Tr(i),m&4&&(xo(3,i,i.return),uf(3,i),xo(5,i,i.return));break;case 1:Nr(o,i),Tr(i),m&512&&(gn||u===null||Ei(u,u.return)),m&64&&us&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Fa;if(Nr(o,i),Tr(i),m&512&&(gn||u===null||Ei(u,u.return)),m&4){var _=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":_=v.getElementsByTagName("title")[0],(!_||_[ci]||_[un]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(m),v.head.insertBefore(_,v.querySelector("head > title"))),Qn(_,m,u),_[un]=i,dn(_),m=_;break e;case"link":var O=cC("link","href",v).get(m+(u.href||""));if(O){for(var B=0;B<O.length;B++)if(_=O[B],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(B,1);break t}}_=v.createElement(m),Qn(_,m,u),v.head.appendChild(_);break;case"meta":if(O=cC("meta","content",v).get(m+(u.content||""))){for(B=0;B<O.length;B++)if(_=O[B],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(B,1);break t}}_=v.createElement(m),Qn(_,m,u),v.head.appendChild(_);break;default:throw Error(r(468,m))}_[un]=i,dn(_),m=_}i.stateNode=m}else uC(v,i.type,i.stateNode);else i.stateNode=lC(v,m,i.memoizedProps);else _!==m?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,m===null?uC(v,i.type,i.stateNode):lC(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&nb(i,i.memoizedProps,u.memoizedProps)}break;case 27:Nr(o,i),Tr(i),m&512&&(gn||u===null||Ei(u,u.return)),u!==null&&m&4&&nb(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Nr(o,i),Tr(i),m&512&&(gn||u===null||Ei(u,u.return)),i.flags&32){v=i.stateNode;try{Sr(v,"")}catch(je){gt(i,i.return,je)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,nb(i,v,u!==null?u.memoizedProps:v)),m&1024&&(ib=!0);break;case 6:if(Nr(o,i),Tr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(je){gt(i,i.return,je)}}break;case 3:if(Gp=null,v=Fa,Fa=qp(o.containerInfo),Nr(o,i),Fa=v,Tr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{hu(o.containerInfo)}catch(je){gt(i,i.return,je)}ib&&(ib=!1,uT(i));break;case 4:m=Fa,Fa=qp(i.stateNode.containerInfo),Nr(o,i),Tr(i),Fa=m;break;case 12:Nr(o,i),Tr(i);break;case 31:Nr(o,i),Tr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ip(i,m)));break;case 13:Nr(o,i),Tr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(kp=dr()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ip(i,m)));break;case 22:v=i.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ee=us,le=gn;if(us=ee||v,gn=le||G,Nr(o,i),gn=le,us=ee,Tr(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||G||us||gn||zl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(_=G.stateNode,v)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{B=G.stateNode;var fe=G.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;B.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(je){gt(G,G.return,je)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(je){gt(G,G.return,je)}}}else if(o.tag===18){if(u===null){G=o;try{var se=G.stateNode;v?JT(se,!0):JT(G.stateNode,!1)}catch(je){gt(G,G.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Ip(i,u))));break;case 19:Nr(o,i),Tr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ip(i,m)));break;case 30:break;case 21:break;default:Nr(o,i),Tr(i)}}function Tr(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(tT(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=rb(i);Cp(i,_,v);break;case 5:var O=u.stateNode;u.flags&32&&(Sr(O,""),u.flags&=-33);var B=rb(i);Cp(i,B,O);break;case 3:case 4:var G=u.stateNode.containerInfo,ee=rb(i);ab(i,ee,G);break;default:throw Error(r(161))}}catch(le){gt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function uT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;uT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function fs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)aT(i,o.alternate,o),o=o.sibling}function zl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:xo(4,o,o.return),zl(o);break;case 1:Ei(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&J2(o,o.return,u),zl(o);break;case 27:bf(o.stateNode);case 26:case 5:Ei(o,o.return),zl(o);break;case 22:o.memoizedState===null&&zl(o);break;case 30:zl(o);break;default:zl(o)}i=i.sibling}}function hs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,_=o,O=_.flags;switch(_.tag){case 0:case 11:case 15:hs(v,_,u),uf(4,_);break;case 1:if(hs(v,_,u),m=_,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){gt(m,m.return,ee)}if(m=_,v=m.updateQueue,v!==null){var B=m.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)$N(G[v],B)}catch(ee){gt(m,m.return,ee)}}u&&O&64&&Z2(_),df(_,_.return);break;case 27:nT(_);case 26:case 5:hs(v,_,u),u&&m===null&&O&4&&eT(_),df(_,_.return);break;case 12:hs(v,_,u);break;case 31:hs(v,_,u),u&&O&4&&oT(v,_);break;case 13:hs(v,_,u),u&&O&4&&lT(v,_);break;case 22:_.memoizedState===null&&hs(v,_,u),df(_,_.return);break;case 30:break;default:hs(v,_,u)}o=o.sibling}}function sb(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Qd(u))}function ob(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Qd(i))}function qa(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dT(i,o,u,m),o=o.sibling}function dT(i,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:qa(i,o,u,m),v&2048&&uf(9,o);break;case 1:qa(i,o,u,m);break;case 3:qa(i,o,u,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Qd(i)));break;case 12:if(v&2048){qa(i,o,u,m),i=o.stateNode;try{var _=o.memoizedProps,O=_.id,B=_.onPostCommit;typeof B=="function"&&B(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){gt(o,o.return,G)}}else qa(i,o,u,m);break;case 31:qa(i,o,u,m);break;case 13:qa(i,o,u,m);break;case 23:break;case 22:_=o.stateNode,O=o.alternate,o.memoizedState!==null?_._visibility&2?qa(i,o,u,m):ff(i,o):_._visibility&2?qa(i,o,u,m):(_._visibility|=2,nu(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&sb(O,o);break;case 24:qa(i,o,u,m),v&2048&&ob(o.alternate,o);break;default:qa(i,o,u,m)}}function nu(i,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,O=o,B=u,G=m,ee=O.flags;switch(O.tag){case 0:case 11:case 15:nu(_,O,B,G,v),uf(8,O);break;case 23:break;case 22:var le=O.stateNode;O.memoizedState!==null?le._visibility&2?nu(_,O,B,G,v):ff(_,O):(le._visibility|=2,nu(_,O,B,G,v)),v&&ee&2048&&sb(O.alternate,O);break;case 24:nu(_,O,B,G,v),v&&ee&2048&&ob(O.alternate,O);break;default:nu(_,O,B,G,v)}o=o.sibling}}function ff(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,v=m.flags;switch(m.tag){case 22:ff(u,m),v&2048&&sb(m.alternate,m);break;case 24:ff(u,m),v&2048&&ob(m.alternate,m);break;default:ff(u,m)}o=o.sibling}}var hf=8192;function ru(i,o,u){if(i.subtreeFlags&hf)for(i=i.child;i!==null;)fT(i,o,u),i=i.sibling}function fT(i,o,u){switch(i.tag){case 26:ru(i,o,u),i.flags&hf&&i.memoizedState!==null&&a9(u,Fa,i.memoizedState,i.memoizedProps);break;case 5:ru(i,o,u);break;case 3:case 4:var m=Fa;Fa=qp(i.stateNode.containerInfo),ru(i,o,u),Fa=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=hf,hf=16777216,ru(i,o,u),hf=m):ru(i,o,u));break;default:ru(i,o,u)}}function hT(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function mf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Mn=m,pT(m,i)}hT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mT(i),i=i.sibling}function mT(i){switch(i.tag){case 0:case 11:case 15:mf(i),i.flags&2048&&xo(9,i,i.return);break;case 3:mf(i);break;case 12:mf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Op(i)):mf(i);break;default:mf(i)}}function Op(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Mn=m,pT(m,i)}hT(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:xo(8,o,o.return),Op(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Op(o));break;default:Op(o)}i=i.sibling}}function pT(i,o){for(;Mn!==null;){var u=Mn;switch(u.tag){case 0:case 11:case 15:xo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Qd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Mn=m;else e:for(u=i;Mn!==null;){m=Mn;var v=m.sibling,_=m.return;if(iT(m),m===u){Mn=null;break e}if(v!==null){v.return=_,Mn=v;break e}Mn=_}}}var xV={getCacheForType:function(i){var o=Wn(hn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Wn(hn).controller.signal}},bV=typeof WeakMap=="function"?WeakMap:Map,dt=0,At=null,We=null,Xe=0,pt=0,Hr=null,bo=!1,au=!1,lb=!1,ms=0,Gt=0,wo=0,Vl=0,cb=0,Gr=0,iu=0,pf=null,Cr=null,ub=!1,kp=0,gT=0,Pp=1/0,Rp=null,_o=null,Nn=0,Eo=null,su=null,ps=0,db=0,fb=null,yT=null,gf=0,hb=null;function Kr(){return(dt&2)!==0&&Xe!==0?Xe&-Xe:Y.T!==null?xb():Dm()}function vT(){if(Gr===0)if((Xe&536870912)===0||nt){var i=hl;hl<<=1,(hl&3932160)===0&&(hl=262144),Gr=i}else Gr=536870912;return i=Fr.current,i!==null&&(i.flags|=32),Gr}function Ir(i,o,u){(i===At&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(ou(i,0),Ao(i,Xe,Gr,!1)),ml(i,u),((dt&2)===0||i!==At)&&(i===At&&((dt&2)===0&&(Vl|=u),Gt===4&&Ao(i,Xe,Gr,!1)),Ai(i))}function xT(i,o,u){if((dt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Ra(i,o),v=m?EV(i,o):pb(i,o,!0),_=m;do{if(v===0){au&&!m&&Ao(i,o,0,!1);break}else{if(u=i.current.alternate,_&&!wV(u)){v=pb(i,o,!1),_=!1;continue}if(v===2){if(_=o,i.errorRecoveryDisabledLanes&_)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var B=i;v=pf;var G=B.current.memoizedState.isDehydrated;if(G&&(ou(B,O).flags|=256),O=pb(B,O,!1),O!==2){if(lb&&!G){B.errorRecoveryDisabledLanes|=_,Vl|=_,v=4;break e}_=Cr,Cr=v,_!==null&&(Cr===null?Cr=_:Cr.push.apply(Cr,_))}v=O}if(_=!1,v!==2)continue}}if(v===1){ou(i,0),Ao(i,o,0,!0);break}e:{switch(m=i,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ao(m,o,Gr,!bo);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=kp+300-dr(),10<v)){if(Ao(m,o,Gr,!bo),si(m,0,!0)!==0)break e;ps=o,m.timeoutHandle=QT(bT.bind(null,m,u,Cr,Rp,ub,o,Gr,Vl,iu,bo,_,"Throttled",-0,0),v);break e}bT(m,u,Cr,Rp,ub,o,Gr,Vl,iu,bo,_,null,-0,0)}}break}while(!0);Ai(i)}function bT(i,o,u,m,v,_,O,B,G,ee,le,fe,te,se){if(i.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:La},fT(o,_,fe);var je=(_&62914560)===_?kp-dr():(_&4194048)===_?gT-dr():0;if(je=i9(fe,je),je!==null){ps=_,i.cancelPendingCommit=je(TT.bind(null,i,o,_,u,m,v,O,B,G,le,fe,null,te,se)),Ao(i,_,O,!ee);return}}TT(i,o,_,u,m,v,O,B,G)}function wV(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],_=v.getSnapshot;v=v.value;try{if(!$r(_(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ao(i,o,u,m){o&=~cb,o&=~Vl,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var _=31-Jt(v),O=1<<_;m[_]=-1,v&=~O}u!==0&&pl(i,u,o)}function Dp(){return(dt&6)===0?(yf(0),!1):!0}function mb(){if(We!==null){if(pt===0)var i=We.return;else i=We,as=Ol=null,Ix(i),Xc=null,Zd=0,i=We;for(;i!==null;)X2(i.alternate,i),i=i.return;We=null}}function ou(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,$V(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ps=0,mb(),At=i,We=u=ns(i.current,null),Xe=o,pt=0,Hr=null,bo=!1,au=Ra(i,o),lb=!1,iu=Gr=cb=Vl=wo=Gt=0,Cr=pf=null,ub=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-Jt(m),_=1<<v;o|=i[v],m&=~_}return ms=o,np(),u}function wT(i,o){Be=null,Y.H=of,o===Qc||o===up?(o=LN(),pt=3):o===vx?(o=LN(),pt=4):pt=o===Gx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Hr=o,We===null&&(Gt=1,Ap(i,ua(o,i.current)))}function _T(){var i=Fr.current;return i===null?!0:(Xe&4194048)===Xe?ma===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===ma:!1}function ET(){var i=Y.H;return Y.H=of,i===null?of:i}function AT(){var i=Y.A;return Y.A=xV,i}function Mp(){Gt=4,bo||(Xe&4194048)!==Xe&&Fr.current!==null||(au=!0),(wo&134217727)===0&&(Vl&134217727)===0||At===null||Ao(At,Xe,Gr,!1)}function pb(i,o,u){var m=dt;dt|=2;var v=ET(),_=AT();(At!==i||Xe!==o)&&(Rp=null,ou(i,o)),o=!1;var O=Gt;e:do try{if(pt!==0&&We!==null){var B=We,G=Hr;switch(pt){case 8:mb(),O=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(o=!0);var ee=pt;if(pt=0,Hr=null,lu(i,B,G,ee),u&&au){O=0;break e}break;default:ee=pt,pt=0,Hr=null,lu(i,B,G,ee)}}_V(),O=Gt;break}catch(le){wT(i,le)}while(!0);return o&&i.shellSuspendCounter++,as=Ol=null,dt=m,Y.H=v,Y.A=_,We===null&&(At=null,Xe=0,np()),O}function _V(){for(;We!==null;)ST(We)}function EV(i,o){var u=dt;dt|=2;var m=ET(),v=AT();At!==i||Xe!==o?(Rp=null,Pp=dr()+500,ou(i,o)):au=Ra(i,o);e:do try{if(pt!==0&&We!==null){o=We;var _=Hr;t:switch(pt){case 1:pt=0,Hr=null,lu(i,o,_,1);break;case 2:case 9:if(DN(_)){pt=0,Hr=null,jT(o);break}o=function(){pt!==2&&pt!==9||At!==i||(pt=7),Ai(i)},_.then(o,o);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:DN(_)?(pt=0,Hr=null,jT(o)):(pt=0,Hr=null,lu(i,o,_,7));break;case 5:var O=null;switch(We.tag){case 26:O=We.memoizedState;case 5:case 27:var B=We;if(O?dC(O):B.stateNode.complete){pt=0,Hr=null;var G=B.sibling;if(G!==null)We=G;else{var ee=B.return;ee!==null?(We=ee,Lp(ee)):We=null}break t}}pt=0,Hr=null,lu(i,o,_,5);break;case 6:pt=0,Hr=null,lu(i,o,_,6);break;case 8:mb(),Gt=6;break e;default:throw Error(r(462))}}AV();break}catch(le){wT(i,le)}while(!0);return as=Ol=null,Y.H=m,Y.A=v,dt=u,We!==null?0:(At=null,Xe=0,np(),Gt)}function AV(){for(;We!==null&&!H0();)ST(We)}function ST(i){var o=Y2(i.alternate,i,ms);i.memoizedProps=i.pendingProps,o===null?Lp(i):We=o}function jT(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=F2(u,o,o.pendingProps,o.type,void 0,Xe);break;case 11:o=F2(u,o,o.pendingProps,o.type.render,o.ref,Xe);break;case 5:Ix(o);default:X2(u,o),o=We=AN(o,ms),o=Y2(u,o,ms)}i.memoizedProps=i.pendingProps,o===null?Lp(i):We=o}function lu(i,o,u,m){as=Ol=null,Ix(o),Xc=null,Zd=0;var v=o.return;try{if(fV(i,v,o,u,Xe)){Gt=1,Ap(i,ua(u,i.current)),We=null;return}}catch(_){if(v!==null)throw We=v,_;Gt=1,Ap(i,ua(u,i.current)),We=null;return}o.flags&32768?(nt||m===1?i=!0:au||(Xe&536870912)!==0?i=!1:(bo=i=!0,(m===2||m===9||m===3||m===6)&&(m=Fr.current,m!==null&&m.tag===13&&(m.flags|=16384))),NT(o,i)):Lp(o)}function Lp(i){var o=i;do{if((o.flags&32768)!==0){NT(o,bo);return}i=o.return;var u=pV(o.alternate,o,ms);if(u!==null){We=u;return}if(o=o.sibling,o!==null){We=o;return}We=o=i}while(o!==null);Gt===0&&(Gt=5)}function NT(i,o){do{var u=gV(i.alternate,i);if(u!==null){u.flags&=32767,We=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){We=i;return}We=i=u}while(i!==null);Gt=6,We=null}function TT(i,o,u,m,v,_,O,B,G){i.cancelPendingCommit=null;do Up();while(Nn!==0);if((dt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=rx,W0(i,u,_,O,B,G),i===At&&(We=At=null,Xe=0),su=o,Eo=i,ps=u,db=_,fb=v,yT=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,TV(Js,function(){return PT(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null,v=oe.p,oe.p=2,O=dt,dt|=4;try{yV(i,o,u)}finally{dt=O,oe.p=v,Y.T=m}}Nn=1,CT(),IT(),OT()}}function CT(){if(Nn===1){Nn=0;var i=Eo,o=su,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var m=oe.p;oe.p=2;var v=dt;dt|=4;try{cT(o,i);var _=Nb,O=pN(i.containerInfo),B=_.focusedElem,G=_.selectionRange;if(O!==B&&B&&B.ownerDocument&&mN(B.ownerDocument.documentElement,B)){if(G!==null&&Z0(B)){var ee=G.start,le=G.end;if(le===void 0&&(le=ee),"selectionStart"in B)B.selectionStart=ee,B.selectionEnd=Math.min(le,B.value.length);else{var fe=B.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var se=te.getSelection(),je=B.textContent.length,Re=Math.min(G.start,je),_t=G.end===void 0?Re:Math.min(G.end,je);!se.extend&&Re>_t&&(O=_t,_t=Re,Re=O);var Q=hN(B,Re),W=hN(B,_t);if(Q&&W&&(se.rangeCount!==1||se.anchorNode!==Q.node||se.anchorOffset!==Q.offset||se.focusNode!==W.node||se.focusOffset!==W.offset)){var Z=fe.createRange();Z.setStart(Q.node,Q.offset),se.removeAllRanges(),Re>_t?(se.addRange(Z),se.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),se.addRange(Z))}}}}for(fe=[],se=B;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<fe.length;B++){var ue=fe[B];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Qp=!!jb,Nb=jb=null}finally{dt=v,oe.p=m,Y.T=u}}i.current=o,Nn=2}}function IT(){if(Nn===2){Nn=0;var i=Eo,o=su,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var m=oe.p;oe.p=2;var v=dt;dt|=4;try{aT(i,o.alternate,o)}finally{dt=v,oe.p=m,Y.T=u}}Nn=3}}function OT(){if(Nn===4||Nn===3){Nn=0,Tm();var i=Eo,o=su,u=ps,m=yT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Nn=5:(Nn=0,su=Eo=null,kT(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(_o=null),Zi(u),o=o.stateNode,Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Pa,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Y.T,v=oe.p,oe.p=2,Y.T=null;try{for(var _=i.onRecoverableError,O=0;O<m.length;O++){var B=m[O];_(B.value,{componentStack:B.stack})}}finally{Y.T=o,oe.p=v}}(ps&3)!==0&&Up(),Ai(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===hb?gf++:(gf=0,hb=i):gf=0,yf(0)}}function kT(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Qd(o)))}function Up(){return CT(),IT(),OT(),PT()}function PT(){if(Nn!==5)return!1;var i=Eo,o=db;db=0;var u=Zi(ps),m=Y.T,v=oe.p;try{oe.p=32>u?32:u,Y.T=null,u=fb,fb=null;var _=Eo,O=ps;if(Nn=0,su=Eo=null,ps=0,(dt&6)!==0)throw Error(r(331));var B=dt;if(dt|=4,mT(_.current),dT(_,_.current,O,u),dt=B,yf(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Pa,_)}catch{}return!0}finally{oe.p=v,Y.T=m,kT(i,o)}}function RT(i,o,u){o=ua(u,o),o=Hx(i.stateNode,o,2),i=go(i,o,2),i!==null&&(ml(i,2),Ai(i))}function gt(i,o,u){if(i.tag===3)RT(i,i,u);else for(;o!==null;){if(o.tag===3){RT(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_o===null||!_o.has(m))){i=ua(u,i),u=D2(2),m=go(o,u,2),m!==null&&(M2(u,m,o,i),ml(m,2),Ai(m));break}}o=o.return}}function gb(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new bV;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(lb=!0,v.add(u),i=SV.bind(null,i,o,u),o.then(i,i))}function SV(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,At===i&&(Xe&u)===u&&(Gt===4||Gt===3&&(Xe&62914560)===Xe&&300>dr()-kp?(dt&2)===0&&ou(i,0):cb|=u,iu===Xe&&(iu=0)),Ai(i)}function DT(i,o){o===0&&(o=Rm()),i=Tl(i,o),i!==null&&(ml(i,o),Ai(i))}function jV(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),DT(i,u)}function NV(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),DT(i,u)}function TV(i,o){return jn(i,o)}var zp=null,cu=null,yb=!1,Vp=!1,vb=!1,So=0;function Ai(i){i!==cu&&i.next===null&&(cu===null?zp=cu=i:cu=cu.next=i),Vp=!0,yb||(yb=!0,IV())}function yf(i,o){if(!vb&&Vp){vb=!0;do for(var u=!1,m=zp;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var _=0;else{var O=m.suspendedLanes,B=m.pingedLanes;_=(1<<31-Jt(42|i)+1)-1,_&=v&~(O&~B),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,zT(m,_))}else _=Xe,_=si(m,m===At?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Ra(m,_)||(u=!0,zT(m,_));m=m.next}while(u);vb=!1}}function CV(){MT()}function MT(){Vp=yb=!1;var i=0;So!==0&&VV()&&(i=So);for(var o=dr(),u=null,m=zp;m!==null;){var v=m.next,_=LT(m,o);_===0?(m.next=null,u===null?zp=v:u.next=v,v===null&&(cu=u)):(u=m,(i!==0||(_&3)!==0)&&(Vp=!0)),m=v}Nn!==0&&Nn!==5||yf(i),So!==0&&(So=0)}function LT(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var O=31-Jt(_),B=1<<O,G=v[O];G===-1?((B&u)===0||(B&m)!==0)&&(v[O]=K0(B,o)):G<=o&&(i.expiredLanes|=B),_&=~B}if(o=At,u=Xe,u=si(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Zs(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ra(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&Zs(m),Zi(u)){case 2:case 8:u=jd;break;case 32:u=Js;break;case 268435456:u=Cm;break;default:u=Js}return m=UT.bind(null,i),u=jn(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&Zs(m),i.callbackPriority=2,i.callbackNode=null,2}function UT(i,o){if(Nn!==0&&Nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Up()&&i.callbackNode!==u)return null;var m=Xe;return m=si(i,i===At?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(xT(i,m,o),LT(i,dr()),i.callbackNode!=null&&i.callbackNode===u?UT.bind(null,i):null)}function zT(i,o){if(Up())return null;xT(i,o,!0)}function IV(){BV(function(){(dt&6)!==0?jn(Sd,CV):MT()})}function xb(){if(So===0){var i=Wc;i===0&&(i=ai,ai<<=1,(ai&261888)===0&&(ai=256)),So=i}return So}function VT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pc(""+i)}function $T(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function OV(i,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var _=VT((v[Rn]||null).action),O=m.submitter;O&&(o=(o=O[Rn]||null)?VT(o.formAction):O.getAttribute("formAction"),o!==null&&(_=o,O=null));var B=new yi("action","action",null,m,v);i.push({event:B,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(So!==0){var G=O?$T(v,O):new FormData(v);zx(u,{pending:!0,data:G,method:v.method,action:_},null,G)}}else typeof _=="function"&&(B.preventDefault(),G=O?$T(v,O):new FormData(v),zx(u,{pending:!0,data:G,method:v.method,action:_},_,G))},currentTarget:v}]})}}for(var bb=0;bb<nx.length;bb++){var wb=nx[bb],kV=wb.toLowerCase(),PV=wb[0].toUpperCase()+wb.slice(1);Ba(kV,"on"+PV)}Ba(vN,"onAnimationEnd"),Ba(xN,"onAnimationIteration"),Ba(bN,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(Y8,"onTransitionRun"),Ba(Q8,"onTransitionStart"),Ba(X8,"onTransitionCancel"),Ba(wN,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vf));function BT(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var _=void 0;if(o)for(var O=m.length-1;0<=O;O--){var B=m[O],G=B.instance,ee=B.currentTarget;if(B=B.listener,G!==_&&v.isPropagationStopped())break e;_=B,v.currentTarget=ee;try{_(v)}catch(le){tp(le)}v.currentTarget=null,_=G}else for(O=0;O<m.length;O++){if(B=m[O],G=B.instance,ee=B.currentTarget,B=B.listener,G!==_&&v.isPropagationStopped())break e;_=B,v.currentTarget=ee;try{_(v)}catch(le){tp(le)}v.currentTarget=null,_=G}}}}function Ye(i,o){var u=o[Tc];u===void 0&&(u=o[Tc]=new Set);var m=i+"__bubble";u.has(m)||(FT(o,i,2,!1),u.add(m))}function _b(i,o,u){var m=0;o&&(m|=4),FT(u,i,m,o)}var $p="_reactListening"+Math.random().toString(36).slice(2);function Eb(i){if(!i[$p]){i[$p]=!0,Cd.forEach(function(u){u!=="selectionchange"&&(RV.has(u)||_b(u,!1,i),_b(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[$p]||(o[$p]=!0,_b("selectionchange",!1,o))}}function FT(i,o,u,m){switch(vC(o)){case 2:var v=l9;break;case 8:v=c9;break;default:v=Ub}u=v.bind(null,o,u,i),v=void 0,!bl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function Ab(i,o,u,m,v){var _=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var B=m.stateNode.containerInfo;if(B===v)break;if(O===4)for(O=m.return;O!==null;){var G=O.tag;if((G===3||G===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;B!==null;){if(O=ui(B),O===null)return;if(G=O.tag,G===5||G===6||G===26||G===27){m=_=O;continue e}B=B.parentNode}}m=m.return}io(function(){var ee=_,le=sa(u),fe=[];e:{var te=_N.get(i);if(te!==void 0){var se=yi,je=i;switch(i){case"keypress":if(_l(u)===0)break e;case"keydown":case"keyup":se=Zm;break;case"focusin":je="focus",se=Al;break;case"focusout":je="blur",se=Al;break;case"beforeblur":case"afterblur":se=Al;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=j;break;case vN:case xN:case bN:se=Hm;break;case wN:se=F;break;case"scroll":case"scrollend":se=$d;break;case"wheel":se=ie;break;case"copy":case"cut":case"paste":se=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=ts;break;case"toggle":case"beforetoggle":se=$e}var Re=(o&4)!==0,_t=!Re&&(i==="scroll"||i==="scrollend"),Q=Re?te!==null?te+"Capture":null:te;Re=[];for(var W=ee,Z;W!==null;){var ue=W;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Q===null||(ue=Ua(W,Q),ue!=null&&Re.push(xf(W,ue,Z))),_t)break;W=W.return}0<Re.length&&(te=new se(te,je,null,u,le),fe.push({event:te,listeners:Re}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",te&&u!==Ud&&(je=u.relatedTarget||u.fromElement)&&(ui(je)||je[li]))break e;if((se||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,se?(je=u.relatedTarget||u.toElement,se=ee,je=je?ui(je):null,je!==null&&(_t=s(je),Re=je.tag,je!==_t||Re!==5&&Re!==27&&Re!==6)&&(je=null)):(se=null,je=ee),se!==je)){if(Re=Bd,ue="onMouseLeave",Q="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Re=ts,ue="onPointerLeave",Q="onPointerEnter",W="pointer"),_t=se==null?te:zr(se),Z=je==null?te:zr(je),te=new Re(ue,W+"leave",se,u,le),te.target=_t,te.relatedTarget=Z,ue=null,ui(le)===ee&&(Re=new Re(Q,W+"enter",je,u,le),Re.target=Z,Re.relatedTarget=_t,ue=Re),_t=ue,se&&je)t:{for(Re=DV,Q=se,W=je,Z=0,ue=Q;ue;ue=Re(ue))Z++;ue=0;for(var Ie=W;Ie;Ie=Re(Ie))ue++;for(;0<Z-ue;)Q=Re(Q),Z--;for(;0<ue-Z;)W=Re(W),ue--;for(;Z--;){if(Q===W||W!==null&&Q===W.alternate){Re=Q;break t}Q=Re(Q),W=Re(W)}Re=null}else Re=null;se!==null&&qT(fe,te,se,Re,!1),je!==null&&_t!==null&&qT(fe,_t,je,Re,!0)}}e:{if(te=ee?zr(ee):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var st=oN;else if(iN(te))if(lN)st=G8;else{st=q8;var Te=F8}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&kc(ee.elementType)&&(st=oN):st=H8;if(st&&(st=st(i,ee))){sN(fe,st,u,le);break e}Te&&Te(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Dd(te,"number",te.value)}switch(Te=ee?zr(ee):window,i){case"focusin":(iN(Te)||Te.contentEditable==="true")&&(Vc=Te,J0=ee,Kd=null);break;case"focusout":Kd=J0=Vc=null;break;case"mousedown":ex=!0;break;case"contextmenu":case"mouseup":case"dragend":ex=!1,gN(fe,u,le);break;case"selectionchange":if(W8)break;case"keydown":case"keyup":gN(fe,u,le)}var qe;if(ut)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else zc?Sl(i,u)&&(Ze="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ze="onCompositionStart");Ze&&(bi&&u.locale!=="ko"&&(zc||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&zc&&(qe=Vd()):(gi=le,zd="value"in gi?gi.value:gi.textContent,zc=!0)),Te=Bp(ee,Ze),0<Te.length&&(Ze=new xi(Ze,i,null,u,le),fe.push({event:Ze,listeners:Te}),qe?Ze.data=qe:(qe=Uc(u),qe!==null&&(Ze.data=qe)))),(qe=la?z8(i,u):V8(i,u))&&(Ze=Bp(ee,"onBeforeInput"),0<Ze.length&&(Te=new xi("onBeforeInput","beforeinput",null,u,le),fe.push({event:Te,listeners:Ze}),Te.data=qe)),OV(fe,i,ee,u,le)}BT(fe,o)})}function xf(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Bp(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ua(i,u),v!=null&&m.unshift(xf(i,v,_)),v=Ua(i,o),v!=null&&m.push(xf(i,v,_))),i.tag===3)return m;i=i.return}return[]}function DV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function qT(i,o,u,m,v){for(var _=o._reactName,O=[];u!==null&&u!==m;){var B=u,G=B.alternate,ee=B.stateNode;if(B=B.tag,G!==null&&G===m)break;B!==5&&B!==26&&B!==27||ee===null||(G=ee,v?(ee=Ua(u,_),ee!=null&&O.unshift(xf(u,ee,G))):v||(ee=Ua(u,_),ee!=null&&O.push(xf(u,ee,G)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var MV=/\r\n?/g,LV=/\u0000|\uFFFD/g;function HT(i){return(typeof i=="string"?i:""+i).replace(MV,`
`).replace(LV,"")}function GT(i,o){return o=HT(o),HT(i)===o}function wt(i,o,u,m,v,_){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Sr(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Sr(i,""+m);break;case"className":Vr(i,"class",m);break;case"tabIndex":Vr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(i,u,m);break;case"style":Ld(i,m,_);break;case"data":if(o!=="object"){Vr(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Pc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&wt(i,o,"name",v.name,v,null),wt(i,o,"formEncType",v.formEncType,v,null),wt(i,o,"formMethod",v.formMethod,v,null),wt(i,o,"formTarget",v.formTarget,v,null)):(wt(i,o,"encType",v.encType,v,null),wt(i,o,"method",v.method,v,null),wt(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Pc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=La);break;case"onScroll":m!=null&&Ye("scroll",i);break;case"onScrollEnd":m!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Pc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),Ic(i,"popover",m);break;case"xlinkActuate":fn(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":fn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":fn(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":fn(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":fn(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":fn(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":fn(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":fn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":fn(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ic(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Bm.get(u)||u,Ic(i,u,m))}}function Sb(i,o,u,m,v,_){switch(u){case"style":Ld(i,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?Sr(i,m):(typeof m=="number"||typeof m=="bigint")&&Sr(i,""+m);break;case"onScroll":m!=null&&Ye("scroll",i);break;case"onScrollEnd":m!=null&&Ye("scrollend",i);break;case"onClick":m!=null&&(i.onclick=La);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Id.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),_=i[Rn]||null,_=_!=null?_[u]:null,typeof _=="function"&&i.removeEventListener(o,_,v),typeof m=="function")){typeof _!="function"&&_!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Ic(i,u,m)}}}function Qn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var m=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var O=u[_];if(O!=null)switch(_){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,_,O,u,null)}}v&&wt(i,o,"srcSet",u.srcSet,u,null),m&&wt(i,o,"src",u.src,u,null);return;case"input":Ye("invalid",i);var B=_=O=v=null,G=null,ee=null;for(m in u)if(u.hasOwnProperty(m)){var le=u[m];if(le!=null)switch(m){case"name":v=le;break;case"type":O=le;break;case"checked":G=le;break;case"defaultChecked":ee=le;break;case"value":_=le;break;case"defaultValue":B=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:wt(i,o,m,le,u,null)}}zm(i,_,B,G,ee,O,v,!1);return;case"select":Ye("invalid",i),m=O=_=null;for(v in u)if(u.hasOwnProperty(v)&&(B=u[v],B!=null))switch(v){case"value":_=B;break;case"defaultValue":O=B;break;case"multiple":m=B;default:wt(i,o,v,B,u,null)}o=_,u=O,i.multiple=!!m,o!=null?to(i,!!m,o,!1):u!=null&&to(i,!!m,u,!0);return;case"textarea":Ye("invalid",i),_=v=m=null;for(O in u)if(u.hasOwnProperty(O)&&(B=u[O],B!=null))switch(O){case"value":m=B;break;case"defaultValue":v=B;break;case"children":_=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:wt(i,o,O,B,u,null)}no(i,m,v,_);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(m=u[G],m!=null))switch(G){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:wt(i,o,G,m,u,null)}return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(m=0;m<vf.length;m++)Ye(vf[m],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(m=u[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,ee,m,u,null)}return;default:if(kc(o)){for(le in u)u.hasOwnProperty(le)&&(m=u[le],m!==void 0&&Sb(i,o,le,m,u,void 0));return}}for(B in u)u.hasOwnProperty(B)&&(m=u[B],m!=null&&wt(i,o,B,m,u,null))}function UV(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,O=null,B=null,G=null,ee=null,le=null;for(se in u){var fe=u[se];if(u.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":G=fe;default:m.hasOwnProperty(se)||wt(i,o,se,null,m,fe)}}for(var te in m){var se=m[te];if(fe=u[te],m.hasOwnProperty(te)&&(se!=null||fe!=null))switch(te){case"type":_=se;break;case"name":v=se;break;case"checked":ee=se;break;case"defaultChecked":le=se;break;case"value":O=se;break;case"defaultValue":B=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:se!==fe&&wt(i,o,te,se,m,fe)}}Oc(i,O,B,G,ee,le,_,v);return;case"select":se=O=B=te=null;for(_ in u)if(G=u[_],u.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":se=G;default:m.hasOwnProperty(_)||wt(i,o,_,null,m,G)}for(v in m)if(_=m[v],G=u[v],m.hasOwnProperty(v)&&(_!=null||G!=null))switch(v){case"value":te=_;break;case"defaultValue":B=_;break;case"multiple":O=_;default:_!==G&&wt(i,o,v,_,m,G)}o=B,u=O,m=se,te!=null?to(i,!!u,te,!1):!!m!=!!u&&(o!=null?to(i,!!u,o,!0):to(i,!!u,u?[]:"",!1));return;case"textarea":se=te=null;for(B in u)if(v=u[B],u.hasOwnProperty(B)&&v!=null&&!m.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:wt(i,o,B,null,m,v)}for(O in m)if(v=m[O],_=u[O],m.hasOwnProperty(O)&&(v!=null||_!=null))switch(O){case"value":te=v;break;case"defaultValue":se=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&wt(i,o,O,v,m,_)}Vm(i,te,se);return;case"option":for(var je in u)if(te=u[je],u.hasOwnProperty(je)&&te!=null&&!m.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:wt(i,o,je,null,m,te)}for(G in m)if(te=m[G],se=u[G],m.hasOwnProperty(G)&&te!==se&&(te!=null||se!=null))switch(G){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:wt(i,o,G,te,m,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in u)te=u[Re],u.hasOwnProperty(Re)&&te!=null&&!m.hasOwnProperty(Re)&&wt(i,o,Re,null,m,te);for(ee in m)if(te=m[ee],se=u[ee],m.hasOwnProperty(ee)&&te!==se&&(te!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:wt(i,o,ee,te,m,se)}return;default:if(kc(o)){for(var _t in u)te=u[_t],u.hasOwnProperty(_t)&&te!==void 0&&!m.hasOwnProperty(_t)&&Sb(i,o,_t,void 0,m,te);for(le in m)te=m[le],se=u[le],!m.hasOwnProperty(le)||te===se||te===void 0&&se===void 0||Sb(i,o,le,te,m,se);return}}for(var Q in u)te=u[Q],u.hasOwnProperty(Q)&&te!=null&&!m.hasOwnProperty(Q)&&wt(i,o,Q,null,m,te);for(fe in m)te=m[fe],se=u[fe],!m.hasOwnProperty(fe)||te===se||te==null&&se==null||wt(i,o,fe,te,m,se)}function KT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],_=v.transferSize,O=v.initiatorType,B=v.duration;if(_&&B&&KT(O)){for(O=0,B=v.responseEnd,m+=1;m<u.length;m++){var G=u[m],ee=G.startTime;if(ee>B)break;var le=G.transferSize,fe=G.initiatorType;le&&KT(fe)&&(G=G.responseEnd,O+=le*(G<B?1:(B-ee)/(G-ee)))}if(--m,o+=8*(_+O)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var jb=null,Nb=null;function Fp(i){return i.nodeType===9?i:i.ownerDocument}function WT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YT(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Tb(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cb=null;function VV(){var i=window.event;return i&&i.type==="popstate"?i===Cb?!1:(Cb=i,!0):(Cb=null,!1)}var QT=typeof setTimeout=="function"?setTimeout:void 0,$V=typeof clearTimeout=="function"?clearTimeout:void 0,XT=typeof Promise=="function"?Promise:void 0,BV=typeof queueMicrotask=="function"?queueMicrotask:typeof XT<"u"?function(i){return XT.resolve(null).then(i).catch(FV)}:QT;function FV(i){setTimeout(function(){throw i})}function jo(i){return i==="head"}function ZT(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),hu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")bf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,bf(u);for(var _=u.firstChild;_;){var O=_.nextSibling,B=_.nodeName;_[ci]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=O}}else u==="body"&&bf(i.ownerDocument.body);u=v}while(u);hu(o)}function JT(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Ib(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ib(u),Cc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function qV(i,o,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ci])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=pa(i.nextSibling),i===null)break}return null}function HV(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=pa(i.nextSibling),i===null))return null;return i}function eC(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=pa(i.nextSibling),i===null))return null;return i}function Ob(i){return i.data==="$?"||i.data==="$~"}function kb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function GV(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function pa(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Pb=null;function tC(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return pa(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function nC(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function rC(i,o,u){switch(o=Fp(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function bf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Cc(i)}var ga=new Map,aC=new Set;function qp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gs=oe.d;oe.d={f:KV,r:WV,D:YV,C:QV,L:XV,m:ZV,X:e9,S:JV,M:t9};function KV(){var i=gs.f(),o=Dp();return i||o}function WV(i){var o=ia(i);o!==null&&o.tag===5&&o.type==="form"?w2(o):gs.r(i)}var uu=typeof document>"u"?null:document;function iC(i,o,u){var m=uu;if(m&&typeof o=="string"&&o){var v=Ar(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),aC.has(v)||(aC.add(v),i={rel:i,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),Qn(o,"link",i),dn(o),m.head.appendChild(o)))}}function YV(i){gs.D(i),iC("dns-prefetch",i,null)}function QV(i,o){gs.C(i,o),iC("preconnect",i,o)}function XV(i,o,u){gs.L(i,o,u);var m=uu;if(m&&i&&o){var v='link[rel="preload"][as="'+Ar(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Ar(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Ar(u.imageSizes)+'"]')):v+='[href="'+Ar(i)+'"]';var _=v;switch(o){case"style":_=du(i);break;case"script":_=fu(i)}ga.has(_)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),ga.set(_,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(wf(_))||o==="script"&&m.querySelector(_f(_))||(o=m.createElement("link"),Qn(o,"link",i),dn(o),m.head.appendChild(o)))}}function ZV(i,o){gs.m(i,o);var u=uu;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Ar(m)+'"][href="'+Ar(i)+'"]',_=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=fu(i)}if(!ga.has(_)&&(i=g({rel:"modulepreload",href:i},o),ga.set(_,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(_f(_)))return}m=u.createElement("link"),Qn(m,"link",i),dn(m),u.head.appendChild(m)}}}function JV(i,o,u){gs.S(i,o,u);var m=uu;if(m&&i){var v=di(m).hoistableStyles,_=du(i);o=o||"default";var O=v.get(_);if(!O){var B={loading:0,preload:null};if(O=m.querySelector(wf(_)))B.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=ga.get(_))&&Rb(i,u);var G=O=m.createElement("link");dn(G),Qn(G,"link",i),G._p=new Promise(function(ee,le){G.onload=ee,G.onerror=le}),G.addEventListener("load",function(){B.loading|=1}),G.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Hp(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:B},v.set(_,O)}}}function e9(i,o){gs.X(i,o);var u=uu;if(u&&i){var m=di(u).hoistableScripts,v=fu(i),_=m.get(v);_||(_=u.querySelector(_f(v)),_||(i=g({src:i,async:!0},o),(o=ga.get(v))&&Db(i,o),_=u.createElement("script"),dn(_),Qn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function t9(i,o){gs.M(i,o);var u=uu;if(u&&i){var m=di(u).hoistableScripts,v=fu(i),_=m.get(v);_||(_=u.querySelector(_f(v)),_||(i=g({src:i,async:!0,type:"module"},o),(o=ga.get(v))&&Db(i,o),_=u.createElement("script"),dn(_),Qn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function sC(i,o,u,m){var v=(v=ke.current)?qp(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=du(u.href),u=di(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=du(u.href);var _=di(v).hoistableStyles,O=_.get(i);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,O),(_=v.querySelector(wf(i)))&&!_._p&&(O.instance=_,O.state.loading=5),ga.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ga.set(i,u),_||n9(v,i,u,O.state))),o&&m===null)throw Error(r(528,""));return O}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=fu(u),u=di(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function du(i){return'href="'+Ar(i)+'"'}function wf(i){return'link[rel="stylesheet"]['+i+"]"}function oC(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function n9(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Qn(o,"link",u),dn(o),i.head.appendChild(o))}function fu(i){return'[src="'+Ar(i)+'"]'}function _f(i){return"script[async]"+i}function lC(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Ar(u.href)+'"]');if(m)return o.instance=m,dn(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),dn(m),Qn(m,"style",v),Hp(m,u.precedence,i),o.instance=m;case"stylesheet":v=du(u.href);var _=i.querySelector(wf(v));if(_)return o.state.loading|=4,o.instance=_,dn(_),_;m=oC(u),(v=ga.get(v))&&Rb(m,v),_=(i.ownerDocument||i).createElement("link"),dn(_);var O=_;return O._p=new Promise(function(B,G){O.onload=B,O.onerror=G}),Qn(_,"link",m),o.state.loading|=4,Hp(_,u.precedence,i),o.instance=_;case"script":return _=fu(u.src),(v=i.querySelector(_f(_)))?(o.instance=v,dn(v),v):(m=u,(v=ga.get(_))&&(m=g({},u),Db(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),dn(v),Qn(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Hp(m,u.precedence,i));return o.instance}function Hp(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,_=v,O=0;O<m.length;O++){var B=m[O];if(B.dataset.precedence===o)_=B;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Rb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Db(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Gp=null;function cC(i,o,u){if(Gp===null){var m=new Map,v=Gp=new Map;v.set(u,m)}else v=Gp,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var _=u[v];if(!(_[ci]||_[un]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(o)||"";O=i+O;var B=m.get(O);B?B.push(_):m.set(O,[_])}}return m}function uC(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function r9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function dC(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function a9(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=du(m.href),_=o.querySelector(wf(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Kp.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=_,dn(_);return}_=o.ownerDocument||o,m=oC(m),(v=ga.get(v))&&Rb(m,v),_=_.createElement("link"),dn(_);var O=_;O._p=new Promise(function(B,G){O.onload=B,O.onerror=G}),Qn(_,"link",m),u.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Kp.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Mb=0;function i9(i,o){return i.stylesheets&&i.count===0&&Yp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&Yp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&Mb===0&&(Mb=62500*zV());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Yp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Mb?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Kp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wp=null;function Yp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wp=new Map,o.forEach(s9,i),Wp=null,Kp.call(i))}function s9(i,o){if(!(o.state.loading&4)){var u=Wp.get(i);if(u)var m=u.get(null);else{u=new Map,Wp.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var O=v[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}v=o.instance,O=v.getAttribute("data-precedence"),_=u.get(O)||m,_===m&&u.set(null,v),u.set(O,v),this.count++,m=Kp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Ef={$$typeof:R,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function o9(i,o,u,m,v,_,O,B,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function fC(i,o,u,m,v,_,O,B,G,ee,le,fe){return i=new o9(i,o,u,O,G,ee,le,fe,B),o=1,_===!0&&(o|=24),_=Br(3,null,null,o),i.current=_,_.stateNode=i,o=px(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:m,isDehydrated:u,cache:o},xx(_),i}function hC(i){return i?(i=Fc,i):Fc}function mC(i,o,u,m,v,_){v=hC(v),m.context===null?m.context=v:m.pendingContext=v,m=po(o),m.payload={element:u},_=_===void 0?null:_,_!==null&&(m.callback=_),u=go(i,m,o),u!==null&&(Ir(u,i,o),ef(u,i,o))}function pC(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Lb(i,o){pC(i,o),(i=i.alternate)&&pC(i,o)}function gC(i){if(i.tag===13||i.tag===31){var o=Tl(i,67108864);o!==null&&Ir(o,i,67108864),Lb(i,67108864)}}function yC(i){if(i.tag===13||i.tag===31){var o=Kr();o=gl(o);var u=Tl(i,o);u!==null&&Ir(u,i,o),Lb(i,o)}}var Qp=!0;function l9(i,o,u,m){var v=Y.T;Y.T=null;var _=oe.p;try{oe.p=2,Ub(i,o,u,m)}finally{oe.p=_,Y.T=v}}function c9(i,o,u,m){var v=Y.T;Y.T=null;var _=oe.p;try{oe.p=8,Ub(i,o,u,m)}finally{oe.p=_,Y.T=v}}function Ub(i,o,u,m){if(Qp){var v=zb(m);if(v===null)Ab(i,o,m,Xp,u),xC(i,m);else if(d9(v,i,o,u,m))m.stopPropagation();else if(xC(i,m),o&4&&-1<u9.indexOf(i)){for(;v!==null;){var _=ia(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=ii(_.pendingLanes);if(O!==0){var B=_;for(B.pendingLanes|=2,B.entangledLanes|=2;O;){var G=1<<31-Jt(O);B.entanglements[1]|=G,O&=~G}Ai(_),(dt&6)===0&&(Pp=dr()+500,yf(0))}}break;case 31:case 13:B=Tl(_,2),B!==null&&Ir(B,_,2),Dp(),Lb(_,2)}if(_=zb(m),_===null&&Ab(i,o,m,Xp,u),_===v)break;v=_}v!==null&&m.stopPropagation()}else Ab(i,o,m,null,u)}}function zb(i){return i=sa(i),Vb(i)}var Xp=null;function Vb(i){if(Xp=null,i=ui(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Xp=i,null}function vC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fl()){case Sd:return 2;case jd:return 8;case Js:case G0:return 32;case Cm:return 268435456;default:return 32}default:return 32}}var $b=!1,No=null,To=null,Co=null,Af=new Map,Sf=new Map,Io=[],u9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xC(i,o){switch(i){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":Af.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(o.pointerId)}}function jf(i,o,u,m,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[v]},o!==null&&(o=ia(o),o!==null&&gC(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function d9(i,o,u,m,v){switch(o){case"focusin":return No=jf(No,i,o,u,m,v),!0;case"dragenter":return To=jf(To,i,o,u,m,v),!0;case"mouseover":return Co=jf(Co,i,o,u,m,v),!0;case"pointerover":var _=v.pointerId;return Af.set(_,jf(Af.get(_)||null,i,o,u,m,v)),!0;case"gotpointercapture":return _=v.pointerId,Sf.set(_,jf(Sf.get(_)||null,i,o,u,m,v)),!0}return!1}function bC(i){var o=ui(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,Da(i.priority,function(){yC(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,Da(i.priority,function(){yC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=zb(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Ud=m,u.target.dispatchEvent(m),Ud=null}else return o=ia(u),o!==null&&gC(o),i.blockedOn=u,!1;o.shift()}return!0}function wC(i,o,u){Zp(i)&&u.delete(o)}function f9(){$b=!1,No!==null&&Zp(No)&&(No=null),To!==null&&Zp(To)&&(To=null),Co!==null&&Zp(Co)&&(Co=null),Af.forEach(wC),Sf.forEach(wC)}function Jp(i,o){i.blockedOn===o&&(i.blockedOn=null,$b||($b=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,f9)))}var eg=null;function _C(i){eg!==i&&(eg=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){eg===i&&(eg=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if(Vb(m||u)===null)continue;break}var _=ia(u);_!==null&&(i.splice(o,3),o-=3,zx(_,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function hu(i){function o(G){return Jp(G,i)}No!==null&&Jp(No,i),To!==null&&Jp(To,i),Co!==null&&Jp(Co,i),Af.forEach(o),Sf.forEach(o);for(var u=0;u<Io.length;u++){var m=Io[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Io.length&&(u=Io[0],u.blockedOn===null);)bC(u),u.blockedOn===null&&Io.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],_=u[m+1],O=v[Rn]||null;if(typeof _=="function")O||_C(u);else if(O){var B=null;if(_&&_.hasAttribute("formAction")){if(v=_,O=_[Rn]||null)B=O.formAction;else if(Vb(v)!==null)continue}else B=O.action;typeof B=="function"?u[m+1]=B:(u.splice(m,3),m-=3),_C(u)}}}function EC(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Bb(i){this._internalRoot=i}tg.prototype.render=Bb.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=Kr();mC(u,m,i,o,null,null)},tg.prototype.unmount=Bb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;mC(i.current,2,null,i,null,null),Dp(),o[li]=null}};function tg(i){this._internalRoot=i}tg.prototype.unstable_scheduleHydration=function(i){if(i){var o=Dm();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Io.length&&o!==0&&o<Io[u].priority;u++);Io.splice(u,0,i),u===0&&bC(i)}};var AC=e.version;if(AC!=="19.2.0")throw Error(r(527,AC,"19.2.0"));oe.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var h9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ng.isDisabled&&ng.supportsFiber)try{Pa=ng.inject(h9),Hn=ng}catch{}}return Tf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",v=O2,_=k2,O=P2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=fC(i,1,!1,null,null,u,m,null,v,_,O,EC),i[li]=o.current,Eb(i),new Bb(o)},Tf.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,v="",_=O2,O=k2,B=P2,G=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=fC(i,1,!0,o,u??null,m,v,G,_,O,B,EC),o.context=hC(null),u=o.current,m=Kr(),m=gl(m),v=po(m),v.callback=null,go(u,v,m),u=m,o.current.lanes=u,ml(o,u),Ai(o),i[li]=o.current,Eb(i),new tg(o)},Tf.version="19.2.0",Tf}var RC;function j9(){if(RC)return Gb.exports;RC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gb.exports=S9(),Gb.exports}var N9=j9();const T9=Gi(N9);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DC="popstate";function C9(t={}){function e(r,a){let{pathname:s,search:l,hash:d}=r.location;return J1("",{pathname:s,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:sh(a)}return O9(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ja(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I9(){return Math.random().toString(36).substring(2,10)}function MC(t,e){return{usr:t.state,key:t.key,idx:e}}function J1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?nd(e):e,state:n,key:e&&e.key||r||I9()}}function sh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function O9(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let S=p(),C=S==null?null:S-h;h=S,f&&f({action:d,location:A.location,delta:C})}function x(S,C){d="PUSH";let U=J1(A.location,S,C);h=p()+1;let R=MC(U,h),T=A.createHref(U);try{l.pushState(R,"",T)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(T)}s&&f&&f({action:d,location:A.location,delta:1})}function w(S,C){d="REPLACE";let U=J1(A.location,S,C);h=p();let R=MC(U,h),T=A.createHref(U);l.replaceState(R,"",T),s&&f&&f({action:d,location:A.location,delta:0})}function E(S){return k9(S)}let A={get action(){return d},get location(){return t(a,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(DC,g),f=S,()=>{a.removeEventListener(DC,g),f=null}},createHref(S){return e(a,S)},createURL:E,encodeLocation(S){let C=E(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:w,go(S){return l.go(S)}};return A}function k9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:sh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function WD(t,e,n="/"){return P9(t,e,n,!1)}function P9(t,e,n,r){let a=typeof e=="string"?nd(e):e,s=Is(a.pathname||"/",n);if(s==null)return null;let l=YD(t);R9(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=H9(s);d=F9(l[f],h,r)}return d}function YD(t,e=[],n=[],r="",a=!1){let s=(l,d,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;zt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Ss([r,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(zt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),YD(l.children,e,x,g,f)),!(l.path==null&&!l.index)&&e.push({path:g,score:$9(g,l.index),routesMeta:x})};return t.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of QD(l.path))s(l,d,!0,h)}),e}function QD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let l=QD(r.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function R9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var D9=/^:[\w-]+$/,M9=3,L9=2,U9=1,z9=10,V9=-2,LC=t=>t==="*";function $9(t,e){let n=t.split("/"),r=n.length;return n.some(LC)&&(r+=V9),e&&(r+=L9),n.filter(a=>!LC(a)).reduce((a,s)=>a+(D9.test(s)?M9:s===""?U9:z9),r)}function B9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function F9(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=Wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:Ss([s,g.pathname]),pathnameBase:Y9(Ss([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=Ss([s,g.pathnameBase]))}return l}function Wg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=q9(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let E=d[x]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[x];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function q9(t,e=!1,n=!0){ja(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function H9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ja(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var XD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G9=t=>XD.test(t);function K9(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?nd(t):t,s;if(n)if(G9(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ja(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=UC(n.substring(1),"/"):s=UC(n,e)}else s=e;return{pathname:s,search:Q9(r),hash:X9(a)}}function UC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Qb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OE(t){let e=W9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kE(t,e,n,r=!1){let a;typeof t=="string"?a=nd(t):(a={...t},zt(!a.pathname||!a.pathname.includes("?"),Qb("?","pathname","search",a)),zt(!a.pathname||!a.pathname.includes("#"),Qb("#","pathname","hash",a)),zt(!a.search||!a.search.includes("#"),Qb("#","search","hash",a)));let s=t===""||a.pathname==="",l=s?"/":a.pathname,d;if(l==null)d=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}d=g>=0?e[g]:"/"}let f=K9(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Ss=t=>t.join("/").replace(/\/\/+/g,"/"),Y9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,X9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Z9=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function J9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function e$(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ZD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function JD(t,e){let n=t;if(typeof n!="string"||!XD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(ZD)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),d=Is(l.pathname,e);l.origin===s.origin&&d!=null?n=d+l.search+l.hash:a=!0}catch{ja(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e4=["POST","PUT","PATCH","DELETE"];new Set(e4);var t$=["GET",...e4];new Set(t$);var rd=b.createContext(null);rd.displayName="DataRouter";var pv=b.createContext(null);pv.displayName="DataRouterState";var n$=b.createContext(!1),t4=b.createContext({isTransitioning:!1});t4.displayName="ViewTransition";var r$=b.createContext(new Map);r$.displayName="Fetchers";var a$=b.createContext(null);a$.displayName="Await";var na=b.createContext(null);na.displayName="Navigation";var Lh=b.createContext(null);Lh.displayName="Location";var Oa=b.createContext({outlet:null,matches:[],isDataRoute:!1});Oa.displayName="Route";var PE=b.createContext(null);PE.displayName="RouteError";var n4="REACT_ROUTER_ERROR",i$="REDIRECT",s$="ROUTE_ERROR_RESPONSE";function o$(t){if(t.startsWith(`${n4}:${i$}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function l$(t){if(t.startsWith(`${n4}:${s$}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Z9(e.status,e.statusText,e.data)}catch{}}function c$(t,{relative:e}={}){zt(ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(na),{hash:a,pathname:s,search:l}=zh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Ss([n,s])),r.createHref({pathname:d,search:l,hash:a})}function ad(){return b.useContext(Lh)!=null}function ra(){return zt(ad(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Lh).location}var r4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a4(t){b.useContext(na).static||b.useLayoutEffect(t)}function Ft(){let{isDataRoute:t}=b.useContext(Oa);return t?E$():u$()}function u$(){zt(ad(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(rd),{basename:e,navigator:n}=b.useContext(na),{matches:r}=b.useContext(Oa),{pathname:a}=ra(),s=JSON.stringify(OE(r)),l=b.useRef(!1);return a4(()=>{l.current=!0}),b.useCallback((f,h={})=>{if(ja(l.current,r4),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=kE(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ss([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}var i4=b.createContext(null);function Uh(){return b.useContext(i4)}function d$(t){let e=b.useContext(Oa).outlet;return b.useMemo(()=>e&&b.createElement(i4.Provider,{value:t},e),[e,t])}function gv(){let{matches:t}=b.useContext(Oa),e=t[t.length-1];return e?e.params:{}}function zh(t,{relative:e}={}){let{matches:n}=b.useContext(Oa),{pathname:r}=ra(),a=JSON.stringify(OE(n));return b.useMemo(()=>kE(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function f$(t,e){return s4(t,e)}function s4(t,e,n,r,a){var U;zt(ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(na),{matches:l}=b.useContext(Oa),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let R=g&&g.path||"";l4(h,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let x=ra(),w;if(e){let R=typeof e=="string"?nd(e):e;zt(p==="/"||((U=R.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=x;let E=w.pathname||"/",A=E;if(p!=="/"){let R=p.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=WD(t,{pathname:A});ja(g||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ja(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=y$(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Ss([p,s.encodeLocation?s.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Ss([p,s.encodeLocation?s.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),l,n,r,a);return e&&C?b.createElement(Lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function h$(){let t=_$(),e=J9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:a},n):null,l)}var m$=b.createElement(h$,null),o4=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=l$(t.digest);n&&(t=n)}let e=t!==void 0?b.createElement(Oa.Provider,{value:this.props.routeContext},b.createElement(PE.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?b.createElement(p$,{error:t},e):e}};o4.contextType=n$;var Xb=new WeakMap;function p$({children:t,error:e}){let{basename:n}=b.useContext(na);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=o$(e.digest);if(r){let a=Xb.get(e);if(a)throw a;let s=JD(r.location,n);if(ZD&&!Xb.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw Xb.set(e,l),l}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function g$({routeContext:t,match:e,children:n}){let r=b.useContext(rd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Oa.Provider,{value:t},n)}function y$(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:w}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{var x,w;r(p,{location:n.location,params:((w=(x=n.matches)==null?void 0:x[0])==null?void 0:w.params)??{},unstable_pattern:e$(n.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,x)=>{let w,E=!1,A=null,S=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||m$,d&&(f<0&&x===0?(l4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):f===x&&(E=!0,S=g.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,x+1)),U=()=>{let R;return w?R=A:E?R=S:g.route.Component?R=b.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=p,b.createElement(g$,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?b.createElement(o4,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:U(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):U()},null)}function RE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v$(t){let e=b.useContext(rd);return zt(e,RE(t)),e}function x$(t){let e=b.useContext(pv);return zt(e,RE(t)),e}function b$(t){let e=b.useContext(Oa);return zt(e,RE(t)),e}function DE(t){let e=b$(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function w$(){return DE("useRouteId")}function _$(){var r;let t=b.useContext(PE),e=x$("useRouteError"),n=DE("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function E$(){let{router:t}=v$("useNavigate"),e=DE("useNavigate"),n=b.useRef(!1);return a4(()=>{n.current=!0}),b.useCallback(async(a,s={})=>{ja(n.current,r4),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var zC={};function l4(t,e,n){!e&&!zC[t]&&(zC[t]=!0,ja(!1,n))}b.memo(A$);function A$({routes:t,future:e,state:n,onError:r}){return s4(t,void 0,n,r,e)}function js({to:t,replace:e,state:n,relative:r}){zt(ad(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(na);ja(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Oa),{pathname:l}=ra(),d=Ft(),f=kE(t,OE(s),l,r==="path"),h=JSON.stringify(f);return b.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function c4(t){return d$(t.context)}function Ge(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){zt(!ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[d,a,s,l]);typeof n=="string"&&(n=nd(n));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:w="default"}=n,E=b.useMemo(()=>{let A=Is(h,d);return A==null?null:{location:{pathname:A,search:p,hash:g,state:x,key:w},navigationType:r}},[d,h,p,g,x,w,r]);return ja(E!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:b.createElement(na.Provider,{value:f},b.createElement(Lh.Provider,{children:e,value:E}))}function j$({children:t,location:e}){return f$(e_(t),e)}function e_(t,e=[]){let n=[];return b.Children.forEach(t,(r,a)=>{if(!b.isValidElement(r))return;let s=[...e,a];if(r.type===b.Fragment){n.push.apply(n,e_(r.props.children,s));return}zt(r.type===Ge,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=e_(r.props.children,s)),n.push(l)}),n}var Ig="get",Og="application/x-www-form-urlencoded";function yv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function N$(t){return yv(t)&&t.tagName.toLowerCase()==="button"}function T$(t){return yv(t)&&t.tagName.toLowerCase()==="form"}function C$(t){return yv(t)&&t.tagName.toLowerCase()==="input"}function I$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O$(t,e){return t.button===0&&(!e||e==="_self")&&!I$(t)}var rg=null;function k$(){if(rg===null)try{new FormData(document.createElement("form"),0),rg=!1}catch{rg=!0}return rg}var P$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zb(t){return t!=null&&!P$.has(t)?(ja(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Og}"`),null):t}function R$(t,e){let n,r,a,s,l;if(T$(t)){let d=t.getAttribute("action");r=d?Is(d,e):null,n=t.getAttribute("method")||Ig,a=Zb(t.getAttribute("enctype"))||Og,s=new FormData(t)}else if(N$(t)||C$(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Is(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Ig,a=Zb(t.getAttribute("formenctype"))||Zb(d.getAttribute("enctype"))||Og,s=new FormData(d,t),!k$()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,g)}}else{if(yv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ig,r=null,a=Og,l=t}return s&&a==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ME(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function D$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Is(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function M$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function U$(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let l=await M$(s,n);return l.links?l.links():[]}return[]}));return B$(r.flat(1).filter(L$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function VC(t,e,n,r,a,s){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function z$(t,e,{includeHydrateFallback:n}={}){return V$(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function V$(t){return[...new Set(t)]}function $$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function B$(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify($$(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function u4(){let t=b.useContext(rd);return ME(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function F$(){let t=b.useContext(pv);return ME(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var LE=b.createContext(void 0);LE.displayName="FrameworkContext";function d4(){let t=b.useContext(LE);return ME(t,"You must render this element inside a <HydratedRouter> element"),t}function q$(t,e){let n=b.useContext(LE),[r,a]=b.useState(!1),[s,l]=b.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=C=>{C.forEach(U=>{l(U.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[t]),b.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),l(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:Cf(d,w),onBlur:Cf(f,E),onMouseEnter:Cf(h,w),onMouseLeave:Cf(p,E),onTouchStart:Cf(g,w)}]:[!1,x,{}]}function Cf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function H$({page:t,...e}){let{router:n}=u4(),r=b.useMemo(()=>WD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(K$,{page:t,matches:r,...e}):null}function G$(t){let{manifest:e,routeModules:n}=d4(),[r,a]=b.useState([]);return b.useEffect(()=>{let s=!1;return U$(t,e,n).then(l=>{s||a(l)}),()=>{s=!0}},[t,e,n]),r}function K$({page:t,matches:e,...n}){let r=ra(),{manifest:a,routeModules:s}=d4(),{basename:l}=u4(),{loaderData:d,matches:f}=F$(),h=b.useMemo(()=>VC(t,e,f,a,r,"data"),[t,e,f,a,r]),p=b.useMemo(()=>VC(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(C=>{var R;let U=a.routes[C.route.id];!U||!U.hasLoader||(!h.some(T=>T.route.id===C.route.id)&&C.route.id in d&&((R=s[C.route.id])!=null&&R.shouldRevalidate)||U.hasClientLoader?A=!0:E.add(C.route.id))}),E.size===0)return[];let S=D$(t,l,"data");return A&&E.size>0&&S.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[l,d,r,a,h,e,t,s]),x=b.useMemo(()=>z$(p,a),[p,a]),w=G$(p);return b.createElement(b.Fragment,null,g.map(E=>b.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>b.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:A})=>b.createElement("link",{key:E,nonce:n.nonce,...A})))}function W$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y$&&(window.__reactRouterVersion="7.11.0")}catch{}function Q$({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=b.useRef();a.current==null&&(a.current=C9({window:r,v5Compat:!0}));let s=a.current,[l,d]=b.useState({action:s.action,location:s.location}),f=b.useCallback(h=>{n===!1?d(h):b.startTransition(()=>d(h))},[n]);return b.useLayoutEffect(()=>s.listen(f),[s,f]),b.createElement(S$,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var f4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yr=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...w},E){let{basename:A,unstable_useTransitions:S}=b.useContext(na),C=typeof h=="string"&&f4.test(h),U=JD(h,A);h=U.to;let R=c$(h,{relative:a}),[T,M,V]=q$(r,w),I=J$(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:x,unstable_useTransitions:S});function k(P){e&&e(P),P.defaultPrevented||I(P)}let N=b.createElement("a",{...w,...V,href:U.absoluteURL||R,onClick:U.isExternal||s?e:k,ref:W$(E,M),target:f,"data-discover":!C&&n==="render"?"true":void 0});return T&&!C?b.createElement(b.Fragment,null,N,b.createElement(H$,{page:R})):N});Yr.displayName="Link";var Yg=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=zh(l,{relative:h.relative}),x=ra(),w=b.useContext(pv),{navigator:E,basename:A}=b.useContext(na),S=w!=null&&a7(g)&&d===!0,C=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,U=x.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(U=U.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&A&&(R=Is(R,A)||R);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=U===C||!a&&U.startsWith(C)&&U.charAt(T)==="/",V=R!=null&&(R===C||!a&&R.startsWith(C)&&R.charAt(C.length)==="/"),I={isActive:M,isPending:V,isTransitioning:S},k=M?e:void 0,N;typeof r=="function"?N=r(I):N=[r,M?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(I):s;return b.createElement(Yr,{...h,"aria-current":k,className:N,ref:p,style:P,to:l,viewTransition:d},typeof f=="function"?f(I):f)});Yg.displayName="NavLink";var X$=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:l=Ig,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...w},E)=>{let{unstable_useTransitions:A}=b.useContext(na),S=n7(),C=r7(d,{relative:h}),U=l.toLowerCase()==="get"?"get":"post",R=typeof d=="string"&&f4.test(d),T=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let V=M.nativeEvent.submitter,I=(V==null?void 0:V.getAttribute("formmethod"))||l,k=()=>S(V||M.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x});A&&n!==!1?b.startTransition(()=>k()):k()};return b.createElement("form",{ref:E,method:U,action:C,onSubmit:r?f:T,...w,"data-discover":!R&&t==="render"?"true":void 0})});X$.displayName="Form";function Z$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h4(t){let e=b.useContext(rd);return zt(e,Z$(t)),e}function J$(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=Ft(),p=ra(),g=zh(t,{relative:s});return b.useCallback(x=>{if(O$(x,e)){x.preventDefault();let w=n!==void 0?n:sh(p)===sh(g),E=()=>h(t,{replace:w,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d});f?b.startTransition(()=>E()):E()}},[p,h,g,n,r,e,t,a,s,l,d,f])}var e7=0,t7=()=>`__${String(++e7)}__`;function n7(){let{router:t}=h4("useSubmit"),{basename:e}=b.useContext(na),n=w$(),r=t.fetch,a=t.navigate;return b.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:g}=R$(s,e);if(l.navigate===!1){let x=l.fetcherKey||t7();await r(x,n,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,a,e,n])}function r7(t,{relative:e}={}){let{basename:n}=b.useContext(na),r=b.useContext(Oa);zt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...zh(t||".",{relative:e})},l=ra();if(t==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ss([n,s.pathname])),sh(s)}function a7(t,{relative:e}={}){let n=b.useContext(t4);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=h4("useViewTransitionState"),a=zh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Is(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Is(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wg(a.pathname,l)!=null||Wg(a.pathname,s)!=null}var m4=KD();const i7=()=>{};var $C={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},s7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],l=t[n++],d=t[n++],f=((a&7)<<18|(s&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},g4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],l=a+1<t.length,d=l?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let x=(d&15)<<2|h>>6,w=h&63;f||(w=64,l||(x=64)),r.push(n[p],n[g],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||d==null||h==null||g==null)throw new o7;const x=s<<2|d>>4;if(r.push(x),h!==64){const w=d<<4&240|h>>2;if(r.push(w),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l7=function(t){const e=p4(t);return g4.encodeByteArray(e,!0)},Qg=function(t){return l7(t).replace(/\./g,"")},y4=function(t){try{return g4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=()=>c7().__FIREBASE_DEFAULTS__,d7=()=>{if(typeof process>"u"||typeof $C>"u")return;const t=$C.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&y4(t[1]);return e&&JSON.parse(e)},vv=()=>{try{return i7()||u7()||d7()||f7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v4=t=>{var e,n;return(n=(e=vv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},x4=t=>{const e=v4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},b4=()=>{var t;return(t=vv())==null?void 0:t.config},w4=t=>{var e;return(e=vv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qg(JSON.stringify(n)),Qg(JSON.stringify(l)),""].join(".")}const Qf={};function m7(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qf))Qf[e]?t.emulator.push(e):t.prod.push(e);return t}function p7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let BC=!1;function zE(t,e){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||Qf[t]===e||Qf[t]||BC)return;Qf[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=m7().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{BC=!0,l()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=p7(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),C=n("preprendIcon"),U=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const R=x.element;d(R),p(S,A);const T=h();f(U,C),R.append(U,E,S,T),document.body.appendChild(R)}s?(E.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}function y7(){var e;const t=(e=vv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w7(){const t=cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _7(){return!y7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E7(){try{return typeof indexedDB=="object"}catch{return!1}}function A7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="FirebaseError";class Ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S7,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vh.prototype.create)}}class Vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?j7(s,r):"Error",d=`${this.serviceName}: ${l} (${a}).`;return new Ki(a,d,r)}}function j7(t,e){return t.replace(N7,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const N7=/\{\$([^}]+)}/g;function T7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],l=e[a];if(FC(s)&&FC(l)){if(!nc(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function FC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function $f(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function C7(t,e){const n=new I7(t,e);return n.subscribe.bind(n)}class I7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");O7(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Jb),a.error===void 0&&(a.error=Jb),a.complete===void 0&&(a.complete=Jb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new h7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R7(e))try{this.getOrInitializeService({instanceIdentifier:$l})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=$l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$l){return this.instances.has(e)}getOptions(e=$l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$l){return this.component?this.component.multipleInstances?e:$l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function P7(t){return t===$l?void 0:t}function R7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const M7={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},L7=Je.INFO,U7={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},z7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=U7[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class VE{constructor(e){this.name=e,this._logLevel=L7,this._logHandler=z7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const V7=(t,e)=>e.some(n=>t instanceof n);let qC,HC;function $7(){return qC||(qC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B7(){return HC||(HC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E4=new WeakMap,t_=new WeakMap,A4=new WeakMap,ew=new WeakMap,$E=new WeakMap;function F7(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n($o(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&E4.set(n,t)}).catch(()=>{}),$E.set(e,t),e}function q7(t){if(t_.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});t_.set(t,e)}let n_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H7(t){n_=t(n_)}function G7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tw(this),e,...n);return A4.set(r,e.sort?e.sort():[e]),$o(r)}:B7().includes(t)?function(...e){return t.apply(tw(this),e),$o(E4.get(this))}:function(...e){return $o(t.apply(tw(this),e))}}function K7(t){return typeof t=="function"?G7(t):(t instanceof IDBTransaction&&q7(t),V7(t,$7())?new Proxy(t,n_):t)}function $o(t){if(t instanceof IDBRequest)return F7(t);if(ew.has(t))return ew.get(t);const e=K7(t);return e!==t&&(ew.set(t,e),$E.set(e,t)),e}const tw=t=>$E.get(t);function W7(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(t,e),d=$o(l);return r&&l.addEventListener("upgradeneeded",f=>{r($o(l.result),f.oldVersion,f.newVersion,$o(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const Y7=["get","getKey","getAll","getAllKeys","count"],Q7=["put","add","delete","clear"],nw=new Map;function GC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nw.get(e))return nw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Q7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Y7.includes(n)))return;const s=async function(l,...d){const f=this.transaction(l,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return nw.set(e,s),s}H7(t=>({...t,get:(e,n,r)=>GC(e,n)||t.get(e,n,r),has:(e,n)=>!!GC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r_="@firebase/app",KC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new VE("@firebase/app"),J7="@firebase/app-compat",eB="@firebase/analytics-compat",tB="@firebase/analytics",nB="@firebase/app-check-compat",rB="@firebase/app-check",aB="@firebase/auth",iB="@firebase/auth-compat",sB="@firebase/database",oB="@firebase/data-connect",lB="@firebase/database-compat",cB="@firebase/functions",uB="@firebase/functions-compat",dB="@firebase/installations",fB="@firebase/installations-compat",hB="@firebase/messaging",mB="@firebase/messaging-compat",pB="@firebase/performance",gB="@firebase/performance-compat",yB="@firebase/remote-config",vB="@firebase/remote-config-compat",xB="@firebase/storage",bB="@firebase/storage-compat",wB="@firebase/firestore",_B="@firebase/ai",EB="@firebase/firestore-compat",AB="firebase",SB="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="[DEFAULT]",jB={[r_]:"fire-core",[J7]:"fire-core-compat",[tB]:"fire-analytics",[eB]:"fire-analytics-compat",[rB]:"fire-app-check",[nB]:"fire-app-check-compat",[aB]:"fire-auth",[iB]:"fire-auth-compat",[sB]:"fire-rtdb",[oB]:"fire-data-connect",[lB]:"fire-rtdb-compat",[cB]:"fire-fn",[uB]:"fire-fn-compat",[dB]:"fire-iid",[fB]:"fire-iid-compat",[hB]:"fire-fcm",[mB]:"fire-fcm-compat",[pB]:"fire-perf",[gB]:"fire-perf-compat",[yB]:"fire-rc",[vB]:"fire-rc-compat",[xB]:"fire-gcs",[bB]:"fire-gcs-compat",[wB]:"fire-fst",[EB]:"fire-fst-compat",[_B]:"fire-vertex","fire-js":"fire-js",[AB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new Map,NB=new Map,i_=new Map;function WC(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rc(t){const e=t.name;if(i_.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,t);for(const n of Xg.values())WC(n,t);for(const n of NB.values())WC(n,t);return!0}function xv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bo=new Vh("app","Firebase",TB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=SB;function S4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:a_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Bo.create("bad-app-name",{appName:String(a)});if(n||(n=b4()),!n)throw Bo.create("no-options");const s=Xg.get(a);if(s){if(nc(n,s.options)&&nc(r,s.config))return s;throw Bo.create("duplicate-app",{appName:a})}const l=new D7(a);for(const f of i_.values())l.addComponent(f);const d=new CB(n,r,l);return Xg.set(a,d),d}function BE(t=a_){const e=Xg.get(t);if(!e&&t===a_&&b4())return S4();if(!e)throw Bo.create("no-app",{appName:t});return e}function Ci(t,e,n){let r=jB[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(l.join(" "));return}rc(new Go(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB="firebase-heartbeat-database",OB=1,oh="firebase-heartbeat-store";let rw=null;function j4(){return rw||(rw=W7(IB,OB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bo.create("idb-open",{originalErrorMessage:t.message})})),rw}async function kB(t){try{const n=(await j4()).transaction(oh),r=await n.objectStore(oh).get(N4(t));return await n.done,r}catch(e){if(e instanceof Ki)Os.warn(e.message);else{const n=Bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function YC(t,e){try{const r=(await j4()).transaction(oh,"readwrite");await r.objectStore(oh).put(e,N4(t)),await r.done}catch(n){if(n instanceof Ki)Os.warn(n.message);else{const r=Bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function N4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=1024,RB=30;class DB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>RB){const l=UB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QC(),{heartbeatsToSend:r,unsentEntries:a}=MB(this._heartbeatsCache.heartbeats),s=Qg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Os.warn(n),""}}}function QC(){return new Date().toISOString().substring(0,10)}function MB(t,e=PB){const n=[];let r=t.slice();for(const a of t){const s=n.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),XC(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),XC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E7()?A7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function XC(t){return Qg(JSON.stringify({version:2,heartbeats:t})).length}function UB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t){rc(new Go("platform-logger",e=>new X7(e),"PRIVATE")),rc(new Go("heartbeat",e=>new DB(e),"PRIVATE")),Ci(r_,KC,t),Ci(r_,KC,"esm2020"),Ci("fire-js","")}zB("");function T4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VB=T4,C4=new Vh("auth","Firebase",T4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=new VE("@firebase/auth");function $B(t,...e){Zg.logLevel<=Je.WARN&&Zg.warn(`Auth (${xc}): ${t}`,...e)}function kg(t,...e){Zg.logLevel<=Je.ERROR&&Zg.error(`Auth (${xc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t,...e){throw qE(t,...e)}function Ii(t,...e){return qE(t,...e)}function FE(t,e,n){const r={...VB(),[e]:n};return new Vh("auth","Firebase",r).create(e,{appName:t.name})}function Oi(t){return FE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Na(t,"argument-error"),FE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return C4.create(t,...e)}function De(t,e,...n){if(!t)throw qE(e,...n)}function ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kg(e),new Error(e)}function ks(t,e){t||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function FB(){return ZC()==="http:"||ZC()==="https:"}function ZC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FB()||x7()||"connection"in navigator)?navigator.onLine:!0}function HB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=g7()||b7()}get(){return qB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WB=new Bh(3e4,6e4);function Fs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wi(t,e,n,r,a={}){return O4(t,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const d=$h({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return v7()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&rl(t.emulatorConfig.host)&&(h.credentials="include"),I4.fetch()(await k4(t,t.config.apiHost,n,d),h)})}async function O4(t,e,n){t._canInitEmulator=!1;const r={...GB,...e};try{const a=new QB(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw ag(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const d=s.ok?l.errorMessage:l.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ag(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw ag(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw ag(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw FE(t,p,h);Na(t,p)}}catch(a){if(a instanceof Ki)throw a;Na(t,"network-request-failed",{message:String(a)})}}async function Fh(t,e,n,r,a={}){const s=await Wi(t,e,n,r,a);return"mfaPendingCredential"in s&&Na(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function k4(t,e,n,r){const a=`${e}${n}?${r}`,s=t,l=s.config.emulator?HE(t.config,a):`${t.config.apiScheme}://${a}`;return KB.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function YB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),WB.get())})}}function ag(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ii(t,e,r);return a.customData._tokenResponse=n,a}function JC(t){return t!==void 0&&t.enterprise!==void 0}class XB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZB(t,e){return Wi(t,"GET","/v2/recaptchaConfig",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JB(t,e){return Wi(t,"POST","/v1/accounts:delete",e)}async function Jg(t,e){return Wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eF(t,e=!1){const n=jt(t),r=await n.getIdToken(e),a=GE(r);De(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:Xf(aw(a.auth_time)),issuedAtTime:Xf(aw(a.iat)),expirationTime:Xf(aw(a.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function aw(t){return Number(t)*1e3}function GE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kg("JWT malformed, contained fewer than 3 sections"),null;try{const a=y4(n);return a?JSON.parse(a):(kg("Failed to decode base64 JWT payload"),null)}catch(a){return kg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function eI(t){const e=GE(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ki&&tF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ey(t){var g;const e=t.auth,n=await t.getIdToken(),r=await zu(t,Jg(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?P4(a.providerUserInfo):[],l=aF(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new o_(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function rF(t){const e=jt(t);await ey(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aF(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function P4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){const n=await O4(t,{},async()=>{const r=$h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,l=await k4(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&rl(t.emulatorConfig.host)&&(f.credentials="include"),I4.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sF(t,e){return Wi(t,"POST","/v2/accounts:revokeToken",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=eI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await iF(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,l=new Ou;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(De(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(De(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ou,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wa{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new nF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new o_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await zu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eF(this,e)}reload(){return rF(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ey(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await zu(this,JB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:w,providerData:E,stsTokenManager:A}=n;De(g&&A,e,"internal-error");const S=Ou.fromJSON(this.name,A);De(typeof g=="string",e,"internal-error"),ko(r,e.name),ko(a,e.name),De(typeof x=="boolean",e,"internal-error"),De(typeof w=="boolean",e,"internal-error"),ko(s,e.name),ko(l,e.name),ko(d,e.name),ko(f,e.name),ko(h,e.name),ko(p,e.name);const C=new Wa({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:d,stsTokenManager:S,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(C.providerData=E.map(U=>({...U}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ou;a.updateFromServerResponse(n);const s=new Wa({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await ey(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];De(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?P4(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new Ou;d.updateFromIdToken(r);const f=new Wa({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:l}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new o_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Map;function _s(t){ks(t instanceof Function,"Expected a class definition");let e=tI.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}R4.type="NONE";const nI=R4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e,n){return`firebase:${t}:${e}:${n}`}class ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=Pg(this.userKey,a.apiKey,s),this.fullPersistenceKey=Pg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jg(this.auth,{idToken:e}).catch(()=>{});return n?Wa._fromGetAccountInfoResponse(this.auth,n,e):null}return Wa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ku(_s(nI),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||_s(nI);const l=Pg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const x=await Jg(e,{idToken:p}).catch(()=>{});if(!x)break;g=await Wa._fromGetAccountInfoResponse(e,x,p)}else g=Wa._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new ku(s,e,r):(s=f[0],d&&await s._set(l,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new ku(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V4(e))return"Blackberry";if($4(e))return"Webos";if(M4(e))return"Safari";if((e.includes("chrome/")||L4(e))&&!e.includes("edge/"))return"Chrome";if(z4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function D4(t=cr()){return/firefox\//i.test(t)}function M4(t=cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L4(t=cr()){return/crios\//i.test(t)}function U4(t=cr()){return/iemobile/i.test(t)}function z4(t=cr()){return/android/i.test(t)}function V4(t=cr()){return/blackberry/i.test(t)}function $4(t=cr()){return/webos/i.test(t)}function KE(t=cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oF(t=cr()){var e;return KE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function lF(){return w7()&&document.documentMode===10}function B4(t=cr()){return KE(t)||z4(t)||$4(t)||V4(t)||/windows phone/i.test(t)||U4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t,e=[]){let n;switch(t){case"Browser":n=rI(cr());break;case"Worker":n=`${rI(cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,d)=>{try{const f=e(s);l(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e={}){return Wi(t,"GET","/v2/passwordPolicy",Fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=6;class fF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aI(this),this.idTokenSubscription=new aI(this),this.beforeStateQueue=new cF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jg(this,{idToken:e}),r=await Wa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Pr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===d)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ey(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(Oi(this));const n=e?jt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uF(this),n=new fF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&$B(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qs(t){return jt(t)}class aI{constructor(e){this.auth=e,this.observer=null,this.addObserver=C7(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mF(t){bv=t}function q4(t){return bv.loadJS(t)}function pF(){return bv.recaptchaEnterpriseScript}function gF(){return bv.gapiScript}function yF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class vF{constructor(){this.enterprise=new xF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bF="recaptcha-enterprise",H4="NO_RECAPTCHA";class wF{constructor(e){this.type=bF,this.auth=qs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,d)=>{ZB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new XB(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(f=>{d(f)})})}function a(s,l,d){const f=window.grecaptcha;JC(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(H4)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vF().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(d=>{if(!n&&JC(window.grecaptcha))a(d,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=pF();f.length!==0&&(f+=d),q4(f).then(()=>{a(d,s,l)}).catch(h=>{l(h)})}}).catch(d=>{l(d)})})}}async function iI(t,e,n,r=!1,a=!1){const s=new wF(t);let l;if(a)l=H4;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function l_(t,e,n,r,a){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await iI(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await iI(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t,e){const n=xv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(nc(s,e??{}))return a;Na(a,"already-initialized")}return n.initialize({options:e})}function EF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AF(t,e,n){const r=qs(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=G4(e),{host:l,port:d}=SF(e),f=d===null?"":`:${d}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(nc(h,r.config.emulator)&&nc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,rl(l)?(UE(`${s}//${l}${f}`),zE("Auth",!0)):jF()}function G4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SF(t){const e=G4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:sI(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:sI(l)}}}function sI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,n){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function NF(t,e){return Wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,e){return Fh(t,"POST","/v1/accounts:signInWithPassword",Fs(t,e))}async function CF(t,e){return Wi(t,"POST","/v1/accounts:sendOobCode",Fs(t,e))}async function IF(t,e){return CF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}async function kF(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends WE{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new lh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l_(e,n,"signInWithPassword",TF);case"emailLink":return OF(e,{email:this._email,oobCode:this._password});default:Na(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l_(e,r,"signUpPassword",NF);case"emailLink":return kF(e,{idToken:n,email:this._email,oobCode:this._password});default:Na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return Fh(t,"POST","/v1/accounts:signInWithIdp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="http://localhost";class ac extends WE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ac(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Na("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const l=new ac(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:PF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$h(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DF(t){const e=Vf($f(t)).link,n=e?Vf($f(e)).deep_link_id:null,r=Vf($f(t)).deep_link_id;return(r?Vf($f(r)).link:null)||r||n||e||t}class YE{constructor(e){const n=Vf($f(e)),r=n.apiKey??null,a=n.oobCode??null,s=RF(n.mode??null);De(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=DF(e);try{return new YE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.providerId=id.PROVIDER_ID}static credential(e,n){return lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=YE.parseLink(n);return De(r,"argument-error"),lh._fromEmailAndCode(e,r.code,r.tenantId)}}id.PROVIDER_ID="password";id.EMAIL_PASSWORD_SIGN_IN_METHOD="password";id.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends qh{constructor(){super("facebook.com")}static credential(e){return ac._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.FACEBOOK_SIGN_IN_METHOD="facebook.com";Do.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ac._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vs.credential(n,r)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends qh{constructor(){super("github.com")}static credential(e){return ac._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends qh{constructor(){super("twitter.com")}static credential(e,n){return ac._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.TWITTER_SIGN_IN_METHOD="twitter.com";Lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e){return Fh(t,"POST","/v1/accounts:signUp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await Wa._fromIdTokenResponse(e,r,a),l=oI(r);return new ic({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=oI(r);return new ic({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function oI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Ki{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,ty.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new ty(e,n,r,a)}}function K4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ty._fromErrorAndOperation(t,s,e,r):s})}async function LF(t,e,n=!1){const r=await zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ic._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(t,e,n=!1){const{auth:r}=t;if(Pr(r.app))return Promise.reject(Oi(r));const a="reauthenticate";try{const s=await zu(t,K4(r,a,e,t),n);De(s.idToken,r,"internal-error");const l=GE(s.idToken);De(l,r,"internal-error");const{sub:d}=l;return De(t.uid===d,r,"user-mismatch"),ic._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Na(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,e,n=!1){if(Pr(t.app))return Promise.reject(Oi(t));const r="signIn",a=await K4(t,r,e),s=await ic._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}async function zF(t,e){return W4(qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t){const e=qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VF(t,e,n){if(Pr(t.app))return Promise.reject(Oi(t));const r=qs(t),l=await l_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MF).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Y4(t),f}),d=await ic._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function $F(t,e,n){return Pr(t.app)?Promise.reject(Oi(t)):zF(jt(t),id.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y4(t),r})}async function BF(t,e){const n=jt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await IF(n.auth,a);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t,e){return Wi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=jt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await zu(r,FF(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function qF(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function HF(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function Hh(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function GF(t){return jt(t).signOut()}const ny="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ny,"1"),this.storage.removeItem(ny),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=1e3,WF=10;class Z4 extends X4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);lF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,WF):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z4.type="LOCAL";const YF=Z4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4 extends X4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J4.type="SESSION";const eM=J4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new wv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,l=this.handlersMap[a];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(l).map(async h=>h(n.origin,s)),f=await QF(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((d,f)=>{const h=XE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(x.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function ZF(t){ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function JF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function tq(){return tM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="firebaseLocalStorageDb",nq=1,ry="firebaseLocalStorage",rM="fbase_key";class Gh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _v(t,e){return t.transaction([ry],e?"readwrite":"readonly").objectStore(ry)}function rq(){const t=indexedDB.deleteDatabase(nM);return new Gh(t).toPromise()}function c_(){const t=indexedDB.open(nM,nq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ry,{keyPath:rM})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ry)?e(r):(r.close(),await rq(),e(await c_()))})})}async function lI(t,e,n){const r=_v(t,!0).put({[rM]:e,value:n});return new Gh(r).toPromise()}async function aq(t,e){const n=_v(t,!1).get(e),r=await new Gh(n).toPromise();return r===void 0?null:r.value}function cI(t,e){const n=_v(t,!0).delete(e);return new Gh(n).toPromise()}const iq=800,sq=3;class aM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wv._getInstance(tq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await JF(),!this.activeServiceWorker)return;this.sender=new XF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c_();return await lI(e,ny,"1"),await cI(e,ny),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=_v(a,!1).getAll();return new Gh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aM.type="LOCAL";const oq=aM;new Bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e){return e?_s(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends WE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lq(t){return W4(t.auth,new ZE(t),t.bypassAuthState)}function cq(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),UF(n,new ZE(t),t.bypassAuthState)}async function uq(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),LF(n,new ZE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lq;case"linkViaPopup":case"linkViaRedirect":return uq;case"reauthViaPopup":case"reauthViaRedirect":return cq;default:Na(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=new Bh(2e3,1e4);class Su extends sM{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,Su.currentPopupAction&&Su.currentPopupAction.cancel(),Su.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=XE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Su.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dq.get())};e()}}Su.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="pendingRedirect",Rg=new Map;class hq extends sM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rg.get(this.auth._key());if(!e){try{const r=await mq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rg.set(this.auth._key(),e)}return this.bypassAuthState||Rg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mq(t,e){const n=lM(e),r=oM(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}async function pq(t,e){return oM(t)._set(lM(e),"true")}function gq(t,e){Rg.set(t._key(),e)}function oM(t){return _s(t._redirectPersistence)}function lM(t){return Pg(fq,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t,e,n){return vq(t,e,n)}async function vq(t,e,n){if(Pr(t.app))return Promise.reject(Oi(t));const r=qs(t);BB(t,e,QE),await r._initializationPromise;const a=iM(r,n);return await pq(a,r),a._openRedirect(r,e,"signInViaRedirect")}async function xq(t,e){return await qs(t)._initializationPromise,cM(t,e,!1)}async function cM(t,e,n=!1){if(Pr(t.app))return Promise.reject(Oi(t));const r=qs(t),a=iM(r,e),l=await new hq(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=600*1e3;class wq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_q(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uM(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bq&&this.cachedEventUids.clear(),this.cachedEventUids.has(uI(e))}saveEventToCache(e){this.cachedEventUids.add(uI(e)),this.lastProcessedEventTime=Date.now()}}function uI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _q(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(t,e={}){return Wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sq=/^https?/;async function jq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Eq(t);for(const n of e)try{if(Nq(n))return}catch{}Na(t,"unauthorized-domain")}function Nq(t){const e=s_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Sq.test(n))return!1;if(Aq.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=new Bh(3e4,6e4);function dI(){const t=ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cq(t){return new Promise((e,n)=>{var a,s,l;function r(){dI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dI(),n(Ii(t,"network-request-failed"))},timeout:Tq.get()})}if((s=(a=ki().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=ki().gapi)!=null&&l.load)r();else{const d=yF("iframefcb");return ki()[d]=()=>{gapi.load?r():n(Ii(t,"network-request-failed"))},q4(`${gF()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Dg=null,e})}let Dg=null;function Iq(t){return Dg=Dg||Cq(t),Dg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq=new Bh(5e3,15e3),kq="__/auth/iframe",Pq="emulator/auth/iframe",Rq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mq(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?HE(e,Pq):`https://${t.config.authDomain}/${kq}`,r={apiKey:e.apiKey,appName:t.name,v:xc},a=Dq.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$h(r).slice(1)}`}async function Lq(t){const e=await Iq(t),n=ki().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:Mq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rq,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=Ii(t,"network-request-failed"),d=ki().setTimeout(()=>{s(l)},Oq.get());function f(){ki().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zq=500,Vq=600,$q="_blank",Bq="http://localhost";class fI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fq(t,e,n,r=zq,a=Vq){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...Uq,width:r.toString(),height:a.toString(),top:s,left:l},h=cr().toLowerCase();n&&(d=L4(h)?$q:n),D4(h)&&(e=e||Bq,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[w,E])=>`${x}${w}=${E},`,"");if(oF(h)&&d!=="_self")return qq(e||"",d),new fI(null);const g=window.open(e||"",d,p);De(g,t,"popup-blocked");try{g.focus()}catch{}return new fI(g)}function qq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq="__/auth/handler",Gq="emulator/auth/handler",Kq=encodeURIComponent("fac");async function hI(t,e,n,r,a,s){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xc,eventId:a};if(e instanceof QE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",T7(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof qh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${Kq}=${encodeURIComponent(f)}`:"";return`${Wq(t)}?${$h(d).slice(1)}${h}`}function Wq({config:t}){return t.emulator?HE(t,Gq):`https://${t.authDomain}/${Hq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="webStorageSupport";class Yq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eM,this._completeRedirectFn=cM,this._overrideRedirectResult=gq}async _openPopup(e,n,r,a){var l;ks((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await hI(e,n,r,s_(),a);return Fq(e,s,XE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await hI(e,n,r,s_(),a);return ZF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Lq(e),r=new wq(e);return n.register("authEvent",a=>(De(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iw,{type:iw},a=>{var l;const s=(l=a==null?void 0:a[0])==null?void 0:l[iw];s!==void 0&&n(!!s),Na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B4()||M4()||KE()}}const Qq=Yq;var mI="@firebase/auth",pI="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jq(t){rc(new Go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F4(t)},h=new hF(r,a,s,f);return EF(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rc(new Go("auth-internal",e=>{const n=qs(e.getProvider("auth").getImmediate());return(r=>new Xq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(mI,pI,Zq(t)),Ci(mI,pI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=300,tH=w4("authIdTokenMaxAge")||eH;let gI=null;const nH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tH)return;const a=n==null?void 0:n.token;gI!==a&&(gI=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function JE(t=BE()){const e=xv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_F(t,{popupRedirectResolver:Qq,persistence:[oq,YF,eM]}),r=w4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=nH(s.toString());HF(n,l,()=>l(n.currentUser)),qF(n,d=>l(d))}}const a=v4("auth");return a&&AF(n,`http://${a}`),n}function rH(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}mF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=Ii("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",rH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jq("Browser");var aH="firebase",iH="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(aH,iH,"app");var yI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fo,dM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,k){function N(){}N.prototype=k.prototype,I.F=k.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(P,L,z){for(var $=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)$[ne-2]=arguments[ne];return k.prototype[L].apply(P,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,k,N){N||(N=0);const P=Array(16);if(typeof k=="string")for(var L=0;L<16;++L)P[L]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(L=0;L<16;++L)P[L]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=I.g[0],N=I.g[1],L=I.g[2];let z=I.g[3],$;$=k+(z^N&(L^z))+P[0]+3614090360&4294967295,k=N+($<<7&4294967295|$>>>25),$=z+(L^k&(N^L))+P[1]+3905402710&4294967295,z=k+($<<12&4294967295|$>>>20),$=L+(N^z&(k^N))+P[2]+606105819&4294967295,L=z+($<<17&4294967295|$>>>15),$=N+(k^L&(z^k))+P[3]+3250441966&4294967295,N=L+($<<22&4294967295|$>>>10),$=k+(z^N&(L^z))+P[4]+4118548399&4294967295,k=N+($<<7&4294967295|$>>>25),$=z+(L^k&(N^L))+P[5]+1200080426&4294967295,z=k+($<<12&4294967295|$>>>20),$=L+(N^z&(k^N))+P[6]+2821735955&4294967295,L=z+($<<17&4294967295|$>>>15),$=N+(k^L&(z^k))+P[7]+4249261313&4294967295,N=L+($<<22&4294967295|$>>>10),$=k+(z^N&(L^z))+P[8]+1770035416&4294967295,k=N+($<<7&4294967295|$>>>25),$=z+(L^k&(N^L))+P[9]+2336552879&4294967295,z=k+($<<12&4294967295|$>>>20),$=L+(N^z&(k^N))+P[10]+4294925233&4294967295,L=z+($<<17&4294967295|$>>>15),$=N+(k^L&(z^k))+P[11]+2304563134&4294967295,N=L+($<<22&4294967295|$>>>10),$=k+(z^N&(L^z))+P[12]+1804603682&4294967295,k=N+($<<7&4294967295|$>>>25),$=z+(L^k&(N^L))+P[13]+4254626195&4294967295,z=k+($<<12&4294967295|$>>>20),$=L+(N^z&(k^N))+P[14]+2792965006&4294967295,L=z+($<<17&4294967295|$>>>15),$=N+(k^L&(z^k))+P[15]+1236535329&4294967295,N=L+($<<22&4294967295|$>>>10),$=k+(L^z&(N^L))+P[1]+4129170786&4294967295,k=N+($<<5&4294967295|$>>>27),$=z+(N^L&(k^N))+P[6]+3225465664&4294967295,z=k+($<<9&4294967295|$>>>23),$=L+(k^N&(z^k))+P[11]+643717713&4294967295,L=z+($<<14&4294967295|$>>>18),$=N+(z^k&(L^z))+P[0]+3921069994&4294967295,N=L+($<<20&4294967295|$>>>12),$=k+(L^z&(N^L))+P[5]+3593408605&4294967295,k=N+($<<5&4294967295|$>>>27),$=z+(N^L&(k^N))+P[10]+38016083&4294967295,z=k+($<<9&4294967295|$>>>23),$=L+(k^N&(z^k))+P[15]+3634488961&4294967295,L=z+($<<14&4294967295|$>>>18),$=N+(z^k&(L^z))+P[4]+3889429448&4294967295,N=L+($<<20&4294967295|$>>>12),$=k+(L^z&(N^L))+P[9]+568446438&4294967295,k=N+($<<5&4294967295|$>>>27),$=z+(N^L&(k^N))+P[14]+3275163606&4294967295,z=k+($<<9&4294967295|$>>>23),$=L+(k^N&(z^k))+P[3]+4107603335&4294967295,L=z+($<<14&4294967295|$>>>18),$=N+(z^k&(L^z))+P[8]+1163531501&4294967295,N=L+($<<20&4294967295|$>>>12),$=k+(L^z&(N^L))+P[13]+2850285829&4294967295,k=N+($<<5&4294967295|$>>>27),$=z+(N^L&(k^N))+P[2]+4243563512&4294967295,z=k+($<<9&4294967295|$>>>23),$=L+(k^N&(z^k))+P[7]+1735328473&4294967295,L=z+($<<14&4294967295|$>>>18),$=N+(z^k&(L^z))+P[12]+2368359562&4294967295,N=L+($<<20&4294967295|$>>>12),$=k+(N^L^z)+P[5]+4294588738&4294967295,k=N+($<<4&4294967295|$>>>28),$=z+(k^N^L)+P[8]+2272392833&4294967295,z=k+($<<11&4294967295|$>>>21),$=L+(z^k^N)+P[11]+1839030562&4294967295,L=z+($<<16&4294967295|$>>>16),$=N+(L^z^k)+P[14]+4259657740&4294967295,N=L+($<<23&4294967295|$>>>9),$=k+(N^L^z)+P[1]+2763975236&4294967295,k=N+($<<4&4294967295|$>>>28),$=z+(k^N^L)+P[4]+1272893353&4294967295,z=k+($<<11&4294967295|$>>>21),$=L+(z^k^N)+P[7]+4139469664&4294967295,L=z+($<<16&4294967295|$>>>16),$=N+(L^z^k)+P[10]+3200236656&4294967295,N=L+($<<23&4294967295|$>>>9),$=k+(N^L^z)+P[13]+681279174&4294967295,k=N+($<<4&4294967295|$>>>28),$=z+(k^N^L)+P[0]+3936430074&4294967295,z=k+($<<11&4294967295|$>>>21),$=L+(z^k^N)+P[3]+3572445317&4294967295,L=z+($<<16&4294967295|$>>>16),$=N+(L^z^k)+P[6]+76029189&4294967295,N=L+($<<23&4294967295|$>>>9),$=k+(N^L^z)+P[9]+3654602809&4294967295,k=N+($<<4&4294967295|$>>>28),$=z+(k^N^L)+P[12]+3873151461&4294967295,z=k+($<<11&4294967295|$>>>21),$=L+(z^k^N)+P[15]+530742520&4294967295,L=z+($<<16&4294967295|$>>>16),$=N+(L^z^k)+P[2]+3299628645&4294967295,N=L+($<<23&4294967295|$>>>9),$=k+(L^(N|~z))+P[0]+4096336452&4294967295,k=N+($<<6&4294967295|$>>>26),$=z+(N^(k|~L))+P[7]+1126891415&4294967295,z=k+($<<10&4294967295|$>>>22),$=L+(k^(z|~N))+P[14]+2878612391&4294967295,L=z+($<<15&4294967295|$>>>17),$=N+(z^(L|~k))+P[5]+4237533241&4294967295,N=L+($<<21&4294967295|$>>>11),$=k+(L^(N|~z))+P[12]+1700485571&4294967295,k=N+($<<6&4294967295|$>>>26),$=z+(N^(k|~L))+P[3]+2399980690&4294967295,z=k+($<<10&4294967295|$>>>22),$=L+(k^(z|~N))+P[10]+4293915773&4294967295,L=z+($<<15&4294967295|$>>>17),$=N+(z^(L|~k))+P[1]+2240044497&4294967295,N=L+($<<21&4294967295|$>>>11),$=k+(L^(N|~z))+P[8]+1873313359&4294967295,k=N+($<<6&4294967295|$>>>26),$=z+(N^(k|~L))+P[15]+4264355552&4294967295,z=k+($<<10&4294967295|$>>>22),$=L+(k^(z|~N))+P[6]+2734768916&4294967295,L=z+($<<15&4294967295|$>>>17),$=N+(z^(L|~k))+P[13]+1309151649&4294967295,N=L+($<<21&4294967295|$>>>11),$=k+(L^(N|~z))+P[4]+4149444226&4294967295,k=N+($<<6&4294967295|$>>>26),$=z+(N^(k|~L))+P[11]+3174756917&4294967295,z=k+($<<10&4294967295|$>>>22),$=L+(k^(z|~N))+P[2]+718787259&4294967295,L=z+($<<15&4294967295|$>>>17),$=N+(z^(L|~k))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+k&4294967295,I.g[1]=I.g[1]+(L+($<<21&4294967295|$>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,k){k===void 0&&(k=I.length);const N=k-this.blockSize,P=this.C;let L=this.h,z=0;for(;z<k;){if(L==0)for(;z<=N;)a(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<k;)if(P[L++]=I.charCodeAt(z++),L==this.blockSize){a(this,P),L=0;break}}else for(;z<k;)if(P[L++]=I[z++],L==this.blockSize){a(this,P),L=0;break}}this.h=L,this.o+=k},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var k=1;k<I.length-8;++k)I[k]=0;k=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=k&255,k/=256;for(this.v(I),I=Array(16),k=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)I[k++]=this.g[N]>>>P&255;return I};function s(I,k){var N=d;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=k(I)}function l(I,k){this.h=k;const N=[];let P=!0;for(let L=I.length-1;L>=0;L--){const z=I[L]|0;P&&z==k||(N[L]=z,P=!1)}this.g=N}var d={};function f(I){return-128<=I&&I<128?s(I,function(k){return new l([k|0],k<0?-1:0)}):new l([I|0],I<0?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return g;if(I<0)return S(h(-I));const k=[];let N=1;for(let P=0;I>=N;P++)k[P]=I/N|0,N*=4294967296;return new l(k,0)}function p(I,k){if(I.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(I.charAt(0)=="-")return S(p(I.substring(1),k));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=h(Math.pow(k,8));let P=g;for(let z=0;z<I.length;z+=8){var L=Math.min(8,I.length-z);const $=parseInt(I.substring(z,z+L),k);L<8?(L=h(Math.pow(k,L)),P=P.j(L).add(h($))):(P=P.j(N),P=P.add(h($)))}return P}var g=f(0),x=f(1),w=f(16777216);t=l.prototype,t.m=function(){if(A(this))return-S(this).m();let I=0,k=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);I+=(P>=0?P:4294967296+P)*k,k*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(A(this))return"-"+S(this).toString(I);const k=h(Math.pow(I,6));var N=this;let P="";for(;;){const L=T(N,k).g;N=C(N,L.j(k));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=L,E(N))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(let k=0;k<I.g.length;k++)if(I.g[k]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=C(this,I),A(I)?-1:E(I)?0:1};function S(I){const k=I.g.length,N=[];for(let P=0;P<k;P++)N[P]=~I.g[P];return new l(N,~I.h).add(x)}t.abs=function(){return A(this)?S(this):this},t.add=function(I){const k=Math.max(this.g.length,I.g.length),N=[];let P=0;for(let L=0;L<=k;L++){let z=P+(this.i(L)&65535)+(I.i(L)&65535),$=(z>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);P=$>>>16,z&=65535,$&=65535,N[L]=$<<16|z}return new l(N,N[N.length-1]&-2147483648?-1:0)};function C(I,k){return I.add(S(k))}t.j=function(I){if(E(this)||E(I))return g;if(A(this))return A(I)?S(this).j(S(I)):S(S(this).j(I));if(A(I))return S(this.j(S(I)));if(this.l(w)<0&&I.l(w)<0)return h(this.m()*I.m());const k=this.g.length+I.g.length,N=[];for(var P=0;P<2*k;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<I.g.length;L++){const z=this.i(P)>>>16,$=this.i(P)&65535,ne=I.i(L)>>>16,me=I.i(L)&65535;N[2*P+2*L]+=$*me,U(N,2*P+2*L),N[2*P+2*L+1]+=z*me,U(N,2*P+2*L+1),N[2*P+2*L+1]+=$*ne,U(N,2*P+2*L+1),N[2*P+2*L+2]+=z*ne,U(N,2*P+2*L+2)}for(I=0;I<k;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=k;I<2*k;I++)N[I]=0;return new l(N,0)};function U(I,k){for(;(I[k]&65535)!=I[k];)I[k+1]+=I[k]>>>16,I[k]&=65535,k++}function R(I,k){this.g=I,this.h=k}function T(I,k){if(E(k))throw Error("division by zero");if(E(I))return new R(g,g);if(A(I))return k=T(S(I),k),new R(S(k.g),S(k.h));if(A(k))return k=T(I,S(k)),new R(S(k.g),k.h);if(I.g.length>30){if(A(I)||A(k))throw Error("slowDivide_ only works with positive integers.");for(var N=x,P=k;P.l(I)<=0;)N=M(N),P=M(P);var L=V(N,1),z=V(P,1);for(P=V(P,2),N=V(N,2);!E(P);){var $=z.add(P);$.l(I)<=0&&(L=L.add(N),z=$),P=V(P,1),N=V(N,1)}return k=C(I,L.j(k)),new R(L,k)}for(L=g;I.l(k)>=0;){for(N=Math.max(1,Math.floor(I.m()/k.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=h(N),$=z.j(k);A($)||$.l(I)>0;)N-=P,z=h(N),$=z.j(k);E(z)&&(z=x),L=L.add(z),I=C(I,$)}return new R(L,I)}t.B=function(I){return T(this,I).h},t.and=function(I){const k=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<k;P++)N[P]=this.i(P)&I.i(P);return new l(N,this.h&I.h)},t.or=function(I){const k=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<k;P++)N[P]=this.i(P)|I.i(P);return new l(N,this.h|I.h)},t.xor=function(I){const k=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<k;P++)N[P]=this.i(P)^I.i(P);return new l(N,this.h^I.h)};function M(I){const k=I.g.length+1,N=[];for(let P=0;P<k;P++)N[P]=I.i(P)<<1|I.i(P-1)>>>31;return new l(N,I.h)}function V(I,k){const N=k>>5;k%=32;const P=I.g.length-N,L=[];for(let z=0;z<P;z++)L[z]=k>0?I.i(z+N)>>>k|I.i(z+N+1)<<32-k:I.i(z+N);return new l(L,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Fo=l}).apply(typeof yI<"u"?yI:typeof self<"u"?self:typeof window<"u"?window:{});var ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fM,Bf,hM,Mg,u_,mM,pM,gM;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof ig=="object"&&ig];for(var j=0;j<y.length;++j){var D=y[j];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function a(y,j){if(j)e:{var D=r;y=y.split(".");for(var F=0;F<y.length-1;F++){var X=y[F];if(!(X in D))break e;D=D[X]}y=y[y.length-1],F=D[y],j=j(F),j!=F&&j!=null&&e(D,y,{configurable:!0,writable:!0,value:j})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(j){var D=[],F;for(F in j)Object.prototype.hasOwnProperty.call(j,F)&&D.push([F,j[F]]);return D}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function d(y){var j=typeof y;return j=="object"&&y!=null||j=="function"}function f(y,j,D){return y.call.apply(y.bind,arguments)}function h(y,j,D){return h=f,h.apply(null,arguments)}function p(y,j){var D=Array.prototype.slice.call(arguments,1);return function(){var F=D.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function g(y,j){function D(){}D.prototype=j.prototype,y.Z=j.prototype,y.prototype=new D,y.prototype.constructor=y,y.Ob=function(F,X,ie){for(var ve=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ve[$e-2]=arguments[$e];return j.prototype[X].apply(F,ve)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const j=y.length;if(j>0){const D=Array(j);for(let F=0;F<j;F++)D[F]=y[F];return D}return[]}function E(y,j){for(let F=1;F<arguments.length;F++){const X=arguments[F];var D=typeof X;if(D=D!="object"?D:X?Array.isArray(X)?"array":D:"null",D=="array"||D=="object"&&typeof X.length=="number"){D=y.length||0;const ie=X.length||0;y.length=D+ie;for(let ve=0;ve<ie;ve++)y[D+ve]=X[ve]}else y.push(X)}}class A{constructor(j,D){this.i=j,this.j=D,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function S(y){l.setTimeout(()=>{throw y},0)}function C(){var y=I;let j=null;return y.g&&(j=y.g,y.g=y.g.next,y.g||(y.h=null),j.next=null),j}class U{constructor(){this.h=this.g=null}add(j,D){const F=R.get();F.set(j,D),this.h?this.h.next=F:this.g=F,this.h=F}}var R=new A(()=>new T,y=>y.reset());class T{constructor(){this.next=this.g=this.h=null}set(j,D){this.h=j,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let M,V=!1,I=new U,k=()=>{const y=Promise.resolve(void 0);M=()=>{y.then(N)}};function N(){for(var y;y=C();){try{y.h.call(y.g)}catch(D){S(D)}var j=R;j.j(y),j.h<100&&(j.h++,y.next=j.g,j.g=y)}V=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(y,j){this.type=y,this.g=this.target=j,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,j=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const D=()=>{};l.addEventListener("test",D,j),l.removeEventListener("test",D,j)}catch{}return y})();function $(y){return/^[\s\xa0]*$/.test(y)}function ne(y,j){L.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,j)}g(ne,L),ne.prototype.init=function(y,j){const D=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=j,j=y.relatedTarget,j||(D=="mouseover"?j=y.fromElement:D=="mouseout"&&(j=y.toElement)),this.relatedTarget=j,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(y,j,D,F,X){this.listener=y,this.proxy=null,this.src=j,this.type=D,this.capture=!!F,this.ha=X,this.key=++Y,this.da=this.fa=!1}function H(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function K(y,j,D){for(const F in y)j.call(D,y[F],F,y)}function ae(y,j){for(const D in y)j.call(void 0,y[D],D,y)}function q(y){const j={};for(const D in y)j[D]=y[D];return j}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(y,j){let D,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(D in F)y[D]=F[D];for(let ie=0;ie<re.length;ie++)D=re[ie],Object.prototype.hasOwnProperty.call(F,D)&&(y[D]=F[D])}}function ye(y){this.src=y,this.g={},this.h=0}ye.prototype.add=function(y,j,D,F,X){const ie=y.toString();y=this.g[ie],y||(y=this.g[ie]=[],this.h++);const ve=ke(y,j,F,X);return ve>-1?(j=y[ve],D||(j.fa=!1)):(j=new oe(j,this.src,ie,!!F,X),j.fa=D,y.push(j)),j};function Ce(y,j){const D=j.type;if(D in y.g){var F=y.g[D],X=Array.prototype.indexOf.call(F,j,void 0),ie;(ie=X>=0)&&Array.prototype.splice.call(F,X,1),ie&&(H(j),y.g[D].length==0&&(delete y.g[D],y.h--))}}function ke(y,j,D,F){for(let X=0;X<y.length;++X){const ie=y[X];if(!ie.da&&ie.listener==j&&ie.capture==!!D&&ie.ha==F)return X}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Nt={};function ce(y,j,D,F,X){if(Array.isArray(j)){for(let ie=0;ie<j.length;ie++)ce(y,j[ie],D,F,X);return null}return D=Xs(D),y&&y[me]?y.J(j,D,d(F)?!!F.capture:!1,X):Ue(y,j,D,!1,F,X)}function Ue(y,j,D,F,X,ie){if(!j)throw Error("Invalid event type");const ve=d(X)?!!X.capture:!!X;let $e=Zt(y);if($e||(y[Pe]=$e=new ye(y)),D=$e.add(j,D,F,ve,ie),D.proxy)return D;if(F=He(),D.proxy=F,F.src=y,F.listener=D,y.addEventListener)z||(X=ve),X===void 0&&(X=!1),y.addEventListener(j.toString(),F,X);else if(y.attachEvent)y.attachEvent(Ke(j.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return D}function He(){function y(D){return j.call(y.src,y.listener,D)}const j=Sn;return y}function ge(y,j,D,F,X){if(Array.isArray(j))for(var ie=0;ie<j.length;ie++)ge(y,j[ie],D,F,X);else F=d(F)?!!F.capture:!!F,D=Xs(D),y&&y[me]?(y=y.i,ie=String(j).toString(),ie in y.g&&(j=y.g[ie],D=ke(j,D,F,X),D>-1&&(H(j[D]),Array.prototype.splice.call(j,D,1),j.length==0&&(delete y.g[ie],y.h--)))):y&&(y=Zt(y))&&(j=y.g[j.toString()],y=-1,j&&(y=ke(j,D,F,X)),(D=y>-1?j[y]:null)&&Xt(D))}function Xt(y){if(typeof y!="number"&&y&&!y.da){var j=y.src;if(j&&j[me])Ce(j.i,y);else{var D=y.type,F=y.proxy;j.removeEventListener?j.removeEventListener(D,F,y.capture):j.detachEvent?j.detachEvent(Ke(D),F):j.addListener&&j.removeListener&&j.removeListener(F),(D=Zt(j))?(Ce(D,y),D.h==0&&(D.src=null,j[Pe]=null)):H(y)}}}function Ke(y){return y in Nt?Nt[y]:Nt[y]="on"+y}function Sn(y,j){if(y.da)y=!0;else{j=new ne(j,this);const D=y.listener,F=y.ha||y.src;y.fa&&Xt(y),y=D.call(F,j)}return y}function Zt(y){return y=y[Pe],y instanceof ye?y:null}var Ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xs(y){return typeof y=="function"?y:(y[Ur]||(y[Ur]=function(j){return y.handleEvent(j)}),y[Ur])}function ln(){P.call(this),this.i=new ye(this),this.M=this,this.G=null}g(ln,P),ln.prototype[me]=!0,ln.prototype.removeEventListener=function(y,j,D,F){ge(this,y,j,D,F)};function jn(y,j){var D,F=y.G;if(F)for(D=[];F;F=F.G)D.push(F);if(y=y.M,F=j.type||j,typeof j=="string")j=new L(j,y);else if(j instanceof L)j.target=j.target||y;else{var X=j;j=new L(F,y),pe(j,X)}X=!0;let ie,ve;if(D)for(ve=D.length-1;ve>=0;ve--)ie=j.g=D[ve],X=Zs(ie,F,!0,j)&&X;if(ie=j.g=y,X=Zs(ie,F,!0,j)&&X,X=Zs(ie,F,!1,j)&&X,D)for(ve=0;ve<D.length;ve++)ie=j.g=D[ve],X=Zs(ie,F,!1,j)&&X}ln.prototype.N=function(){if(ln.Z.N.call(this),this.i){var y=this.i;for(const j in y.g){const D=y.g[j];for(let F=0;F<D.length;F++)H(D[F]);delete y.g[j],y.h--}}this.G=null},ln.prototype.J=function(y,j,D,F){return this.i.add(String(y),j,!1,D,F)},ln.prototype.K=function(y,j,D,F){return this.i.add(String(y),j,!0,D,F)};function Zs(y,j,D,F){if(j=y.i.g[String(j)],!j)return!0;j=j.concat();let X=!0;for(let ie=0;ie<j.length;++ie){const ve=j[ie];if(ve&&!ve.da&&ve.capture==D){const $e=ve.listener,en=ve.ha||ve.src;ve.fa&&Ce(y.i,ve),X=$e.call(en,F)!==!1&&X}}return X&&!F.defaultPrevented}function H0(y,j){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:l.setTimeout(y,j||0)}function Tm(y){y.g=H0(()=>{y.g=null,y.i&&(y.i=!1,Tm(y))},y.l);const j=y.h;y.h=null,y.m.apply(null,j)}class dr extends P{constructor(j,D){super(),this.m=j,this.l=D,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Tm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fl(y){P.call(this),this.h=y,this.g={}}g(fl,P);var Sd=[];function jd(y){K(y.g,function(j,D){this.g.hasOwnProperty(D)&&Xt(j)},y),y.g={}}fl.prototype.N=function(){fl.Z.N.call(this),jd(this)},fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=l.JSON.stringify,G0=l.JSON.parse,Cm=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function Im(){}function Om(){}var Pa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hn(){L.call(this,"d")}g(Hn,L);function aa(){L.call(this,"c")}g(aa,L);var Jt={},km=null;function Nc(){return km=km||new ln}Jt.Ia="serverreachability";function Pm(y){L.call(this,Jt.Ia,y)}g(Pm,L);function ai(y){const j=Nc();jn(j,new Pm(j))}Jt.STAT_EVENT="statevent";function hl(y,j){L.call(this,Jt.STAT_EVENT,y),this.stat=j}g(hl,L);function cn(y){const j=Nc();jn(j,new hl(j,y))}Jt.Ja="timingevent";function ii(y,j){L.call(this,Jt.Ja,y),this.size=j}g(ii,L);function si(y,j){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},j)}function Ra(){this.g=!0}Ra.prototype.ua=function(){this.g=!1};function K0(y,j,D,F,X,ie){y.info(function(){if(y.g)if(ie){var ve="",$e=ie.split("&");for(let ut=0;ut<$e.length;ut++){var en=$e[ut].split("=");if(en.length>1){const Dt=en[0];en=en[1];const la=Dt.split("_");ve=la.length>=2&&la[1]=="type"?ve+(Dt+"="+en+"&"):ve+(Dt+"=redacted&")}}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+j+`
`+D+`
`+ve})}function Rm(y,j,D,F,X,ie,ve){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+j+`
`+D+`
`+ie+" "+ve})}function oi(y,j,D,F){y.info(function(){return"XMLHTTP TEXT ("+j+"): "+W0(y,D)+(F?" "+F:"")})}function ml(y,j){y.info(function(){return"TIMEOUT: "+j})}Ra.prototype.info=function(){};function W0(y,j){if(!y.g)return j;if(!j)return null;try{const ie=JSON.parse(j);if(ie){for(y=0;y<ie.length;y++)if(Array.isArray(ie[y])){var D=ie[y];if(!(D.length<2)){var F=D[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<F.length;ve++)F[ve]=""}}}}return Js(ie)}catch{return j}}var pl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Td;function gl(){}g(gl,Im),gl.prototype.g=function(){return new XMLHttpRequest},Td=new gl;function Zi(y){return encodeURIComponent(String(y))}function Dm(y){var j=1;y=y.split(":");const D=[];for(;j>0&&y.length;)D.push(y.shift()),j--;return y.length&&D.push(y.join(":")),D}function Da(y,j,D,F){this.j=y,this.i=j,this.l=D,this.S=F||1,this.V=new fl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ma}function Ma(){this.i=null,this.g="",this.h=!1}var un={},Rn={};function li(y,j,D){y.M=1,y.A=yl(fn(j)),y.u=D,y.R=!0,Tc(y,null)}function Tc(y,j){y.F=Date.now(),ci(y),y.B=fn(y.A);var D=y.B,F=y.S;Array.isArray(F)||(F=[String(F)]),kc(D.i,"t",F),y.C=0,D=y.j.L,y.h=new Ma,y.g=Qm(y.j,D?j:null,!y.u),y.P>0&&(y.O=new dr(h(y.Y,y,y.g),y.P)),j=y.V,D=y.g,F=y.ba;var X="readystatechange";Array.isArray(X)||(X&&(Sd[0]=X.toString()),X=Sd);for(let ie=0;ie<X.length;ie++){const ve=ce(D,X[ie],F||j.handleEvent,!1,j.h||j);if(!ve)break;j.g[ve.key]=ve}j=y.J?q(y.J):{},y.u?(y.v||(y.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,j)):(y.v="GET",y.g.ea(y.B,y.v,null,j)),ai(),K0(y.i,y.v,y.B,y.l,y.S,y.u)}Da.prototype.ba=function(y){y=y.target;const j=this.O;j&&za(y)==3?j.j():this.Y(y)},Da.prototype.Y=function(y){try{if(y==this.g)e:{const $e=za(this.g),en=this.g.ya(),ut=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Gn(this.g)))){this.K||$e!=4||en==7||(en==8||ut<=0?ai(3):ai(2)),ui(this);var j=this.g.ca();this.X=j;var D=Y0(this);if(this.o=j==200,Rm(this.i,this.v,this.B,this.l,this.S,$e,j),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(F)){var ie=F;break t}}ie=null}if(y=ie)oi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,y);else{this.o=!1,this.m=3,cn(12),zr(this),ia(this);break e}}if(this.R){y=!0;let Dt;for(;!this.K&&this.C<D.length;)if(Dt=Lm(this,D),Dt==Rn){$e==4&&(this.m=4,cn(14),y=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==un){this.m=4,cn(15),oi(this.i,this.l,D,"[Invalid Chunk]"),y=!1;break}else oi(this.i,this.l,Dt,null),di(this,Dt);if(Mm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||D.length!=0||this.h.h||(this.m=1,cn(16),y=!1),this.o=this.o&&y,!y)oi(this.i,this.l,D,"[Invalid Chunked Response]"),zr(this),ia(this);else if(D.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),Fd(ve),ve.P=!0,cn(11))}}else oi(this.i,this.l,D,null),di(this,D);$e==4&&zr(this),this.o&&!this.K&&($e==4?Gm(this.j,this):(this.o=!1,ci(this)))}else es(this.g),j==400&&D.indexOf("Unknown SID")>0?(this.m=3,cn(12)):(this.m=0,cn(13)),zr(this),ia(this)}}}catch{}finally{}};function Y0(y){if(!Mm(y))return y.g.la();const j=Gn(y.g);if(j==="")return"";let D="";const F=j.length,X=za(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return zr(y),ia(y),"";y.h.i=new l.TextDecoder}for(let ie=0;ie<F;ie++)y.h.h=!0,D+=y.h.i.decode(j[ie],{stream:!(X&&ie==F-1)});return j.length=0,y.h.g+=D,y.C=0,y.h.g}function Mm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Lm(y,j){var D=y.C,F=j.indexOf(`
`,D);return F==-1?Rn:(D=Number(j.substring(D,F)),isNaN(D)?un:(F+=1,F+D>j.length?Rn:(j=j.slice(F,F+D),y.C=F+D,j)))}Da.prototype.cancel=function(){this.K=!0,zr(this)};function ci(y){y.T=Date.now()+y.H,Cc(y,y.H)}function Cc(y,j){if(y.D!=null)throw Error("WatchDog timer not null");y.D=si(h(y.aa,y),j)}function ui(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Da.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(ml(this.i,this.B),this.M!=2&&(ai(),cn(17)),zr(this),this.m=2,ia(this)):Cc(this,this.T-y)};function ia(y){y.j.I==0||y.K||Gm(y.j,y)}function zr(y){ui(y);var j=y.O;j&&typeof j.dispose=="function"&&j.dispose(),y.O=null,jd(y.V),y.g&&(j=y.g,y.g=null,j.abort(),j.dispose())}function di(y,j){try{var D=y.j;if(D.I!=0&&(D.g==y||hi(D.h,y))){if(!y.L&&hi(D.h,y)&&D.I==3){try{var F=D.Ba.g.parse(j)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<y.F)Lc(D),oo(D);else break e;Al(D),cn(18)}}else D.xa=X[1],0<D.xa-D.K&&X[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=si(h(D.Va,D),6e3));fi(D.h)<=1&&D.ta&&(D.ta=void 0)}else xi(D,11)}else if((y.L||D.g==y)&&Lc(D),!$(j))for(X=D.Ba.g.parse(j),j=0;j<X.length;j++){let ut=X[j];const Dt=ut[0];if(!(Dt<=D.K))if(D.K=Dt,ut=ut[1],D.I==2)if(ut[0]=="c"){D.M=ut[1],D.ba=ut[2];const la=ut[3];la!=null&&(D.ka=la,D.j.info("VER="+D.ka));const bi=ut[4];bi!=null&&(D.za=bi,D.j.info("SVER="+D.za));const Va=ut[5];Va!=null&&typeof Va=="number"&&Va>0&&(F=1.5*Va,D.O=F,D.j.info("backChannelRequestTimeoutMs_="+F)),F=D;const $a=y.g;if($a){const Sl=$a.g?$a.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sl){var ie=F.h;ie.g||Sl.indexOf("spdy")==-1&&Sl.indexOf("quic")==-1&&Sl.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Od(ie,ie.h),ie.h=null))}if(F.G){const Uc=$a.g?$a.g.getResponseHeader("X-HTTP-Session-Id"):null;Uc&&(F.wa=Uc,mt(F.J,F.G,Uc))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-y.F,D.j.info("Handshake RTT: "+D.T+"ms")),F=D;var ve=y;if(F.na=Ym(F,F.L?F.ba:null,F.W),ve.L){kd(F.h,ve);var $e=ve,en=F.O;en&&($e.H=en),$e.D&&(ui($e),ci($e)),F.g=ve}else qm(F);D.i.length>0&&vi(D)}else ut[0]!="stop"&&ut[0]!="close"||xi(D,7);else D.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?xi(D,7):$d(D):ut[0]!="noop"&&D.l&&D.l.qa(ut),D.A=0)}}ai(4)}catch{}}var dn=class{constructor(y,j){this.g=y,this.map=j}};function Cd(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Id(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function fi(y){return y.h?1:y.g?y.g.size:0}function hi(y,j){return y.h?y.h==j:y.g?y.g.has(j):!1}function Od(y,j){y.g?y.g.add(j):y.h=j}function kd(y,j){y.h&&y.h==j?y.h=null:y.g&&y.g.has(j)&&y.g.delete(j)}Cd.prototype.cancel=function(){if(this.i=Pd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Pd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let j=y.i;for(const D of y.g.values())j=j.concat(D.G);return j}return w(y.i)}var Um=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(y,j){if(y){y=y.split("&");for(let D=0;D<y.length;D++){const F=y[D].indexOf("=");let X,ie=null;F>=0?(X=y[D].substring(0,F),ie=y[D].substring(F+1)):X=y[D],j(X,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Vr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;y instanceof Vr?(this.l=y.l,Dn(this,y.j),this.o=y.o,this.g=y.g,eo(this,y.u),this.h=y.h,Rd(this,Bm(y.i)),this.m=y.m):y&&(j=String(y).match(Um))?(this.l=!1,Dn(this,j[1]||"",!0),this.o=mi(j[2]||""),this.g=mi(j[3]||"",!0),eo(this,j[4]),this.h=mi(j[5]||"",!0),Rd(this,j[6]||"",!0),this.m=mi(j[7]||"")):(this.l=!1,this.i=new no(null,this.l))}Vr.prototype.toString=function(){const y=[];var j=this.j;j&&y.push(vl(j,Oc,!0),":");var D=this.g;return(D||j=="file")&&(y.push("//"),(j=this.o)&&y.push(vl(j,Oc,!0),"@"),y.push(Zi(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&y.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&y.push("/"),y.push(vl(D,D.charAt(0)=="/"?Dd:zm,!0))),(D=this.i.toString())&&y.push("?",D),(D=this.m)&&y.push("#",vl(D,Vm)),y.join("")},Vr.prototype.resolve=function(y){const j=fn(this);let D=!!y.j;D?Dn(j,y.j):D=!!y.o,D?j.o=y.o:D=!!y.g,D?j.g=y.g:D=y.u!=null;var F=y.h;if(D)eo(j,y.u);else if(D=!!y.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=j.h.lastIndexOf("/");X!=-1&&(F=j.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const ie=[];for(let ve=0;ve<X.length;){const $e=X[ve++];$e=="."?F&&ve==X.length&&ie.push(""):$e==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),F&&ve==X.length&&ie.push("")):(ie.push($e),F=!0)}F=ie.join("/")}else F=X}return D?j.h=F:D=y.i.toString()!=="",D?Rd(j,Bm(y.i)):D=!!y.m,D&&(j.m=y.m),j};function fn(y){return new Vr(y)}function Dn(y,j,D){y.j=D?mi(j,!0):j,y.j&&(y.j=y.j.replace(/:$/,""))}function eo(y,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);y.u=j}else y.u=null}function Rd(y,j,D){j instanceof no?(y.i=j,Pc(y.i,y.l)):(D||(j=vl(j,to)),y.i=new no(j,y.l))}function mt(y,j,D){y.i.set(j,D)}function yl(y){return mt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function mi(y,j){return y?j?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function vl(y,j,D){return typeof y=="string"?(y=encodeURI(y).replace(j,Ar),D&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Ar(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Oc=/[#\/\?@]/g,zm=/[#\?:]/g,Dd=/[#\?]/g,to=/[#\?@]/g,Vm=/#/g;function no(y,j){this.h=this.g=null,this.i=y||null,this.j=!!j}function Sr(y){y.g||(y.g=new Map,y.h=0,y.i&&Ic(y.i,function(j,D){y.add(decodeURIComponent(j.replace(/\+/g," ")),D)}))}t=no.prototype,t.add=function(y,j){Sr(this),this.i=null,y=ro(this,y);let D=this.g.get(y);return D||this.g.set(y,D=[]),D.push(j),this.h+=1,this};function $m(y,j){Sr(y),j=ro(y,j),y.g.has(j)&&(y.i=null,y.h-=y.g.get(j).length,y.g.delete(j))}function Md(y,j){return Sr(y),j=ro(y,j),y.g.has(j)}t.forEach=function(y,j){Sr(this),this.g.forEach(function(D,F){D.forEach(function(X){y.call(j,X,F,this)},this)},this)};function Ld(y,j){Sr(y);let D=[];if(typeof j=="string")Md(y,j)&&(D=D.concat(y.g.get(ro(y,j))));else for(y=Array.from(y.g.values()),j=0;j<y.length;j++)D=D.concat(y[j]);return D}t.set=function(y,j){return Sr(this),this.i=null,y=ro(this,y),Md(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[j]),this.h+=1,this},t.get=function(y,j){return y?(y=Ld(this,y),y.length>0?String(y[0]):j):j};function kc(y,j,D){$m(y,j),D.length>0&&(y.i=null,y.g.set(ro(y,j),w(D)),y.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],j=Array.from(this.g.keys());for(let F=0;F<j.length;F++){var D=j[F];const X=Zi(D);D=Ld(this,D);for(let ie=0;ie<D.length;ie++){let ve=X;D[ie]!==""&&(ve+="="+Zi(D[ie])),y.push(ve)}}return this.i=y.join("&")};function Bm(y){const j=new no;return j.i=y.i,y.g&&(j.g=new Map(y.g),j.h=y.h),j}function ro(y,j){return j=String(j),y.j&&(j=j.toLowerCase()),j}function Pc(y,j){j&&!y.j&&(Sr(y),y.i=null,y.g.forEach(function(D,F){const X=F.toLowerCase();F!=X&&($m(this,F),kc(this,X,D))},y)),y.j=j}function La(y,j){const D=new Ra;if(l.Image){const F=new Image;F.onload=p(sa,D,"TestLoadImage: loaded",!0,j,F),F.onerror=p(sa,D,"TestLoadImage: error",!1,j,F),F.onabort=p(sa,D,"TestLoadImage: abort",!1,j,F),F.ontimeout=p(sa,D,"TestLoadImage: timeout",!1,j,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else j(!1)}function Ud(y,j){const D=new Ra,F=new AbortController,X=setTimeout(()=>{F.abort(),sa(D,"TestPingServer: timeout",!1,j)},1e4);fetch(y,{signal:F.signal}).then(ie=>{clearTimeout(X),ie.ok?sa(D,"TestPingServer: ok",!0,j):sa(D,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(X),sa(D,"TestPingServer: error",!1,j)})}function sa(y,j,D,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(D)}catch{}}function ao(){this.g=new Cm}function pi(y){this.i=y.Sb||null,this.h=y.ab||!1}g(pi,Im),pi.prototype.g=function(){return new xl(this.i,this.h)};function xl(y,j){ln.call(this),this.H=y,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(xl,ln),t=xl.prototype,t.open=function(y,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=j,this.readyState=1,Ua(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(j.body=y),(this.H||l).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var j=y.value?y.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!y.done}))&&(this.response=this.responseText+=j)}y.done?io(this):Ua(this),this.readyState==3&&Rc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,io(this))},t.Na=function(y){this.g&&(this.response=y,io(this))},t.ga=function(){this.g&&io(this)};function io(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ua(y)}t.setRequestHeader=function(y,j){this.A.append(y,j)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],j=this.h.entries();for(var D=j.next();!D.done;)D=D.value,y.push(D[0]+": "+D[1]),D=j.next();return y.join(`\r
`)};function Ua(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function oa(y){let j="";return K(y,function(D,F){j+=F,j+=":",j+=D,j+=`\r
`}),j}function bl(y,j,D){e:{for(F in D){var F=!1;break e}F=!0}F||(D=oa(D),typeof y=="string"?D!=null&&Zi(D):mt(y,j,D))}function xt(y){ln.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(xt,ln);var gi=/^https?$/i,zd=["POST","PUT"];t=xt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,j,D,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);j=j?j.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Td.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(j,String(y),!0),this.B=!1}catch(ie){wl(this,ie);return}if(y=D||"",D=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)D.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ie of F.keys())D.set(ie,F.get(ie));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(D.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(zd,j,void 0)>=0)||F||X||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of D)this.g.setRequestHeader(ie,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ie){wl(this,ie)}};function wl(y,j){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=j,y.o=5,Vd(y),Ji(y)}function Vd(y){y.A||(y.A=!0,jn(y,"complete"),jn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,jn(this,"complete"),jn(this,"abort"),Ji(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),xt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},t.Xa=function(){_l(this)};function _l(y){if(y.h&&typeof s<"u"){if(y.v&&za(y)==4)setTimeout(y.Ca.bind(y),0);else if(jn(y,"readystatechange"),za(y)==4){y.h=!1;try{const ie=y.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var D;if(!(D=j)){var F;if(F=ie===0){let ve=String(y.D).match(Um)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),F=!gi.test(ve?ve.toLowerCase():"")}D=F}if(D)jn(y,"complete"),jn(y,"success");else{y.o=6;try{var X=za(y)>2?y.g.statusText:""}catch{X=""}y.l=X+" ["+y.ca()+"]",Vd(y)}}finally{Ji(y)}}}}function Ji(y,j){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const D=y.g;y.g=null,j||jn(y,"ready");try{D.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function za(y){return y.g?y.g.readyState:0}t.ca=function(){try{return za(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var j=this.g.responseText;return y&&j.indexOf(y)==0&&(j=j.substring(y.length)),G0(j)}};function Gn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function es(y){const j={};y=(y.g&&za(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if($(y[F]))continue;var D=Dm(y[F]);const X=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ie=j[X]||[];j[X]=ie,ie.push(D)}ae(j,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(y,j,D){return D&&D.internalChannelParams&&D.internalChannelParams[y]||j}function so(y){this.za=0,this.i=[],this.j=new Ra,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,y),this.Za=yi("retryDelaySeedMs",1e4,y),this.Ta=yi("forwardChannelMaxRetries",2,y),this.va=yi("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Cd(y&&y.concurrentRequestLimit),this.Ba=new ao,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=so.prototype,t.ka=8,t.I=1,t.connect=function(y,j,D,F){cn(0),this.W=y,this.H=j||{},D&&F!==void 0&&(this.H.OSID=D,this.H.OAID=F),this.F=this.X,this.J=Ym(this,null,this.W),vi(this)};function $d(y){if(Dc(y),y.I==3){var j=y.V++,D=fn(y.J);if(mt(D,"SID",y.M),mt(D,"RID",j),mt(D,"TYPE","terminate"),El(y,D),j=new Da(y,y.j,j),j.M=2,j.A=yl(fn(D)),D=!1,l.navigator&&l.navigator.sendBeacon)try{D=l.navigator.sendBeacon(j.A.toString(),"")}catch{}!D&&l.Image&&(new Image().src=j.A,D=!0),D||(j.g=Qm(j.j,null),j.g.ea(j.A)),j.F=Date.now(),ci(j)}Wm(y)}function oo(y){y.g&&(Fd(y),y.g.cancel(),y.g=null)}function Dc(y){oo(y),y.v&&(l.clearTimeout(y.v),y.v=null),Lc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function vi(y){if(!Id(y.h)&&!y.m){y.m=!0;var j=y.Ea;M||k(),V||(M(),V=!0),I.add(j,y),y.D=0}}function Mc(y,j){return fi(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=j.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=si(h(y.Ea,y,j),Km(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const X=new Da(this,this.j,y);let ie=this.o;if(this.U&&(ie?(ie=q(ie),pe(ie,this.U)):ie=this.U),this.u!==null||this.R||(X.J=ie,ie=null),this.S)e:{for(var j=0,D=0;D<this.i.length;D++){t:{var F=this.i[D];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(j+=F,j>4096){j=D;break e}if(j===4096||D===this.i.length-1){j=D+1;break e}}j=1e3}else j=1e3;j=Fm(this,X,j),D=fn(this.J),mt(D,"RID",y),mt(D,"CVER",22),this.G&&mt(D,"X-HTTP-Session-Id",this.G),El(this,D),ie&&(this.R?j="headers="+Zi(oa(ie))+"&"+j:this.u&&bl(D,this.u,ie)),Od(this.h,X),this.Ra&&mt(D,"TYPE","init"),this.S?(mt(D,"$req",j),mt(D,"SID","null"),X.U=!0,li(X,D,null)):li(X,D,j),this.I=2}}else this.I==3&&(y?Bd(this,y):this.i.length==0||Id(this.h)||Bd(this))};function Bd(y,j){var D;j?D=j.l:D=y.V++;const F=fn(y.J);mt(F,"SID",y.M),mt(F,"RID",D),mt(F,"AID",y.K),El(y,F),y.u&&y.o&&bl(F,y.u,y.o),D=new Da(y,y.j,D,y.D+1),y.u===null&&(D.J=y.o),j&&(y.i=j.G.concat(y.i)),j=Fm(y,D,1e3),D.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Od(y.h,D),li(D,F,j)}function El(y,j){y.H&&K(y.H,function(D,F){mt(j,F,D)}),y.l&&K({},function(D,F){mt(j,F,D)})}function Fm(y,j,D){D=Math.min(y.i.length,D);const F=y.l?h(y.l.Ka,y.l,y):null;e:{var X=y.i;let $e=-1;for(;;){const en=["count="+D];$e==-1?D>0?($e=X[0].g,en.push("ofs="+$e)):$e=0:en.push("ofs="+$e);let ut=!0;for(let Dt=0;Dt<D;Dt++){var ie=X[Dt].g;const la=X[Dt].map;if(ie-=$e,ie<0)$e=Math.max(0,X[Dt].g-100),ut=!1;else try{ie="req"+ie+"_"||"";try{var ve=la instanceof Map?la:Object.entries(la);for(const[bi,Va]of ve){let $a=Va;d(Va)&&($a=Js(Va)),en.push(ie+bi+"="+encodeURIComponent($a))}}catch(bi){throw en.push(ie+"type="+encodeURIComponent("_badmap")),bi}}catch{F&&F(la)}}if(ut){ve=en.join("&");break e}}ve=void 0}return y=y.i.splice(0,D),j.G=y,ve}function qm(y){if(!y.g&&!y.v){y.Y=1;var j=y.Da;M||k(),V||(M(),V=!0),I.add(j,y),y.A=0}}function Al(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=si(h(y.Da,y),Km(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Hm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=si(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,cn(10),oo(this),Hm(this))};function Fd(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function Hm(y){y.g=new Da(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var j=fn(y.na);mt(j,"RID","rpc"),mt(j,"SID",y.M),mt(j,"AID",y.K),mt(j,"CI",y.F?"0":"1"),!y.F&&y.ia&&mt(j,"TO",y.ia),mt(j,"TYPE","xmlhttp"),El(y,j),y.u&&y.o&&bl(j,y.u,y.o),y.O&&(y.g.H=y.O);var D=y.g;y=y.ba,D.M=1,D.A=yl(fn(j)),D.u=null,D.R=!0,Tc(D,y)}t.Va=function(){this.C!=null&&(this.C=null,oo(this),Al(this),cn(19))};function Lc(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function Gm(y,j){var D=null;if(y.g==j){Lc(y),Fd(y),y.g=null;var F=2}else if(hi(y.h,j))D=j.G,kd(y.h,j),F=1;else return;if(y.I!=0){if(j.o)if(F==1){D=j.u?j.u.length:0,j=Date.now()-j.F;var X=y.D;F=Nc(),jn(F,new ii(F,D)),vi(y)}else qm(y);else if(X=j.m,X==3||X==0&&j.X>0||!(F==1&&Mc(y,j)||F==2&&Al(y)))switch(D&&D.length>0&&(j=y.h,j.i=j.i.concat(D)),X){case 1:xi(y,5);break;case 4:xi(y,10);break;case 3:xi(y,6);break;default:xi(y,2)}}}function Km(y,j){let D=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(D*=2),D*j}function xi(y,j){if(y.j.info("Error code "+j),j==2){var D=h(y.bb,y),F=y.Ua;const X=!F;F=new Vr(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Dn(F,"https"),yl(F),X?La(F.toString(),D):Ud(F.toString(),D)}else cn(2);y.I=0,y.l&&y.l.pa(j),Wm(y),Dc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function Wm(y){if(y.I=0,y.ja=[],y.l){const j=Pd(y.h);(j.length!=0||y.i.length!=0)&&(E(y.ja,j),E(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function Ym(y,j,D){var F=D instanceof Vr?fn(D):new Vr(D);if(F.g!="")j&&(F.g=j+"."+F.g),eo(F,F.u);else{var X=l.location;F=X.protocol,j=j?j+"."+X.hostname:X.hostname,X=+X.port;const ie=new Vr(null);F&&Dn(ie,F),j&&(ie.g=j),X&&eo(ie,X),D&&(ie.h=D),F=ie}return D=y.G,j=y.wa,D&&j&&mt(F,D,j),mt(F,"VER",y.ka),El(y,F),F}function Qm(y,j,D){if(j&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=y.Aa&&!y.ma?new xt(new pi({ab:D})):new xt(y.ma),j.Fa(y.L),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xm(){}t=Xm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lo(){}lo.prototype.g=function(y,j){return new fr(y,j)};function fr(y,j){ln.call(this),this.g=new so(j),this.l=y,this.h=j&&j.messageUrlParams||null,y=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(y?y["X-WebChannel-Content-Type"]=j.messageContentType:y={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(y?y["X-WebChannel-Client-Profile"]=j.sa:y={"X-WebChannel-Client-Profile":j.sa}),this.g.U=y,(y=j&&j.Qb)&&!$(y)&&(this.g.u=y),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!$(j)&&(this.g.G=j,y=this.h,y!==null&&j in y&&(y=this.h,j in y&&delete y[j])),this.j=new ts(this)}g(fr,ln),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){$d(this.g)},fr.prototype.o=function(y){var j=this.g;if(typeof y=="string"){var D={};D.__data__=y,y=D}else this.v&&(D={},D.__data__=Js(y),y=D);j.i.push(new dn(j.Ya++,y)),j.I==3&&vi(j)},fr.prototype.N=function(){this.g.l=null,delete this.j,$d(this.g),delete this.g,fr.Z.N.call(this)};function Zm(y){Hn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var j=y.__sm__;if(j){e:{for(const D in j){y=D;break e}y=void 0}(this.i=y)&&(y=this.i,j=j!==null&&y in j?j[y]:void 0),this.data=j}else this.data=y}g(Zm,Hn);function Jm(){aa.call(this),this.status=1}g(Jm,aa);function ts(y){this.g=y}g(ts,Xm),ts.prototype.ra=function(){jn(this.g,"a")},ts.prototype.qa=function(y){jn(this.g,new Zm(y))},ts.prototype.pa=function(y){jn(this.g,new Jm)},ts.prototype.oa=function(){jn(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,gM=function(){return new lo},pM=function(){return Nc()},mM=Jt,u_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,Mg=pl,Nd.COMPLETE="complete",hM=Nd,Om.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",ln.prototype.listen=ln.prototype.J,Bf=Om,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,fM=xt}).apply(typeof ig<"u"?ig:typeof self<"u"?self:typeof window<"u"?window:{});const vI="@firebase/firestore",xI="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ar=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new VE("@firebase/firestore");function vu(){return sc.logLevel}function Ee(t,...e){if(sc.logLevel<=Je.DEBUG){const n=e.map(eA);sc.debug(`Firestore (${sd}): ${t}`,...n)}}function Ps(t,...e){if(sc.logLevel<=Je.ERROR){const n=e.map(eA);sc.error(`Firestore (${sd}): ${t}`,...n)}}function Vu(t,...e){if(sc.logLevel<=Je.WARN){const n=e.map(eA);sc.warn(`Firestore (${sd}): ${t}`,...n)}}function eA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yM(t,r,n)}function yM(t,e,n){let r=`FIRESTORE (${sd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ps(r),new Error(r)}function ht(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||yM(e,a,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ar.UNAUTHENTICATED)))}shutdown(){}}class oH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lH{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ns,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ns)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new vM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new ar(e)}}class cH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new cH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=s=>{s.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=fH(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function d_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return sw(a)===sw(s)?et(a,s):sw(a)?1:-1}return et(t.length,e.length)}const hH=55296,mH=57343;function sw(t){const e=t.charCodeAt(0);return e>=hH&&e<=mH}function $u(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="__name__";class Si{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=Si.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return et(e.length,n.length)}static compareSegments(e,n){const r=Si.isNumericId(e),a=Si.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Si.extractNumericId(e).compare(Si.extractNumericId(n)):d_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fo.fromString(e.substring(4,e.length-2))}}class Ct extends Si{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const pH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Si{construct(e,n,r){return new Jn(e,n,r)}static isValidIdentifier(e){return pH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wI}static keyField(){return new Jn([wI])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new we(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(l=!l,a++):d!=="."||l?(r+=d,a++):(s(),a++)}if(s(),l)throw new we(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(n)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Ct.fromString(e))}static fromName(e){return new Oe(Ct.fromString(e).popFirst(5))}static empty(){return new Oe(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e,n){if(!n)throw new we(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gH(t,e,n,r){if(e===!0&&r===!0)throw new we(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _I(t){if(!Oe.isDocumentKey(t))throw new we(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EI(t){if(Oe.isDocumentKey(t))throw new we(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Za(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ev(t);throw new we(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function yH(t,e){if(e<=0)throw new we(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kh(t,e){if(!bM(t))throw new we(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new we(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=-62135596800,SI=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*SI);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AI)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SI}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kh(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:bn("string",at._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new at(0,0))}static max(){return new Le(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=-1;function vH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Ko(a,Oe.empty(),e)}function xH(t){return new Ko(t.readTime,t.key,ch)}class Ko{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ko(Le.min(),Oe.empty(),ch)}static max(){return new Ko(Le.max(),Oe.empty(),ch)}}function bH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _H{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==wH)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let a=0,s=0,l=!1;e.forEach((d=>{++a,d.next((()=>{++s,l&&s===a&&n()}),(f=>r(f)))})),l=!0,s===a&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((a=>a?he.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,a)=>{const s=e.length,l=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++d,d===s&&r(l)}),(p=>a(p)))}}))}static doWhile(e,n){return new he(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function EH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ld(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Av.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=-1;function Sv(t){return t==null}function ay(t){return t===0&&1/t==-1/0}function AH(t){return typeof t=="number"&&Number.isInteger(t)&&!ay(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="";function SH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jI(e)),e=jH(t.get(n),e);return jI(e)}function jH(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case wM:n+="";break;default:n+=s}}return n}function jI(t){return t+wM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _M(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sg(this.root,e,this.comparator,!1)}getReverseIterator(){return new sg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sg(this.root,e,this.comparator,!0)}}class sg{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=a??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new Zn(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TI(this.data.getIterator())}getIteratorFrom(e){return new TI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class TI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new Xr([])}unionWith(e){let n=new Cn(Jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $u(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new EM("Invalid base64 string: "+s):s}})(e);return new er(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s})(e);return new er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const NH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=NH.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yo(t){return typeof t=="string"?er.fromBase64String(t):er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="server_timestamp",SM="__type__",jM="__previous_value__",NM="__local_write_time__";function rA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SM])==null?void 0:r.stringValue)===AM}function jv(t){const e=t.mapValue.fields[jM];return rA(e)?jv(e):e}function uh(t){const e=Wo(t.mapValue.fields[NM].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n,r,a,s,l,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const iy="(default)";class dh{constructor(e,n){this.projectId=e,this.database=n||iy}static empty(){return new dh("","")}get isDefaultDatabase(){return this.database===iy}isEqual(e){return e instanceof dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="__type__",CH="__max__",og={mapValue:{}},CM="__vector__",sy="value";function Qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rA(t)?4:OH(t)?9007199254740991:IH(t)?10:11:Me(28295,{value:t})}function zi(t,e){if(t===e)return!0;const n=Qo(t);if(n!==Qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uh(t).isEqual(uh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=Wo(a.timestampValue),d=Wo(s.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Yo(a.bytesValue).isEqual(Yo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return an(a.geoPointValue.latitude)===an(s.geoPointValue.latitude)&&an(a.geoPointValue.longitude)===an(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return an(a.integerValue)===an(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=an(a.doubleValue),d=an(s.doubleValue);return l===d?ay(l)===ay(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return $u(t.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(a,s){const l=a.mapValue.fields||{},d=s.mapValue.fields||{};if(NI(l)!==NI(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!zi(l[f],d[f])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function fh(t,e){return(t.values||[]).find((n=>zi(n,e)))!==void 0}function Bu(t,e){if(t===e)return 0;const n=Qo(t),r=Qo(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const d=an(s.integerValue||s.doubleValue),f=an(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return CI(t.timestampValue,e.timestampValue);case 4:return CI(uh(t),uh(e));case 5:return d_(t.stringValue,e.stringValue);case 6:return(function(s,l){const d=Yo(s),f=Yo(l);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const d=s.split("/"),f=l.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=et(d[h],f[h]);if(p!==0)return p}return et(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const d=et(an(s.latitude),an(l.latitude));return d!==0?d:et(an(s.longitude),an(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return II(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var x,w,E,A;const d=s.fields||{},f=l.fields||{},h=(x=d[sy])==null?void 0:x.arrayValue,p=(w=f[sy])==null?void 0:w.arrayValue,g=et(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((A=p==null?void 0:p.values)==null?void 0:A.length)||0);return g!==0?g:II(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===og.mapValue&&l===og.mapValue)return 0;if(s===og.mapValue)return 1;if(l===og.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=d_(f[g],p[g]);if(x!==0)return x;const w=Bu(d[f[g]],h[p[g]]);if(w!==0)return w}return et(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function CI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Wo(t),r=Wo(e),a=et(n.seconds,r.seconds);return a!==0?a:et(n.nanos,r.nanos)}function II(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Bu(n[a],r[a]);if(s)return s}return et(n.length,r.length)}function Fu(t){return f_(t)}function f_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Wo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Yo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Oe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=f_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${f_(n.fields[l])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Lg(t){switch(Qo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jv(t);return e?16+Lg(e):16;case 5:return 2*t.stringValue.length;case 6:return Yo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+Lg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return al(r.fields,((s,l)=>{a+=s.length+Lg(l)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function OI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function h_(t){return!!t&&"integerValue"in t}function aA(t){return!!t&&"arrayValue"in t}function kI(t){return!!t&&"nullValue"in t}function PI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ug(t){return!!t&&"mapValue"in t}function IH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TM])==null?void 0:r.stringValue)===CM}function Zf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return al(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return{...t}}function OH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ug(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=Jn.emptyPath(),r={},a=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}l?r[d.lastSegment()]=Zf(l):a.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());Ug(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Ug(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){al(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new Rr(Zf(this.value))}}function IM(t){const e=[];return al(t.fields,((n,r)=>{const a=new Jn([n]);if(Ug(r)){const s=IM(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)})),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r,a,s,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new ir(e,0,Le.min(),Le.min(),Le.min(),Rr.empty(),0)}static newFoundDocument(e,n,r,a){return new ir(e,1,n,Le.min(),r,a,0)}static newNoDocument(e,n){return new ir(e,2,n,Le.min(),Le.min(),Rr.empty(),0)}static newUnknownDocument(e,n){return new ir(e,3,n,Le.min(),Le.min(),Rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.position=e,this.inclusive=n}}function RI(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],l=t.position[a];if(s.field.isKeyField()?r=Oe.comparator(Oe.fromName(l.referenceValue),n.key):r=Bu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function kH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{}class xn extends OM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RH(e,n,r):n==="array-contains"?new LH(e,r):n==="in"?new UH(e,r):n==="not-in"?new zH(e,r):n==="array-contains-any"?new VH(e,r):new xn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DH(e,r):new MH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bu(n,this.value)):n!==null&&Qo(this.value)===Qo(n)&&this.matchesComparison(Bu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ja extends OM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ja(e,n)}matches(e){return kM(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kM(t){return t.op==="and"}function PM(t){return PH(t)&&kM(t)}function PH(t){for(const e of t.filters)if(e instanceof Ja)return!1;return!0}function m_(t){if(t instanceof xn)return t.field.canonicalString()+t.op.toString()+Fu(t.value);if(PM(t))return t.filters.map((e=>m_(e))).join(",");{const e=t.filters.map((n=>m_(n))).join(",");return`${t.op}(${e})`}}function RM(t,e){return t instanceof xn?(function(r,a){return a instanceof xn&&r.op===a.op&&r.field.isEqual(a.field)&&zi(r.value,a.value)})(t,e):t instanceof Ja?(function(r,a){return a instanceof Ja&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,l,d)=>s&&RM(l,a.filters[d])),!0):!1})(t,e):void Me(19439)}function DM(t){return t instanceof xn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fu(n.value)}`})(t):t instanceof Ja?(function(n){return n.op.toString()+" {"+n.getFilters().map(DM).join(" ,")+"}"})(t):"Filter"}class RH extends xn{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class DH extends xn{constructor(e,n){super(e,"in",n),this.keys=MM("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class MH extends xn{constructor(e,n){super(e,"not-in",n),this.keys=MM("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function MM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Oe.fromName(r.referenceValue)))}class LH extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return aA(n)&&fh(n.arrayValue,this.value)}}class UH extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fh(this.value.arrayValue,n)}}class zH extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fh(this.value.arrayValue,n)}}class VH extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!aA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n=null,r=[],a=[],s=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=d,this.Te=null}}function MI(t,e=null,n=[],r=[],a=null,s=null,l=null){return new $H(t,e,n,r,a,s,l)}function iA(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>m_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Sv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fu(r))).join(",")),e.Te=n}return e.Te}function sA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DI(t.startAt,e.startAt)&&DI(t.endAt,e.endAt)}function p_(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n=null,r=[],a=[],s=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BH(t,e,n,r,a,s,l,d){return new cd(t,e,n,r,a,s,l,d)}function oA(t){return new cd(t)}function LI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LM(t){return t.collectionGroup!==null}function Jf(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Cn(Jn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new hh(s,r))})),n.has(Jn.keyField().canonicalString())||e.Ie.push(new hh(Jn.keyField(),r))}return e.Ie}function Pi(t){const e=Ve(t);return e.Ee||(e.Ee=FH(e,Jf(t))),e.Ee}function FH(t,e){if(t.limitType==="F")return MI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new hh(a.field,s)}));const n=t.endAt?new oy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oy(t.startAt.position,t.startAt.inclusive):null;return MI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g_(t,e){const n=t.filters.concat([e]);return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ly(t,e,n){return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nv(t,e){return sA(Pi(t),Pi(e))&&t.limitType===e.limitType}function UM(t){return`${iA(Pi(t))}|lt:${t.limitType}`}function xu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>DM(a))).join(", ")}]`),Sv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Fu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Fu(a))).join(",")),`Target(${r})`})(Pi(t))}; limitType=${t.limitType})`}function Tv(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of Jf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,d,f){const h=RI(l,d,f);return l.inclusive?h<=0:h<0})(r.startAt,Jf(r),a)||r.endAt&&!(function(l,d,f){const h=RI(l,d,f);return l.inclusive?h>=0:h>0})(r.endAt,Jf(r),a))})(t,e)}function qH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zM(t){return(e,n)=>{let r=!1;for(const a of Jf(t)){const s=HH(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function HH(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):(function(s,l,d){const f=l.data.field(s),h=d.data.field(s);return f!==null&&h!==null?Bu(f,h):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return _M(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=new Bt(Oe.comparator);function Rs(){return GH}const VM=new Bt(Oe.comparator);function Ff(...t){let e=VM;for(const n of t)e=e.insert(n.key,n);return e}function $M(t){let e=VM;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Hl(){return eh()}function BM(){return eh()}function eh(){return new bc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const KH=new Bt(Oe.comparator),WH=new Cn(Oe.comparator);function tt(...t){let e=WH;for(const n of t)e=e.add(n);return e}const YH=new Cn(et);function QH(){return YH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ay(e)?"-0":e}}function FM(t){return{integerValue:""+t}}function XH(t,e){return AH(e)?FM(e):lA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this._=void 0}}function ZH(t,e,n){return t instanceof mh?(function(a,s){const l={fields:{[SM]:{stringValue:AM},[NM]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&rA(s)&&(s=jv(s)),s&&(l.fields[jM]=s),{mapValue:l}})(n,e):t instanceof ph?HM(t,e):t instanceof gh?GM(t,e):(function(a,s){const l=qM(a,s),d=UI(l)+UI(a.Ae);return h_(l)&&h_(a.Ae)?FM(d):lA(a.serializer,d)})(t,e)}function JH(t,e,n){return t instanceof ph?HM(t,e):t instanceof gh?GM(t,e):n}function qM(t,e){return t instanceof cy?(function(r){return h_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class mh extends Cv{}class ph extends Cv{constructor(e){super(),this.elements=e}}function HM(t,e){const n=KM(e);for(const r of t.elements)n.some((a=>zi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class gh extends Cv{constructor(e){super(),this.elements=e}}function GM(t,e){let n=KM(e);for(const r of t.elements)n=n.filter((a=>!zi(a,r)));return{arrayValue:{values:n}}}class cy extends Cv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UI(t){return an(t.integerValue||t.doubleValue)}function KM(t){return aA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n){this.field=e,this.transform=n}}function tG(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof ph&&a instanceof ph||r instanceof gh&&a instanceof gh?$u(r.elements,a.elements,zi):r instanceof cy&&a instanceof cy?zi(r.Ae,a.Ae):r instanceof mh&&a instanceof mh})(t.transform,e.transform)}class nG{constructor(e,n){this.version=e,this.transformResults=n}}class _a{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _a}static exists(e){return new _a(void 0,e)}static updateTime(e){return new _a(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Iv{}function WM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cA(t.key,_a.none()):new Wh(t.key,t.data,_a.none());{const n=t.data,r=Rr.empty();let a=new Cn(Jn.comparator);for(let s of e.fields)if(!a.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new il(t.key,r,new Xr(a.toArray()),_a.none())}}function rG(t,e,n){t instanceof Wh?(function(a,s,l){const d=a.value.clone(),f=VI(a.fieldTransforms,s,l.transformResults);d.setAll(f),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof il?(function(a,s,l){if(!zg(a.precondition,s))return void s.convertToUnknownDocument(l.version);const d=VI(a.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(YM(a)),f.setAll(d),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function th(t,e,n,r){return t instanceof Wh?(function(s,l,d,f){if(!zg(s.precondition,l))return d;const h=s.value.clone(),p=$I(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof il?(function(s,l,d,f){if(!zg(s.precondition,l))return d;const h=$I(s.fieldTransforms,f,l),p=l.data;return p.setAll(YM(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,d){return zg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function aG(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=qM(r.transform,a||null);s!=null&&(n===null&&(n=Rr.empty()),n.set(r.field,s))}return n||null}function zI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&$u(r,a,((s,l)=>tG(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends Iv{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class il extends Iv{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YM(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function VI(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],l=s.transform,d=e.data.field(s.field);r.set(s.field,JH(l,d,n[a]))}return r}function $I(t,e,n){const r=new Map;for(const a of t){const s=a.transform,l=n.data.field(a.field);r.set(a.field,ZH(s,l,e))}return r}class cA extends Iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iG extends Iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&rG(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BM();return this.mutations.forEach((a=>{const s=e.get(a.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=n.has(a.key)?null:d;const f=WM(l,d);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&$u(this.mutations,e.mutations,((n,r)=>zI(n,r)))&&$u(this.baseMutations,e.baseMutations,((n,r)=>zI(n,r)))}}class uA{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return KH})();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new uA(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,rt;function cG(t){switch(t){case de.OK:return Me(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function QM(t){if(t===void 0)return Ps("GRPC error has no .code"),de.UNKNOWN;switch(t){case yn.OK:return de.OK;case yn.CANCELLED:return de.CANCELLED;case yn.UNKNOWN:return de.UNKNOWN;case yn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case yn.INTERNAL:return de.INTERNAL;case yn.UNAVAILABLE:return de.UNAVAILABLE;case yn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case yn.NOT_FOUND:return de.NOT_FOUND;case yn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case yn.ABORTED:return de.ABORTED;case yn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case yn.DATA_LOSS:return de.DATA_LOSS;default:return Me(39323,{code:t})}}(rt=yn||(yn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=new Fo([4294967295,4294967295],0);function BI(t){const e=uG().encode(t),n=new dM;return n.update(e),new Uint8Array(n.digest())}function FI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([a,s],0)]}class dA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qf(`Invalid padding: ${n}`);if(r<0)throw new qf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fo.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Fo.fromNumber(r)));return a.compare(dG)===1&&(a=new Fo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BI(e),[r,a]=FI(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new dA(s,a,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=BI(e),[r,a]=FI(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ov(Le.min(),a,new Bt(et),Rs(),tt())}}class Yh{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yh(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class XM{constructor(e,n){this.targetId=e,this.Ce=n}}class ZM{constructor(e,n,r=er.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class qI{constructor(){this.ve=0,this.Fe=HI(),this.Me=er.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Me(38017,{changeType:s})}})),new Yh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=HI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fG{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=lg(),this.He=lg(),this.Ye=new Bt(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(p_(s))if(r===0){const l=new Oe(s.path);this.et(n,l,ir.newNoDocument(l,Le.min()))}else ht(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),f=d?this.ct(d,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let l,d;try{l=Yo(r).toUint8Array()}catch(f){if(f instanceof EM)return Vu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new dA(l,a,s)}catch(f){return Vu(f instanceof qf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const d=this.ot(l);if(d){if(s.current&&p_(d.target)){const f=new Oe(d.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,ir.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=tt();this.He.forEach(((s,l)=>{let d=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const a=new Ov(e,n,this.Ye,this.je,r);return this.je=Rs(),this.Je=lg(),this.He=lg(),this.Ye=new Bt(et),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Cn(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Cn(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lg(){return new Bt(Oe.comparator)}function HI(){return new Bt(Oe.comparator)}const hG={asc:"ASCENDING",desc:"DESCENDING"},mG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pG={and:"AND",or:"OR"};class gG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y_(t,e){return t.useProto3Json||Sv(e)?e:{value:e}}function uy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yG(t,e){return uy(t,e.toTimestamp())}function Ri(t){return ht(!!t,49232),Le.fromTimestamp((function(n){const r=Wo(n);return new at(r.seconds,r.nanos)})(t))}function fA(t,e){return v_(t,e).canonicalString()}function v_(t,e){const n=(function(a){return new Ct(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function e6(t){const e=Ct.fromString(t);return ht(i6(e),10190,{key:e.toString()}),e}function x_(t,e){return fA(t.databaseId,e.path)}function ow(t,e){const n=e6(e);if(n.get(1)!==t.databaseId.projectId)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(n6(n))}function t6(t,e){return fA(t.databaseId,e)}function vG(t){const e=e6(t);return e.length===4?Ct.emptyPath():n6(e)}function b_(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function n6(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function GI(t,e,n){return{name:x_(t,e),fields:n.value.mapValue.fields}}function xG(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Me(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(ht(p===void 0||typeof p=="string",58123),er.fromBase64String(p||"")):(ht(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),er.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(h){const p=h.code===void 0?de.UNKNOWN:QM(h.code);return new we(p,h.message||"")})(l);n=new ZM(r,a,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=ow(t,r.document.name),s=Ri(r.document.updateTime),l=r.document.createTime?Ri(r.document.createTime):Le.min(),d=new Rr({mapValue:{fields:r.document.fields}}),f=ir.newFoundDocument(a,s,l,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Vg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=ow(t,r.document),s=r.readTime?Ri(r.readTime):Le.min(),l=ir.newNoDocument(a,s),d=r.removedTargetIds||[];n=new Vg([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=ow(t,r.document),s=r.removedTargetIds||[];n=new Vg([],s,a,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new lG(a,s),d=r.targetId;n=new XM(d,l)}}return n}function bG(t,e){let n;if(e instanceof Wh)n={update:GI(t,e.key,e.value)};else if(e instanceof cA)n={delete:x_(t,e.key)};else if(e instanceof il)n={update:GI(t,e.key,e.data),updateMask:CG(e.fieldMask)};else{if(!(e instanceof iG))return Me(16599,{Vt:e.type});n={verify:x_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const d=l.transform;if(d instanceof mh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ph)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof cy)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw Me(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:yG(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me(27497)})(t,e.precondition)),n}function wG(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(a,s){let l=a.updateTime?Ri(a.updateTime):Ri(s);return l.isEqual(Le.min())&&(l=Ri(s)),new nG(l,a.transformResults||[])})(n,e)))):[]}function _G(t,e){return{documents:[t6(t,e.path)]}}function EG(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=t6(t,a);const s=(function(h){if(h.length!==0)return a6(Ja.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:bu(x.field),direction:jG(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=y_(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function AG(t){let e=vG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ht(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const x=r6(g);return x instanceof Ja&&PM(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((x=>(function(E){return new hh(wu(E.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let x;return x=typeof g=="object"?g.value:g,Sv(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,w=g.values||[];return new oy(w,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,w=g.values||[];return new oy(w,x)})(n.endAt)),BH(e,a,l,s,d,"F",f,h)}function SG(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r6(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wu(n.unaryFilter.field);return xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=wu(n.unaryFilter.field);return xn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wu(n.unaryFilter.field);return xn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=wu(n.unaryFilter.field);return xn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xn.create(wu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ja.create(n.compositeFilter.filters.map((r=>r6(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function jG(t){return hG[t]}function NG(t){return mG[t]}function TG(t){return pG[t]}function bu(t){return{fieldPath:t.canonicalString()}}function wu(t){return Jn.fromServerFormat(t.fieldPath)}function a6(t){return t instanceof xn?(function(n){if(n.op==="=="){if(PI(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NAN"}};if(kI(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PI(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NOT_NAN"}};if(kI(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bu(n.field),op:NG(n.op),value:n.value}}})(t):t instanceof Ja?(function(n){const r=n.getFilters().map((a=>a6(a)));return r.length===1?r[0]:{compositeFilter:{op:TG(n.op),filters:r}}})(t):Me(54877,{filter:t})}function CG(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function i6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r,a,s=Le.min(),l=Le.min(),d=er.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.yt=e}}function OG(t){const e=AG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.Cn=new PG}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Ko.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class PG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Cn(Ct.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Cn(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s6=41943040;class kr{static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(s6,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qu(0)}static cr(){return new qu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="LruGarbageCollector",RG=1048576;function YI([t,e],[n,r]){const a=et(t,n);return a===0?et(e,r):a}class DG{constructor(e){this.Ir=e,this.buffer=new Cn(YI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(WI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ld(n)?Ee(WI,"Ignoring IndexedDB error during garbage collection: ",n):await od(n)}await this.Vr(3e5)}))}}class LG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Av.ce);const r=new DG(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(KI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,l,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,l=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),vu()<=Je.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${a} in `+(d-l)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function UG(t,e){return new LG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(){this.changes=new bc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&th(r.mutation,a,Xr.empty(),at.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const a=Hl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let l=Ff();return s.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Hl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,a){let s=Rs();const l=eh(),d=(function(){return eh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof il)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),th(p.mutation,h,p.mutation.getFieldMask(),at.now())):l.set(h.key,Xr.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>d.set(h,new VG(p,l.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=eh();let a=new Bt(((l,d)=>l-d)),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||Xr.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(a.get(d.batchId)||tt()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const l=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=BM();p.forEach((x=>{if(!s.has(x)){const w=WM(n.get(x),r.get(x));w!==null&&g.set(x,w),s=s.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return he.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return Oe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):he.resolve(Hl());let d=ch,f=s;return l.next((h=>he.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,tt()))).next((p=>({batchId:d,changes:$M(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next((r=>{let a=Ff();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let l=Ff();return this.indexManager.getCollectionParents(e,s).next((d=>he.forEach(d,(f=>{const h=(function(g,x){return new cd(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,x)=>{l=l.insert(g,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,ir.newInvalidDocument(p)))}));let d=Ff();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&th(p.mutation,h,Xr.empty(),at.now()),Tv(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ri(a.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:OG(a.bundledQuery),readTime:Ri(a.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(){this.overlays=new Bt(Oe.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hl();return he.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const a=Hl(),s=n.length+1,l=new Oe(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new Bt(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Hl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Hl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=a)););return he.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new oG(n,r));let s=this.qr.get(n);s===void 0&&(s=tt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(){this.sessionToken=er.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.Qr=new Cn(zn.$r),this.Ur=new Cn(zn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new zn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new zn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Oe(new Ct([])),r=new zn(n,e),a=new zn(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Oe(new Ct([])),r=new zn(n,e),a=new zn(n,e+1);let s=tt();return this.Ur.forEachInRange([r,a],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new zn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Oe.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Cn(zn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new sG(s,n,r,a);this.mutationQueue.push(l);for(const d of a)this.Zr=this.Zr.add(new zn(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?nA:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zn(n,0),a=new zn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(l=>{const d=this.Xr(l.Yr);s.push(d)})),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Cn(et);return n.forEach((a=>{const s=new zn(a,0),l=new zn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(d=>{r=r.add(d.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Oe.isDocumentKey(s)||(s=s.child(""));const l=new zn(new Oe(s),0);let d=new Cn(et);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),l),he.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,(a=>{const s=new zn(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new zn(n,0),a=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():ir.newInvalidDocument(a))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=Rs();const l=n.path,d=new Oe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||bH(xH(p),r)<=0||(a.has(p.key)||Tv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Me(9500)}ii(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new KG(this)}getSize(e){return he.resolve(this.size)}}class KG extends zG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.persistence=e,this.si=new bc((n=>iA(n)),sA),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new hA,this.targetCount=0,this.ai=qu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),he.waitFor(s).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((l=>{s.push(a.markPotentiallyOrphaned(e,l))})),he.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.ui={},this.overlays={},this.ci=new Av(0),this.li=!1,this.li=!0,this.hi=new qG,this.referenceDelegate=e(this),this.Pi=new WG(this),this.indexManager=new kG,this.remoteDocumentCache=(function(a){return new GG(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IG(n),this.Ii=new BG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new HG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const a=new YG(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class YG extends _H{constructor(e){super(),this.currentSequenceNumber=e}}class mA{constructor(e){this.persistence=e,this.Ri=new hA,this.Vi=null}static mi(e){return new mA(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const a=Oe.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dy{constructor(e,n){this.persistence=e,this.pi=new bc((r=>SH(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=UG(this,n)}static mi(e,n){return new dy(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?he.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((d=>{d||(r++,s.removeEntry(l,Le.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lg(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=tt(),a=tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new pA(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _7()?8:EH(cr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new QG;return this.Ss(e,n,l).next((d=>{if(s.result=d,this.Vs)return this.bs(e,n,l,d.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(vu()<=Je.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",xu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(vu()<=Je.DEBUG&&Ee("QueryEngine","Query:",xu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(vu()<=Je.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",xu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):he.resolve())}ys(e,n){if(LI(n))return he.resolve(null);let r=Pi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ly(n,null,"F"),r=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=tt(...s);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,l,f.readTime)?this.ys(e,ly(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return LI(n)||a.isEqual(Le.min())?he.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,a)?he.resolve(null):(vu()<=Je.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xu(n)),this.vs(e,l,n,vH(a,ch)).next((d=>d)))}))}Ds(e,n){let r=new Cn(zM(e));return n.forEach(((a,s)=>{Tv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return vu()<=Je.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",xu(n)),this.ps.getDocumentsMatchingQuery(e,n,Ko.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="LocalStore",ZG=3e8;class JG{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Bt(et),this.xs=new bc((s=>iA(s)),sA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $G(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function eK(t,e,n,r){return new JG(t,e,n,r)}async function l6(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],d=[];let f=tt();for(const h of a){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:d})))}))}))}function tK(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,x=g.keys();let w=he.resolve();return x.forEach((E=>{w=w.next((()=>p.getEntry(f,E))).next((A=>{const S=h.docVersions.get(E);ht(S!==null,48541),A.version.compareTo(S)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=tt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function c6(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function nK(t,e){const n=Ve(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const x=a.get(g);if(!x)return;d.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let w=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(er.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),a=a.insert(g,w),(function(A,S,C){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=ZG?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(x,w,p)&&d.push(n.Pi.updateTargetData(s,w))}));let f=Rs(),h=tt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(rK(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Le.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return he.waitFor(d).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=a,s)))}function rK(t,e,n){let r=tt(),a=tt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Rs();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):Ee(gA,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:a}}))}function aK(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=nA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function iK(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,he.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new Vo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function w_(t,e,n){const r=Ve(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!ld(l))throw l;Ee(gA,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function QI(t,e,n){const r=Ve(t);let a=Le.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const g=Ve(f),x=g.xs.get(p);return x!==void 0?he.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,l,Pi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:Le.min(),n?s:tt()))).next((d=>(sK(r,qH(e),d),{documents:d,Qs:s})))))}function sK(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class XI{constructor(){this.activeTargetIds=QH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oK{constructor(){this.Mo=new XI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="ConnectivityMonitor";class JI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(ZI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(ZI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg=null;function __(){return cg===null?cg=(function(){return 268435456+Math.round(2147483648*Math.random())})():cg++,"0x"+cg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="RestConnection",cK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===iy?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const l=__(),d=this.zo(e,n.toUriEncodedString());Ee(lw,`Sending RPC '${e}' ${l}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:h}=new URL(d),p=rl(h);return this.Jo(e,d,f,r,p).then((g=>(Ee(lw,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Vu(lw,`RPC '${e}' ${l} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,s,l){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=cK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="WebChannelConnection";class fK extends uK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const l=__();return new Promise(((d,f)=>{const h=new fM;h.setWithCredentials(!0),h.listenOnce(hM.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Mg.NO_ERROR:const g=h.getResponseJson();Ee(nr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),d(g);break;case Mg.TIMEOUT:Ee(nr,`RPC '${e}' ${l} timed out`),f(new we(de.DEADLINE_EXCEEDED,"Request time out"));break;case Mg.HTTP_ERROR:const x=h.getStatus();if(Ee(nr,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const A=(function(C){const U=C.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(U)>=0?U:de.UNKNOWN})(E.status);f(new we(A,E.message))}else f(new we(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new we(de.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ee(nr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(a);Ee(nr,`RPC '${e}' ${l} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=__(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gM(),d=pM(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");Ee(nr,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=l.createWebChannel(p,f);this.I_(g);let x=!1,w=!1;const E=new dK({Yo:S=>{w?Ee(nr,`Not sending because RPC '${e}' stream ${a} is closed:`,S):(x||(Ee(nr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),Ee(nr,`RPC '${e}' stream ${a} sending:`,S),g.send(S))},Zo:()=>g.close()}),A=(S,C,U)=>{S.listen(C,(R=>{try{U(R)}catch(T){setTimeout((()=>{throw T}),0)}}))};return A(g,Bf.EventType.OPEN,(()=>{w||(Ee(nr,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),A(g,Bf.EventType.CLOSE,(()=>{w||(w=!0,Ee(nr,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),A(g,Bf.EventType.ERROR,(S=>{w||(w=!0,Vu(nr,`RPC '${e}' stream ${a} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new we(de.UNAVAILABLE,"The operation could not be completed")))})),A(g,Bf.EventType.MESSAGE,(S=>{var C;if(!w){const U=S.data[0];ht(!!U,16349);const R=U,T=(R==null?void 0:R.error)||((C=R[0])==null?void 0:C.error);if(T){Ee(nr,`RPC '${e}' stream ${a} received error:`,T);const M=T.status;let V=(function(N){const P=yn[N];if(P!==void 0)return QM(P)})(M),I=T.message;V===void 0&&(V=de.INTERNAL,I="Unknown error status: "+M+" with message "+T.message),w=!0,E.a_(new we(V,I)),g.close()}else Ee(nr,`RPC '${e}' stream ${a} received:`,U),E.u_(U)}})),A(d,mM.STAT_EVENT,(S=>{S.stat===u_.PROXY?Ee(nr,`RPC '${e}' stream ${a} detected buffering proxy`):S.stat===u_.NOPROXY&&Ee(nr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t){return new gG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="PersistentStream";class d6{constructor(e,n,r,a,s,l,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new we(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(eO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(eO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hK extends d6{constructor(e,n,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xG(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Le.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?Ri(l.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=b_(this.serializer),n.addTarget=(function(s,l){let d;const f=l.target;if(d=p_(f)?{documents:_G(s,f)}:{query:EG(s,f).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=JM(s,l.resumeToken);const h=y_(s,l.expectedCount);h!==null&&(d.expectedCount=h)}else if(l.snapshotVersion.compareTo(Le.min())>0){d.readTime=uy(s,l.snapshotVersion.toTimestamp());const h=y_(s,l.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=SG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=b_(this.serializer),n.removeTarget=e,this.q_(n)}}class mK extends d6{constructor(e,n,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wG(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=b_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>bG(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{}class gK extends pK{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,v_(n,r),a,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(de.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,v_(n,r),a,l,d,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="RemoteStore";class vK{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{wc(this)&&(Ee(oc,"Restarting streams for network reachability change."),await(async function(f){const h=Ve(f);h.Ea.add(4),await Qh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Pv(h)})(this))}))})),this.Ra=new yK(r,a)}}async function Pv(t){if(wc(t))for(const e of t.da)await e(!0)}async function Qh(t){for(const e of t.da)await e(!1)}function f6(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bA(n)?xA(n):ud(n).O_()&&vA(n,e))}function yA(t,e){const n=Ve(t),r=ud(n);n.Ia.delete(e),r.O_()&&h6(n,e),n.Ia.size===0&&(r.O_()?r.L_():wc(n)&&n.Ra.set("Unknown"))}function vA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ud(t).Y_(e)}function h6(t,e){t.Va.Ue(e),ud(t).Z_(e)}function xA(t){t.Va=new fG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ud(t).start(),t.Ra.ua()}function bA(t){return wc(t)&&!ud(t).x_()&&t.Ia.size>0}function wc(t){return Ve(t).Ea.size===0}function m6(t){t.Va=void 0}async function xK(t){t.Ra.set("Online")}async function bK(t){t.Ia.forEach(((e,n)=>{vA(t,e)}))}async function wK(t,e){m6(t),bA(t)?(t.Ra.ha(e),xA(t)):t.Ra.set("Unknown")}async function _K(t,e,n){if(t.Ra.set("Online"),e instanceof ZM&&e.state===2&&e.cause)try{await(async function(a,s){const l=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,l),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){Ee(oc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fy(t,r)}else if(e instanceof Vg?t.Va.Ze(e):e instanceof XM?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await c6(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const d=s.Va.Tt(l);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(er.EMPTY_BYTE_STRING,p.snapshotVersion)),h6(s,f);const g=new Vo(p.target,f,h,p.sequenceNumber);vA(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ee(oc,"Failed to raise snapshot:",r),await fy(t,r)}}async function fy(t,e,n){if(!ld(e))throw e;t.Ea.add(1),await Qh(t),t.Ra.set("Offline"),n||(n=()=>c6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(oc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Pv(t)}))}function p6(t,e){return e().catch((n=>fy(t,n,e)))}async function Rv(t){const e=Ve(t),n=Xo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:nA;for(;EK(e);)try{const a=await aK(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,AK(e,a)}catch(a){await fy(e,a)}g6(e)&&y6(e)}function EK(t){return wc(t)&&t.Ta.length<10}function AK(t,e){t.Ta.push(e);const n=Xo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function g6(t){return wc(t)&&!Xo(t).x_()&&t.Ta.length>0}function y6(t){Xo(t).start()}async function SK(t){Xo(t).ra()}async function jK(t){const e=Xo(t);for(const n of t.Ta)e.ea(n.mutations)}async function NK(t,e,n){const r=t.Ta.shift(),a=uA.from(r,e,n);await p6(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Rv(t)}async function TK(t,e){e&&Xo(t).X_&&await(async function(r,a){if((function(l){return cG(l)&&l!==de.ABORTED})(a.code)){const s=r.Ta.shift();Xo(r).B_(),await p6(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await Rv(r)}})(t,e),g6(t)&&y6(t)}async function tO(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),Ee(oc,"RemoteStore received new credentials");const r=wc(n);n.Ea.add(3),await Qh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Pv(n)}async function CK(t,e){const n=Ve(t);e?(n.Ea.delete(2),await Pv(n)):e||(n.Ea.add(2),await Qh(n),n.Ra.set("Unknown"))}function ud(t){return t.ma||(t.ma=(function(n,r,a){const s=Ve(n);return s.sa(),new hK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:xK.bind(null,t),t_:bK.bind(null,t),r_:wK.bind(null,t),H_:_K.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),bA(t)?xA(t):t.Ra.set("Unknown")):(await t.ma.stop(),m6(t))}))),t.ma}function Xo(t){return t.fa||(t.fa=(function(n,r,a){const s=Ve(n);return s.sa(),new mK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:SK.bind(null,t),r_:TK.bind(null,t),ta:jK.bind(null,t),na:NK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Rv(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(oc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const l=Date.now()+r,d=new wA(e,n,l,a,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _A(t,e){if(Ps("AsyncQueue",`${e}: ${t}`),ld(t))return new we(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{static emptySet(e){return new Ru(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=Ff(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.ga=new Bt(Oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Hu{constructor(e,n,r,a,s,l,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,s){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new Hu(e,n,Ru.emptySet(n),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OK{constructor(){this.queries=rO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ve(n),s=a.queries;a.queries=rO(),s.forEach(((l,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new we(de.ABORTED,"Firestore shutting down"))}}function rO(){return new bc((t=>UM(t)),Nv)}async function v6(t,e){const n=Ve(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new IK,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const d=_A(l,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&EA(n)}async function x6(t,e){const n=Ve(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kK(t,e){const n=Ve(t);let r=!1;for(const a of e){const s=a.query,l=n.queries.get(s);if(l){for(const d of l.Sa)d.Fa(a)&&(r=!0);l.wa=a}}r&&EA(n)}function PK(t,e,n){const r=Ve(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function EA(t){t.Ca.forEach((e=>{e.next()}))}var E_,aO;(aO=E_||(E_={})).Ma="default",aO.Cache="cache";class b6{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==E_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.key=e}}class _6{constructor(e){this.key=e}}class RK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=zM(e),this.tu=new Ru(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new nO,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const x=a.get(p),w=Tv(this.query,g)?g:null,E=!!x&&this.mutatedKeys.has(x.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;x&&w?x.data.isEqual(w.data)?E!==A&&(r.track({type:3,doc:w}),S=!0):this.su(x,w)||(r.track({type:2,doc:w}),S=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(d=!0)):!x&&w?(r.track({type:0,doc:w}),S=!0):x&&!w&&(r.track({type:1,doc:x}),S=!0,(f||h)&&(d=!0)),S&&(w?(l=l.add(w),s=A?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(w,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:S})}};return A(w)-A(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Hu(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new _6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new w6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AA="SyncEngine";class DK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MK{constructor(e){this.key=e,this.hu=!1}}class LK{constructor(e,n,r,a,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new bc((d=>UM(d)),Nv),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Oe.comparator),this.Au=new Map,this.Ru=new hA,this.Vu={},this.mu=new Map,this.fu=qu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UK(t,e,n=!0){const r=T6(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await E6(r,e,n,!0),a}async function zK(t,e){const n=T6(t);await E6(n,e,!0,!1)}async function E6(t,e,n,r){const a=await iK(t.localStore,Pi(e)),s=a.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await VK(t,e,s,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&f6(t.remoteStore,a),d}async function VK(t,e,n,r,a){t.pu=(g,x,w)=>(async function(A,S,C,U){let R=S.view.ru(C);R.Cs&&(R=await QI(A.localStore,S.query,!1).then((({documents:I})=>S.view.ru(I,R))));const T=U&&U.targetChanges.get(S.targetId),M=U&&U.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(R,A.isPrimaryClient,T,M);return sO(A,S.targetId,V.au),V.snapshot})(t,g,x,w);const s=await QI(t.localStore,e,!0),l=new RK(e,s.Qs),d=l.ru(s.documents),f=Yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=l.applyChanges(d,t.isPrimaryClient,f);sO(t,n,h.au);const p=new DK(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function $K(t,e,n){const r=Ve(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((l=>!Nv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await w_(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&yA(r.remoteStore,a.targetId),A_(r,a.targetId)})).catch(od)):(A_(r,a.targetId),await w_(r.localStore,a.targetId,!0))}async function BK(t,e){const n=Ve(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yA(n.remoteStore,r.targetId))}async function FK(t,e,n){const r=QK(t);try{const a=await(function(l,d){const f=Ve(l),h=at.now(),p=d.reduce(((w,E)=>w.add(E.key)),tt());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let E=Rs(),A=tt();return f.Ns.getEntries(w,p).next((S=>{E=S,E.forEach(((C,U)=>{U.isValidDocument()||(A=A.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,E))).next((S=>{g=S;const C=[];for(const U of d){const R=aG(U,g.get(U.key).overlayedDocument);R!=null&&C.push(new il(U.key,R,IM(R.value.mapValue),_a.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,C,d)})).next((S=>{x=S;const C=S.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(w,S.batchId,C)}))})).then((()=>({batchId:x.batchId,changes:$M(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,d,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new Bt(et)),h=h.insert(d,f),l.Vu[l.currentUser.toKey()]=h})(r,a.batchId,n),await Xh(r,a.changes),await Rv(r.remoteStore)}catch(a){const s=_A(a,"Failed to persist write");n.reject(s)}}async function A6(t,e){const n=Ve(t);try{const r=await nK(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const l=n.Au.get(s);l&&(ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?ht(l.hu,14607):a.removedDocuments.size>0&&(ht(l.hu,42227),l.hu=!1))})),await Xh(n,r,e)}catch(r){await od(r)}}function iO(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,l)=>{const d=l.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(l,d){const f=Ve(l);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(d)&&(h=!0)})),h&&EA(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qK(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let l=new Bt(Oe.comparator);l=l.insert(s,ir.newNoDocument(s,Le.min()));const d=tt().add(s),f=new Ov(Le.min(),new Map,new Bt(et),l,d);await A6(r,f),r.du=r.du.remove(s),r.Au.delete(e),SA(r)}else await w_(r.localStore,e,!1).then((()=>A_(r,e,n))).catch(od)}async function HK(t,e){const n=Ve(t),r=e.batch.batchId;try{const a=await tK(n.localStore,e);j6(n,r,null),S6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xh(n,a)}catch(a){await od(a)}}async function GK(t,e,n){const r=Ve(t);try{const a=await(function(l,d){const f=Ve(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(ht(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);j6(r,e,n),S6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xh(r,a)}catch(a){await od(a)}}function S6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function j6(t,e,n){const r=Ve(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function A_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||N6(t,r)}))}function N6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),SA(t))}function sO(t,e,n){for(const r of n)r instanceof w6?(t.Ru.addReference(r.key,e),KK(t,r)):r instanceof _6?(Ee(AA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||N6(t,r.key)):Me(19791,{wu:r})}function KK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(AA,"New document in limbo: "+n),t.Eu.add(r),SA(t))}function SA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Oe(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new MK(n)),t.du=t.du.insert(n,r),f6(t.remoteStore,new Vo(Pi(oA(n.path)),r,"TargetPurposeLimboResolution",Av.ce))}}async function Xh(t,e,n){const r=Ve(t),a=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{l.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=pA.As(f.targetId,h);s.push(g)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(f,h){const p=Ve(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>he.forEach(h,(x=>he.forEach(x.Es,(w=>p.persistence.referenceDelegate.addReference(g,x.targetId,w))).next((()=>he.forEach(x.ds,(w=>p.persistence.referenceDelegate.removeReference(g,x.targetId,w)))))))))}catch(g){if(!ld(g))throw g;Ee(gA,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const w=p.Ms.get(x),E=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(x,A)}}})(r.localStore,s))}async function WK(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){Ee(AA,"User change. New user:",e.toKey());const r=await l6(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new we(de.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xh(n,r.Ls)}}function YK(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let a=tt();const s=n.Iu.get(e);if(!s)return a;for(const l of s){const d=n.Tu.get(l);a=a.unionWith(d.view.nu)}return a}}function T6(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=A6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qK.bind(null,e),e.Pu.H_=kK.bind(null,e.eventManager),e.Pu.yu=PK.bind(null,e.eventManager),e}function QK(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GK.bind(null,e),e}class hy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eK(this.persistence,new XG,e.initialUser,this.serializer)}Cu(e){return new o6(mA.mi,this.serializer)}Du(e){return new oK}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hy.provider={build:()=>new hy};class XK extends hy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof dy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new o6((r=>dy.mi(r,n)),this.serializer)}}class S_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WK.bind(null,this.syncEngine),await CK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OK})()}createDatastore(e){const n=kv(e.databaseInfo.databaseId),r=(function(s){return new fK(s)})(e.databaseInfo);return(function(s,l,d,f){return new gK(s,l,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,l,d){return new vK(r,a,s,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>iO(this.syncEngine,n,0)),(function(){return JI.v()?new JI:new lK})())}createSyncEngine(e,n){return(function(a,s,l,d,f,h,p){const g=new LK(a,s,l,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const s=Ve(a);Ee(oc,"RemoteStore shutting down."),s.Ea.add(5),await Qh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}S_.provider={build:()=>new S_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="FirestoreClient";class ZK{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=ar.UNAUTHENTICATED,this.clientId=tA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Ee(Zo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ee(Zo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_A(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function uw(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Zo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await l6(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JK(t);Ee(Zo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>tO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>tO(e.remoteStore,a))),t._onlineComponents=e}async function JK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Zo,"Using user provided OfflineComponentProvider");try{await uw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Vu("Error using user provided cache. Falling back to memory cache: "+n),await uw(t,new hy)}}else Ee(Zo,"Using default OfflineComponentProvider"),await uw(t,new XK(void 0));return t._offlineComponents}async function I6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Zo,"Using user provided OnlineComponentProvider"),await oO(t,t._uninitializedComponentsProvider._online)):(Ee(Zo,"Using default OnlineComponentProvider"),await oO(t,new S_))),t._onlineComponents}function eW(t){return I6(t).then((e=>e.syncEngine))}async function O6(t){const e=await I6(t),n=e.eventManager;return n.onListen=UK.bind(null,e.syncEngine),n.onUnlisten=$K.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BK.bind(null,e.syncEngine),n}function tW(t,e,n={}){const r=new Ns;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,h){const p=new C6({next:x=>{p.Nu(),l.enqueueAndForget((()=>x6(s,g)));const w=x.docs.has(d);!w&&x.fromCache?h.reject(new we(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?h.reject(new we(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new b6(oA(d.path),p,{includeMetadataChanges:!0,qa:!0});return v6(s,g)})(await O6(t),t.asyncQueue,e,n,r))),r.promise}function nW(t,e,n={}){const r=new Ns;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,h){const p=new C6({next:x=>{p.Nu(),l.enqueueAndForget((()=>x6(s,g))),x.fromCache&&f.source==="server"?h.reject(new we(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new b6(d,p,{includeMetadataChanges:!0,qa:!0});return v6(s,g)})(await O6(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="firestore.googleapis.com",cO=!0;class uO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P6,this.ssl=cO}else this.host=e.host,this.ssl=e.ssl??cO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RG)throw new we(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dv{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new sH;switch(r.type){case"firstParty":return new uH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=lO.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),lO.delete(n),r.terminate())})(this),Promise.resolve()}}function rW(t,e,n,r={}){var h;t=Za(t,Dv);const a=rl(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(UE(`https://${d}`),zE("Firestore",!0)),s.host!==P6&&s.host!==d&&Vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:r};if(!nc(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=ar.MOCK_USER;else{p=_4(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new we(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ar(x)}t._authCredentials=new oH(new vM(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sl(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kh(n,sn._jsonSchema))return new sn(e,r||null,new Oe(Ct.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:bn("string",sn._jsonSchemaVersion),referencePath:bn("string")};class qo extends sl{constructor(e,n,r){super(e,n,oA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Oe(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function it(t,e,...n){if(t=jt(t),xM("collection","path",e),t instanceof Dv){const r=Ct.fromString(e,...n);return EI(r),new qo(t,null,r)}{if(!(t instanceof sn||t instanceof qo))throw new we(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return EI(r),new qo(t.firestore,null,r)}}function Fe(t,e,...n){if(t=jt(t),arguments.length===1&&(e=tA.newId()),xM("doc","path",e),t instanceof Dv){const r=Ct.fromString(e,...n);return _I(r),new sn(t,null,new Oe(r))}{if(!(t instanceof sn||t instanceof qo))throw new we(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return _I(r),new sn(t.firestore,t instanceof qo?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="AsyncQueue";class fO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u6(this,"async_queue_retry"),this._c=()=>{const r=cw();r&&Ee(dO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ld(e))throw e;Ee(dO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",hO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=wA.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:hO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _c extends Dv{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new fO,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fO(e),this._firestoreClient=void 0,await e}}}function aW(t,e){const n=typeof t=="object"?t:BE(),r=typeof t=="string"?t:iy,a=xv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=x4("firestore");s&&rW(a,...s)}return a}function jA(t){if(t._terminated)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iW(t),t._firestoreClient}function iW(t){var r,a,s;const e=t._freezeSettings(),n=(function(d,f,h,p){return new TH(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,k6(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(er.fromBase64String(e))}catch(n){throw new we(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ba._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kh(e,ba._jsonSchema))return ba.fromBase64String(e.bytes)}}ba._jsonSchemaVersion="firestore/bytes/1.0",ba._jsonSchema={type:bn("string",ba._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(Kh(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:bn("string",Di._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kh(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new we(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:bn("string",Mi._jsonSchemaVersion),vectorValues:bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=/^__.*__$/;class oW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new il(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wh(e,this.data,n,this.fieldTransforms)}}class R6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new il(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function D6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class NA{constructor(e,n,r,a,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new NA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return my(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(D6(this.Ac)&&sW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kv(e)}Cc(e,n,r,a=!1){return new NA({Ac:e,methodName:n,Dc:r,path:Jn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uv(t){const e=t._freezeSettings(),n=kv(t._databaseId);return new lW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M6(t,e,n,r,a,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);CA("Data must be an object, but it was:",l,r);const d=L6(r,l);let f,h;if(s.merge)f=new Xr(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const x=j_(e,g,n);if(!l.contains(x))throw new we(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);z6(p,x)||p.push(x)}f=new Xr(p),h=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=l.fieldTransforms;return new oW(new Rr(d),f,h)}class zv extends Lv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zv}}class TA extends Lv{_toFieldTransform(e){return new eG(e.path,new mh)}isEqual(e){return e instanceof TA}}function cW(t,e,n,r){const a=t.Cc(1,e,n);CA("Data must be an object, but it was:",a,r);const s=[],l=Rr.empty();al(r,((f,h)=>{const p=IA(e,f,n);h=jt(h);const g=a.yc(p);if(h instanceof zv)s.push(p);else{const x=Zh(h,g);x!=null&&(s.push(p),l.set(p,x))}}));const d=new Xr(s);return new R6(l,d,a.fieldTransforms)}function uW(t,e,n,r,a,s){const l=t.Cc(1,e,n),d=[j_(e,r,n)],f=[a];if(s.length%2!=0)throw new we(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(j_(e,s[x])),f.push(s[x+1]);const h=[],p=Rr.empty();for(let x=d.length-1;x>=0;--x)if(!z6(h,d[x])){const w=d[x];let E=f[x];E=jt(E);const A=l.yc(w);if(E instanceof zv)h.push(w);else{const S=Zh(E,A);S!=null&&(h.push(w),p.set(w,S))}}const g=new Xr(h);return new R6(p,g,l.fieldTransforms)}function dW(t,e,n,r=!1){return Zh(n,t.Cc(r?4:3,e))}function Zh(t,e){if(U6(t=jt(t)))return CA("Unsupported field value:",e,t),L6(t,e);if(t instanceof Lv)return(function(r,a){if(!D6(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let l=0;for(const d of r){let f=Zh(d,a.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XH(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:uy(a.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uy(a.serializer,s)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ba)return{bytesValue:JM(a.serializer,r._byteString)};if(r instanceof sn){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fA(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Mi)return(function(l,d){return{mapValue:{fields:{[TM]:{stringValue:CM},[sy]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return lA(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Ev(r)}`)})(t,e)}function L6(t,e){const n={};return _M(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(t,((r,a)=>{const s=Zh(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function U6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Di||t instanceof ba||t instanceof sn||t instanceof Lv||t instanceof Mi)}function CA(t,e,n){if(!U6(n)||!bM(n)){const r=Ev(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function j_(t,e,n){if((e=jt(e))instanceof Mv)return e._internalPath;if(typeof e=="string")return IA(t,e);throw my("Field path arguments must be of type string or ",t,!1,void 0,n)}const fW=new RegExp("[~\\*/\\[\\]]");function IA(t,e,n){if(e.search(fW)>=0)throw my(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mv(...e.split("."))._internalPath}catch{throw my(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function my(t,e,n,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new we(de.INVALID_ARGUMENT,d+t+f)}function z6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hW extends V6{data(){return super.data()}}function Vv(t,e){return typeof e=="string"?IA(t,e):e instanceof Mv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OA{}class kA extends OA{}function Mr(t,e,...n){let r=[];e instanceof OA&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof PA)).length,d=s.filter((f=>f instanceof $v)).length;if(l>1||l>0&&d>0)throw new we(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class $v extends kA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $v(e,n,r)}_apply(e){const n=this._parse(e);return $6(e._query,n),new sl(e.firestore,e.converter,g_(e._query,n))}_parse(e){const n=Uv(e.firestore);return(function(s,l,d,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new we(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){pO(g,p);const E=[];for(const A of g)E.push(mO(f,s,A));x={arrayValue:{values:E}}}else x=mO(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||pO(g,p),x=dW(d,l,g,p==="in"||p==="not-in");return xn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ds(t,e,n){const r=e,a=Vv("where",t);return $v._create(a,r,n)}class PA extends OA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new PA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ja.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let l=a;const d=s.getFlattenedFilters();for(const f of d)$6(l,f),l=g_(l,f)})(e._query,n),new sl(e.firestore,e.converter,g_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class RA extends kA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new RA(e,n)}_apply(e){const n=(function(a,s,l){if(a.startAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hh(s,l)})(e._query,this._field,this._direction);return new sl(e.firestore,e.converter,(function(a,s){const l=a.explicitOrderBy.concat([s]);return new cd(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Jh(t,e="asc"){const n=e,r=Vv("orderBy",t);return RA._create(r,n)}class DA extends kA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new DA(e,n,r)}_apply(e){return new sl(e.firestore,e.converter,ly(e._query,this._limit,this._limitType))}}function Bv(t){return yH("limit",t),DA._create("limit",t,"F")}function mO(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new we(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LM(e)&&n.indexOf("/")!==-1)throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!Oe.isDocumentKey(r))throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OI(t,new Oe(r))}if(n instanceof sn)return OI(t,n._key);throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ev(n)}.`)}function pO(t,e){if(!Array.isArray(t)||t.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $6(t,e){const n=(function(a,s){for(const l of a)for(const d of l.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pW{convertValue(e,n="none"){switch(Qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return al(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,a,s;const n=(s=(a=(r=e.fields)==null?void 0:r[sy].arrayValue)==null?void 0:a.values)==null?void 0:s.map((l=>an(l.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new Di(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uh(e));default:return null}}convertTimestamp(e){const n=Wo(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);ht(i6(r),9688,{name:e});const a=new dh(r.get(1),r.get(3)),s=new Oe(r.popFirst(5));return a.isEqual(n)||Ps(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Hf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends V6{constructor(e,n,r,a,s,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $g(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:bn("string",Yl._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class $g extends Yl{data(e={}){return super.data(e)}}class Du{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Hf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new $g(this._firestore,this._userDataWriter,r.key,r,new Hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((d=>{const f=new $g(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new $g(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),p=l.indexOf(d.doc.key)),{type:gW(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){t=Za(t,sn);const e=Za(t.firestore,_c);return tW(jA(e),t._key).then((n=>yW(e,t,n)))}Du._jsonSchemaVersion="firestore/querySnapshot/1.0",Du._jsonSchema={type:bn("string",Du._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};class F6 extends pW{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function Bn(t){t=Za(t,sl);const e=Za(t.firestore,_c),n=jA(e),r=new F6(e);return mW(t._query),nW(n,t._query).then((a=>new Du(e,r,t,a)))}function Ya(t,e,n){t=Za(t,sn);const r=Za(t.firestore,_c),a=B6(t.converter,e,n);return Fv(r,[M6(Uv(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,_a.none())])}function vr(t,e,n,...r){t=Za(t,sn);const a=Za(t.firestore,_c),s=Uv(a);let l;return l=typeof(e=jt(e))=="string"||e instanceof Mv?uW(s,"updateDoc",t._key,e,n,r):cW(s,"updateDoc",t._key,e),Fv(a,[l.toMutation(t._key,_a.exists(!0))])}function lc(t){return Fv(Za(t.firestore,_c),[new cA(t._key,_a.none())])}function xr(t,e){const n=Za(t.firestore,_c),r=Fe(t),a=B6(t.converter,e);return Fv(n,[M6(Uv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,_a.exists(!1))]).then((()=>r))}function Fv(t,e){return(function(r,a){const s=new Ns;return r.asyncQueue.enqueueAndForget((async()=>FK(await eW(r),a,s))),s.promise})(jA(t),e)}function yW(t,e,n){const r=n.docs.get(e._key),a=new F6(t);return new Yl(t,a,e._key,r,new Hf(n.hasPendingWrites,n.fromCache),e.converter)}function or(){return new TA("serverTimestamp")}(function(e,n=!0){(function(a){sd=a})(xc),rc(new Go("firestore",((r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),d=new _c(new lH(r.getProvider("auth-internal")),new dH(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new we(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(h.options.projectId,p)})(l,a),l);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Ci(vI,xI,e),Ci(vI,xI,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="firebasestorage.googleapis.com",H6="storageBucket",vW=120*1e3,xW=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends Ki{constructor(e,n,r=0){super(dw(e),`Firebase Storage: ${n} (${dw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wt||(Wt={}));function dw(t){return"storage/"+t}function MA(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Wt.UNKNOWN,t)}function bW(t){return new Qt(Wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wW(t){return new Qt(Wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _W(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Wt.UNAUTHENTICATED,t)}function EW(){return new Qt(Wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function AW(t){return new Qt(Wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function SW(){return new Qt(Wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jW(){return new Qt(Wt.CANCELED,"User canceled the upload/download.")}function NW(t){return new Qt(Wt.INVALID_URL,"Invalid URL '"+t+"'.")}function TW(t){return new Qt(Wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CW(){return new Qt(Wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+H6+"' property when initializing the app?")}function IW(){return new Qt(Wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OW(){return new Qt(Wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kW(t){return new Qt(Wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function N_(t){return new Qt(Wt.INVALID_ARGUMENT,t)}function G6(){return new Qt(Wt.APP_DELETED,"The Firebase app was deleted.")}function PW(t){return new Qt(Wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nh(t,e){return new Qt(Wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function If(t){throw new Qt(Wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gr.makeFromUrl(e,n)}catch{return new gr(e,"")}if(r.path==="")return r;throw TW(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+a+l,"i"),f={bucket:1,path:3};function h(T){T.path_=decodeURIComponent(T.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},A=n===q6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",C=new RegExp(`^https?://${A}/${a}/${S}`,"i"),R=[{regex:d,indices:f,postModify:s},{regex:w,indices:E,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let T=0;T<R.length;T++){const M=R[T],V=M.regex.exec(e);if(V){const I=V[M.indices.bucket];let k=V[M.indices.path];k||(k=""),r=new gr(I,k),M.postModify(r);break}}if(r==null)throw NW(e);return r}}class RW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t,e,n){let r=1,a=null,s=null,l=!1,d=0;function f(){return d===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){a=setTimeout(()=>{a=null,t(w,f())},S)}function x(){s&&clearTimeout(s)}function w(S,...C){if(h){x();return}if(S){x(),p.call(null,S,...C);return}if(f()||l){x(),p.call(null,S,...C);return}r<64&&(r*=2);let R;d===1?(d=2,R=0):R=(r+Math.random())*1e3,g(R)}let E=!1;function A(S){E||(E=!0,x(),!h&&(a!==null?(S||(d=2),clearTimeout(a),g(0)):S||(d=1)))}return g(0),s=setTimeout(()=>{l=!0,A(!0)},n),A}function MW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t){return t!==void 0}function UW(t){return typeof t=="object"&&!Array.isArray(t)}function LA(t){return typeof t=="string"||t instanceof String}function gO(t){return UA()&&t instanceof Blob}function UA(){return typeof Blob<"u"}function T_(t,e,n,r){if(r<e)throw N_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw N_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function K6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ql;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ql||(Ql={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n,r,a,s,l,d,f,h,p,g,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new ug(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const d=s.getErrorCode()===Ql.NO_ERROR,f=s.getStatus();if(!d||zW(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Ql.ABORT;r(!1,new ug(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new ug(h,s))})},n=(r,a)=>{const s=this.resolve_,l=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());LW(f)?s(f):s()}catch(f){l(f)}else if(d!==null){const f=MA();f.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,f)):l(f)}else if(a.canceled){const f=this.appDelete_?G6():jW();l(f)}else{const f=SW();l(f)}};this.canceled_?n(!1,new ug(!1,null,!0)):this.backoffId_=DW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ug{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $W(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function HW(t,e,n,r,a,s,l=!0,d=!1){const f=K6(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return FW(p,e),$W(p,n),BW(p,s),qW(p,r),new VW(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function KW(...t){const e=GW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(UA())return new Blob(t);throw new Qt(Wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function WW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){if(typeof atob>"u")throw kW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fw{constructor(e,n){this.data=e,this.contentType=n||null}}function QW(t,e){switch(t){case Ni.RAW:return new fw(W6(e));case Ni.BASE64:case Ni.BASE64URL:return new fw(Y6(t,e));case Ni.DATA_URL:return new fw(ZW(e),JW(e))}throw MA()}function W6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,l=t.charCodeAt(++n);r=65536|(s&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XW(t){let e;try{e=decodeURIComponent(t)}catch{throw nh(Ni.DATA_URL,"Malformed data URL.")}return W6(e)}function Y6(t,e){switch(t){case Ni.BASE64:{const a=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(a||s)throw nh(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ni.BASE64URL:{const a=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(a||s)throw nh(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=YW(e)}catch(a){throw a.message.includes("polyfill")?a:nh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class Q6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nh(Ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=eY(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ZW(t){const e=new Q6(t);return e.base64?Y6(Ni.BASE64,e.rest):XW(e.rest)}function JW(t){return new Q6(t).contentType}function eY(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){let r=0,a="";gO(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(gO(this.data_)){const r=this.data_,a=WW(r,e,n);return a===null?null:new Uo(a)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Uo(r,!0)}}static getBlob(...e){if(UA()){const n=e.map(r=>r instanceof Uo?r.data_:r);return new Uo(KW.apply(null,n))}else{const n=e.map(l=>LA(l)?QW(Ni.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const a=new Uint8Array(r);let s=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)a[s++]=l[d]}),new Uo(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){let e;try{e=JSON.parse(t)}catch{return null}return UW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nY(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function X6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t,e){return e}class mr{constructor(e,n,r,a){this.server=e,this.local=n||e,this.writable=!!r,this.xform=a||rY}}let dg=null;function aY(t){return!LA(t)||t.length<2?t:X6(t)}function VA(){if(dg)return dg;const t=[];t.push(new mr("bucket")),t.push(new mr("generation")),t.push(new mr("metageneration")),t.push(new mr("name","fullPath",!0));function e(s,l){return aY(l)}const n=new mr("name");n.xform=e,t.push(n);function r(s,l){return l!==void 0?Number(l):l}const a=new mr("size");return a.xform=r,t.push(a),t.push(new mr("timeCreated")),t.push(new mr("updated")),t.push(new mr("md5Hash",null,!0)),t.push(new mr("cacheControl",null,!0)),t.push(new mr("contentDisposition",null,!0)),t.push(new mr("contentEncoding",null,!0)),t.push(new mr("contentLanguage",null,!0)),t.push(new mr("contentType",null,!0)),t.push(new mr("metadata","customMetadata",!0)),dg=t,dg}function iY(t,e){function n(){const r=t.bucket,a=t.fullPath,s=new gr(r,a);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function sY(t,e,n){const r={};r.type="file";const a=n.length;for(let s=0;s<a;s++){const l=n[s];r[l.local]=l.xform(r,e[l.server])}return iY(r,t),r}function Z6(t,e,n){const r=zA(e);return r===null?null:sY(t,r,n)}function oY(t,e,n,r){const a=zA(e);if(a===null||!LA(a.downloadTokens))return null;const s=a.downloadTokens;if(s.length===0)return null;const l=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,g=t.fullPath,x="/b/"+l(p)+"/o/"+l(g),w=dd(x,n,r),E=K6({alt:"media",token:h});return w+E})[0]}function lY(t,e){const n={},r=e.length;for(let a=0;a<r;a++){const s=e[a];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="prefixes",vO="items";function cY(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[yO])for(const a of n[yO]){const s=a.replace(/\/$/,""),l=t._makeStorageReference(new gr(e,s));r.prefixes.push(l)}if(n[vO])for(const a of n[vO]){const s=t._makeStorageReference(new gr(e,a.name));r.items.push(s)}return r}function uY(t,e,n){const r=zA(n);return r===null?null:cY(t,e,r)}class em{constructor(e,n,r,a){this.url=e,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){if(!t)throw MA()}function J6(t,e){function n(r,a){const s=Z6(t,a,e);return $A(s!==null),s}return n}function dY(t,e){function n(r,a){const s=uY(t,e,a);return $A(s!==null),s}return n}function fY(t,e){function n(r,a){const s=Z6(t,a,e);return $A(s!==null),oY(s,a,t.host,t._protocol)}return n}function BA(t){function e(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=EW():a=_W():n.getStatus()===402?a=wW(t.bucket):n.getStatus()===403?a=AW(t.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return e}function FA(t){const e=BA(t);function n(r,a){let s=e(r,a);return r.getStatus()===404&&(s=bW(t.path)),s.serverResponse=a.serverResponse,s}return n}function hY(t,e,n){const r=e.fullServerUrl(),a=dd(r,t.host,t._protocol),s="GET",l=t.maxOperationRetryTime,d=new em(a,s,J6(t,n),l);return d.errorHandler=FA(e),d}function mY(t,e,n,r,a){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),a&&(s.maxResults=a);const l=e.bucketOnlyServerUrl(),d=dd(l,t.host,t._protocol),f="GET",h=t.maxOperationRetryTime,p=new em(d,f,dY(t,e.bucket),h);return p.urlParams=s,p.errorHandler=BA(e),p}function pY(t,e,n){const r=e.fullServerUrl(),a=dd(r,t.host,t._protocol),s="GET",l=t.maxOperationRetryTime,d=new em(a,s,fY(t,n),l);return d.errorHandler=FA(e),d}function gY(t,e){const n=e.fullServerUrl(),r=dd(n,t.host,t._protocol),a="DELETE",s=t.maxOperationRetryTime;function l(f,h){}const d=new em(r,a,l,s);return d.successCodes=[200,204],d.errorHandler=FA(e),d}function yY(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vY(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=yY(null,e)),r}function xY(t,e,n,r,a){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let R="";for(let T=0;T<2;T++)R=R+Math.random().toString().slice(2);return R}const f=d();l["Content-Type"]="multipart/related; boundary="+f;const h=vY(e,r,a),p=lY(h,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,x=`\r
--`+f+"--",w=Uo.getBlob(g,r,x);if(w===null)throw IW();const E={name:h.fullPath},A=dd(s,t.host,t._protocol),S="POST",C=t.maxUploadRetryTime,U=new em(A,S,J6(t,n),C);return U.urlParams=E,U.headers=l,U.body=w.uploadData(),U.errorHandler=BA(e),U}class bY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ql.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ql.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ql.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,a,s){if(this.sent_)throw If("cannot .send() more than once");if(rl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw If("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw If("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw If("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw If("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wY extends bY{initXhr(){this.xhr_.responseType="text"}}function tm(){return new wY}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this._service=e,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cc(e,n)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return X6(this._location.path)}get storage(){return this._service}get parent(){const e=tY(this._location.path);if(e===null)return null;const n=new gr(this._location.bucket,e);return new cc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw PW(e)}}function _Y(t,e,n){t._throwIfRoot("uploadBytes");const r=xY(t.storage,t._location,VA(),new Uo(e,!0),n);return t.storage.makeRequestWithTokens(r,tm).then(a=>({metadata:a,ref:t}))}function EY(t){const e={prefixes:[],items:[]};return e3(t,e).then(()=>e)}async function e3(t,e,n){const a=await AY(t,{pageToken:n});e.prefixes.push(...a.prefixes),e.items.push(...a.items),a.nextPageToken!=null&&await e3(t,e,a.nextPageToken)}function AY(t,e){e!=null&&typeof e.maxResults=="number"&&T_("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=mY(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,tm)}function SY(t){t._throwIfRoot("getMetadata");const e=hY(t.storage,t._location,VA());return t.storage.makeRequestWithTokens(e,tm)}function jY(t){t._throwIfRoot("getDownloadURL");const e=pY(t.storage,t._location,VA());return t.storage.makeRequestWithTokens(e,tm).then(n=>{if(n===null)throw OW();return n})}function NY(t){t._throwIfRoot("deleteObject");const e=gY(t.storage,t._location);return t.storage.makeRequestWithTokens(e,tm)}function TY(t,e){const n=nY(t._location.path,e),r=new gr(t._location.bucket,n);return new cc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(t){return/^[A-Za-z]+:\/\//.test(t)}function IY(t,e){return new cc(t,e)}function t3(t,e){if(t instanceof qA){const n=t;if(n._bucket==null)throw CW();const r=new cc(n,n._bucket);return e!=null?t3(r,e):r}else return e!==void 0?TY(t,e):t}function OY(t,e){if(e&&CY(e)){if(t instanceof qA)return IY(t,e);throw N_("To use ref(service, url), the first argument must be a Storage instance.")}else return t3(t,e)}function xO(t,e){const n=e==null?void 0:e[H6];return n==null?null:gr.makeFromBucketSpec(n,t)}function kY(t,e,n,r={}){t.host=`${e}:${n}`;const a=rl(e);a&&(UE(`https://${t.host}/b`),zE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:_4(s,t.app.options.projectId))}class qA{constructor(e,n,r,a,s,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=q6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vW,this._maxUploadRetryTime=xW,this._requests=new Set,a!=null?this._bucket=gr.makeFromBucketSpec(a,this._host):this._bucket=xO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=xO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cc(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new RW(G6());{const l=HW(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const bO="@firebase/storage",wO="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="storage";function r3(t,e,n){return t=jt(t),_Y(t,e,n)}function PY(t){return t=jt(t),SY(t)}function RY(t){return t=jt(t),EY(t)}function HA(t){return t=jt(t),jY(t)}function DY(t){return t=jt(t),NY(t)}function py(t,e){return t=jt(t),OY(t,e)}function MY(t=BE(),e){t=jt(t);const r=xv(t,n3).getImmediate({identifier:e}),a=x4("storage");return a&&LY(r,...a),r}function LY(t,e,n,r={}){kY(t,e,n,r)}function UY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new qA(n,r,a,e,xc)}function zY(){rc(new Go(n3,UY,"PUBLIC").setMultipleInstances(!0)),Ci(bO,wO,""),Ci(bO,wO,"esm2020")}zY();const VY={apiKey:"AIzaSyCEEQBoSXPKiG0mEX_H6bA1aSn072FD_DA",authDomain:"gcse-a7ffe.firebaseapp.com",projectId:"gcse-a7ffe",storageBucket:"gcse-a7ffe.firebasestorage.app",messagingSenderId:"266952172762",appId:"1:266952172762:web:9ef234cf67a8ab32afb1e3"},GA=S4(VY),_e=JE(GA),be=aW(GA),yh=MY(GA),$Y=new vs,ei=["testadmin@example.com","sami8051@gmail.com"],Qa=["sami8051@gmail.com"],rh={terms:"1.0",privacy:"1.0",educationalDisclaimer:"1.0"},a3=async t=>{try{const e=await br(Fe(be,"users",t));if(e.exists()){const n=e.data();return n.hasConsented===!0&&n.consentVersion===rh.terms}return!1}catch(e){return console.error("Error checking consent:",e),!1}},qv=async t=>{try{const e=await br(Fe(be,"users",t));return e.exists()&&e.data().isAdmin===!0}catch(e){return console.error("Error checking admin status:",e),!1}},Hv=async t=>{try{const e=await br(Fe(be,"users",t));return e.exists()&&e.data().isTeacher===!0}catch(e){return console.error("Error checking teacher status:",e),!1}},i3=async(t,e,n,r,a,s,l,d="email")=>{try{const f=new Date;let h="unknown";try{h=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{console.warn("Could not fetch IP for consent log")}const p=navigator.userAgent,g={userId:t,email:e,ageGroup:n,consents:{termsAndPrivacy:{accepted:r,version:rh.terms,timestamp:f},educationalDisclaimer:{accepted:a,version:rh.educationalDisclaimer,timestamp:f},marketingOptIn:{accepted:l,timestamp:l?f:null}},metadata:{ipAddress:h,userAgent:p,country:"UK"},createdAt:f};return n==="13-15"&&(g.consents.parentalConfirmation={confirmed:s,timestamp:f}),await Ya(Fe(be,"userConsents",t),{...g,signUpMethod:d,consentSourcePage:"signup-consent-v1"}),await Ya(Fe(be,"users",t),{hasConsented:!0,consentVersion:rh.terms,ageGroup:n,signUpMethod:d,marketingOptIn:l,lastConsentUpdate:or()},{merge:!0}),console.log("Consent saved for user:",t),!0}catch(f){return console.error("Failed to save consent:",f),!1}},s3=async(t,e)=>{try{const n=Fe(be,"users",t);return await vr(n,e),console.log("User consent updated for user:",t),!0}catch(n){return console.error("Failed to update user consent:",n),!1}},BY=async(t,e,n,r,a)=>{var s,l;try{await xr(it(be,"activityLogs"),{action:t,actionType:e,userId:((s=_e.currentUser)==null?void 0:s.uid)||"unknown",userEmail:((l=_e.currentUser)==null?void 0:l.email)||"unknown",targetType:n,targetId:r,details:a,timestamp:or()})}catch(d){console.error("Failed to log admin action",d)}},FY=async(t,e,n)=>{var r;try{await xr(it(be,"loginEvents"),{email:t,userId:((r=_e.currentUser)==null?void 0:r.uid)||"unknown",success:e,reason:n,timestamp:or()})}catch(a){console.error("Failed to log login event",a)}},o3=async()=>{try{await yq(_e,$Y)}catch(t){throw console.error("Error signing in",t),t}},l3=async(t,e,n)=>{try{const r=await VF(_e,e,n);return await Q4(r.user,{displayName:t}),r.user}catch(r){throw console.error("Error registering",r),r}},c3=async()=>{_e.currentUser&&await BF(_e.currentUser)},KA=async(t,e)=>{try{return await Q4(t,e),!0}catch(n){throw console.error("Error updating profile",n),n}},qY=async(t,e)=>{try{const n=py(yh,`profile_pictures/${t.uid}`);await r3(n,e);const r=await HA(n);return await KA(t,{photoURL:r}),r}catch(n){throw console.error("Error uploading profile picture",n),n}},WA=async(t,e)=>{try{return(await $F(_e,t,e)).user}catch(n){throw console.error("Error signing in with password",n),n}},fd=async()=>{try{await GF(_e)}catch(t){throw console.error("Error signing out",t),t}},u3=async(t,e,n,r)=>{try{const a={userId:t,...e,score:e.totalScore,date:at.now(),paperData:n,fullAnswers:r},s=new Promise((f,h)=>setTimeout(()=>h(new Error("Firestore save timed out")),1e4)),l=xr(it(be,"examResults"),a),d=await Promise.race([l,s]);return console.log("Document written with ID: ",d.id),d.id}catch(a){return console.error("Error adding document: ",a),null}},HY=async(t,e)=>{try{const n=Fe(be,"examResults",t);await vr(n,{pdfUrl:e}),console.log("Updated document with PDF URL")}catch(n){console.error("Error updating PDF URL",n)}},gy=async t=>{try{const e=Fe(be,"examResults",t);return await lc(e),console.log("Document deleted with ID: ",t),!0}catch(e){return console.error("Error deleting document: ",e),!1}},GY=async(t,e,n)=>{try{const r=py(yh,`exam-pdfs/${t}/${e}.pdf`);await r3(r,n);const a=await HA(r);return console.log("PDF Uploaded to:",a),a}catch(r){return console.error("Error uploading PDF",r),null}},YA=async t=>{console.time("fetchHistory");try{const e=Mr(it(be,"examResults"),Ds("userId","==",t)),r=(await Bn(e)).docs.map(a=>({id:a.id,...a.data()}));return r.sort((a,s)=>{const l=d=>d?d.seconds?d.seconds*1e3:new Date(d).getTime():0;return l(s.date)-l(a.date)}),console.timeEnd("fetchHistory"),r.slice(0,20)}catch(e){return console.timeEnd("fetchHistory"),console.error("Error fetching history: ",e),[]}},d3=async(t,e,n,r)=>{try{return await xr(it(be,"labSessions"),{userId:t,method:e,text:n,feedback:r,date:at.now()}),!0}catch(a){return console.error("Error saving lab session:",a),!1}},f3=async t=>{var e;if(t)try{const n=Fe(be,"users",t.uid);await Ya(n,{uid:t.uid,email:t.email,displayName:(t==null?void 0:t.displayName)||((e=t==null?void 0:t.email)==null?void 0:e.split("@")[0]),photoURL:t.photoURL,lastActive:at.now()},{merge:!0});const r=await br(n);if(r.exists()){const a=r.data();ei.includes(t.email)&&(!a.isAdmin||!a.isApproved)?await vr(n,{isAdmin:!0,isApproved:!0}):(a.isAdmin===void 0||a.isApproved===void 0)&&await vr(n,{isAdmin:a.isAdmin??!1,isApproved:a.isApproved??!1})}else{const a=ei.includes(t.email);await vr(n,{isAdmin:a,isApproved:a})}}catch(n){console.error("Error syncing user profile:",n)}},KY=async(t,e)=>{try{const n=Fe(be,"users",t);return await vr(n,{isApproved:e}),!0}catch(n){return console.error("Error updating user status:",n),!1}},Ec=async()=>{try{return(await Bn(it(be,"users"))).docs.map(e=>({...e.data(),id:e.id}))}catch(t){return console.error("Admin: Error fetching users",t),[]}},QA=async()=>{try{const t=Mr(it(be,"examResults"),Jh("date","desc"),Bv(100));return(await Bn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Admin: Error fetching exam results",t),[]}},h3=async(t,e)=>{try{const n=Fe(be,"examResults",t);return await vr(n,e),!0}catch(n){return console.error("Admin: Error updating exam",n),!1}},m3=async t=>{try{await lc(Fe(be,"users",t));const e=Mr(it(be,"examResults"),Ds("userId","==",t)),r=(await Bn(e)).docs.map(a=>lc(a.ref));return await Promise.all(r),!0}catch(e){return console.error("Admin: Error deleting user data",e),!1}},XA=Object.freeze(Object.defineProperty({__proto__:null,ADMIN_EMAILS:ei,LEGAL_VERSIONS:rh,SUPER_ADMIN_EMAILS:Qa,auth:_e,checkIsAdmin:qv,checkIsTeacher:Hv,checkUserConsent:a3,db:be,deleteExamResult:gy,deleteUserData:m3,getAllExamResults:QA,getAllUsers:Ec,getUserHistory:YA,logAdminAction:BY,logInWithEmailAndPassword:WA,logLoginEvent:FY,logOut:fd,registerWithEmailAndPassword:l3,saveExamResult:u3,saveLabSession:d3,saveUserConsent:i3,sendVerification:c3,signInWithGoogle:o3,storage:yh,syncUserProfile:f3,updateExamResultData:h3,updateExamWithPdf:HY,updateUserConsent:s3,updateUserProfile:KA,updateUserStatus:KY,uploadExamPdf:GY,uploadProfilePicture:qY},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),_O=t=>{const e=YY(t);return e.charAt(0).toUpperCase()+e.slice(1)},p3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),QY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:l,...d},f)=>b.createElement("svg",{ref:f,...XY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:p3("lucide",a),...!s&&!QY(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=b.forwardRef(({className:r,...a},s)=>b.createElement(ZY,{ref:s,iconNode:e,className:p3(`lucide-${WY(_O(t))}`,`lucide-${t}`,r),...a}));return n.displayName=_O(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],yy=xe("activity",JY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ti=xe("arrow-left",eQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gv=xe("arrow-right",tQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],hw=xe("arrow-up",nQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],g3=xe("award",rQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iQ=xe("ban",aQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],y3=xe("bell",sQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wn=xe("book-open",oQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uc=xe("calendar",lQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],v3=xe("chart-column",cQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],dQ=xe("chart-pie",uQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZA=xe("check",fQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],x3=xe("chevron-down",hQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],JA=xe("chevron-left",mQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vh=xe("chevron-right",pQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],b3=xe("chevron-up",gQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gu=xe("circle-alert",yQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yi=xe("circle-check-big",vQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],bQ=xe("circle-x",xQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kv=xe("clock",wQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],EQ=xe("cookie",_Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],eS=xe("crown",AQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tS=xe("download",SQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],NQ=xe("external-link",jQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],w3=xe("eye-off",TQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nm=xe("eye",CQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dc=xe("file-text",IQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],EO=xe("flag",OQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],fg=xe("folder",kQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_3=xe("funnel",PQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Wv=xe("graduation-cap",RQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],MQ=xe("grid-3x3",DQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],UQ=xe("grip-vertical",LQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],VQ=xe("highlighter",zQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nS=xe("house",$Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],FQ=xe("image",BQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],C_=xe("info",qQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],GQ=xe("key",HQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],WQ=xe("layers",KQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rS=xe("layout-dashboard",YQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],XQ=xe("lightbulb",QQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],vy=xe("log-in",ZQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ah=xe("lock",JQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hd=xe("log-out",eX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],E3=xe("mail",tX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rX=xe("map-pin",nX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iX=xe("menu",aX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],oX=xe("message-square",sX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],A3=xe("moon",lX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],uX=xe("panels-top-left",cX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Bg=xe("pen-tool",dX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yv=xe("pen",fX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aS=xe("plus",hX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],S3=xe("printer",mX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],gX=xe("quote",pX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],iS=xe("refresh-cw",yX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xy=xe("save",vX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zr=xe("search",xX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sS=xe("settings",bX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],_X=xe("shield-alert",wX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],AX=xe("shield-off",EX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qi=xe("shield",SX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ea=xe("sparkles",jX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],j3=xe("sun",NX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],N3=xe("target",TX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],mw=xe("toggle-left",CX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],pw=xe("toggle-right",IX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Aa=xe("trash-2",OX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gw=xe("trending-up",kX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Li=xe("triangle-alert",PX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],DX=xe("type",RX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LX=xe("user-check",MX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],zX=xe("user-plus",UX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ku=xe("user",VX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sa=xe("users",$X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ni=xe("x",BX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qX=xe("zap",FX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],GX=xe("zoom-in",HX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],WX=xe("zoom-out",KX);var Gf=(t=>(t.PAPER_1="PAPER_1",t.PAPER_2="PAPER_2",t))(Gf||{});const YX="modulepreload",QX=function(t){return"/"+t},AO={},by=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=l(n.map(h=>{if(h=QX(h),h in AO)return;AO[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":YX,p||(x.as="script"),x.crossOrigin="",x.href=h,f&&x.setAttribute("nonce",f),document.head.appendChild(x),p)return new Promise((w,E)=>{x.addEventListener("load",w),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return a.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};class xh{constructor(){console.log("GeminiService initialized (Backend Mode)")}async post(e,n){try{const{auth:r}=await by(async()=>{const{auth:g}=await Promise.resolve().then(()=>XA);return{auth:g}},[]),a=r.currentUser;let s={"Content-Type":"application/json"};if(a){const g=await a.getIdToken();s.Authorization=`Bearer ${g}`}else console.warn(`Attempting to call ${e} without a user. This may fail if the endpoint is protected.`);const l=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";console.log(`[GeminiService Mode Check] Hostname: ${window.location.hostname}, isLocalhost: ${l}, ImportMetaProd: true`);const d=!l,h=`${d?"https://us-central1-gcse-a7ffe.cloudfunctions.net/api":"/api"}/${e}`;console.log(`[GeminiService] Calling ${d?"PRODUCTION":"DEV"} API: ${h}`);const p=await fetch(h,{method:"POST",headers:s,body:JSON.stringify(n)});if(p.status===401||p.status===403)throw new Error(`Authentication Error: ${p.statusText}. Please log in.`);if(!p.ok)throw new Error(`API Error: ${p.statusText}`);return await p.json()}catch(r){throw console.error(`Failed to call ${e}:`,r),r}}async generateExam(e,n="1K"){return this.post("generate-exam",{type:e,imageSize:n})}async markExam(e,n){return this.post("mark-exam",{paper:e,answers:n})}async generateModelAnswers(e){return(await this.post("model-answers",{paper:e})).text}async analyzeTextForMethods(e){return this.post("analyze-text",{text:e})}async evaluateWritingPractice(e,n){return this.post("evaluate-writing",{text:e,targetMethod:n})}async generatePracticeSet(e,n,r){return this.post("generate-practice-set",{topic:e,difficulty:n,numQuestions:r})}}const oS="/assets/logo-BcVET0cA.png",T3=({title:t,description:e})=>(b.useEffect(()=>{if(document.title=`${t} | GoGCSE`,e){let n=document.querySelector("meta[name='description']");n||(n=document.createElement("meta"),n.setAttribute("name","description"),document.head.appendChild(n)),n.setAttribute("content",e)}},[t,e]),null),XX=()=>{const t=Ft(),[e,n]=b.useState(!1),[r,a]=b.useState(""),[s,l]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(""),[g,x]=b.useState(null),[w,E]=b.useState(!1),[A,S]=b.useState(!1),[C,U]=b.useState({paper1Enabled:!0,paper2Enabled:!0,languageLabEnabled:!0});b.useEffect(()=>{const V=Hh(_e,async I=>{if(x(I),I){f3(I);try{if(ei.includes(I.email||"")){E(!0);return}const k=await Hv(I.uid);S(k);const N=Fe(be,"users",I.uid),P=await br(N);P.exists()&&P.data().isApproved?E(!0):E(!1)}catch(k){console.error("Error fetching approval",k),E(!1)}}else E(!1)});return()=>V()},[]),b.useEffect(()=>{(async()=>{try{const I=Fe(be,"systemSettings","config"),k=await br(I);if(k.exists()){const N=k.data();N.featureFlags&&U({paper1Enabled:N.featureFlags.paper1Enabled??!0,paper2Enabled:N.featureFlags.paper2Enabled??!0,languageLabEnabled:N.featureFlags.languageLabEnabled??!0})}}catch(I){console.error("Failed to load feature flags",I)}})()},[]),b.useEffect(()=>{},[]);const R=async V=>{if(!g){t("/login");return}if(g&&!w){alert("Your account is pending approval. You cannot start an exam yet.");return}if(V===Gf.PAPER_1&&!C.paper1Enabled){alert("Paper 1 is currently disabled.");return}if(V===Gf.PAPER_2&&!C.paper2Enabled){alert("Paper 2 is currently disabled.");return}localStorage.getItem("gemini_api_key"),n(!0),a("Creating your unique exam...");try{const k=await new xh().generateExam(V,"1K");if(k.questions){const N=k.questions.flatMap(P=>P.images||[]);N.length>0&&(a("Preparing materials..."),await Promise.all(N.map(P=>new Promise(L=>{const z=new Image;z.onload=()=>L(!0),z.onerror=()=>L(!1),z.src=P}))))}t(`/exam/${V}`,{state:{examData:k}})}catch(I){console.error(I),alert("Failed to generate exam."),n(!1)}},T=()=>{if(!g){t("/login");return}if(!C.languageLabEnabled){alert("Language Lab is currently disabled.");return}t("/language-lab")},M=()=>{h.trim()&&(localStorage.setItem("gemini_api_key",h.trim()),l(!1),p(""),alert("API key saved!"))};return e?c.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-white",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-20 h-20 border-4 border-indigo-200 rounded-full animate-spin border-t-indigo-600"}),c.jsx(Ea,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-indigo-600",size:32})]}),c.jsx("p",{className:"text-gray-600 mt-8 text-lg",children:r})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-purple-50/30 overflow-y-auto overflow-x-hidden",children:[c.jsx(T3,{title:"Edexcel GCSE English Language Exam Simulator & Practice",description:"Sit realistic Edexcel GCSE English mock exams online. Get instant AI marking, feedback, and grade estimates. Perfect for Paper 1 & 2 revision."}),c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-4",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center bg-white/70 backdrop-blur-xl rounded-2xl px-6 py-3 shadow-lg shadow-purple-500/5 border border-white/50",children:[c.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>t("/"),children:[c.jsx("img",{src:oS,alt:"Logo",className:"w-9 h-9 rounded-xl shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-900 hidden sm:block",children:"Go GCSE"})]}),c.jsx("div",{className:"flex items-center gap-3",children:g?c.jsxs(c.Fragment,{children:[A&&c.jsxs("button",{onClick:()=>t("/teacher"),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-blue-500/25 transition-all text-sm",children:[c.jsx(wn,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Teacher Dashboard"})]}),c.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-500/25 transition-all text-sm",children:[c.jsx(rS,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})]}):c.jsx("button",{onClick:()=>t("/login"),className:"px-5 py-2.5 bg-gray-900 text-white rounded-xl font-semibold hover:bg-gray-800 transition-all text-sm",children:"Sign In"})})]})}),c.jsx("section",{className:"pt-32 pb-20 px-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsxs("div",{className:"inline-flex mb-8 bg-amber-50 border border-amber-200 rounded-lg px-4 py-2 text-xs text-amber-800",children:[c.jsx("span",{className:"font-semibold",children:" Disclaimer:"}),c.jsx("span",{className:"ml-2",children:"This is an independent educational tool. Not affiliated with exam boards or educational authorities."})]}),c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-medium mb-8",children:[c.jsx(qX,{size:14}),"Powered by AI"]}),c.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 mb-6 leading-tight tracking-tight",children:["Master Your",c.jsx("span",{className:"block bg-gradient-to-r from-purple-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent py-2",children:"English GCSE"})]}),c.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto mb-12 leading-relaxed",children:"Unlimited AI-generated mock exams with instant marking, grade predictions, and personalized feedback."}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[c.jsxs("button",{onClick:()=>f(!0),disabled:g&&!w,className:`group flex items-center gap-3 px-8 py-4 rounded-2xl font-bold text-lg transition-all ${g&&!w?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800 hover:shadow-xl hover:scale-[1.02]"}`,children:[g&&!w?"Approval Pending":"Start Mock Exam",(!g||w)&&c.jsx(Gv,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),c.jsxs("button",{onClick:T,disabled:!C.languageLabEnabled,className:`flex items-center gap-3 px-8 py-4 rounded-2xl font-bold text-lg border-2 transition-all ${C.languageLabEnabled?"border-gray-200 text-gray-700 hover:border-purple-300 hover:bg-purple-50":"border-gray-100 text-gray-300 cursor-not-allowed"}`,children:[c.jsx(Bg,{size:20}),"Language Lab"]})]})]})}),c.jsx("section",{className:"py-20 px-6",children:c.jsx("div",{className:"max-w-6xl mx-auto",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"group p-8 bg-white rounded-3xl border border-gray-100 hover:border-purple-200 hover:shadow-xl hover:shadow-purple-500/5 transition-all",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:c.jsx(Ea,{size:24,className:"text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"AI-Generated Papers"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Every exam is unique, crafted by advanced AI to match real Edexcel specifications."})]}),c.jsxs("div",{className:"group p-8 bg-white rounded-3xl border border-gray-100 hover:border-purple-200 hover:shadow-xl hover:shadow-purple-500/5 transition-all",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:c.jsx(N3,{size:24,className:"text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Instant Marking"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Get detailed feedback and model answers the moment you submit."})]}),c.jsxs("div",{className:"group p-8 bg-white rounded-3xl border border-gray-100 hover:border-purple-200 hover:shadow-xl hover:shadow-purple-500/5 transition-all",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:c.jsx(g3,{size:24,className:"text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Grade Predictions"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Track your progress with accurate grade estimates based on Edexcel boundaries."})]})]})})}),d&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"Choose Your Paper"}),c.jsx("p",{className:"text-gray-500",children:"Select the type of exam you want to practice."})]}),c.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>{R(Gf.PAPER_1),f(!1)},disabled:!C.paper1Enabled,className:`relative group p-6 rounded-2xl border-2 text-left transition-all ${C.paper1Enabled?"border-gray-100 hover:border-purple-600 hover:bg-purple-50 hover:shadow-xl":"border-gray-100 opacity-50 cursor-not-allowed"}`,children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:c.jsx(wn,{size:24})}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Fiction & Imaginative Writing"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Paper 1  1 hour 45 mins"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"19th Century Fiction"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"Creative Writing"]})]})]}),c.jsxs("button",{onClick:()=>{R(Gf.PAPER_2),f(!1)},disabled:!C.paper2Enabled,className:`relative group p-6 rounded-2xl border-2 text-left transition-all ${C.paper2Enabled?"border-gray-100 hover:border-teal-600 hover:bg-teal-50 hover:shadow-xl":"border-gray-100 opacity-50 cursor-not-allowed"}`,children:[c.jsx("div",{className:"w-12 h-12 bg-teal-100 text-teal-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:c.jsx(dc,{size:24})}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Non-Fiction & Transactional"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Paper 2  2 hours 05 mins"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-teal-400 rounded-full"}),"20th/21st Century Texts"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-teal-400 rounded-full"}),"Persuasive Writing"]})]})]})]})]})}),s&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure API Key"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Enter your Gemini API key to generate exams."}),c.jsx("div",{className:"bg-purple-50 border border-purple-100 rounded-2xl p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-purple-800",children:["Get your key at ",c.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline font-semibold",children:"Google AI Studio"})]})}),c.jsx("input",{type:"password",value:h,onChange:V=>p(V.target.value),placeholder:"Paste API key...",className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl mb-6 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",onKeyDown:V=>V.key==="Enter"&&M()}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{l(!1),p("")},className:"flex-1 py-4 text-gray-600 font-semibold bg-gray-100 hover:bg-gray-200 rounded-2xl transition-colors",children:"Cancel"}),c.jsx("button",{onClick:M,className:"flex-1 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-2xl hover:shadow-lg transition-all",children:"Save Key"})]})]})})]})},ZX=({sources:t=[],isOpen:e,onToggle:n})=>{var x;const[r,a]=b.useState(((x=t==null?void 0:t[0])==null?void 0:x.id)||"A"),[s,l]=b.useState(16),[d,f]=b.useState(1.8),[h,p]=b.useState(!1);b.useEffect(()=>{t&&t.length>0&&a(t[0].id)},[t]);const g=(t==null?void 0:t.find(w=>w.id===r))||(t==null?void 0:t[0]);return e?c.jsxs("div",{className:`fixed inset-y-0 left-0 z-40 w-full md:w-1/2 lg:w-[45%] bg-white shadow-2xl transform transition-transform duration-300 flex flex-col border-r border-gray-200 ${h?"bg-gray-900 text-yellow-50":""}`,children:[c.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${h?"border-gray-700 bg-gray-800":"border-gray-200 bg-edexcel-light"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:n,className:"md:hidden p-1 text-gray-600 hover:bg-black/10 rounded-full",children:c.jsx(ni,{size:20})}),c.jsxs("h2",{className:"font-bold text-lg text-edexcel-dark flex items-center gap-2",children:[c.jsx(WQ,{size:20}),c.jsx("span",{children:"SOURCE BOOKLET"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>l(w=>Math.max(12,w-2)),className:"p-1 hover:bg-black/10 rounded",title:"Decrease Font",children:c.jsx(WX,{size:18})}),c.jsx("button",{onClick:()=>l(w=>Math.min(24,w+2)),className:"p-1 hover:bg-black/10 rounded",title:"Increase Font",children:c.jsx(GX,{size:18})}),c.jsx("button",{onClick:()=>f(w=>w>=2.2?1.6:2.2),className:"p-1 hover:bg-black/10 rounded",title:"Toggle Line Height",children:c.jsx(DX,{size:18})}),c.jsx("button",{onClick:()=>p(!h),className:`p-1 rounded ${h?"bg-yellow-400 text-black":"hover:bg-black/10"}`,title:"High Contrast",children:c.jsx(VQ,{size:18})})]})]}),t&&t.length>1&&c.jsx("div",{className:"flex border-b border-gray-200",children:t.map(w=>c.jsxs("button",{onClick:()=>a(w.id),className:`flex-1 py-3 text-sm font-semibold border-b-2 transition-colors ${r===w.id?"border-edexcel-blue text-edexcel-blue bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} ${h?"bg-gray-800 border-gray-700 text-gray-300":""}`,children:["Source ",w.id]},w.id))}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 source-scroll",children:g?c.jsxs("article",{className:"max-w-2xl mx-auto ",style:{fontSize:`${s}px`,lineHeight:d},children:[c.jsxs("div",{className:`mb-8 p-4 rounded-lg text-sm italic border-l-4 no-print ${h?"bg-gray-800 border-gray-600 text-gray-300":"bg-gray-100 border-gray-400 text-gray-700"}`,children:[c.jsx("strong",{className:`block not-italic mb-1 text-lg ${h?"text-white":"text-gray-900"}`,children:g.title||`Source ${g.id}`}),c.jsxs("div",{className:"text-base font-serif mb-2",children:[g.author&&`By ${g.author}`," ",g.year&&`(${g.year})`]}),c.jsx("p",{className:`mt-2 ${h?"text-gray-400":"text-gray-600"}`,children:g.summary})]}),c.jsx("div",{className:"font-serif select-text relative",style:{textAlign:"justify",textJustify:"inter-word"},children:g.content.split(`
`).filter(w=>w.trim()!=="").map((w,E)=>c.jsx("div",{className:"mb-5",children:c.jsx("p",{className:"mb-0",children:w})},E))})]}):c.jsx("div",{className:"p-8 text-center text-gray-500",children:t.length===0?"Sources are generating...":"No active source selected."})})]}):null},JX=({paper:t,onFinish:e,onDiscard:n})=>{var $,ne,me,Y,oe;const[r,a]=b.useState(0),[s,l]=b.useState({}),[d,f]=b.useState(!0),[h,p]=b.useState(t.timeLimitMinutes*60),[g,x]=b.useState(!1),[w,E]=b.useState(!1),[A,S]=b.useState(!1),[C,U]=b.useState({});b.useEffect(()=>{const H=localStorage.getItem(`exam_draft_${t.id}`);if(H){const K=JSON.parse(H);l(K);const ae={};t.questions.forEach(q=>{var re;q.optionalGroup&&((re=K[q.id])!=null&&re.text)&&(ae[q.optionalGroup]=q.id)}),U(q=>({...q,...ae}))}else{const K={};t.questions.forEach(ae=>{K[ae.id]={questionId:ae.id,text:"",timestamp:Date.now(),isFlagged:!1}}),l(K)}},[t]),b.useEffect(()=>{const H=setInterval(()=>{p(K=>K<=0?(clearInterval(H),0):K-1)},1e3);return()=>clearInterval(H)},[]);const R=H=>{const K=Math.floor(H/3600),ae=Math.floor(H%3600/60),q=H%60;return`${K}:${ae.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},T=t.questions[r],M=!!T.optionalGroup,V=M?C[T.optionalGroup]:null,I=(H,K)=>{U(q=>({...q,[K]:H}));const ae=t.questions.findIndex(q=>q.id===H);ae!==-1&&a(ae)},k=(($=s[T.id])==null?void 0:$.text)||"",N=H=>{const K={...s,[T.id]:{...s[T.id],text:H,timestamp:Date.now()}};T.optionalGroup&&U(ae=>({...ae,[T.optionalGroup]:T.id})),l(K),localStorage.setItem(`exam_draft_${t.id}`,JSON.stringify(K))},P=H=>{const K={...s,[T.id]:{...s[T.id],selectedImageIndex:H,timestamp:Date.now()}};l(K)},L=()=>{const H={...s,[T.id]:{...s[T.id],isFlagged:!s[T.id].isFlagged}};l(H),localStorage.setItem(`exam_draft_${t.id}`,JSON.stringify(H))},z=k.trim().split(/\s+/).filter(H=>H.length>0).length;return c.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden font-sans",children:[c.jsx(ZX,{sources:t.sources,isOpen:d,onToggle:()=>f(!d)}),c.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${d?"md:ml-[45%] lg:ml-[45%]":""}`,children:[c.jsxs("div",{className:"bg-amber-50 border-b border-amber-200 px-4 lg:px-6 py-3 flex gap-2 items-start",children:[c.jsx(Li,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-xs text-amber-800 font-medium",children:"This is a practice exam. Grades are AI-generated estimates and not official qualifications. Use for revision purposes only."})]}),c.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 lg:px-6 z-20 shadow-sm shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>f(!d),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${d?"bg-edexcel-dark text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(wn,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:d?"Hide Sources":"Show Sources"})]}),c.jsx("button",{onClick:()=>S(!A),className:"lg:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-md",children:c.jsx(MQ,{size:20})}),c.jsxs("div",{className:"hidden lg:block",children:[c.jsx("h1",{className:"text-sm font-bold text-gray-800",children:t.title}),c.jsxs("span",{className:"text-xs text-gray-500",children:["Specimen 1EN0  ",t.timeLimitMinutes," mins"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:`flex items-center gap-2 font-mono text-lg font-bold ${h<300?"text-red-600 animate-pulse":"text-edexcel-dark"}`,children:[c.jsx(Kv,{size:20}),R(h)]}),c.jsxs("button",{onClick:()=>E(!0),className:"px-3 md:px-4 py-2 border border-red-200 text-red-600 hover:bg-red-50 rounded-md font-bold text-xs md:text-sm transition-all flex items-center gap-2",title:"Leave & Discard Progress",children:[c.jsx(hd,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Leave Exam"})]}),c.jsx("button",{onClick:()=>x(!0),className:"bg-edexcel-blue hover:bg-edexcel-dark text-white px-4 md:px-6 py-2 rounded-md font-bold text-xs md:text-sm shadow-sm transition-transform active:scale-95",children:"Finish & Submit"})]})]}),c.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[c.jsx("div",{className:`${A?"absolute inset-y-0 left-0 w-64 bg-white shadow-xl z-30 transform translate-x-0":"hidden lg:flex lg:w-20 lg:flex-col lg:items-center lg:border-r lg:bg-gray-50 lg:py-4"} transition-transform duration-200 overflow-y-auto`,children:c.jsxs("div",{className:"w-full px-4 lg:px-2 space-y-2 pb-20 pt-4 lg:pt-0",children:[c.jsxs("div",{className:"flex justify-between items-center lg:hidden mb-4 px-2",children:[c.jsx("h3",{className:"font-bold text-gray-500",children:"Questions"}),c.jsx("button",{onClick:()=>S(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:c.jsx(ni,{size:20,className:"text-gray-500"})})]}),t.questions.map((H,K)=>{var Pe,Nt;const ae=s[H.id],q=K===r,re=(ae==null?void 0:ae.text.length)>5,pe=ae==null?void 0:ae.isFlagged,ye=H.optionalGroup&&(!((Pe=t.questions[K-1])!=null&&Pe.optionalGroup)||t.questions[K-1].optionalGroup!==H.optionalGroup);H.optionalGroup&&(!((Nt=t.questions[K+1])!=null&&Nt.optionalGroup)||(t.questions[K+1].optionalGroup,H.optionalGroup));const Ce=H.optionalGroup?C[H.optionalGroup]===H.id:!0,ke=H.optionalGroup&&C[H.optionalGroup]&&!Ce;return c.jsxs("div",{children:[ye&&c.jsx("div",{className:"text-[10px] text-center uppercase font-bold text-gray-400 mt-2 mb-1",children:"OR"}),c.jsxs("button",{onClick:()=>{a(K),S(!1),H.optionalGroup&&I(H.id,H.optionalGroup)},className:`w-full lg:w-12 lg:h-12 flex items-center lg:justify-center px-4 py-3 lg:p-0 rounded-lg text-left lg:text-center text-sm font-bold transition-all
                          ${q?"bg-edexcel-blue text-white shadow-md ring-2 ring-blue-300":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-100"}
                          ${pe?"ring-2 ring-orange-400":""}
                          ${re&&!q?"bg-blue-50 border-blue-200 text-edexcel-dark":""}
                          ${ke?"opacity-40 grayscale":""}
                        `,children:[c.jsx("span",{className:"lg:hidden mr-2",children:"Question"}),H.number,pe&&c.jsx(EO,{size:10,className:"ml-auto lg:absolute lg:top-1 lg:right-1 text-orange-500"})]})]},H.id)})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-3 md:p-4 lg:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[M&&c.jsxs("div",{className:"mb-6 bg-white p-4 rounded-lg shadow-sm border border-purple-200 flex flex-col sm:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Li,{className:"text-purple-600",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Choice of Question"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["You must answer EITHER Question ",t.questions.filter(H=>H.optionalGroup===T.optionalGroup)[0].number," OR Question ",t.questions.filter(H=>H.optionalGroup===T.optionalGroup)[1].number,"."]})]})]}),c.jsx("div",{className:"flex gap-2",children:t.questions.filter(H=>H.optionalGroup===T.optionalGroup).map(H=>c.jsxs("button",{onClick:()=>I(H.id,H.optionalGroup),className:`px-4 py-2 rounded text-sm font-bold border ${C[H.optionalGroup]===H.id?"bg-purple-600 text-white border-purple-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:["Q",H.number]},H.id))})]}),c.jsxs("div",{className:`bg-white rounded-xl shadow-sm border transition-opacity duration-300 ${M&&V&&V!==T.id?"opacity-50 pointer-events-none grayscale":"opacity-100 border-gray-200"}`,children:[c.jsxs("div",{className:"p-4 md:p-6 lg:p-10 border-b border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2",children:[c.jsxs("span",{className:"bg-edexcel-dark text-white px-3 py-1 rounded text-xs md:text-sm font-bold shadow-sm",children:["Question ",T.number]}),M&&c.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Option"})]}),c.jsxs("div",{className:"text-xs md:text-sm font-medium text-gray-500",children:[T.marks," Marks  ",T.aos.join(", ")]})]}),c.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-gray-400 uppercase tracking-wide bg-gray-100 px-2 py-1 rounded",children:["Section ",T.section]})]}),T.sourceRef&&c.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-100 rounded-lg p-3 flex items-start gap-3",children:[c.jsx(wn,{className:"text-edexcel-blue mt-0.5 shrink-0",size:18}),c.jsxs("div",{className:"text-xs md:text-sm text-edexcel-dark font-medium",children:["Refer to: ",T.sourceRef]})]}),c.jsx("h2",{className:"text-lg md:text-xl lg:text-2xl font-serif text-gray-900 leading-relaxed",children:T.text}),T.images&&T.images.length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsx("p",{className:"text-sm font-bold text-gray-500 mb-4 uppercase tracking-wider",children:"Select an image prompt:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.images.map((H,K)=>{var ae,q;return c.jsxs("div",{onClick:()=>P(K),className:`relative group cursor-pointer rounded-lg overflow-hidden border-4 transition-all ${((ae=s[T.id])==null?void 0:ae.selectedImageIndex)===K?"border-edexcel-blue ring-4 ring-blue-100":"border-transparent hover:border-gray-300"}`,children:[c.jsx("img",{src:H,alt:`Prompt ${K+1}`,className:"w-full h-48 object-cover"}),c.jsxs("div",{className:"absolute top-2 left-2 bg-black/60 text-white px-2 py-1 rounded text-xs font-bold backdrop-blur-sm",children:["Option ",K+1]}),((q=s[T.id])==null?void 0:q.selectedImageIndex)===K&&c.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center backdrop-blur-[1px]",children:c.jsx(Yi,{className:"text-white drop-shadow-md",size:48})})]},K)})})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:k,onChange:H=>N(H.target.value),className:"w-full min-h-[400px] p-4 md:p-10 text-base md:text-lg leading-relaxed bg-white rounded-b-xl focus:bg-blue-50/30 outline-none resize-y font-serif",placeholder:M&&V!==T.id?"You have selected the other option.":"Start typing your answer here...",spellCheck:!1,disabled:M&&V!==T.id}),c.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-4 text-xs text-gray-400 font-sans pointer-events-none bg-white/80 p-2 rounded backdrop-blur",children:[c.jsxs("span",{className:(ne=s[T.id])!=null&&ne.text?"text-green-600 flex items-center gap-1":"opacity-0",children:[c.jsx(xy,{size:12})," Saved"]}),c.jsxs("span",{children:[z," words ",T.wordCountTarget?`/ ~${T.wordCountTarget}`:""]})]})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-8",children:[c.jsxs("button",{disabled:r===0,onClick:()=>a(H=>H-1),className:"flex items-center gap-2 px-4 md:px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 transition-colors shadow-sm text-sm md:text-base",children:[c.jsx(JA,{size:20})," ",c.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),c.jsxs("button",{onClick:L,className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded transition-colors ${(me=s[T.id])!=null&&me.isFlagged?"text-orange-600 bg-orange-50":"text-gray-500 hover:bg-gray-100"}`,children:[c.jsx(EO,{size:16,fill:(Y=s[T.id])!=null&&Y.isFlagged?"currentColor":"none"}),(oe=s[T.id])!=null&&oe.isFlagged?"Flagged":"Flag"]}),c.jsxs("button",{disabled:r===t.questions.length-1,onClick:()=>a(H=>H+1),className:"flex items-center gap-2 px-4 md:px-6 py-3 bg-edexcel-dark text-white rounded-lg font-medium hover:bg-gray-800 disabled:opacity-50 transition-colors shadow-sm text-sm md:text-base",children:[c.jsx("span",{className:"hidden sm:inline",children:"Next"})," ",c.jsx(vh,{size:20})]})]})]})})]})]}),g&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-8 shadow-2xl",children:[c.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900",children:"Finish Exam?"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["You are about to submit your assessment.",c.jsx("br",{}),"Note: Unanswered optional questions will be ignored."]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"text-gray-600",children:"Answered"}),c.jsxs("span",{className:"font-bold",children:[Object.values(s).filter(H=>H.text.trim().length>0).length," Questions"]})]}),c.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-edexcel-blue",style:{width:`${Object.values(s).filter(H=>H.text.trim().length>0).length/t.questions.length*100}%`}})})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-3 text-gray-700 font-medium bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Return"}),c.jsx("button",{onClick:()=>{localStorage.removeItem(`exam_draft_${t.id}`);const H=t.timeLimitMinutes*60-h;e(s,H)},className:"flex-1 py-3 bg-edexcel-blue text-white font-bold rounded-lg hover:bg-edexcel-dark shadow-lg transition-colors",children:"Submit Now"})]})]})}),w&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-8 shadow-2xl",children:[c.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-600 rounded-full flex items-center justify-center mb-6 mx-auto",children:c.jsx(Li,{size:32})}),c.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900 text-center",children:"Discard Exam?"}),c.jsxs("p",{className:"text-gray-600 mb-8 text-center",children:["Are you sure you want to leave? All your progress and answers for this paper will be ",c.jsx("strong",{children:"permanently deleted"}),"."]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 text-gray-700 font-medium bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Stay & Continue"}),c.jsx("button",{onClick:()=>{localStorage.removeItem(`exam_draft_${t.id}`),n()},className:"flex-1 py-3 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 shadow-lg transition-colors",children:"Discard & Exit"})]})]})})]})},eZ=()=>{var d;const t=ra(),e=Ft(),n=(d=t.state)==null?void 0:d.examData,[r,a]=b.useState(!1);if(!n)return c.jsx(js,{to:"/"});const s=async(f,h)=>{console.log("Starting handleFinishExam with answers:",f),a(!0);try{const p=new xh;console.log("Calling gemini.markExam...");const g=await p.markExam(n,f);console.log("gemini.markExam completed:",g),g.duration=h,console.log("Calling gemini.generateModelAnswers...");const x=await p.generateModelAnswers(n);if(console.log("gemini.generateModelAnswers completed"),g.generatedModelAnswers=x,_e.currentUser){const w=_e.currentUser.uid;console.log("Saving result to Firebase for user:",w);const E=await u3(w,g,n,f);if(E){console.log("Save to Firebase successful, ID:",E);try{const{PdfService:A}=await by(async()=>{const{PdfService:T}=await import("./PdfService-C2h_NEEb.js").then(M=>M.P);return{PdfService:T}},[]),S=A.generateExamPdf(g,n),{uploadExamPdf:C,updateExamWithPdf:U}=await by(async()=>{const{uploadExamPdf:T,updateExamWithPdf:M}=await Promise.resolve().then(()=>XA);return{uploadExamPdf:T,updateExamWithPdf:M}},void 0),R=await C(w,E,S);R&&(await U(E,R),console.log("PDF linked to exam result successfully"))}catch(A){console.error("PDF Generation/Upload Failed:",A)}}else console.error("Failed to save exam result document")}else console.log("Skipping Firebase save: User not logged in");console.log("Navigating to /results..."),e("/results",{state:{examResult:g,examData:n,answers:f}})}catch(p){console.error("Marking failed DETAILS:",p);let g="Marking failed. Please try again.";p.message.includes("API key")&&(g="AI Marking unavailable: Missing API Key."),p.message.includes("generate content")&&(g="AI Service Error: Failed to generate report."),alert(`${g}

Technical Details: ${p.message||p}`),a(!1)}},l=()=>{e("/dashboard")};return r?c.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 text-center p-8",children:[c.jsx("div",{className:"animate-spin text-edexcel-blue mb-6",children:c.jsx(Ea,{size:48})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Grading Assessment"}),c.jsx("p",{className:"text-gray-500 max-w-md",children:"AI Examiner is marking your scripts against the Edexcel 1EN0 criteria..."})]}):c.jsx(JX,{paper:n,onFinish:s,onDiscard:l})};function C3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=C3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=C3(t))&&(r&&(r+=" "),r+=e);return r}var tZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function lS(t){if(typeof t!="string")return!1;var e=tZ;return e.includes(t)}var nZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rZ=new Set(nZ);function I3(t){return typeof t!="string"?!1:rZ.has(t)}function O3(t){return typeof t=="string"&&t.startsWith("data-")}function wr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(I3(n)||O3(n))&&(e[n]=t[n]);return e}function fc(t){if(t==null)return null;if(b.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return wr(e)}return typeof t=="object"&&!Array.isArray(t)?wr(t):null}function ur(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(I3(n)||O3(n)||lS(n))&&(e[n]=t[n]);return e}function aZ(t){return t==null?null:b.isValidElement(t)?ur(t.props):typeof t=="object"&&!Array.isArray(t)?ur(t):null}var iZ=["children","width","height","viewBox","className","style","title","desc"];function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(null,arguments)}function sZ(t,e){if(t==null)return{};var n,r,a=oZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function oZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k3=b.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:l,style:d,title:f,desc:h}=t,p=sZ(t,iZ),g=s||{width:r,height:a,x:0,y:0},x=lt("recharts-surface",l);return b.createElement("svg",I_({},ur(p),{className:x,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),b.createElement("title",null,f),b.createElement("desc",null,h),n)}),lZ=["children","className"];function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(null,arguments)}function cZ(t,e){if(t==null)return{};var n,r,a=uZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function uZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yt=b.forwardRef((t,e)=>{var{children:n,className:r}=t,a=cZ(t,lZ),s=lt("recharts-layer",r);return b.createElement("g",O_({className:s},ur(a),{ref:e}),n)}),dZ=b.createContext(null);function Tt(t){return function(){return t}}const P3=Math.cos,wy=Math.sin,ri=Math.sqrt,_y=Math.PI,Qv=2*_y,k_=Math.PI,P_=2*k_,Bl=1e-6,fZ=P_-Bl;function R3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function hZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return R3;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class mZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?R3:hZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=r-e,h=a-n,p=l-e,g=d-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>Bl)if(!(Math.abs(g*f-h*p)>Bl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,E=a-d,A=f*f+h*h,S=w*w+E*E,C=Math.sqrt(A),U=Math.sqrt(x),R=s*Math.tan((k_-Math.acos((A+x-S)/(2*C*U)))/2),T=R/U,M=R/C;Math.abs(T-1)>Bl&&this._append`L${e+T*p},${n+T*g}`,this._append`A${s},${s},0,0,${+(g*w>p*E)},${this._x1=e+M*f},${this._y1=n+M*h}`}}arc(e,n,r,a,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),f=r*Math.sin(a),h=e+d,p=n+f,g=1^l,x=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Bl||Math.abs(this._y1-p)>Bl)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%P_+P_),x>fZ?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>Bl&&this._append`A${r},${r},0,${+(x>=k_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function cS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new mZ(e)}function uS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function D3(t){this._context=t}D3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xv(t){return new D3(t)}function M3(t){return t[0]}function L3(t){return t[1]}function U3(t,e){var n=Tt(!0),r=null,a=Xv,s=null,l=cS(d);t=typeof t=="function"?t:t===void 0?M3:Tt(t),e=typeof e=="function"?e:e===void 0?L3:Tt(e);function d(f){var h,p=(f=uS(f)).length,g,x=!1,w;for(r==null&&(s=a(w=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,h,f),+e(g,h,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Tt(!!f),d):n},d.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),d):a},d.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),d):r},d}function hg(t,e,n){var r=null,a=Tt(!0),s=null,l=Xv,d=null,f=cS(h);t=typeof t=="function"?t:t===void 0?M3:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?L3:Tt(+n);function h(g){var x,w,E,A=(g=uS(g)).length,S,C=!1,U,R=new Array(A),T=new Array(A);for(s==null&&(d=l(U=f())),x=0;x<=A;++x){if(!(x<A&&a(S=g[x],x,g))===C)if(C=!C)w=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=x-1;E>=w;--E)d.point(R[E],T[E]);d.lineEnd(),d.areaEnd()}C&&(R[x]=+t(S,x,g),T[x]=+e(S,x,g),d.point(r?+r(S,x,g):R[x],n?+n(S,x,g):T[x]))}if(U)return d=null,U+""||null}function p(){return U3().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Tt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Tt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Tt(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class z3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function pZ(t){return new z3(t,!0)}function gZ(t){return new z3(t,!1)}const dS={draw(t,e){const n=ri(e/_y);t.moveTo(n,0),t.arc(0,0,n,0,Qv)}},yZ={draw(t,e){const n=ri(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},V3=ri(1/3),vZ=V3*2,xZ={draw(t,e){const n=ri(e/vZ),r=n*V3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bZ={draw(t,e){const n=ri(e),r=-n/2;t.rect(r,r,n,n)}},wZ=.8908130915292852,$3=wy(_y/10)/wy(7*_y/10),_Z=wy(Qv/10)*$3,EZ=-P3(Qv/10)*$3,AZ={draw(t,e){const n=ri(e*wZ),r=_Z*n,a=EZ*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const l=Qv*s/5,d=P3(l),f=wy(l);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*a,f*r+d*a)}t.closePath()}},yw=ri(3),SZ={draw(t,e){const n=-ri(e/(yw*3));t.moveTo(0,n*2),t.lineTo(-yw*n,-n),t.lineTo(yw*n,-n),t.closePath()}},ya=-.5,va=ri(3)/2,R_=1/ri(12),jZ=(R_/2+1)*3,NZ={draw(t,e){const n=ri(e/jZ),r=n/2,a=n*R_,s=r,l=n*R_+n,d=-s,f=l;t.moveTo(r,a),t.lineTo(s,l),t.lineTo(d,f),t.lineTo(ya*r-va*a,va*r+ya*a),t.lineTo(ya*s-va*l,va*s+ya*l),t.lineTo(ya*d-va*f,va*d+ya*f),t.lineTo(ya*r+va*a,ya*a-va*r),t.lineTo(ya*s+va*l,ya*l-va*s),t.lineTo(ya*d+va*f,ya*f-va*d),t.closePath()}};function TZ(t,e){let n=null,r=cS(a);t=typeof t=="function"?t:Tt(t||dS),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Ey(){}function Ay(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function B3(t){this._context=t}B3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ay(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ay(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CZ(t){return new B3(t)}function F3(t){this._context=t}F3.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ay(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IZ(t){return new F3(t)}function q3(t){this._context=t}q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ay(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OZ(t){return new q3(t)}function H3(t){this._context=t}H3.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kZ(t){return new H3(t)}function SO(t){return t<0?-1:1}function jO(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),d=(s*a+l*r)/(r+a);return(SO(s)+SO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function NO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vw(t,e,n){var r=t._x0,a=t._y0,s=t._x1,l=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,a+d*e,s-d,l-d*n,s,l)}function Sy(t){this._context=t}Sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vw(this,this._t0,NO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vw(this,NO(this,n=jO(this,t,e)),n);break;default:vw(this,this._t0,n=jO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function G3(t){this._context=new K3(t)}(G3.prototype=Object.create(Sy.prototype)).point=function(t,e){Sy.prototype.point.call(this,e,t)};function K3(t){this._context=t}K3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function PZ(t){return new Sy(t)}function RZ(t){return new G3(t)}function W3(t){this._context=t}W3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=TO(t),a=TO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TO(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function DZ(t){return new W3(t)}function Zv(t,e){this._context=t,this._t=e}Zv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function MZ(t){return new Zv(t,.5)}function LZ(t){return new Zv(t,0)}function UZ(t){return new Zv(t,1)}function Wu(t,e){if((l=t.length)>1)for(var n=1,r,a,s=t[e[0]],l,d=s.length;n<l;++n)for(a=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function D_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zZ(t,e){return t[e]}function VZ(t){const e=[];return e.key=t,e}function $Z(){var t=Tt([]),e=D_,n=Wu,r=zZ;function a(s){var l=Array.from(t.apply(this,arguments),VZ),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+r(g,l[d].key,h,s)]).data=g;for(d=0,p=uS(e(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Tt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?D_:typeof s=="function"?s:Tt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Wu,a):n},a}function BZ(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,l;a<s;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Wu(t,e)}}function FZ(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var l=0,d=0;l<a;++l)d+=t[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}Wu(t,e)}}function qZ(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,l;r<s;++r){for(var d=0,f=0,h=0;d<l;++d){for(var p=t[e[d]],g=p[r][1]||0,x=p[r-1][1]||0,w=(g-x)/2,E=0;E<d;++E){var A=t[e[E]],S=A[r][1]||0,C=A[r-1][1]||0;w+=S-C}f+=g,h+=w*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Wu(t,e)}}var xw={},bw={},CO;function HZ(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(bw)),bw}var ww={},IO;function Y3(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ww)),ww}var _w={},OO;function fS(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(_w)),_w}var Ew={},Aw={},kO;function GZ(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Aw)),Aw}var PO;function hS(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GZ(),n=fS();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],l=a.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=a[d];h?g==="\\"&&d+1<l?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(Ew)),Ew}var RO;function mS(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HZ(),n=Y3(),r=fS(),a=hS();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(xw)),xw}var Sw,DO;function KZ(){return DO||(DO=1,Sw=mS().get),Sw}var WZ=KZ();const hc=Gi(WZ);var $n=t=>t===0?0:t>0?1:-1,Ta=t=>typeof t=="number"&&t!=+t,Ms=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ae=t=>(typeof t=="number"||t instanceof Number)&&!Ta(t),Vi=t=>Ae(t)||typeof t=="string",YZ=0,bh=t=>{var e=++YZ;return"".concat(t||"").concat(e)},lr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&typeof e!="string")return r;var s;if(Ms(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Ta(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},Q3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function ft(t,e,n){return Ae(t)&&Ae(e)?t+n*(e-t):e}function X3(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):hc(r,e))===n)}var Pt=t=>t===null||typeof t>"u",rm=t=>Pt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function QZ(t){return t!=null}function am(){}var XZ=["type","size","sizeType"];function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(null,arguments)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){ZZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZZ(t,e,n){return(e=JZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JZ(t){var e=eJ(t,"string");return typeof e=="symbol"?e:e+""}function eJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tJ(t,e){if(t==null)return{};var n,r,a=nJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Z3={symbolCircle:dS,symbolCross:yZ,symbolDiamond:xZ,symbolSquare:bZ,symbolStar:AZ,symbolTriangle:SZ,symbolWye:NZ},rJ=Math.PI/180,aJ=t=>{var e="symbol".concat(rm(t));return Z3[e]||dS},iJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*rJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},sJ=(t,e)=>{Z3["symbol".concat(rm(t))]=e},J3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=tJ(t,XZ),s=LO(LO({},a),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var d=()=>{var x=aJ(l),w=TZ().type(x).size(iJ(n,r,l)),E=w();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=ur(s);return Ae(h)&&Ae(p)&&Ae(n)?b.createElement("path",M_({},g,{className:lt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};J3.registerSymbol=sJ;var e5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,pS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{lS(a)&&(r[a]=(s=>n[a](n,s)))}),r},oJ=(t,e,n)=>r=>(t(e,n,r),null),Jv=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];lS(a)&&typeof s=="function"&&(r||(r={}),r[a]=oJ(s,e,n))}),r};function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){cJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cJ(t,e,n){return(e=uJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=dJ(t,"string");return typeof e=="symbol"?e:e+""}function dJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function An(t,e){var n=lJ({},t),r=e,a=Object.keys(e),s=a.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return s}var jw={},Nw={},zO;function fJ(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const l=n[s],d=r(l);a.has(d)||a.set(d,l)}return Array.from(a.values())}t.uniqBy=e})(Nw)),Nw}var Tw={},VO;function t5(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Tw)),Tw}var Cw={},Iw={},Ow={},$O;function hJ(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Ow)),Ow}var BO;function gS(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Iw)),Iw}var kw={},FO;function mJ(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(kw)),kw}var qO;function pJ(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gS(),n=mJ();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(Cw)),Cw}var Pw={},Rw={},HO;function gJ(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mS();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Rw)),Rw}var Dw={},Mw={},Lw={},Uw={},GO;function n5(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Uw)),Uw}var zw={},KO;function r5(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(zw)),zw}var Vw={},WO;function a5(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Vw)),Vw}var YO;function yJ(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n5(),n=r5(),r=a5();function a(p,g,x){return typeof x!="function"?a(p,g,()=>{}):s(p,g,function w(E,A,S,C,U,R){const T=x(E,A,S,C,U,R);return T!==void 0?!!T:s(E,A,w,R)},new Map)}function s(p,g,x,w){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,x,w);case"function":return Object.keys(g).length>0?s(p,{...g},x,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,x,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,w);if(g instanceof Map)return d(p,g,x,w);if(g instanceof Set)return h(p,g,x,w);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let A=0;A<E.length;A++){const S=E[A];if(!n.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!x(p[S],g[S],S,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function d(p,g,x,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,A]of g.entries()){const S=p.get(E);if(x(S,A,E,p,g,w)===!1)return!1}return!0}function f(p,g,x,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let A=0;A<g.length;A++){const S=g[A];let C=!1;for(let U=0;U<p.length;U++){if(E.has(U))continue;const R=p[U];let T=!1;if(x(R,S,A,p,g,w)&&(T=!0),T){E.add(U),C=!0;break}}if(!C)return!1}return!0}function h(p,g,x,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,w):!1}t.isMatchWith=a,t.isSetMatch=h})(Lw)),Lw}var QO;function i5(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yJ();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Mw)),Mw}var $w={},Bw={},Fw={},XO;function vJ(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Fw)),Fw}var qw={},ZO;function s5(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(qw)),qw}var Hw={},JO;function o5(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",w="[object Object]",E="[object Error]",A="[object DataView]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",U="[object Uint16Array]",R="[object Uint32Array]",T="[object BigUint64Array]",M="[object Int8Array]",V="[object Int16Array]",I="[object Int32Array]",k="[object BigInt64Array]",N="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=T,t.booleanTag=a,t.dataViewTag=A,t.dateTag=d,t.errorTag=E,t.float32ArrayTag=N,t.float64ArrayTag=P,t.functionTag=g,t.int16ArrayTag=V,t.int32ArrayTag=I,t.int8ArrayTag=M,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=U,t.uint32ArrayTag=R,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=C})(Hw)),Hw}var Gw={},ek;function xJ(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Gw)),Gw}var tk;function l5(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vJ(),n=s5(),r=o5(),a=r5(),s=xJ();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,w=new Map,E=void 0){const A=E==null?void 0:E(p,g,x,w);if(A!==void 0)return A;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const S=new Array(p.length);w.set(p,S);for(let C=0;C<p.length;C++)S[C]=d(p[C],C,x,w,E);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;w.set(p,S);for(const[C,U]of p)S.set(C,d(U,C,x,w,E));return S}if(p instanceof Set){const S=new Set;w.set(p,S);for(const C of p)S.add(d(C,void 0,x,w,E));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,S);for(let C=0;C<p.length;C++)S[C]=d(p[C],C,x,w,E);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,S),f(S,p,x,w,E),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return w.set(p,S),f(S,p,x,w,E),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return w.set(p,S),f(S,p,x,w,E),S}if(p instanceof Error){const S=new p.constructor;return w.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,x,w,E),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return w.set(p,S),f(S,p,x,w,E),S}if(p instanceof Number){const S=new Number(p.valueOf());return w.set(p,S),f(S,p,x,w,E),S}if(p instanceof String){const S=new String(p.valueOf());return w.set(p,S),f(S,p,x,w,E),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return w.set(p,S),f(S,p,x,w,E),S}return p}function f(p,g,x=p,w,E){const A=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<A.length;S++){const C=A[S],U=Object.getOwnPropertyDescriptor(p,C);(U==null||U.writable)&&(p[C]=d(g[C],C,x,w,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=d,t.copyProperties=f})(Bw)),Bw}var nk;function bJ(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})($w)),$w}var rk;function wJ(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i5(),n=bJ();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(Dw)),Dw}var Kw={},Ww={},Yw={},ak;function _J(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l5(),n=o5();function r(a,s){return e.cloneDeepWith(a,(l,d,f,h)=>{const p=s==null?void 0:s(l,d,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Yw)),Yw}var ik;function EJ(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_J();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Ww)),Ww}var Qw={},Xw={},sk;function c5(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Xw)),Xw}var Zw={},ok;function AJ(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s5();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Zw)),Zw}var lk;function SJ(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y3(),n=c5(),r=AJ(),a=hS();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Qw)),Qw}var ck;function jJ(){return ck||(ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i5(),n=fS(),r=EJ(),a=mS(),s=SJ();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(Kw)),Kw}var uk;function NJ(){return uk||(uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t5(),n=gJ(),r=wJ(),a=jJ();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Pw)),Pw}var dk;function TJ(){return dk||(dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fJ(),n=t5(),r=pJ(),a=NJ();function s(l,d=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(d)):[]}t.uniqBy=s})(jw)),jw}var Jw,fk;function CJ(){return fk||(fk=1,Jw=TJ().uniqBy),Jw}var IJ=CJ();const hk=Gi(IJ);function OJ(t,e,n){return e===!0?hk(t,n):typeof e=="function"?hk(t,e):t}var e1={exports:{}},t1={},n1={exports:{}},r1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk;function kJ(){if(mk)return r1;mk=1;var t=td();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(g,x){var w=x(),E=r({inst:{value:w,getSnapshot:x}}),A=E[0].inst,S=E[1];return s(function(){A.value=w,A.getSnapshot=x,f(A)&&S({inst:A})},[g,w,x]),a(function(){return f(A)&&S({inst:A}),g(function(){f(A)&&S({inst:A})})},[g]),l(w),w}function f(g){var x=g.getSnapshot;g=g.value;try{var w=x();return!n(g,w)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return r1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,r1}var pk;function PJ(){return pk||(pk=1,n1.exports=kJ()),n1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk;function RJ(){if(gk)return t1;gk=1;var t=td(),e=PJ();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return t1.useSyncExternalStoreWithSelector=function(h,p,g,x,w){var E=s(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=d(function(){function C(V){if(!U){if(U=!0,R=V,V=x(V),w!==void 0&&A.hasValue){var I=A.value;if(w(I,V))return T=I}return T=V}if(I=T,r(R,V))return I;var k=x(V);return w!==void 0&&w(I,k)?(R=V,I):(R=V,T=k)}var U=!1,R,T,M=g===void 0?null:g;return[function(){return C(p())},M===null?void 0:function(){return C(M())}]},[p,g,x,w]);var S=a(h,E[0],E[1]);return l(function(){A.hasValue=!0,A.value=S},[S]),f(S),S},t1}var yk;function DJ(){return yk||(yk=1,e1.exports=RJ()),e1.exports}var MJ=DJ(),yS=b.createContext(null),LJ=t=>t,Vt=()=>{var t=b.useContext(yS);return t?t.store.dispatch:LJ},Fg=()=>{},UJ=()=>Fg,zJ=(t,e)=>t===e;function Ne(t){var e=b.useContext(yS);return MJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:UJ,e?e.store.getState:Fg,e?e.store.getState:Fg,e?t:Fg,zJ)}function VJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function $J(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function BJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var vk=t=>Array.isArray(t)?t:[t];function FJ(t){const e=Array.isArray(t[0])?t[0]:t;return BJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function qJ(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var HJ=class{constructor(t){this.value=t}deref(){return this.value}},GJ=typeof WeakRef<"u"?WeakRef:HJ,KJ=0,xk=1;function mg(){return{s:KJ,v:void 0,o:null,p:null}}function u5(t,e={}){let n=mg();const{resultEqualityCheck:r}=e;let a,s=0;function l(){var g;let d=n;const{length:f}=arguments;for(let x=0,w=f;x<w;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=d.o;A===null&&(d.o=A=new WeakMap);const S=A.get(E);S===void 0?(d=mg(),A.set(E,d)):d=S}else{let A=d.p;A===null&&(d.p=A=new Map);const S=A.get(E);S===void 0?(d=mg(),A.set(E,d)):d=S}}const h=d;let p;if(d.s===xk)p=d.v;else if(p=t.apply(null,arguments),s++,r){const x=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;x!=null&&r(x,p)&&(p=x,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new GJ(p):p}return h.s=xk,h.v=p,p}return l.clearCache=()=>{n=mg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function WJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,l=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),VJ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:w=u5,argsMemoizeOptions:E=[]}=p,A=vk(x),S=vk(E),C=FJ(a),U=g(function(){return s++,h.apply(null,arguments)},...A),R=w(function(){l++;const M=qJ(C,arguments);return d=U.apply(null,M),d},...S);return Object.assign(R,{resultFunc:h,memoizedResultFunc:U,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var J=WJ(u5),YJ=Object.assign((t,e=J)=>{$J(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>YJ}),a1={},i1={},s1={},bk;function QJ(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const l=e(r),d=e(a);if(l===d&&l===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};t.compareValues=n})(s1)),s1}var o1={},l1={},wk;function d5(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(l1)),l1}var _k;function XJ(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=a})(o1)),o1}var Ek;function ZJ(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QJ(),n=XJ(),r=hS();function a(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const h=(w,E)=>{let A=w;for(let S=0;S<E.length&&A!=null;++S)A=A[E[S]];return A},p=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:h(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?h(E,w):typeof E=="object"?E[w]:E,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(E=>p(E,w))})).slice().sort((w,E)=>{for(let A=0;A<g.length;A++){const S=e.compareValues(w.criteria[A],E.criteria[A],d[A]);if(S!==0)return S}return 0}).map(w=>w.original)}t.orderBy=a})(i1)),i1}var c1={},Ak;function JJ(){return Ak||(Ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(n,0),a}t.flatten=e})(c1)),c1}var u1={},Sk;function f5(){return Sk||(Sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c5(),n=gS(),r=n5(),a=a5();function s(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.eq(f[d],l):!1}t.isIterateeCall=s})(u1)),u1}var jk;function eee(){return jk||(jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZJ(),n=JJ(),r=f5();function a(s,...l){const d=l.length;return d>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=a})(a1)),a1}var d1,Nk;function tee(){return Nk||(Nk=1,d1=eee().sortBy),d1}var nee=tee();const e0=Gi(nee);var h5=t=>t.legend.settings,ree=t=>t.legend.size,aee=t=>t.legend.payload;J([aee,h5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?e0(r,n):r});var pg=1;function iee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>pg||Math.abs(l.left-e.left)>pg||Math.abs(l.top-e.top)>pg||Math.abs(l.width-e.width)>pg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Xn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var see=typeof Symbol=="function"&&Symbol.observable||"@@observable",Tk=see,f1=()=>Math.random().toString(36).substring(7).split("").join("."),oee={INIT:`@@redux/INIT${f1()}`,REPLACE:`@@redux/REPLACE${f1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f1()}`},jy=oee;function vS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function m5(t,e,n){if(typeof t!="function")throw new Error(Xn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xn(1));return n(m5)(t,e)}let r=t,a=e,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((S,C)=>{l.set(C,S)}))}function p(){if(f)throw new Error(Xn(3));return a}function g(S){if(typeof S!="function")throw new Error(Xn(4));if(f)throw new Error(Xn(5));let C=!0;h();const U=d++;return l.set(U,S),function(){if(C){if(f)throw new Error(Xn(6));C=!1,h(),l.delete(U),s=null}}}function x(S){if(!vS(S))throw new Error(Xn(7));if(typeof S.type>"u")throw new Error(Xn(8));if(typeof S.type!="string")throw new Error(Xn(17));if(f)throw new Error(Xn(9));try{f=!0,a=r(a,S)}finally{f=!1}return(s=l).forEach(U=>{U()}),S}function w(S){if(typeof S!="function")throw new Error(Xn(10));r=S,x({type:jy.REPLACE})}function E(){const S=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Xn(11));function U(){const T=C;T.next&&T.next(p())}return U(),{unsubscribe:S(U)}},[Tk](){return this}}}return x({type:jy.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:w,[Tk]:E}}function lee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:jy.INIT})>"u")throw new Error(Xn(12));if(typeof n(void 0,{type:jy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xn(13))})}function p5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{lee(n)}catch(s){a=s}return function(l={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],w=l[g],E=x(w,d);if(typeof E>"u")throw d&&d.type,new Error(Xn(14));h[g]=E,f=f||E!==w}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Ny(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function cee(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(Xn(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(l));return s=Ny(...d)(a.dispatch),{...a,dispatch:s}}}function g5(t){return vS(t)&&"type"in t&&typeof t.type=="string"}var y5=Symbol.for("immer-nothing"),Ck=Symbol.for("immer-draftable"),_r=Symbol.for("immer-state");function Ha(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Jr=Object,Yu=Jr.getPrototypeOf,Ty="constructor",t0="prototype",L_="configurable",Cy="enumerable",qg="writable",wh="value",Ls=t=>!!t&&!!t[_r];function $i(t){var e;return t?v5(t)||n0(t)||!!t[Ck]||!!((e=t[Ty])!=null&&e[Ck])||r0(t)||a0(t):!1}var uee=Jr[t0][Ty].toString(),Ik=new WeakMap;function v5(t){if(!t||!xS(t))return!1;const e=Yu(t);if(e===null||e===Jr[t0])return!0;const n=Jr.hasOwnProperty.call(e,Ty)&&e[Ty];if(n===Object)return!0;if(!_u(n))return!1;let r=Ik.get(n);return r===void 0&&(r=Function.toString.call(n),Ik.set(n,r)),r===uee}function im(t,e,n=!0){sm(t)===0?(n?Reflect.ownKeys(t):Jr.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function sm(t){const e=t[_r];return e?e.type_:n0(t)?1:r0(t)?2:a0(t)?3:0}var Ok=(t,e,n=sm(t))=>n===2?t.has(e):Jr[t0].hasOwnProperty.call(t,e),U_=(t,e,n=sm(t))=>n===2?t.get(e):t[e],Iy=(t,e,n,r=sm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function dee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var n0=Array.isArray,r0=t=>t instanceof Map,a0=t=>t instanceof Set,xS=t=>typeof t=="object",_u=t=>typeof t=="function",h1=t=>typeof t=="boolean",ys=t=>t.copy_||t.base_,bS=t=>t.modified_?t.copy_:t.base_;function z_(t,e){if(r0(t))return new Map(t);if(a0(t))return new Set(t);if(n0(t))return Array[t0].slice.call(t);const n=v5(t);if(e===!0||e==="class_only"&&!n){const r=Jr.getOwnPropertyDescriptors(t);delete r[_r];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],d=r[l];d[qg]===!1&&(d[qg]=!0,d[L_]=!0),(d.get||d.set)&&(r[l]={[L_]:!0,[qg]:!0,[Cy]:d[Cy],[wh]:t[l]})}return Jr.create(Yu(t),r)}else{const r=Yu(t);if(r!==null&&n)return{...t};const a=Jr.create(r);return Jr.assign(a,t)}}function wS(t,e=!1){return i0(t)||Ls(t)||(sm(t)>1&&Jr.defineProperties(t,{set:gg,add:gg,clear:gg,delete:gg}),Jr.freeze(t),e&&im(t,(n,r)=>{wS(r,!0)},!1)),t}function fee(){Ha(2)}var gg={[wh]:fee};function i0(t){return t===null||!xS(t)?!0:Jr.isFrozen(t)}var Oy="MapSet",V_="Patches",x5={};function Qu(t){const e=x5[t];return e||Ha(0,t),e}var hee=t=>!!x5[t],_h,b5=()=>_h,mee=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:hee(Oy)?Qu(Oy):void 0});function kk(t,e){e&&(t.patchPlugin_=Qu(V_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $_(t){B_(t),t.drafts_.forEach(pee),t.drafts_=null}function B_(t){t===_h&&(_h=t.parent_)}var Pk=t=>_h=mee(_h,t);function pee(t){const e=t[_r];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Rk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[_r].modified_&&($_(e),Ha(4)),$i(t)&&(t=Dk(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[_r].base_,t,e)}else t=Dk(e,n);return gee(e,t,!0),$_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==y5?t:void 0}function Dk(t,e){if(i0(e))return e;const n=e[_r];if(!n)return _S(e,t.handledSet_,t);if(!s0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);E5(n,t)}return n.copy_}function gee(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wS(e,n)}function w5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var s0=(t,e)=>t.scope_===e,yee=[];function _5(t,e,n,r){const a=ys(t),s=t.type_;if(r!==void 0&&U_(a,r,s)===e){Iy(a,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;im(a,(f,h)=>{if(Ls(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=t.draftLocations_.get(e)??yee;for(const d of l)Iy(a,d,n,s)}function vee(t,e,n){t.callbacks_.push(function(a){var d;const s=e;if(!s||!s0(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const l=bS(s);_5(t,s.draft_??s,l,n),E5(s,a)})}function E5(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}w5(t)}}function xee(t,e,n){const{scope_:r}=t;if(Ls(n)){const a=n[_r];s0(a,r)&&a.callbacks_.push(function(){Hg(t);const l=bS(a);_5(t,n,l,e)})}else $i(n)&&t.callbacks_.push(function(){const s=ys(t);U_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&_S(U_(t.copy_,e,t.type_),r.handledSet_,r)})}function _S(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ls(t)||e.has(t)||!$i(t)||i0(t)||(e.add(t),im(t,(r,a)=>{if(Ls(a)){const s=a[_r];if(s0(s,n)){const l=bS(s);Iy(t,r,l,t.type_),w5(s)}}else $i(a)&&_S(a,e,n)})),t}function bee(t,e){const n=n0(t),r={type_:n?1:0,scope_:e?e.scope_:b5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=ES;n&&(a=[r],s=Eh);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=l,[d,r]}var ES={get(t,e){if(e===_r)return t;const n=ys(t);if(!Ok(n,e,t.type_))return wee(t,n,e);const r=n[e];if(t.finalized_||!$i(r))return r;if(r===m1(t.base_,e)){Hg(t);const a=t.type_===1?+e:e,s=q_(t.scope_,r,t,a);return t.copy_[a]=s}return r},has(t,e){return e in ys(t)},ownKeys(t){return Reflect.ownKeys(ys(t))},set(t,e,n){const r=A5(ys(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=m1(ys(t),e),s=a==null?void 0:a[_r];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(dee(n,a)&&(n!==void 0||Ok(t.base_,e,t.type_)))return!0;Hg(t),F_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),xee(t,e,n)),!0},deleteProperty(t,e){return Hg(t),m1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),F_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ys(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[qg]:!0,[L_]:t.type_!==1||e!=="length",[Cy]:r[Cy],[wh]:n[e]}},defineProperty(){Ha(11)},getPrototypeOf(t){return Yu(t.base_)},setPrototypeOf(){Ha(12)}},Eh={};im(ES,(t,e)=>{Eh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Eh.deleteProperty=function(t,e){return Eh.set.call(this,t,e,void 0)};Eh.set=function(t,e,n){return ES.set.call(this,t[0],e,n,t[0])};function m1(t,e){const n=t[_r];return(n?ys(n):t)[e]}function wee(t,e,n){var a;const r=A5(e,n);return r?wh in r?r[wh]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function A5(t,e){if(!(e in t))return;let n=Yu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Yu(n)}}function F_(t){t.modified_||(t.modified_=!0,t.parent_&&F_(t.parent_))}function Hg(t){t.copy_||(t.assigned_=new Map,t.copy_=z_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _ee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(_u(n)&&!_u(r)){const l=r;r=n;const d=this;return function(h=l,...p){return d.produce(h,g=>r.call(this,g,...p))}}_u(r)||Ha(6),a!==void 0&&!_u(a)&&Ha(7);let s;if($i(n)){const l=Pk(this),d=q_(l,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?$_(l):B_(l)}return kk(l,a),Rk(s,l)}else if(!n||!xS(n)){if(s=r(n),s===void 0&&(s=n),s===y5&&(s=void 0),this.autoFreeze_&&wS(s,!0),a){const l=[],d=[];Qu(V_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:d}),a(l,d)}return s}else Ha(1,n)},this.produceWithPatches=(n,r)=>{if(_u(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let a,s;return[this.produce(n,r,(d,f)=>{a=d,s=f}),a,s]},h1(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),h1(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),h1(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){$i(e)||Ha(8),Ls(e)&&(e=Xa(e));const n=Pk(this),r=q_(n,e,void 0);return r[_r].isManual_=!0,B_(n),r}finishDraft(e,n){const r=e&&e[_r];(!r||!r.isManual_)&&Ha(9);const{scope_:a}=r;return kk(a,n),Rk(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Qu(V_).applyPatches_;return Ls(e)?a(e,n):this.produce(e,s=>a(s,n))}};function q_(t,e,n,r){const[a,s]=r0(e)?Qu(Oy).proxyMap_(e,n):a0(e)?Qu(Oy).proxySet_(e,n):bee(e,n);return((n==null?void 0:n.scope_)??b5()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?vee(n,s,r):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function Xa(t){return Ls(t)||Ha(10,t),S5(t)}function S5(t){if(!$i(t)||i0(t))return t;const e=t[_r];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=z_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=z_(t,!0);return im(n,(a,s)=>{Iy(n,a,S5(s))},r),e&&(e.finalized_=!1),n}var Eee=new _ee,j5=Eee.produce;function N5(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var Aee=N5(),See=N5,jee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ny:Ny.apply(null,arguments)};function Ca(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ea(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>g5(r)&&r.type===t,n}var T5=class Kf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kf.prototype)}static get[Symbol.species](){return Kf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Kf(...e[0].concat(this)):new Kf(...e.concat(this))}};function Mk(t){return $i(t)?j5(t,()=>{}):t}function yg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Nee(t){return typeof t=="boolean"}var Tee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let l=new T5;return n&&(Nee(n)?l.push(Aee):l.push(See(n.extraArgument))),l},C5="RTK_autoBatch",Lt=()=>t=>({payload:t,meta:{[C5]:!0}}),Lk=t=>e=>{setTimeout(e,t)},I5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,l=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Lk(10):t.type==="callback"?t.queueNotification:Lk(t.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),x=r.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[C5]),s=!a,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},Cee=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new T5(t);return r&&a.push(I5(typeof r=="object"?r:void 0)),a};function Iee(t){const e=Tee(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(vS(n))d=p5(n);else throw new Error(ea(1));let f;typeof r=="function"?f=r(e):f=e();let h=Ny;a&&(h=jee({trace:!1,...typeof a=="object"&&a}));const p=cee(...f),g=Cee(p);let x=typeof l=="function"?l(g):g();const w=h(...x);return m5(d,s,w)}function O5(t){const e={},n=[];let r;const a={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ea(28));if(d in e)throw new Error(ea(29));return e[d]=l,a},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return n.push({matcher:s,reducer:l}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function Oee(t){return typeof t=="function"}function kee(t,e){let[n,r,a]=O5(e),s;if(Oee(t))s=()=>Mk(t());else{const d=Mk(t);s=()=>d}function l(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Ls(p)){const w=g(p,f);return w===void 0?p:w}else{if($i(p))return j5(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return l.getInitialState=s,l}var Pee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ree=(t=21)=>{let e="",n=t;for(;n--;)e+=Pee[Math.random()*64|0];return e},Dee=Symbol.for("rtk-slice-createasyncthunk");function Mee(t,e){return`${t}/${e}`}function Lee({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Dee];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(ea(11));const d=(typeof a.reducers=="function"?a.reducers(zee()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(T,M){const V=typeof T=="string"?T:T.type;if(!V)throw new Error(ea(12));if(V in h.sliceCaseReducersByType)throw new Error(ea(13));return h.sliceCaseReducersByType[V]=M,p},addMatcher(T,M){return h.sliceMatchers.push({matcher:T,reducer:M}),p},exposeAction(T,M){return h.actionCreators[T]=M,p},exposeCaseReducer(T,M){return h.sliceCaseReducersByName[T]=M,p}};f.forEach(T=>{const M=d[T],V={reducerName:T,type:Mee(s,T),createNotation:typeof a.reducers=="function"};$ee(M)?Fee(V,M,p,e):Vee(V,M,p)});function g(){const[T={},M=[],V=void 0]=typeof a.extraReducers=="function"?O5(a.extraReducers):[a.extraReducers],I={...T,...h.sliceCaseReducersByType};return kee(a.initialState,k=>{for(let N in I)k.addCase(N,I[N]);for(let N of h.sliceMatchers)k.addMatcher(N.matcher,N.reducer);for(let N of M)k.addMatcher(N.matcher,N.reducer);V&&k.addDefaultCase(V)})}const x=T=>T,w=new Map,E=new WeakMap;let A;function S(T,M){return A||(A=g()),A(T,M)}function C(){return A||(A=g()),A.getInitialState()}function U(T,M=!1){function V(k){let N=k[T];return typeof N>"u"&&M&&(N=yg(E,V,C)),N}function I(k=x){const N=yg(w,M,()=>new WeakMap);return yg(N,k,()=>{const P={};for(const[L,z]of Object.entries(a.selectors??{}))P[L]=Uee(z,k,()=>yg(E,k,C),M);return P})}return{reducerPath:T,getSelectors:I,get selectors(){return I(V)},selectSlice:V}}const R={name:s,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...U(l),injectInto(T,{reducerPath:M,...V}={}){const I=M??l;return T.inject({reducerPath:I,reducer:S},V),{...R,...U(I,!0)}}};return R}}function Uee(t,e,n,r){function a(s,...l){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...l)}return a.unwrapped=t,a}var Lr=Lee();function zee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Vee({type:t,reducerName:e,createNotation:n},r,a){let s,l;if("reducer"in r){if(n&&!Bee(r))throw new Error(ea(17));s=r.reducer,l=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Ca(t,l):Ca(t))}function $ee(t){return t._reducerDefinitionType==="asyncThunk"}function Bee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Fee({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ea(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=n,g=a(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||vg,pending:d||vg,rejected:f||vg,settled:h||vg})}function vg(){}var qee="task",k5="listener",P5="completed",AS="cancelled",Hee=`task-${AS}`,Gee=`task-${P5}`,H_=`${k5}-${AS}`,Kee=`${k5}-${P5}`,o0=class{constructor(t){Fb(this,"name","TaskAbortError");Fb(this,"message");this.code=t,this.message=`${qee} ${AS} (reason: ${t})`}},SS=(t,e)=>{if(typeof t!="function")throw new TypeError(ea(32))},ky=()=>{},R5=(t,e=ky)=>(t.catch(e),t),D5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Xl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Zl=t=>{if(t.aborted){const{reason:e}=t;throw new o0(e)}};function M5(t,e){let n=ky;return new Promise((r,a)=>{const s=()=>a(new o0(t.reason));if(t.aborted){s();return}n=D5(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=ky})}var Wee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof o0?"cancelled":"rejected",error:n}}finally{e==null||e()}},Py=t=>e=>R5(M5(t,e).then(n=>(Zl(t),n))),L5=t=>{const e=Py(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Mu}=Object,Uk={},l0="listenerMiddleware",Yee=(t,e)=>{const n=r=>D5(t,()=>Xl(r,t.reason));return(r,a)=>{SS(r);const s=new AbortController;n(s);const l=Wee(async()=>{Zl(t),Zl(s.signal);const d=await r({pause:Py(s.signal),delay:L5(s.signal),signal:s.signal});return Zl(s.signal),d},()=>Xl(s,Gee));return a!=null&&a.autoJoin&&e.push(l.catch(ky)),{result:Py(t)(l),cancel(){Xl(s,Hee)}}}},Qee=(t,e)=>{const n=async(r,a)=>{Zl(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await M5(e,Promise.race(d));return Zl(e),f}finally{s()}};return(r,a)=>R5(n(r,a))},U5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Ca(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ea(21));return SS(s),{predicate:a,type:e,effect:s}},z5=Mu(t=>{const{type:e,predicate:n,effect:r}=U5(t);return{id:Ree(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ea(22))}}},{withTypes:()=>z5}),zk=(t,e)=>{const{type:n,effect:r,predicate:a}=U5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},G_=t=>{t.pending.forEach(e=>{Xl(e,H_)})},Xee=(t,e)=>()=>{for(const n of e.keys())G_(n);t.clear()},Vk=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},V5=Mu(Ca(`${l0}/add`),{withTypes:()=>V5}),Zee=Ca(`${l0}/removeAll`),$5=Mu(Ca(`${l0}/remove`),{withTypes:()=>$5}),Jee=(...t)=>{console.error(`${l0}/error`,...t)},om=(t={})=>{const e=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},a=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:s,onError:l=Jee}=t;SS(l);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),E=>{w.unsubscribe(),E!=null&&E.cancelActive&&G_(w)}),f=w=>{const E=zk(e,w)??z5(w);return d(E)};Mu(f,{withTypes:()=>f});const h=w=>{const E=zk(e,w);return E&&(E.unsubscribe(),w.cancelActive&&G_(E)),!!E};Mu(h,{withTypes:()=>h});const p=async(w,E,A,S)=>{const C=new AbortController,U=Qee(f,C.signal),R=[];try{w.pending.add(C),r(w),await Promise.resolve(w.effect(E,Mu({},A,{getOriginalState:S,condition:(T,M)=>U(T,M).then(Boolean),take:U,delay:L5(C.signal),pause:Py(C.signal),extra:s,signal:C.signal,fork:Yee(C.signal,R),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((T,M,V)=>{T!==C&&(Xl(T,H_),V.delete(T))})},cancel:()=>{Xl(C,H_),w.pending.delete(C)},throwIfCancelled:()=>{Zl(C.signal)}})))}catch(T){T instanceof o0||Vk(l,T,{raisedBy:"effect"})}finally{await Promise.all(R),Xl(C,Kee),a(w),w.pending.delete(C)}},g=Xee(e,n);return{middleware:w=>E=>A=>{if(!g5(A))return E(A);if(V5.match(A))return f(A.payload);if(Zee.match(A)){g();return}if($5.match(A))return h(A.payload);let S=w.getState();const C=()=>{if(S===Uk)throw new Error(ea(23));return S};let U;try{if(U=E(A),e.size>0){const R=w.getState(),T=Array.from(e.values());for(const M of T){let V=!1;try{V=M.predicate(A,R,S)}catch(I){V=!1,Vk(l,I,{raisedBy:"predicate"})}V&&p(M,A,w,C)}}}finally{S=Uk}return U},startListening:f,stopListening:h,clearListeners:g}};function ea(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ete={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},B5=Lr({name:"chartLayout",initialState:ete,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:tte,setLayout:nte,setChartSize:rte,setScale:ate}=B5.actions,ite=B5.reducer;function F5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=lte(t,"string");return typeof e=="symbol"?e:e+""}function lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vt(t,e,n){return Pt(t)||Pt(e)?n:Vi(e)?hc(t,e,n):typeof e=="function"?e(t):n}var cte=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:l,layout:d}=e;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Ae(t[s]))return ju(ju({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Ae(t[l]))return ju(ju({},t),{},{[l]:t[l]+(a||0)})}return t},Xi=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",q5=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,s,l=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate));return a||l.push(e),s||l.push(n),l},H5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:w}=t;if(!l)return null;var E=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,A=a==="category"&&l.bandwidth?l.bandwidth()/E:0;if(A=w==="angleAxis"&&s&&s.length>=2?$n(s[0]-s[1])*2*A:A,g||x){var S=(g||x||[]).map((C,U)=>{var R=r?r.indexOf(C):C;return{coordinate:l(R)+A,value:C,offset:A,index:U}});return S.filter(C=>!Ta(C.coordinate))}return f&&h?h.map((C,U)=>({coordinate:l(C)+A,value:C,index:U,offset:A})):l.ticks&&p!=null?l.ticks(p).map((C,U)=>({coordinate:l(C)+A,value:C,offset:A,index:U})):l.domain().map((C,U)=>({coordinate:l(C)+A,value:r?r[C]:C,index:U,offset:A}))},Bk=1e-4,ute=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-Bk,s=Math.max(r[0],r[1])+Bk,l=t(e[0]),d=t(e[n-1]);(l<a||l>s||d<a||d>s)&&t.domain([e[0],e[n-1]])}},dte=(t,e)=>{if(!e||e.length!==2||!Ae(e[0])||!Ae(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Ae(t[0])||t[0]<n)&&(a[0]=n),(!Ae(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},fte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,l=0;l<e;++l){var d=Ta(t[l][n][1])?t[l][n][0]:t[l][n][1];d>=0?(t[l][n][0]=a,t[l][n][1]=a+d,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+d,s=t[l][n][1])}},hte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var l=Ta(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},mte={sign:fte,expand:BZ,none:Wu,silhouette:FZ,wiggle:qZ,positive:hte},pte=(t,e,n)=>{var r=mte[n],a=$Z().keys(e).value((s,l)=>Number(vt(s,l,0))).order(D_).offset(r);return a(t)};function G5(t){return t==null?void 0:String(t)}function Ry(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Pt(a[e.dataKey])){var d=X3(n,"value",a[e.dataKey]);if(d)return d.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=vt(a,Pt(l)?e.dataKey:l);return Pt(f)?null:e.scale(f)}var Fk=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var d=vt(s,e.dataKey,e.scale.domain()[l]);return Pt(d)?null:e.scale(d)-a/2+r},gte=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},yte=t=>{var e=t.flat(2).filter(Ae);return[Math.min(...e),Math.max(...e)]},vte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],xte=(t,e,n)=>{if(t!=null)return vte(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:l}=s,d=l.reduce((f,h)=>{var p=F5(h,e,n),g=yte(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},qk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jo=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=e0(e,p=>p.coordinate),s=1/0,l=1,d=a.length;l<d;l++){var f=a[l],h=a[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function Gk(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return ju(ju({},e),{},{dataKey:n,payload:r,value:a,name:s})}function ol(t,e){if(t)return String(t);if(typeof e=="string")return e}var bte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},wte=(t,e)=>e==="centric"?t.angle:t.radius,Hs=t=>t.layout.width,Gs=t=>t.layout.height,_te=t=>t.layout.scale,K5=t=>t.layout.margin,c0=J(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),u0=J(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),W5="data-recharts-item-index",Y5="data-recharts-item-data-key",lm=60;function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ete(t,e,n){return(e=Ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=Ste(t,"string");return typeof e=="symbol"?e:e+""}function Ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jte=t=>t.brush.height;function Nte(t){var e=u0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:lm;return n+a}return n},0)}function Tte(t){var e=u0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:lm;return n+a}return n},0)}function Cte(t){var e=c0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Ite(t){var e=c0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var In=J([Hs,Gs,K5,jte,Nte,Tte,Cte,Ite,h5,ree],(t,e,n,r,a,s,l,d,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+d},x=xg(xg({},g),p),w=x.bottom;x.bottom+=r,x=cte(x,f,h);var E=t-x.left-x.right,A=e-x.top-x.bottom;return xg(xg({brushBottom:w},x),{},{width:Math.max(E,0),height:Math.max(A,0)})}),Ote=J(In,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),jS=J(Hs,Gs,(t,e)=>({x:0,y:0,width:t,height:e})),kte=b.createContext(null),Fn=()=>b.useContext(kte)!=null,d0=t=>t.brush,f0=J([d0,In,K5],(t,e,n)=>({height:t.height,x:Ae(t.x)?t.x:e.left,y:Ae(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ae(t.width)?t.width:e.width})),p1={},g1={},y1={},Wk;function Pte(){return Wk||(Wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),A()};let x=null;const w=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},A=()=>{E(),l=void 0,d=null},S=()=>{p()},C=function(...U){if(a!=null&&a.aborted)return;l=this,d=U;const R=x==null;w(),f&&R&&p()};return C.schedule=w,C.cancel=A,C.flush=S,a==null||a.addEventListener("abort",A,{once:!0}),C}t.debounce=e})(y1)),y1}var Yk;function Rte(){return Yk||(Yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pte();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...A){p=r.apply(this,A),g=null},a,{edges:h}),w=function(...A){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,A),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,A),p)},E=()=>(x.flush(),p);return w.cancel=x.cancel,w.flush=E,w}t.debounce=n})(g1)),g1}var Qk;function Dte(){return Qk||(Qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rte();function n(r,a=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return e.debounce(r,a,{leading:l,maxWait:a,trailing:d})}t.throttle=n})(p1)),p1}var v1,Xk;function Mte(){return Xk||(Xk=1,v1=Dte().throttle),v1}var Lte=Mte();const Ute=Gi(Lte);var Dy=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>a[l++]))}},Q5=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:l}=n,d=Ms(r)?t:Number(r),f=Ms(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},zte={width:0,height:0,overflow:"visible"},Vte={width:0,overflowX:"visible"},$te={height:0,overflowY:"visible"},Bte={},Fte=t=>{var{width:e,height:n}=t,r=Ms(e),a=Ms(n);return r&&a?zte:r?Vte:a?$te:Bte};function qte(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function Rt(t){return Number.isFinite(t)}function Bi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(null,arguments)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=Gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X5=b.createContext({width:-1,height:-1});function Wte(t){return Bi(t.width)&&Bi(t.height)}function Z5(t){var{children:e,width:n,height:r}=t,a=b.useMemo(()=>({width:n,height:r}),[n,r]);return Wte(a)?b.createElement(X5.Provider,{value:a},e):null}var NS=()=>b.useContext(X5),Yte=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:w,style:E={}}=t,A=b.useRef(null),S=b.useRef();S.current=w,b.useImperativeHandle(e,()=>A.current);var[C,U]=b.useState({containerWidth:r.width,containerHeight:r.height}),R=b.useCallback((k,N)=>{U(P=>{var L=Math.round(k),z=Math.round(N);return P.containerWidth===L&&P.containerHeight===z?P:{containerWidth:L,containerHeight:z}})},[]);b.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return am;var k=z=>{var $,{width:ne,height:me}=z[0].contentRect;R(ne,me),($=S.current)===null||$===void 0||$.call(S,ne,me)};p>0&&(k=Ute(k,p,{trailing:!0,leading:!1}));var N=new ResizeObserver(k),{width:P,height:L}=A.current.getBoundingClientRect();return R(P,L),N.observe(A.current),()=>{N.disconnect()}},[R,p]);var{containerWidth:T,containerHeight:M}=C;Dy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:V,calculatedHeight:I}=Q5(T,M,{width:a,height:s,aspect:n,maxHeight:f});return Dy(V!=null&&V>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,I,a,s,l,d,n),b.createElement("div",{id:g?"".concat(g):void 0,className:lt("recharts-responsive-container",x),style:Jk(Jk({},E),{},{width:a,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:A},b.createElement("div",{style:Fte({width:a,height:s})},b.createElement(Z5,{width:V,height:I},h)))}),Eu=b.forwardRef((t,e)=>{var n=NS();if(Bi(n.width)&&Bi(n.height))return t.children;var{width:r,height:a}=qte({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=Q5(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ae(s)&&Ae(l)?b.createElement(Z5,{width:s,height:l},t.children):b.createElement(Yte,K_({},t,{width:r,height:a,ref:e}))});function J5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var h0=()=>{var t,e=Fn(),n=Ne(Ote),r=Ne(f0),a=(t=Ne(d0))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Qte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eL=()=>{var t;return(t=Ne(In))!==null&&t!==void 0?t:Qte},tL=()=>Ne(Hs),nL=()=>Ne(Gs),Qe=t=>t.layout.layoutType,Ac=()=>Ne(Qe),Xte=()=>{var t=Ac();if(t==="horizontal"||t==="vertical")return t},Zte=()=>{var t=Ac();return t!==void 0},m0=t=>{var e=Vt(),n=Fn(),{width:r,height:a}=t,s=NS(),l=r,d=a;return s&&(l=s.width>0?s.width:r,d=s.height>0?s.height:a),b.useEffect(()=>{!n&&Bi(l)&&Bi(d)&&e(rte({width:l,height:d}))},[e,n,l,d]),null},rL=Symbol.for("immer-nothing"),eP=Symbol.for("immer-draftable"),ta=Symbol.for("immer-state");function Ga(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ah=Object.getPrototypeOf;function Xu(t){return!!t&&!!t[ta]}function mc(t){var e;return t?aL(t)||Array.isArray(t)||!!t[eP]||!!((e=t.constructor)!=null&&e[eP])||cm(t)||g0(t):!1}var Jte=Object.prototype.constructor.toString(),tP=new WeakMap;function aL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=tP.get(n);return r===void 0&&(r=Function.toString.call(n),tP.set(n,r)),r===Jte}function My(t,e,n=!0){p0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function p0(t){const e=t[ta];return e?e.type_:Array.isArray(t)?1:cm(t)?2:g0(t)?3:0}function W_(t,e){return p0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function iL(t,e,n){const r=p0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function ene(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function cm(t){return t instanceof Map}function g0(t){return t instanceof Set}function Fl(t){return t.copy_||t.base_}function Y_(t,e){if(cm(t))return new Map(t);if(g0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=aL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ta];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[l]})}return Object.create(Ah(t),r)}else{const r=Ah(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function TS(t,e=!1){return y0(t)||Xu(t)||!mc(t)||(p0(t)>1&&Object.defineProperties(t,{set:bg,add:bg,clear:bg,delete:bg}),Object.freeze(t),e&&Object.values(t).forEach(n=>TS(n,!0))),t}function tne(){Ga(2)}var bg={value:tne};function y0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var nne={};function pc(t){const e=nne[t];return e||Ga(0,t),e}var Sh;function sL(){return Sh}function rne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nP(t,e){e&&(pc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Q_(t){X_(t),t.drafts_.forEach(ane),t.drafts_=null}function X_(t){t===Sh&&(Sh=t.parent_)}function rP(t){return Sh=rne(Sh,t)}function ane(t){const e=t[ta];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function aP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ta].modified_&&(Q_(e),Ga(4)),mc(t)&&(t=Ly(e,t),e.parent_||Uy(e,t)),e.patches_&&pc("Patches").generateReplacementPatches_(n[ta].base_,t,e.patches_,e.inversePatches_)):t=Ly(e,n,[]),Q_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==rL?t:void 0}function Ly(t,e,n){if(y0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[ta];if(!a)return My(e,(s,l)=>iP(t,a,e,s,l,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Uy(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,d=!1;a.type_===3&&(l=new Set(s),s.clear(),d=!0),My(l,(f,h)=>iP(t,a,s,f,h,n,d),r),Uy(t,s,!1),n&&t.patches_&&pc("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function iP(t,e,n,r,a,s,l){if(a==null||typeof a!="object"&&!l)return;const d=y0(a);if(!(d&&!l)){if(Xu(a)){const f=s&&e&&e.type_!==3&&!W_(e.assigned_,r)?s.concat(r):void 0,h=Ly(t,a,f);if(iL(n,r,h),Xu(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(mc(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;Ly(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(cm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Uy(t,a)}}}function Uy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&TS(e,n)}function ine(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:sL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=CS;n&&(a=[r],s=jh);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=l,d}var CS={get(t,e){if(e===ta)return t;const n=Fl(t);if(!W_(n,e))return sne(t,n,e);const r=n[e];return t.finalized_||!mc(r)?r:r===x1(t.base_,e)?(b1(t),t.copy_[e]=J_(r,t)):r},has(t,e){return e in Fl(t)},ownKeys(t){return Reflect.ownKeys(Fl(t))},set(t,e,n){const r=oL(Fl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=x1(Fl(t),e),s=a==null?void 0:a[ta];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(ene(n,a)&&(n!==void 0||W_(t.base_,e)))return!0;b1(t),Z_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return x1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,b1(t),Z_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ga(11)},getPrototypeOf(t){return Ah(t.base_)},setPrototypeOf(){Ga(12)}},jh={};My(CS,(t,e)=>{jh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jh.deleteProperty=function(t,e){return jh.set.call(this,t,e,void 0)};jh.set=function(t,e,n){return CS.set.call(this,t[0],e,n,t[0])};function x1(t,e){const n=t[ta];return(n?Fl(n):t)[e]}function sne(t,e,n){var a;const r=oL(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function oL(t,e){if(!(e in t))return;let n=Ah(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ah(n)}}function Z_(t){t.modified_||(t.modified_=!0,t.parent_&&Z_(t.parent_))}function b1(t){t.copy_||(t.copy_=Y_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var one=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Ga(6),r!==void 0&&typeof r!="function"&&Ga(7);let a;if(mc(e)){const s=rP(this),l=J_(e,void 0);let d=!0;try{a=n(l),d=!1}finally{d?Q_(s):X_(s)}return nP(s,r),aP(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===rL&&(a=void 0),this.autoFreeze_&&TS(a,!0),r){const s=[],l=[];pc("Patches").generateReplacementPatches_(e,a,s,l),r(s,l)}return a}else Ga(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...d)=>this.produceWithPatches(l,f=>e(f,...d));let r,a;return[this.produce(e,n,(l,d)=>{r=l,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){mc(t)||Ga(8),Xu(t)&&(t=lne(t));const e=rP(this),n=J_(t,void 0);return n[ta].isManual_=!0,X_(e),n}finishDraft(t,e){const n=t&&t[ta];(!n||!n.isManual_)&&Ga(9);const{scope_:r}=n;return nP(r,e),aP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=pc("Patches").applyPatches_;return Xu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function J_(t,e){const n=cm(t)?pc("MapSet").proxyMap_(t,e):g0(t)?pc("MapSet").proxySet_(t,e):ine(t,e);return(e?e.scope_:sL()).drafts_.push(n),n}function lne(t){return Xu(t)||Ga(10,t),lL(t)}function lL(t){if(!mc(t)||y0(t))return t;const e=t[ta];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Y_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Y_(t,!0);return My(n,(a,s)=>{iL(n,a,lL(s))},r),e&&(e.finalized_=!1),n}var cne=new one;cne.produce;var une={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},cL=Lr({name:"legend",initialState:une,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Lt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Xa(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:Lt()},removeLegendPayload:{reducer(t,e){var n=Xa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Lt()}}}),{setLegendSize:Qye,setLegendSettings:Xye,addLegendPayload:uL,replaceLegendPayload:dL,removeLegendPayload:fL}=cL.actions,dne=cL.reducer;function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return(e=hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t){return Array.isArray(t)&&Vi(t[0])&&Vi(t[1])?t.join(" ~ "):t}var gne=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,w=()=>{if(s&&s.length){var M={padding:0,margin:0},V=(d?e0(s,d):s).map((I,k)=>{if(I.type==="none")return null;var N=I.formatter||l||pne,{value:P,name:L}=I,z=P,$=L;if(N){var ne=N(P,L,I,k,s);if(Array.isArray(ne))[z,$]=ne;else if(ne!=null)z=ne;else return null}var me=w1({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:me},Vi($)?b.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Vi($)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},z),b.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:M},V)}return null},E=w1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=w1({margin:0},a),S=!Pt(p),C=S?p:"",U=lt("recharts-default-tooltip",f),R=lt("recharts-tooltip-label",h);S&&g&&s!==void 0&&s!==null&&(C=g(p,s));var T=x?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",eE({className:U,style:E},T),b.createElement("p",{className:R,style:A},b.isValidElement(C)?C:"".concat(C)),w())},Of="recharts-tooltip-wrapper",yne={visibility:"hidden"};function vne(t){var{coordinate:e,translateX:n,translateY:r}=t;return lt(Of,{["".concat(Of,"-right")]:Ae(n)&&e&&Ae(e.x)&&n>=e.x,["".concat(Of,"-left")]:Ae(n)&&e&&Ae(e.x)&&n<e.x,["".concat(Of,"-bottom")]:Ae(r)&&e&&Ae(e.y)&&r>=e.y,["".concat(Of,"-top")]:Ae(r)&&e&&Ae(e.y)&&r<e.y})}function oP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Ae(s[r]))return s[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return l[r]?p:g;var x=f[r];if(x==null)return 0;if(l[r]){var w=p,E=x;return w<E?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var A=g+d,S=x+h;return A>S?Math.max(p,x):Math.max(g,x)}function xne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:d,viewBox:f}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=oP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=oP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=xne({translateX:p,translateY:g,useTranslate3d:d})):h=yne,{cssProperties:h,cssClasses:vne({translateX:p,translateY:g,coordinate:n})}}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){tE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tE(t,e,n){return(e=wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ene extends b.PureComponent{constructor(){super(...arguments),tE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:w,wrapperStyle:E,lastBoundingBox:A,innerRef:S,hasPortalFromProps:C}=this.props,{cssClasses:U,cssProperties:R}=bne({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:x,viewBox:w}),T=C?{}:wg(wg({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),M=wg(wg({},T),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},E);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:M,ref:S},s)}}var Ane=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ll={devToolsEnabled:!1,isSsr:Ane()},hL=()=>{var t;return(t=Ne(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(null,arguments)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){Sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e,n){return(e=jne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jne(t){var e=Nne(t,"string");return typeof e=="symbol"?e:e+""}function Nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dP={curveBasisClosed:IZ,curveBasisOpen:OZ,curveBasis:CZ,curveBumpX:pZ,curveBumpY:gZ,curveLinearClosed:kZ,curveLinear:Xv,curveMonotoneX:PZ,curveMonotoneY:RZ,curveNatural:DZ,curveStep:MZ,curveStepAfter:UZ,curveStepBefore:LZ},zy=t=>Rt(t.x)&&Rt(t.y),fP=t=>t.base!=null&&zy(t.base)&&zy(t),kf=t=>t.x,Pf=t=>t.y,Tne=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(rm(t));return(n==="curveMonotone"||n==="curveBump")&&e?dP["".concat(n).concat(e==="vertical"?"Y":"X")]:dP[n]||Xv},Cne=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,l=Tne(e,a),d=s?n.filter(zy):n,f;if(Array.isArray(r)){var h=n.map((w,E)=>uP(uP({},w),{},{base:r[E]}));a==="vertical"?f=hg().y(Pf).x1(kf).x0(w=>w.base.x):f=hg().x(kf).y1(Pf).y0(w=>w.base.y);var p=f.defined(fP).curve(l),g=s?h.filter(fP):h;return p(g)}a==="vertical"&&Ae(r)?f=hg().y(Pf).x1(kf).x0(r):Ae(r)?f=hg().x(kf).y1(Pf).y0(r):f=U3().x(kf).y(Pf);var x=f.defined(zy).curve(l);return x(d)},Lu=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Cne(t):r;return b.createElement("path",nE({},wr(t),pS(t),{className:lt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},Ine=["x","y","top","left","width","height","className"];function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(null,arguments)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function One(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kne(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Rne(t,"string");return typeof e=="symbol"?e:e+""}function Rne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dne(t,e){if(t==null)return{};var n,r,a=Mne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Mne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lne=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Une=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:l=0,className:d}=t,f=Dne(t,Ine),h=One({x:e,y:n,top:r,left:a,width:s,height:l},f);return!Ae(e)||!Ae(n)||!Ae(s)||!Ae(l)||!Ae(r)||!Ae(a)?null:b.createElement("path",rE({},ur(h),{className:lt("recharts-cross",d),d:Lne(e,n,s,l,r,a)}))};function zne(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){Vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Bne(t,"string");return typeof e=="symbol"?e:e+""}function Bne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),mL=(t,e,n)=>t.map(r=>"".concat(Fne(r)," ").concat(e,"ms ").concat(n)).join(","),qne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Nh=(t,e)=>Object.keys(e).reduce((n,r)=>pP(pP({},n),{},{[r]:t(r,e[r])}),{});function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return(e=Gne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=Kne(t,"string");return typeof e=="symbol"?e:e+""}function Kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vy=(t,e,n)=>t+(e-t)*n,aE=t=>{var{from:e,to:n}=t;return e!==n},pL=(t,e,n)=>{var r=Nh((a,s)=>{if(aE(s)){var[l,d]=t(s.from,s.to,s.velocity);return Tn(Tn({},s),{},{from:l,velocity:d})}return s},e);return n<1?Nh((a,s)=>aE(s)?Tn(Tn({},s),{},{velocity:Vy(s.velocity,r[a].velocity,n),from:Vy(s.from,r[a].from,n)}):s,e):pL(t,r,n-1)};function Wne(t,e,n,r,a,s){var l,d=r.reduce((x,w)=>Tn(Tn({},x),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>Nh((x,w)=>w.from,d),h=()=>!Object.values(d).filter(aE).length,p=null,g=x=>{l||(l=x);var w=x-l,E=w/n.dt;d=pL(n,d,E),a(Tn(Tn(Tn({},t),e),f())),l=x,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function Yne(t,e,n,r,a,s,l){var d=null,f=a.reduce((g,x)=>Tn(Tn({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,w=Nh((A,S)=>Vy(...S,n(x)),f);if(s(Tn(Tn(Tn({},t),e),w)),x<1)d=l.setTimeout(p);else{var E=Nh((A,S)=>Vy(...S,n(1)),f);s(Tn(Tn(Tn({},t),e),E))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const Qne=(t,e,n,r,a,s)=>{var l=qne(t,e);return n==null?()=>(a(Tn(Tn({},t),e)),()=>{}):n.isStepper===!0?Wne(t,e,n,l,a,s):Yne(t,e,n,r,l,a,s)};var $y=1e-4,gL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],yL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),yP=(t,e)=>n=>{var r=gL(t,e);return yL(r,n)},Xne=(t,e)=>n=>{var r=gL(t,e),a=[...r.map((s,l)=>s*l).slice(1),0];return yL(a,n)},Zne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},Jne=(t,e,n,r)=>{var a=yP(t,n),s=yP(e,r),l=Xne(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var w=a(g)-p,E=l(g);if(Math.abs(w-p)<$y||E<$y)return s(g);g=d(g-w/E)}return s(g)};return f.isStepper=!1,f},vP=function(){return Jne(...Zne(...arguments))},ere=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(l,d,f)=>{var h=-(l-d)*n,p=f*r,g=f+(h-p)*a/1e3,x=f*a/1e3+l;return Math.abs(x-d)<$y&&Math.abs(g)<$y?[d,0]:[x,g]};return s.isStepper=!0,s.dt=a,s},tre=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vP(t);case"spring":return ere();default:if(t.split("(")[0]==="cubic-bezier")return vP(t)}return typeof t=="function"?t:null};function nre(t){var e,n=()=>null,r=!1,a=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,h),f);return}s(f),a=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class rre{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function are(){return nre(new rre)}var ire=b.createContext(are);function sre(t,e){var n=b.useContext(ire);return b.useMemo(()=>e??n(t),[t,e,n])}var ore={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xP={t:0},_1={t:1};function md(t){var e=An(t,ore),{isActive:n,canBegin:r,duration:a,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!ll.isSsr:n,g=sre(e.animationId,e.animationManager),[x,w]=b.useState(p?xP:_1),E=b.useRef(null);return b.useEffect(()=>{p||w(_1)},[p]),b.useEffect(()=>{if(!p||!r)return am;var A=Qne(xP,_1,tre(s),a,w,g.getTimeoutController()),S=()=>{E.current=A()};return g.start([f,l,S,a,d]),()=>{g.stop(),E.current&&E.current(),d()}},[p,r,a,s,l,f,d,g]),h(x.t)}function pd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(bh(e)),r=b.useRef(t);return r.current!==t&&(n.current=bh(e),r.current=t),n.current}var lre=["radius"],cre=["radius"];function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ure(t,e,n){return(e=dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=fre(t,"string");return typeof e=="symbol"?e:e+""}function fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(null,arguments)}function _P(t,e){if(t==null)return{};var n,r,a=hre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function hre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var EP=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=a[g]>s?s:a[g];h="M".concat(t,",").concat(e+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*p[1])),h+="L ".concat(t+n,",").concat(e+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var w=Math.min(s,a);h="M ".concat(t,",").concat(e+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(e,`
            L `).concat(t+n-d*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*w,`
            L `).concat(t+n,",").concat(e+r-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(e+r,`
            L `).concat(t+d*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*w," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},AP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vL=t=>{var e=An(t,AP),n=b.useRef(null),[r,a]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&a(oe)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:A}=e,S=b.useRef(d),C=b.useRef(f),U=b.useRef(s),R=b.useRef(l),T=b.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),M=pd(T,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var V=lt("recharts-rectangle",p);if(!A){var I=ur(e),{radius:k}=I,N=_P(I,lre);return b.createElement("path",By({},N,{radius:typeof h=="number"?h:void 0,className:V,d:EP(s,l,d,f,h)}))}var P=S.current,L=C.current,z=U.current,$=R.current,ne="0px ".concat(r===-1?1:r,"px"),me="".concat(r,"px 0px"),Y=mL(["strokeDasharray"],x,typeof g=="string"?g:AP.animationEasing);return b.createElement(md,{animationId:M,key:M,canBegin:r>0,duration:x,easing:g,isActive:A,begin:w},oe=>{var H=ft(P,d,oe),K=ft(L,f,oe),ae=ft(z,s,oe),q=ft($,l,oe);n.current&&(S.current=H,C.current=K,U.current=ae,R.current=q);var re;E?oe>0?re={transition:Y,strokeDasharray:me}:re={strokeDasharray:ne}:re={strokeDasharray:me};var pe=ur(e),{radius:ye}=pe,Ce=_P(pe,cre);return b.createElement("path",By({},Ce,{radius:typeof h=="number"?h:void 0,className:V,d:EP(ae,q,H,K,h),ref:n,style:wP(wP({},re),e.style)}))})};function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mre(t,e,n){return(e=pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=gre(t,"string");return typeof e=="symbol"?e:e+""}function gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fy=Math.PI/180,yre=t=>t*180/Math.PI,_n=(t,e,n,r)=>({x:t+Math.cos(-Fy*r)*n,y:e+Math.sin(-Fy*r)*n}),xL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vre=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},xre=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,l=vre({x:n,y:r},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var d=(n-a)/l,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:l,angle:yre(f),angleInRadian:f}},bre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},wre=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(a,s);return t+l*360},_re=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=xre({x:n,y:r},e),{innerRadius:l,outerRadius:d}=e;if(a<l||a>d||a===0)return null;var{startAngle:f,endAngle:h}=bre(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?jP(jP({},e),{},{radius:a,angle:wre(p,e)}):null};function bL(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,l=_n(e,n,r,a),d=_n(e,n,r,s);return{points:[l,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(null,arguments)}var Ere=(t,e)=>{var n=$n(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},_g=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=t,h=d*(l?1:-1)+r,p=Math.asin(d/h)/Fy,g=f?a:a+s*p,x=_n(e,n,h,g),w=_n(e,n,r,g),E=f?a-s*p:a,A=_n(e,n,h*Math.cos(p*Fy),E);return{center:x,circleTangency:w,lineTangency:A,theta:p}},wL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:l}=t,d=Ere(s,l),f=s+d,h=_n(e,n,a,s),p=_n(e,n,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=_n(e,n,r,s),w=_n(e,n,r,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},Are=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=$n(h-f),{circleTangency:g,lineTangency:x,theta:w}=_g({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:E,lineTangency:A,theta:S}=_g({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),C=d?Math.abs(f-h):Math.abs(f-h)-w-S;if(C<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):wL({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var U="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:T,theta:M}=_g({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:V,lineTangency:I,theta:k}=_g({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-M-k;if(N<0&&s===0)return"".concat(U,"L").concat(e,",").concat(n,"Z");U+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(p>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else U+="L".concat(e,",").concat(n,"Z");return U},Sre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_L=t=>{var e=An(t,Sre),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<a||h===p)return null;var x=lt("recharts-sector",g),w=s-a,E=lr(l,w,0,!0),A;return E>0&&Math.abs(h-p)<360?A=Are({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):A=wL({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),b.createElement("path",iE({},ur(e),{className:x,d:A}))};function jre(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(e5(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:l,angle:d}=e,f=_n(r,a,s,d),h=_n(r,a,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return bL(e)}}var E1={},A1={},S1={},NP;function Nre(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(S1)),S1}var TP;function Tre(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nre();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(A1)),A1}var CP;function Cre(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f5(),n=Tre();function r(a,s,l){l&&typeof l!="number"&&e.isIterateeCall(a,s,l)&&(s=l=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),l=l===void 0?a<s?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=l;return f}t.range=r})(E1)),E1}var j1,IP;function Ire(){return IP||(IP=1,j1=Cre().range),j1}var Ore=Ire();const EL=Gi(Ore);function Ho(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IS(t){let e,n,r;t.length!==2?(e=Ho,n=(d,f)=>Ho(t(d),f),r=(d,f)=>t(d)-f):(e=t===Ho||t===kre?t:Pre,n=t,r=t);function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:a,center:l,right:s}}function Pre(){return 0}function AL(t){return t===null?NaN:+t}function*Rre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Dre=IS(Ho),um=Dre.right;IS(AL).center;class OP extends Map{constructor(e,n=Ure){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(kP(this,e))}has(e){return super.has(kP(this,e))}set(e,n){return super.set(Mre(this,e),n)}delete(e){return super.delete(Lre(this,e))}}function kP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Mre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Lre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ure(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zre(t=Ho){if(t===Ho)return SL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function SL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Vre=Math.sqrt(50),$re=Math.sqrt(10),Bre=Math.sqrt(2);function qy(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),l=s>=Vre?10:s>=$re?5:s>=Bre?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/l,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*l,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?qy(t,e,n*2):[d,f,h]}function sE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,l]=r?qy(e,t,n):qy(t,e,n);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(a+h)/-l;else for(let h=0;h<d;++h)f[h]=(a+h)*l;return f}function oE(t,e,n){return e=+e,t=+t,n=+n,qy(t,e,n)[2]}function lE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?oE(e,t,n):oE(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function PP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function RP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function jL(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?SL:zre(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/f+x)),E=Math.min(r,Math.floor(e+(f-h)*g/f+x));jL(t,e,w,E,a)}const s=t[e];let l=n,d=r;for(Rf(t,n,e),a(t[r],s)>0&&Rf(t,n,r);l<d;){for(Rf(t,l,d),++l,--d;a(t[l],s)<0;)++l;for(;a(t[d],s)>0;)--d}a(t[n],s)===0?Rf(t,n,d):(++d,Rf(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Rf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Fre(t,e,n){if(t=Float64Array.from(Rre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return RP(t);if(e>=1)return PP(t);var r,a=(r-1)*e,s=Math.floor(a),l=PP(jL(t,s).subarray(0,s+1)),d=RP(t.subarray(s+1));return l+(d-l)*(a-s)}}function qre(t,e,n=AL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),l=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return l+(d-l)*(a-s)}}function Hre(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function ka(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cE=Symbol("implicit");function OS(){var t=new OP,e=[],n=[],r=cE;function a(s){let l=t.get(s);if(l===void 0){if(r!==cE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new OP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return OS(e,n).unknown(r)},ka.apply(a,arguments),a}function kS(){var t=OS().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,l,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,w=a<r,E=w?a:r,A=w?r:a;s=(A-E)/Math.max(1,x-f+h*2),d&&(s=Math.floor(s)),E+=(A-E-s*(x-f))*p,l=s*(1-f),d&&(E=Math.round(E),l=Math.round(l));var S=Hre(x).map(function(C){return E+s*C});return n(w?S.reverse():S)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(x){return arguments.length?(d=!!x,g()):d},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return kS(e(),[r,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},ka.apply(g(),arguments)}function NL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return NL(e())},t}function Gre(){return NL(kS.apply(null,arguments).paddingInner(1))}function PS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function TL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dm(){}var Th=.7,Hy=1/Th,Uu="\\s*([+-]?\\d+)\\s*",Ch="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kre=/^#([0-9a-f]{3,8})$/,Wre=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),Yre=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),Qre=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${Ch}\\)$`),Xre=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${Ch}\\)$`),Zre=new RegExp(`^hsl\\(${Ch},${Ui},${Ui}\\)$`),Jre=new RegExp(`^hsla\\(${Ch},${Ui},${Ui},${Ch}\\)$`),DP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PS(dm,Ih,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MP,formatHex:MP,formatHex8:eae,formatHsl:tae,formatRgb:LP,toString:LP});function MP(){return this.rgb().formatHex()}function eae(){return this.rgb().formatHex8()}function tae(){return CL(this).formatHsl()}function LP(){return this.rgb().formatRgb()}function Ih(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Kre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?UP(e):n===3?new Dr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Eg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Eg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wre.exec(t))?new Dr(e[1],e[2],e[3],1):(e=Yre.exec(t))?new Dr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qre.exec(t))?Eg(e[1],e[2],e[3],e[4]):(e=Xre.exec(t))?Eg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zre.exec(t))?$P(e[1],e[2]/100,e[3]/100,1):(e=Jre.exec(t))?$P(e[1],e[2]/100,e[3]/100,e[4]):DP.hasOwnProperty(t)?UP(DP[t]):t==="transparent"?new Dr(NaN,NaN,NaN,0):null}function UP(t){return new Dr(t>>16&255,t>>8&255,t&255,1)}function Eg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dr(t,e,n,r)}function nae(t){return t instanceof dm||(t=Ih(t)),t?(t=t.rgb(),new Dr(t.r,t.g,t.b,t.opacity)):new Dr}function uE(t,e,n,r){return arguments.length===1?nae(t):new Dr(t,e,n,r??1)}function Dr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}PS(Dr,uE,TL(dm,{brighter(t){return t=t==null?Hy:Math.pow(Hy,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Th:Math.pow(Th,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dr(Jl(this.r),Jl(this.g),Jl(this.b),Gy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zP,formatHex:zP,formatHex8:rae,formatRgb:VP,toString:VP}));function zP(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function rae(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function VP(){const t=Gy(this.opacity);return`${t===1?"rgb(":"rgba("}${Jl(this.r)}, ${Jl(this.g)}, ${Jl(this.b)}${t===1?")":`, ${t})`}`}function Gy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=Jl(t),(t<16?"0":"")+t.toString(16)}function $P(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ka(t,e,n,r)}function CL(t){if(t instanceof Ka)return new Ka(t.h,t.s,t.l,t.opacity);if(t instanceof dm||(t=Ih(t)),!t)return new Ka;if(t instanceof Ka)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,d=s-a,f=(s+a)/2;return d?(e===s?l=(n-r)/d+(n<r)*6:n===s?l=(r-e)/d+2:l=(e-n)/d+4,d/=f<.5?s+a:2-s-a,l*=60):d=f>0&&f<1?0:l,new Ka(l,d,f,t.opacity)}function aae(t,e,n,r){return arguments.length===1?CL(t):new Ka(t,e,n,r??1)}function Ka(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}PS(Ka,aae,TL(dm,{brighter(t){return t=t==null?Hy:Math.pow(Hy,t),new Ka(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Th:Math.pow(Th,t),new Ka(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Dr(N1(t>=240?t-240:t+120,a,r),N1(t,a,r),N1(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ka(BP(this.h),Ag(this.s),Ag(this.l),Gy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gy(this.opacity);return`${t===1?"hsl(":"hsla("}${BP(this.h)}, ${Ag(this.s)*100}%, ${Ag(this.l)*100}%${t===1?")":`, ${t})`}`}}));function BP(t){return t=(t||0)%360,t<0?t+360:t}function Ag(t){return Math.max(0,Math.min(1,t||0))}function N1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const RS=t=>()=>t;function iae(t,e){return function(n){return t+n*e}}function sae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function oae(t){return(t=+t)==1?IL:function(e,n){return n-e?sae(e,n,t):RS(isNaN(e)?n:e)}}function IL(t,e){var n=e-t;return n?iae(t,n):RS(isNaN(t)?e:t)}const FP=(function t(e){var n=oae(e);function r(a,s){var l=n((a=uE(a)).r,(s=uE(s)).r),d=n(a.g,s.g),f=n(a.b,s.b),h=IL(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function lae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function cae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)a[l]=gd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(d){for(l=0;l<r;++l)s[l]=a[l](d);return s}}function dae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ky(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function fae(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=gd(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var dE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T1=new RegExp(dE.source,"g");function hae(t){return function(){return t}}function mae(t){return function(e){return t(e)+""}}function pae(t,e){var n=dE.lastIndex=T1.lastIndex=0,r,a,s,l=-1,d=[],f=[];for(t=t+"",e=e+"";(r=dE.exec(t))&&(a=T1.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(a=a[0])?d[l]?d[l]+=a:d[++l]=a:(d[++l]=null,f.push({i:l,x:Ky(r,a)})),n=T1.lastIndex;return n<e.length&&(s=e.slice(n),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?mae(f[0].x):hae(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function gd(t,e){var n=typeof e,r;return e==null||n==="boolean"?RS(e):(n==="number"?Ky:n==="string"?(r=Ih(e))?(e=r,FP):pae:e instanceof Ih?FP:e instanceof Date?dae:cae(e)?lae:Array.isArray(e)?uae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fae:Ky)(t,e)}function DS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function gae(t,e){e===void 0&&(e=t,t=gd);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[d](l-d)}}function yae(t){return function(){return t}}function Wy(t){return+t}var qP=[0,1];function yr(t){return t}function fE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:yae(isNaN(e)?NaN:.5)}function vae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xae(t,e,n){var r=t[0],a=t[1],s=e[0],l=e[1];return a<r?(r=fE(a,r),s=n(l,s)):(r=fE(r,a),s=n(s,l)),function(d){return s(r(d))}}function bae(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=fE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(d){var f=um(t,d,1,r)-1;return s[f](a[f](d))}}function fm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v0(){var t=qP,e=qP,n=gd,r,a,s,l=yr,d,f,h;function p(){var x=Math.min(t.length,e.length);return l!==yr&&(l=vae(t[0],t[x-1])),d=x>2?bae:xae,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?s:(f||(f=d(t.map(r),e,n)))(r(l(x)))}return g.invert=function(x){return l(a((h||(h=d(e,t.map(r),Ky)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Wy),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=DS,p()},g.clamp=function(x){return arguments.length?(l=x?!0:yr,p()):l!==yr},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,w){return r=x,a=w,p()}}function MS(){return v0()(yr,yr)}function wae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Zu(t){return t=Yy(Math.abs(t)),t?t[1]:NaN}function _ae(t,e){return function(n,r){for(var a=n.length,s=[],l=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(a-=d,a+d)),!((f+=d+1)>r));)d=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Eae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Aae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oh(t){if(!(e=Aae.exec(t)))throw new Error("invalid format: "+t);var e;return new LS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oh.prototype=LS.prototype;function LS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sae(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var OL;function jae(t,e){var n=Yy(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(OL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Yy(t,Math.max(0,e+s-1))[0]}function HP(t,e){var n=Yy(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const GP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>HP(t*100,e),r:HP,s:jae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KP(t){return t}var WP=Array.prototype.map,YP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nae(t){var e=t.grouping===void 0||t.thousands===void 0?KP:_ae(WP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?KP:Eae(WP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Oh(g);var x=g.fill,w=g.align,E=g.sign,A=g.symbol,S=g.zero,C=g.width,U=g.comma,R=g.precision,T=g.trim,M=g.type;M==="n"?(U=!0,M="g"):GP[M]||(R===void 0&&(R=12),T=!0,M="g"),(S||x==="0"&&w==="=")&&(S=!0,x="0",w="=");var V=A==="$"?n:A==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",I=A==="$"?r:/[%p]/.test(M)?l:"",k=GP[M],N=/[defgprs%]/.test(M);R=R===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function P(L){var z=V,$=I,ne,me,Y;if(M==="c")$=k(L)+$,L="";else{L=+L;var oe=L<0||1/L<0;if(L=isNaN(L)?f:k(Math.abs(L),R),T&&(L=Sae(L)),oe&&+L==0&&E!=="+"&&(oe=!1),z=(oe?E==="("?E:d:E==="-"||E==="("?"":E)+z,$=(M==="s"?YP[8+OL/3]:"")+$+(oe&&E==="("?")":""),N){for(ne=-1,me=L.length;++ne<me;)if(Y=L.charCodeAt(ne),48>Y||Y>57){$=(Y===46?a+L.slice(ne+1):L.slice(ne))+$,L=L.slice(0,ne);break}}}U&&!S&&(L=e(L,1/0));var H=z.length+L.length+$.length,K=H<C?new Array(C-H+1).join(x):"";switch(U&&S&&(L=e(K+L,K.length?C-$.length:1/0),K=""),w){case"<":L=z+L+$+K;break;case"=":L=z+K+L+$;break;case"^":L=K.slice(0,H=K.length>>1)+z+L+$+K.slice(H);break;default:L=K+z+L+$;break}return s(L)}return P.toString=function(){return g+""},P}function p(g,x){var w=h((g=Oh(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Zu(x)/3)))*3,A=Math.pow(10,-E),S=YP[8+E/3];return function(C){return w(A*C)+S}}return{format:h,formatPrefix:p}}var Sg,US,kL;Tae({thousands:",",grouping:[3],currency:["$",""]});function Tae(t){return Sg=Nae(t),US=Sg.format,kL=Sg.formatPrefix,Sg}function Cae(t){return Math.max(0,-Zu(Math.abs(t)))}function Iae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(e)/3)))*3-Zu(Math.abs(t)))}function Oae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zu(e)-Zu(t))+1}function PL(t,e,n,r){var a=lE(t,e,n),s;switch(r=Oh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Iae(a,l))&&(r.precision=s),kL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Oae(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Cae(a))&&(r.precision=s-(r.type==="%")*2);break}}return US(r)}function cl(t){var e=t.domain;return t.ticks=function(n){var r=e();return sE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return PL(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,l=r[a],d=r[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=oE(l,d,n),h===f)return r[a]=l,r[s]=d,e(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function RL(){var t=MS();return t.copy=function(){return fm(t,RL())},ka.apply(t,arguments),cl(t)}function DL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Wy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return DL(t).unknown(e)},t=arguments.length?Array.from(t,Wy):[0,1],cl(n)}function ML(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],l;return s<a&&(l=n,n=r,r=l,l=a,a=s,s=l),t[n]=e.floor(a),t[r]=e.ceil(s),t}function QP(t){return Math.log(t)}function XP(t){return Math.exp(t)}function kae(t){return-Math.log(-t)}function Pae(t){return-Math.exp(-t)}function Rae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dae(t){return t===10?Rae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Mae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZP(t){return(e,n)=>-t(-e,n)}function zS(t){const e=t(QP,XP),n=e.domain;let r=10,a,s;function l(){return a=Mae(r),s=Dae(r),n()[0]<0?(a=ZP(a),s=ZP(s),t(kae,Pae)):t(QP,XP),e}return e.base=function(d){return arguments.length?(r=+d,l()):r},e.domain=function(d){return arguments.length?(n(d),l()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=a(h),w=a(p),E,A;const S=d==null?10:+d;let C=[];if(!(r%1)&&w-x<S){if(x=Math.floor(x),w=Math.ceil(w),h>0){for(;x<=w;++x)for(E=1;E<r;++E)if(A=x<0?E/s(-x):E*s(x),!(A<h)){if(A>p)break;C.push(A)}}else for(;x<=w;++x)for(E=r-1;E>=1;--E)if(A=x>0?E/s(-x):E*s(x),!(A<h)){if(A>p)break;C.push(A)}C.length*2<S&&(C=sE(h,p,S))}else C=sE(x,w,Math.min(w-x,S)).map(s);return g?C.reverse():C},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Oh(f)).precision==null&&(f.trim=!0),f=US(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(ML(n(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function LL(){const t=zS(v0()).domain([1,10]);return t.copy=()=>fm(t,LL()).base(t.base()),ka.apply(t,arguments),t}function JP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function eR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function VS(t){var e=1,n=t(JP(e),eR(e));return n.constant=function(r){return arguments.length?t(JP(e=+r),eR(e)):e},cl(n)}function UL(){var t=VS(v0());return t.copy=function(){return fm(t,UL()).constant(t.constant())},ka.apply(t,arguments)}function tR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Lae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Uae(t){return t<0?-t*t:t*t}function $S(t){var e=t(yr,yr),n=1;function r(){return n===1?t(yr,yr):n===.5?t(Lae,Uae):t(tR(n),tR(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},cl(e)}function BS(){var t=$S(v0());return t.copy=function(){return fm(t,BS()).exponent(t.exponent())},ka.apply(t,arguments),t}function zae(){return BS.apply(null,arguments).exponent(.5)}function nR(t){return Math.sign(t)*t*t}function Vae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function zL(){var t=MS(),e=[0,1],n=!1,r;function a(s){var l=Vae(t(s));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(s){return t.invert(nR(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Wy)).map(nR)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return zL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ka.apply(a,arguments),cl(a)}function VL(){var t=[],e=[],n=[],r;function a(){var l=0,d=Math.max(1,e.length);for(n=new Array(d-1);++l<d;)n[l-1]=qre(t,l/d);return s}function s(l){return l==null||isNaN(l=+l)?r:e[um(n,l)]}return s.invertExtent=function(l){var d=e.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let d of l)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Ho),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return VL().domain(t).range(e).unknown(r)},ka.apply(s,arguments)}function $L(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[um(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},l.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,d()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return $L().domain([t,e]).range(a).unknown(s)},ka.apply(cl(l),arguments)}function BL(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[um(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return BL().domain(t).range(e).unknown(n)},ka.apply(a,arguments)}const C1=new Date,I1=new Date;function On(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),d=a.ceil(s);return s-l<d-s?l:d},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<l);return f},a.filter=s=>On(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;e(l,-1),!s(l););else for(;--d>=0;)for(;e(l,1),!s(l););}),n&&(a.count=(s,l)=>(C1.setTime(+s),I1.setTime(+l),t(C1),t(I1),Math.floor(n(C1,I1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?l=>r(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Qy=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Qy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Qy);Qy.range;const Es=1e3,wa=Es*60,As=wa*60,Us=As*24,FS=Us*7,rR=Us*30,O1=Us*365,Kl=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCSeconds());Kl.range;const qS=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getMinutes());qS.range;const HS=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getUTCMinutes());HS.range;const GS=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es-t.getMinutes()*wa)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getHours());GS.range;const KS=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCHours());KS.range;const hm=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wa)/Us,t=>t.getDate()-1);hm.range;const x0=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>t.getUTCDate()-1);x0.range;const FL=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>Math.floor(t/Us));FL.range;function Sc(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*wa)/FS)}const b0=Sc(0),Xy=Sc(1),$ae=Sc(2),Bae=Sc(3),Ju=Sc(4),Fae=Sc(5),qae=Sc(6);b0.range;Xy.range;$ae.range;Bae.range;Ju.range;Fae.range;qae.range;function jc(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/FS)}const w0=jc(0),Zy=jc(1),Hae=jc(2),Gae=jc(3),ed=jc(4),Kae=jc(5),Wae=jc(6);w0.range;Zy.range;Hae.range;Gae.range;ed.range;Kae.range;Wae.range;const WS=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());WS.range;const YS=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());YS.range;const zs=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});zs.range;const Vs=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vs.range;function qL(t,e,n,r,a,s){const l=[[Kl,1,Es],[Kl,5,5*Es],[Kl,15,15*Es],[Kl,30,30*Es],[s,1,wa],[s,5,5*wa],[s,15,15*wa],[s,30,30*wa],[a,1,As],[a,3,3*As],[a,6,6*As],[a,12,12*As],[r,1,Us],[r,2,2*Us],[n,1,FS],[e,1,rR],[e,3,3*rR],[t,1,O1]];function d(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:f(h,p,g),E=w?w.range(h,+p+1):[];return x?E.reverse():E}function f(h,p,g){const x=Math.abs(p-h)/g,w=IS(([,,S])=>S).right(l,x);if(w===l.length)return t.every(lE(h/O1,p/O1,g));if(w===0)return Qy.every(Math.max(lE(h,p,g),1));const[E,A]=l[x/l[w-1][2]<l[w][2]/x?w-1:w];return E.every(A)}return[d,f]}const[Yae,Qae]=qL(Vs,YS,w0,FL,KS,HS),[Xae,Zae]=qL(zs,WS,b0,hm,GS,qS);function k1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function P1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Df(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Jae(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,l=t.shortDays,d=t.months,f=t.shortMonths,h=Mf(a),p=Lf(a),g=Mf(s),x=Lf(s),w=Mf(l),E=Lf(l),A=Mf(d),S=Lf(d),C=Mf(f),U=Lf(f),R={a:oe,A:H,b:K,B:ae,c:null,d:cR,e:cR,f:_ie,g:kie,G:Rie,H:xie,I:bie,j:wie,L:HL,m:Eie,M:Aie,p:q,q:re,Q:fR,s:hR,S:Sie,u:jie,U:Nie,V:Tie,w:Cie,W:Iie,x:null,X:null,y:Oie,Y:Pie,Z:Die,"%":dR},T={a:pe,A:ye,b:Ce,B:ke,c:null,d:uR,e:uR,f:zie,g:Yie,G:Xie,H:Mie,I:Lie,j:Uie,L:KL,m:Vie,M:$ie,p:Pe,q:Nt,Q:fR,s:hR,S:Bie,u:Fie,U:qie,V:Hie,w:Gie,W:Kie,x:null,X:null,y:Wie,Y:Qie,Z:Zie,"%":dR},M={a:P,A:L,b:z,B:$,c:ne,d:oR,e:oR,f:pie,g:sR,G:iR,H:lR,I:lR,j:die,L:mie,m:uie,M:fie,p:N,q:cie,Q:yie,s:vie,S:hie,u:aie,U:iie,V:sie,w:rie,W:oie,x:me,X:Y,y:sR,Y:iR,Z:lie,"%":gie};R.x=V(n,R),R.X=V(r,R),R.c=V(e,R),T.x=V(n,T),T.X=V(r,T),T.c=V(e,T);function V(ce,Ue){return function(He){var ge=[],Xt=-1,Ke=0,Sn=ce.length,Zt,Ur,Xs;for(He instanceof Date||(He=new Date(+He));++Xt<Sn;)ce.charCodeAt(Xt)===37&&(ge.push(ce.slice(Ke,Xt)),(Ur=aR[Zt=ce.charAt(++Xt)])!=null?Zt=ce.charAt(++Xt):Ur=Zt==="e"?" ":"0",(Xs=Ue[Zt])&&(Zt=Xs(He,Ur)),ge.push(Zt),Ke=Xt+1);return ge.push(ce.slice(Ke,Xt)),ge.join("")}}function I(ce,Ue){return function(He){var ge=Df(1900,void 0,1),Xt=k(ge,ce,He+="",0),Ke,Sn;if(Xt!=He.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ue&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ke=P1(Df(ge.y,0,1)),Sn=Ke.getUTCDay(),Ke=Sn>4||Sn===0?Zy.ceil(Ke):Zy(Ke),Ke=x0.offset(Ke,(ge.V-1)*7),ge.y=Ke.getUTCFullYear(),ge.m=Ke.getUTCMonth(),ge.d=Ke.getUTCDate()+(ge.w+6)%7):(Ke=k1(Df(ge.y,0,1)),Sn=Ke.getDay(),Ke=Sn>4||Sn===0?Xy.ceil(Ke):Xy(Ke),Ke=hm.offset(Ke,(ge.V-1)*7),ge.y=Ke.getFullYear(),ge.m=Ke.getMonth(),ge.d=Ke.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Sn="Z"in ge?P1(Df(ge.y,0,1)).getUTCDay():k1(Df(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Sn+5)%7:ge.w+ge.U*7-(Sn+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,P1(ge)):k1(ge)}}function k(ce,Ue,He,ge){for(var Xt=0,Ke=Ue.length,Sn=He.length,Zt,Ur;Xt<Ke;){if(ge>=Sn)return-1;if(Zt=Ue.charCodeAt(Xt++),Zt===37){if(Zt=Ue.charAt(Xt++),Ur=M[Zt in aR?Ue.charAt(Xt++):Zt],!Ur||(ge=Ur(ce,He,ge))<0)return-1}else if(Zt!=He.charCodeAt(ge++))return-1}return ge}function N(ce,Ue,He){var ge=h.exec(Ue.slice(He));return ge?(ce.p=p.get(ge[0].toLowerCase()),He+ge[0].length):-1}function P(ce,Ue,He){var ge=w.exec(Ue.slice(He));return ge?(ce.w=E.get(ge[0].toLowerCase()),He+ge[0].length):-1}function L(ce,Ue,He){var ge=g.exec(Ue.slice(He));return ge?(ce.w=x.get(ge[0].toLowerCase()),He+ge[0].length):-1}function z(ce,Ue,He){var ge=C.exec(Ue.slice(He));return ge?(ce.m=U.get(ge[0].toLowerCase()),He+ge[0].length):-1}function $(ce,Ue,He){var ge=A.exec(Ue.slice(He));return ge?(ce.m=S.get(ge[0].toLowerCase()),He+ge[0].length):-1}function ne(ce,Ue,He){return k(ce,e,Ue,He)}function me(ce,Ue,He){return k(ce,n,Ue,He)}function Y(ce,Ue,He){return k(ce,r,Ue,He)}function oe(ce){return l[ce.getDay()]}function H(ce){return s[ce.getDay()]}function K(ce){return f[ce.getMonth()]}function ae(ce){return d[ce.getMonth()]}function q(ce){return a[+(ce.getHours()>=12)]}function re(ce){return 1+~~(ce.getMonth()/3)}function pe(ce){return l[ce.getUTCDay()]}function ye(ce){return s[ce.getUTCDay()]}function Ce(ce){return f[ce.getUTCMonth()]}function ke(ce){return d[ce.getUTCMonth()]}function Pe(ce){return a[+(ce.getUTCHours()>=12)]}function Nt(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ue=V(ce+="",R);return Ue.toString=function(){return ce},Ue},parse:function(ce){var Ue=I(ce+="",!1);return Ue.toString=function(){return ce},Ue},utcFormat:function(ce){var Ue=V(ce+="",T);return Ue.toString=function(){return ce},Ue},utcParse:function(ce){var Ue=I(ce+="",!0);return Ue.toString=function(){return ce},Ue}}}var aR={"-":"",_:" ",0:"0"},qn=/^\s*\d+/,eie=/^%/,tie=/[\\^$*+?|[\]().{}]/g;function ct(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function nie(t){return t.replace(tie,"\\$&")}function Mf(t){return new RegExp("^(?:"+t.map(nie).join("|")+")","i")}function Lf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function rie(t,e,n){var r=qn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function aie(t,e,n){var r=qn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function iie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function sie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function oie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function iR(t,e,n){var r=qn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sR(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cie(t,e,n){var r=qn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function uie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function oR(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function die(t,e,n){var r=qn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function lR(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function fie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mie(t,e,n){var r=qn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pie(t,e,n){var r=qn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gie(t,e,n){var r=eie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function yie(t,e,n){var r=qn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function vie(t,e,n){var r=qn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function cR(t,e){return ct(t.getDate(),e,2)}function xie(t,e){return ct(t.getHours(),e,2)}function bie(t,e){return ct(t.getHours()%12||12,e,2)}function wie(t,e){return ct(1+hm.count(zs(t),t),e,3)}function HL(t,e){return ct(t.getMilliseconds(),e,3)}function _ie(t,e){return HL(t,e)+"000"}function Eie(t,e){return ct(t.getMonth()+1,e,2)}function Aie(t,e){return ct(t.getMinutes(),e,2)}function Sie(t,e){return ct(t.getSeconds(),e,2)}function jie(t){var e=t.getDay();return e===0?7:e}function Nie(t,e){return ct(b0.count(zs(t)-1,t),e,2)}function GL(t){var e=t.getDay();return e>=4||e===0?Ju(t):Ju.ceil(t)}function Tie(t,e){return t=GL(t),ct(Ju.count(zs(t),t)+(zs(t).getDay()===4),e,2)}function Cie(t){return t.getDay()}function Iie(t,e){return ct(Xy.count(zs(t)-1,t),e,2)}function Oie(t,e){return ct(t.getFullYear()%100,e,2)}function kie(t,e){return t=GL(t),ct(t.getFullYear()%100,e,2)}function Pie(t,e){return ct(t.getFullYear()%1e4,e,4)}function Rie(t,e){var n=t.getDay();return t=n>=4||n===0?Ju(t):Ju.ceil(t),ct(t.getFullYear()%1e4,e,4)}function Die(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ct(e/60|0,"0",2)+ct(e%60,"0",2)}function uR(t,e){return ct(t.getUTCDate(),e,2)}function Mie(t,e){return ct(t.getUTCHours(),e,2)}function Lie(t,e){return ct(t.getUTCHours()%12||12,e,2)}function Uie(t,e){return ct(1+x0.count(Vs(t),t),e,3)}function KL(t,e){return ct(t.getUTCMilliseconds(),e,3)}function zie(t,e){return KL(t,e)+"000"}function Vie(t,e){return ct(t.getUTCMonth()+1,e,2)}function $ie(t,e){return ct(t.getUTCMinutes(),e,2)}function Bie(t,e){return ct(t.getUTCSeconds(),e,2)}function Fie(t){var e=t.getUTCDay();return e===0?7:e}function qie(t,e){return ct(w0.count(Vs(t)-1,t),e,2)}function WL(t){var e=t.getUTCDay();return e>=4||e===0?ed(t):ed.ceil(t)}function Hie(t,e){return t=WL(t),ct(ed.count(Vs(t),t)+(Vs(t).getUTCDay()===4),e,2)}function Gie(t){return t.getUTCDay()}function Kie(t,e){return ct(Zy.count(Vs(t)-1,t),e,2)}function Wie(t,e){return ct(t.getUTCFullYear()%100,e,2)}function Yie(t,e){return t=WL(t),ct(t.getUTCFullYear()%100,e,2)}function Qie(t,e){return ct(t.getUTCFullYear()%1e4,e,4)}function Xie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ed(t):ed.ceil(t),ct(t.getUTCFullYear()%1e4,e,4)}function Zie(){return"+0000"}function dR(){return"%"}function fR(t){return+t}function hR(t){return Math.floor(+t/1e3)}var mu,YL,QL;Jie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jie(t){return mu=Jae(t),YL=mu.format,mu.parse,QL=mu.utcFormat,mu.utcParse,mu}function ese(t){return new Date(t)}function tse(t){return t instanceof Date?+t:+new Date(+t)}function QS(t,e,n,r,a,s,l,d,f,h){var p=MS(),g=p.invert,x=p.domain,w=h(".%L"),E=h(":%S"),A=h("%I:%M"),S=h("%I %p"),C=h("%a %d"),U=h("%b %d"),R=h("%B"),T=h("%Y");function M(V){return(f(V)<V?w:d(V)<V?E:l(V)<V?A:s(V)<V?S:r(V)<V?a(V)<V?C:U:n(V)<V?R:T)(V)}return p.invert=function(V){return new Date(g(V))},p.domain=function(V){return arguments.length?x(Array.from(V,tse)):x().map(ese)},p.ticks=function(V){var I=x();return t(I[0],I[I.length-1],V??10)},p.tickFormat=function(V,I){return I==null?M:h(I)},p.nice=function(V){var I=x();return(!V||typeof V.range!="function")&&(V=e(I[0],I[I.length-1],V??10)),V?x(ML(I,V)):p},p.copy=function(){return fm(p,QS(t,e,n,r,a,s,l,d,f,h))},p}function nse(){return ka.apply(QS(Xae,Zae,zs,WS,b0,hm,GS,qS,Kl,YL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rse(){return ka.apply(QS(Yae,Qae,Vs,YS,w0,x0,KS,HS,Kl,QL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _0(){var t=0,e=1,n,r,a,s,l=yr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(x){var w,E;return arguments.length?([w,E]=x,l=g(w,E),h):[l(0),l(1)]}}return h.range=p(gd),h.rangeRound=p(DS),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function ul(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function XL(){var t=cl(_0()(yr));return t.copy=function(){return ul(t,XL())},Ks.apply(t,arguments)}function ZL(){var t=zS(_0()).domain([1,10]);return t.copy=function(){return ul(t,ZL()).base(t.base())},Ks.apply(t,arguments)}function JL(){var t=VS(_0());return t.copy=function(){return ul(t,JL()).constant(t.constant())},Ks.apply(t,arguments)}function XS(){var t=$S(_0());return t.copy=function(){return ul(t,XS()).exponent(t.exponent())},Ks.apply(t,arguments)}function ase(){return XS.apply(null,arguments).exponent(.5)}function eU(){var t=[],e=yr;function n(r){if(r!=null&&!isNaN(r=+r))return e((um(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ho),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>Fre(t,s/r))},n.copy=function(){return eU(e).domain(t)},Ks.apply(n,arguments)}function E0(){var t=0,e=.5,n=1,r=1,a,s,l,d,f,h=yr,p,g=!1,x;function w(A){return isNaN(A=+A)?x:(A=.5+((A=+p(A))-s)*(r*A<r*s?d:f),h(g?Math.max(0,Math.min(1,A)):A))}w.domain=function(A){return arguments.length?([t,e,n]=A,a=p(t=+t),s=p(e=+e),l=p(n=+n),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),r=s<a?-1:1,w):[t,e,n]},w.clamp=function(A){return arguments.length?(g=!!A,w):g},w.interpolator=function(A){return arguments.length?(h=A,w):h};function E(A){return function(S){var C,U,R;return arguments.length?([C,U,R]=S,h=gae(A,[C,U,R]),w):[h(0),h(.5),h(1)]}}return w.range=E(gd),w.rangeRound=E(DS),w.unknown=function(A){return arguments.length?(x=A,w):x},function(A){return p=A,a=A(t),s=A(e),l=A(n),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),r=s<a?-1:1,w}}function tU(){var t=cl(E0()(yr));return t.copy=function(){return ul(t,tU())},Ks.apply(t,arguments)}function nU(){var t=zS(E0()).domain([.1,1,10]);return t.copy=function(){return ul(t,nU()).base(t.base())},Ks.apply(t,arguments)}function rU(){var t=VS(E0());return t.copy=function(){return ul(t,rU()).constant(t.constant())},Ks.apply(t,arguments)}function ZS(){var t=$S(E0());return t.copy=function(){return ul(t,ZS()).exponent(t.exponent())},Ks.apply(t,arguments)}function ise(){return ZS.apply(null,arguments).exponent(.5)}const Wf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kS,scaleDiverging:tU,scaleDivergingLog:nU,scaleDivergingPow:ZS,scaleDivergingSqrt:ise,scaleDivergingSymlog:rU,scaleIdentity:DL,scaleImplicit:cE,scaleLinear:RL,scaleLog:LL,scaleOrdinal:OS,scalePoint:Gre,scalePow:BS,scaleQuantile:VL,scaleQuantize:$L,scaleRadial:zL,scaleSequential:XL,scaleSequentialLog:ZL,scaleSequentialPow:XS,scaleSequentialQuantile:eU,scaleSequentialSqrt:ase,scaleSequentialSymlog:JL,scaleSqrt:zae,scaleSymlog:UL,scaleThreshold:BL,scaleTime:nse,scaleUtc:rse,tickFormat:PL},Symbol.toStringTag,{value:"Module"}));var dl=t=>t.chartData,JS=J([dl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),mm=(t,e,n,r)=>r?JS(t):dl(t);function el(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Rt(e)&&Rt(n))return!0}return!1}function mR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function aU(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(Rt(n))a=n;else if(typeof n=="function")return;if(Rt(r))s=r;else if(typeof r=="function")return;var l=[a,s];if(el(l))return l}}function sse(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(el(r))return mR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,l,d;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Ae(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&qk.test(a)){var f=qk.exec(a);if(f==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ae(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&Hk.test(s)){var p=Hk.exec(s);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var x=[l,d];if(el(x))return e==null?x:mR(x,e,n)}}}var yd=1e9,ose={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tj,Ut=!0,Ia="[DecimalError] ",ec=Ia+"Invalid argument: ",ej=Ia+"Exponent out of range: ",vd=Math.floor,ql=Math.pow,lse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qr,Vn=1e7,kt=7,iU=9007199254740991,Jy=vd(iU/kt),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(t){return Ts(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,n=e.constructor;return St(Ts(e,new n(t),0,1),n.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return En(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qr))throw Error(Ia+"NaN");if(n.s<1)throw Error(Ia+(n.s?"NaN":"-Infinity"));return n.eq(Qr)?new r(0):(Ut=!1,e=Ts(kh(n,s),kh(t,s),s),Ut=!0,St(e,a))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lU(e,t):sU(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Ia+"NaN");return n.s?(Ut=!1,e=Ts(n,t,0,1).times(t),Ut=!0,n.minus(e)):St(new r(n),a)};Se.naturalExponential=Se.exp=function(){return oU(this)};Se.naturalLogarithm=Se.ln=function(){return kh(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sU(e,t):lU(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ec+t);if(e=En(a)+1,r=a.d.length-1,n=r*kt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Se.squareRoot=Se.sqrt=function(){var t,e,n,r,a,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Ia+"NaN")}for(t=En(d),Ut=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Ti(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=vd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=l=n+3;;)if(s=r,r=s.plus(Ts(d,s,l+2)).times(.5),Ti(s.d).slice(0,l)===(e=Ti(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(St(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;l+=4}return Ut=!0,St(r,n)};Se.times=Se.mul=function(t){var e,n,r,a,s,l,d,f,h,p=this,g=p.constructor,x=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=w.length,f<h&&(s=x,x=w,w=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)d=s[a]+w[r]*x[a-r-1]+e,s[a--]=d%Vn|0,e=d/Vn|0;s[a]=(s[a]+e)%Vn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ut?St(t,g.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fi(t,0,yd),e===void 0?e=r.rounding:Fi(e,0,8),St(n,t+En(n)+1,e))};Se.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=gc(r,!0):(Fi(t,0,yd),e===void 0?e=a.rounding:Fi(e,0,8),r=St(new a(r),t+1,e),n=gc(r,!0,t+1)),n};Se.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?gc(a):(Fi(t,0,yd),e===void 0?e=s.rounding:Fi(e,0,8),r=St(new s(a),t+En(a)+1,e),n=gc(r.abs(),!1,t+En(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return St(new e(t),En(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,n,r,a,s,l,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(Qr);if(d=new f(d),!d.s){if(t.s<1)throw Error(Ia+"Infinity");return d}if(d.eq(Qr))return d;if(r=f.precision,t.eq(Qr))return St(d,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=d.s,l){if((n=p<0?-p:p)<=iU){for(a=new f(Qr),e=Math.ceil(r/kt+4),Ut=!1;n%2&&(a=a.times(d),gR(a.d,e)),n=vd(n/2),n!==0;)d=d.times(d),gR(d.d,e);return Ut=!0,t.s<0?new f(Qr).div(a):St(a,r)}}else if(s<0)throw Error(Ia+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Ut=!1,a=t.times(kh(d,r+h)),Ut=!0,a=oU(a),a.s=s,a};Se.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=En(a),r=gc(a,n<=s.toExpNeg||n>=s.toExpPos)):(Fi(t,1,yd),e===void 0?e=s.rounding:Fi(e,0,8),a=St(new s(a),t,e),n=En(a),r=gc(a,t<=n||n<=s.toExpNeg,t)),r};Se.toSignificantDigits=Se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fi(t,1,yd),e===void 0?e=r.rounding:Fi(e,0,8)),St(new r(n),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=En(t),n=t.constructor;return gc(t,e<=n.toExpNeg||e>=n.toExpPos)};function sU(t,e){var n,r,a,s,l,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ut?St(e,g):e;if(f=t.d,h=e.d,l=t.e,a=e.e,f=f.slice(),s=l-a,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,a=l,d=f.length),l=Math.ceil(g/kt),d=l>d?l+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Vn|0,f[s]%=Vn;for(n&&(f.unshift(n),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,Ut?St(e,g):e}function Fi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ec+t)}function Ti(t){var e,n,r,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)r=t[e]+"",n=kt-r.length,n&&(s+=Po(n)),s+=r;l=t[e],r=l+"",n=kt-r.length,n&&(s+=Po(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ts=(function(){function t(r,a){var s,l=0,d=r.length;for(r=r.slice();d--;)s=r[d]*a+l,r[d]=s%Vn|0,l=s/Vn|0;return l&&r.unshift(l),r}function e(r,a,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=a[d]){f=r[d]>a[d]?1:-1;break}return f}function n(r,a,s){for(var l=0;s--;)r[s]-=l,l=r[s]<a[s]?1:0,r[s]=l*Vn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,l){var d,f,h,p,g,x,w,E,A,S,C,U,R,T,M,V,I,k,N=r.constructor,P=r.s==a.s?1:-1,L=r.d,z=a.d;if(!r.s)return new N(r);if(!a.s)throw Error(Ia+"Division by zero");for(f=r.e-a.e,I=z.length,M=L.length,w=new N(P),E=w.d=[],h=0;z[h]==(L[h]||0);)++h;if(z[h]>(L[h]||0)&&--f,s==null?U=s=N.precision:l?U=s+(En(r)-En(a))+1:U=s,U<0)return new N(0);if(U=U/kt+2|0,h=0,I==1)for(p=0,z=z[0],U++;(h<M||p)&&U--;h++)R=p*Vn+(L[h]||0),E[h]=R/z|0,p=R%z|0;else{for(p=Vn/(z[0]+1)|0,p>1&&(z=t(z,p),L=t(L,p),I=z.length,M=L.length),T=I,A=L.slice(0,I),S=A.length;S<I;)A[S++]=0;k=z.slice(),k.unshift(0),V=z[0],z[1]>=Vn/2&&++V;do p=0,d=e(z,A,I,S),d<0?(C=A[0],I!=S&&(C=C*Vn+(A[1]||0)),p=C/V|0,p>1?(p>=Vn&&(p=Vn-1),g=t(z,p),x=g.length,S=A.length,d=e(g,A,x,S),d==1&&(p--,n(g,I<x?k:z,x))):(p==0&&(d=p=1),g=z.slice()),x=g.length,x<S&&g.unshift(0),n(A,g,S),d==-1&&(S=A.length,d=e(z,A,I,S),d<1&&(p++,n(A,I<S?k:z,S))),S=A.length):d===0&&(p++,A=[0]),E[h++]=p,d&&A[0]?A[S++]=L[T]||0:(A=[L[T]],S=1);while((T++<M||A[0]!==void 0)&&U--)}return E[0]||E.shift(),w.e=f,St(w,l?s+En(w)+1:s)}})();function oU(t,e){var n,r,a,s,l,d,f=0,h=0,p=t.constructor,g=p.precision;if(En(t)>16)throw Error(ej+En(t));if(!t.s)return new p(Qr);for(Ut=!1,d=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(ql(2,h))/Math.LN10*2+5|0,d+=r,n=a=s=new p(Qr),p.precision=d;;){if(a=St(a.times(t),d),n=n.times(++f),l=s.plus(Ts(a,n,d)),Ti(l.d).slice(0,d)===Ti(s.d).slice(0,d)){for(;h--;)s=St(s.times(s),d);return p.precision=g,e==null?(Ut=!0,St(s,g)):s}s=l}}function En(t){for(var e=t.e*kt,n=t.d[0];n>=10;n/=10)e++;return e}function R1(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(Ia+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function Po(t){for(var e="";t--;)e+="0";return e}function kh(t,e){var n,r,a,s,l,d,f,h,p,g=1,x=10,w=t,E=w.d,A=w.constructor,S=A.precision;if(w.s<1)throw Error(Ia+(w.s?"NaN":"-Infinity"));if(w.eq(Qr))return new A(0);if(e==null?(Ut=!1,h=S):h=e,w.eq(10))return e==null&&(Ut=!0),R1(A,h);if(h+=x,A.precision=h,n=Ti(E),r=n.charAt(0),s=En(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Ti(w.d),r=n.charAt(0),g++;s=En(w),r>1?(w=new A("0."+n),s++):w=new A(r+"."+n.slice(1))}else return f=R1(A,h+2,S).times(s+""),w=kh(new A(r+"."+n.slice(1)),h-x).plus(f),A.precision=S,e==null?(Ut=!0,St(w,S)):w;for(d=l=w=Ts(w.minus(Qr),w.plus(Qr),h),p=St(w.times(w),h),a=3;;){if(l=St(l.times(p),h),f=d.plus(Ts(l,new A(a),h)),Ti(f.d).slice(0,h)===Ti(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(R1(A,h+2,S).times(s+""))),d=Ts(d,new A(g),h),A.precision=S,e==null?(Ut=!0,St(d,S)):d;d=f,a+=2}}function pR(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=vd(n/kt),t.d=[],r=(n+1)%kt,n<0&&(r+=kt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=kt;r<a;)t.d.push(+e.slice(r,r+=kt));e=e.slice(r),r=kt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>Jy||t.e<-Jy))throw Error(ej+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,a,s,l,d,f,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=kt,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/kt),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=kt,a=r-kt+l}if(n!==void 0&&(s=ql(10,l-a-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?a>0?h/ql(10,l-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=En(t),g.length=1,e=e-s-1,g[0]=ql(10,(kt-e%kt)%kt),t.e=vd(-e/kt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ql(10,kt-r),g[p]=a>0?(h/ql(10,l-a)%ql(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Vn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Vn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Ut&&(t.e>Jy||t.e<-Jy))throw Error(ej+En(t));return t}function lU(t,e){var n,r,a,s,l,d,f,h,p,g,x=t.constructor,w=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Ut?St(e,w):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,d=g.length):(n=g,r=h,d=f.length),a=Math.max(Math.ceil(w/kt),d)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=Vn-1;--f[s],f[a]+=Vn}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Ut?St(e,w):e):new x(0)}function gc(t,e,n){var r,a=En(t),s=Ti(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Po(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Po(-a-1)+s,n&&(r=n-l)>0&&(s+=Po(r))):a>=l?(s+=Po(a+1-l),n&&(r=n-a-1)>0&&(s=s+"."+Po(r))):((r=a+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(s+="."),s+=Po(r))),t.s<0?"-"+s:s}function gR(t,e){if(t.length>e)return t.length=e,!0}function cU(t){var e,n,r;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ec+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return pR(l,s.toString())}else if(typeof s!="string")throw Error(ec+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,lse.test(s))pR(l,s);else throw Error(ec+s)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=cU,a.config=a.set=cse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function cse(t){if(!t||typeof t!="object")throw Error(Ia+"Object expected");var e,n,r,a=["precision",1,yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(vd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(ec+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ec+n+": "+r);return this}var tj=cU(ose);Qr=new tj(1);const yt=tj;var use=t=>t,uU={},dU=t=>t===uU,yR=t=>function e(){return arguments.length===0||arguments.length===1&&dU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},fU=(t,e)=>t===1?e:yR(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(l=>l!==uU).length;return s>=t?e(...r):fU(t-s,yR(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var h=r.map(p=>dU(p)?d.shift():p);return e(...h,...d)}))}),dse=t=>fU(t.length,t),hE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},fse=dse((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),hse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return use;var a=n.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((d,f)=>f(d),s(...arguments))}},mE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function hU(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function mU(t,e,n){for(var r=new yt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var pU=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},gU=(t,e,n)=>{if(t.lte(0))return new yt(0);var r=hU(t.toNumber()),a=new yt(10).pow(r),s=t.div(a),l=r!==1?.05:.1,d=new yt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=d.mul(a);return e?new yt(f.toNumber()):new yt(Math.ceil(f.toNumber()))},mse=(t,e,n)=>{var r=new yt(1),a=new yt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new yt(10).pow(hU(t)-1),a=new yt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new yt(Math.floor(t)))}else t===0?a=new yt(Math.floor((e-1)/2)):n||(a=new yt(Math.floor(t)));var l=Math.floor((e-1)/2),d=hse(fse(f=>a.add(new yt(f-l).mul(r)).toNumber()),hE);return d(0,e)},yU=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var l=gU(new yt(n).sub(e).div(r-1),a,s),d;e<=0&&n>=0?d=new yt(0):(d=new yt(e).add(n).div(2),d=d.sub(new yt(d).mod(l)));var f=Math.ceil(d.sub(e).div(l).toNumber()),h=Math.ceil(new yt(n).sub(d).div(l).toNumber()),p=f+h+1;return p>r?yU(e,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new yt(f).mul(l)),tickMax:d.add(new yt(h).mul(l))})},pse=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[d,f]=pU([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...hE(0,a-1).map(()=>1/0)]:[...hE(0,a-1).map(()=>-1/0),f];return n>r?mE(h):h}if(d===f)return mse(d,a,s);var{step:p,tickMin:g,tickMax:x}=yU(d,f,l,s,0),w=mU(g,x.add(new yt(.1).mul(p)),p);return n>r?mE(w):w},gse=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=pU([r,a]);if(l===-1/0||d===1/0)return[r,a];if(l===d)return[l];var f=Math.max(n,2),h=gU(new yt(d).sub(l).div(f-1),s,0),p=[...mU(new yt(l),new yt(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>a?mE(p):p},vU=t=>t.rootProps.maxBarSize,yse=t=>t.rootProps.barGap,xU=t=>t.rootProps.barCategoryGap,vse=t=>t.rootProps.barSize,pm=t=>t.rootProps.stackOffset,bU=t=>t.rootProps.reverseStackOrder,nj=t=>t.options.chartName,rj=t=>t.rootProps.syncId,wU=t=>t.rootProps.syncMethod,aj=t=>t.options.eventEmitter,xse=t=>t.rootProps.baseValue,on={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},xs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},A0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},bse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:xs.reversed,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:xs.type,unit:void 0},wse={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:Wr.type,unit:void 0},_se={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ese={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:"category",unit:void 0},ij=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?_se:bse,sj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Ese:wse,S0=t=>t.polarOptions,oj=J([Hs,Gs,In],xL),_U=J([S0,oj],(t,e)=>{if(t!=null)return lr(t.innerRadius,e,0)}),EU=J([S0,oj],(t,e)=>{if(t!=null)return lr(t.outerRadius,e,e*.8)}),Ase=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},AU=J([S0],Ase);J([ij,AU],A0);var SU=J([oj,_U,EU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});J([sj,SU],A0);var jU=J([Qe,S0,_U,EU,Hs,Gs],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=e;return{cx:lr(l,a,a/2),cy:lr(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),$t=(t,e)=>e,gm=(t,e,n)=>n;function j0(t){return t==null?void 0:t.id}function NU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,l=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=j0(d);h.forEach((g,x)=>{var w=s==null||a?x:String(vt(g,s,null)),E=vt(g,d.dataKey,0),A;l.has(w)?A=l.get(w):A={},Object.assign(A,{[p]:E}),l.set(w,A)})}}),Array.from(l.values())}function N0(t){return t.stackId!=null&&t.dataKey!=null}var T0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function C0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Sse(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var kn=t=>{var e=Qe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},xd=t=>t.tooltip.settings.axisId;function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jse(t,e,n){return(e=Nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nse(t){var e=Tse(t,"string");return typeof e=="symbol"?e:e+""}function Tse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pE=[0,"auto"],Ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},TU=(t,e)=>t.cartesianAxis.xAxis[e],Ws=(t,e)=>{var n=TU(t,e);return n??Ln},Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lm},CU=(t,e)=>t.cartesianAxis.yAxis[e],Ys=(t,e)=>{var n=CU(t,e);return n??Un},Cse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lj=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Cse},qt=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);case"zAxis":return lj(t,n);case"angleAxis":return ij(t,n);case"radiusAxis":return sj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ise=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ym=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);case"angleAxis":return ij(t,n);case"radiusAxis":return sj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},IU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function cj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var vm=t=>t.graphicalItems.cartesianItems,Ose=J([$t,gm],cj),uj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),xm=J([vm,qt,Ose],uj,{memoizeOptions:{resultEqualityCheck:C0}}),OU=J([xm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(N0)),kU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),kse=J([xm],kU),dj=t=>t.map(e=>e.data).filter(Boolean).flat(1),Pse=J([xm],dj,{memoizeOptions:{resultEqualityCheck:C0}}),fj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},hj=J([Pse,mm],fj),mj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:vt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:vt(a,r)}))):t.map(r=>({value:r})),I0=J([hj,qt,xm],mj);function PU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Gg(t){if(Vi(t)||t instanceof Date){var e=Number(t);if(Rt(e))return e}}function xR(t){if(Array.isArray(t)){var e=[Gg(t[0]),Gg(t[1])];return el(e)?e:void 0}var n=Gg(t);if(n!=null)return[n,n]}function $s(t){return t.map(Gg).filter(QZ)}function Rse(t,e,n){return!n||typeof e!="number"||Ta(e)?[]:n.length?$s(n.flatMap(r=>{var a=vt(t,r.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Rt(s)||!Rt(l)))return[e-s,e+l]})):[]}var Pn=t=>{var e=kn(t),n=xd(t);return ym(t,e,n)},bm=J([Pn],t=>t==null?void 0:t.dataKey),Dse=J([OU,mm,Pn],NU),RU=(t,e,n,r)=>{var a={},s=e.reduce((l,d)=>(d.stackId==null||(l[d.stackId]==null&&(l[d.stackId]=[]),l[d.stackId].push(d)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=r?[...f].reverse():f,p=h.map(j0);return[d,{stackedData:pte(t,p,n),graphicalItems:h}]}))},Ph=J([Dse,OU,pm,bU],RU),DU=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=xte(t,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Mse=J([qt],t=>t.allowDataOverflow),pj=t=>{var e;if(t==null||!("domain"in t))return pE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=$s(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:pE},gj=J([qt],pj),yj=J([gj,Mse],aU),Lse=J([Ph,dl,$t,yj],DU,{memoizeOptions:{resultEqualityCheck:T0}}),O0=t=>t.errorBars,Use=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>PU(n,r)),tv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},vj=(t,e,n,r,a)=>{var s,l;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(C=>PU(a,C)),x=vt(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=Rse(d,x,g);if(w.length>=2){var E=Math.min(...w),A=Math.max(...w);(s==null||E<s)&&(s=E),(l==null||A>l)&&(l=A)}var S=xR(x);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=xR(vt(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Rt(s)&&Rt(l))return[s,l]},zse=J([hj,qt,kse,O0,$t],vj,{memoizeOptions:{resultEqualityCheck:T0}});function Vse(t){var{value:e}=t;if(Vi(e)||e instanceof Date)return e}var $se=(t,e,n)=>{var r=t.map(Vse).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Q3(r))?EL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},MU=t=>t.referenceElements.dots,bd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Bse=J([MU,$t,gm],bd),LU=t=>t.referenceElements.areas,Fse=J([LU,$t,gm],bd),UU=t=>t.referenceElements.lines,qse=J([UU,$t,gm],bd),zU=(t,e)=>{var n=$s(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Hse=J(Bse,$t,zU),VU=(t,e)=>{var n=$s(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gse=J([Fse,$t],VU);function Kse(t){var e;if(t.x!=null)return $s([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:$s(n)}function Wse(t){var e;if(t.y!=null)return $s([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:$s(n)}var $U=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?Kse(r):Wse(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yse=J([qse,$t],$U),Qse=J(Hse,Yse,Gse,(t,e,n)=>tv(t,n,e)),xj=(t,e,n,r,a,s,l,d)=>{if(n!=null)return n;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?tv(r,s,a):tv(s,a);return sse(e,h,t.allowDataOverflow)},Xse=J([qt,gj,yj,Lse,zse,Qse,Qe,$t],xj,{memoizeOptions:{resultEqualityCheck:T0}}),Zse=[0,1],bj=(t,e,n,r,a,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=t,h=Xi(e,s);if(h&&d==null){var p;return EL(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?$se(r,t,h):a==="expand"?Zse:l}},wj=J([qt,Qe,hj,I0,pm,$t,Xse],bj),BU=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(rm(s));return d in Wf?d:"point"}}},wd=J([qt,Qe,IU,nj,$t],BU);function Jse(t){if(t!=null){if(t in Wf)return Wf[t]();var e="scale".concat(rm(t));if(e in Wf)return Wf[e]()}}function _j(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=Jse(e);if(a!=null){var s=a.domain(n).range(r);return ute(s),s}}}var Ej=(t,e,n)=>{var r=pj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&el(t))return pse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&el(t))return gse(t,e.tickCount,e.allowDecimals)}},Aj=J([wj,ym,wd],Ej),Sj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&el(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],l=e[1],d=n[n.length-1];return[Math.min(a,s),Math.max(l,d)]}return e},eoe=J([qt,wj,Aj,$t],Sj),toe=J(I0,qt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from($s(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/a}}),FU=J(toe,Qe,xU,In,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!Rt(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var l=lr(n,t*s),d=t*s/2;return d-l-(d-l)/s*l}return 0}),noe=(t,e)=>{var n=Ws(t,e);return n==null||typeof n.padding!="string"?0:FU(t,"xAxis",e,n.padding)},roe=(t,e)=>{var n=Ys(t,e);return n==null||typeof n.padding!="string"?0:FU(t,"yAxis",e,n.padding)},aoe=J(Ws,noe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),ioe=J(Ys,roe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),soe=J([In,aoe,f0,d0,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),ooe=J([In,Qe,ioe,f0,d0,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:l}=a;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),wm=(t,e,n,r)=>{var a;switch(e){case"xAxis":return soe(t,n,r);case"yAxis":return ooe(t,n,r);case"zAxis":return(a=lj(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return AU(t);case"radiusAxis":return SU(t,n);default:return}},qU=J([qt,wm],A0),_d=J([qt,wd,eoe,qU],_j);J([xm,O0,$t],Use);function HU(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var k0=(t,e)=>e,P0=(t,e,n)=>n,loe=J(c0,k0,P0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(HU)),coe=J(u0,k0,P0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(HU)),GU=(t,e)=>({width:t.width,height:e.height}),uoe=(t,e)=>{var n=typeof e.width=="number"?e.width:lm;return{width:n,height:t.height}},KU=J(In,Ws,GU),doe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},foe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},hoe=J(Gs,In,loe,k0,P0,(t,e,n,r,a)=>{var s={},l;return n.forEach(d=>{var f=GU(e,d);l==null&&(l=doe(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),moe=J(Hs,In,coe,k0,P0,(t,e,n,r,a)=>{var s={},l;return n.forEach(d=>{var f=uoe(e,d);l==null&&(l=foe(e,r,t));var h=r==="left"&&!a||r==="right"&&a;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),poe=(t,e)=>{var n=Ws(t,e);if(n!=null)return hoe(t,n.orientation,n.mirror)},goe=J([In,Ws,poe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),yoe=(t,e)=>{var n=Ys(t,e);if(n!=null)return moe(t,n.orientation,n.mirror)},voe=J([In,Ys,yoe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),WU=J(In,Ys,(t,e)=>{var n=typeof e.width=="number"?e.width:lm;return{width:n,height:t.height}}),bR=(t,e,n)=>{switch(e){case"xAxis":return KU(t,n).width;case"yAxis":return WU(t,n).height;default:return}},YU=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=n,d=Xi(t,r),f=e.map(h=>h.value);if(l&&d&&s==="category"&&a&&Q3(f))return f}},jj=J([Qe,I0,qt,$t],YU),QU=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,l=Xi(t,r);if(l&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},Nj=J([Qe,I0,ym,$t],QU),wR=J([Qe,Ise,wd,_d,jj,Nj,wm,Aj,$t],(t,e,n,r,a,s,l,d,f)=>{if(e!=null){var h=Xi(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}}),xoe=(t,e,n,r,a,s,l,d,f)=>{if(!(e==null||r==null)){var h=Xi(t,f),{type:p,ticks:g,tickCount:x}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/w:0;E=f==="angleAxis"&&s!=null&&s.length>=2?$n(s[0]-s[1])*2*E:E;var A=g||a;if(A){var S=A.map((C,U)=>{var R=l?l.indexOf(C):C;return{index:U,coordinate:r(R)+E,value:C,offset:E}});return S.filter(C=>Rt(C.coordinate))}return h&&d?d.map((C,U)=>({coordinate:r(C)+E,value:C,index:U,offset:E})).filter(C=>Rt(C.coordinate)):r.ticks?r.ticks(x).map(C=>({coordinate:r(C)+E,value:C,offset:E})):r.domain().map((C,U)=>({coordinate:r(C)+E,value:l?l[C]:C,index:U,offset:E}))}},XU=J([Qe,ym,wd,_d,Aj,wm,jj,Nj,$t],xoe),boe=(t,e,n,r,a,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=Xi(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?$n(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},qi=J([Qe,ym,_d,wm,jj,Nj,$t],boe),Hi=J(qt,_d,(t,e)=>{if(!(t==null||e==null))return ev(ev({},t),{},{scale:e})}),woe=J([qt,wd,wj,qU],_j);J((t,e,n)=>lj(t,n),woe,(t,e)=>{if(!(t==null||e==null))return ev(ev({},t),{},{scale:e})});var _oe=J([Qe,c0,u0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ZU=t=>t.options.defaultTooltipEventType,JU=t=>t.options.validateTooltipEventTypes;function ez(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Tj(t,e){var n=ZU(t),r=JU(t);return ez(e,n,r)}function Eoe(t){return Ne(e=>Tj(e,t))}var tz=(t,e)=>{var n,r=Number(e);if(!(Ta(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Aoe=t=>t.tooltip.settings,zo={active:!1,index:null,dataKey:void 0,coordinate:void 0},Soe={itemInteraction:{click:zo,hover:zo},axisInteraction:{click:zo,hover:zo},keyboardInteraction:zo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},nz=Lr({name:"tooltip",initialState:Soe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Lt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Xa(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:Lt()},removeTooltipEntrySettings:{reducer(t,e){var n=Xa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Lt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:joe,replaceTooltipEntrySettings:Noe,removeTooltipEntrySettings:Toe,setTooltipSettingsState:Coe,setActiveMouseOverItemIndex:rz,mouseLeaveItem:Ioe,mouseLeaveChart:az,setActiveClickItemIndex:Ooe,setMouseOverAxisIndex:iz,setMouseClickAxisIndex:koe,setSyncInteraction:gE,setKeyboardInteraction:yE}=nz.actions,Poe=nz.reducer;function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){Roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Roe(t,e,n){return(e=Doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Doe(t){var e=Moe(t,"string");return typeof e=="symbol"?e:e+""}function Moe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Loe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Uoe(t){return t.index!=null}var sz=(t,e,n,r)=>{if(e==null)return zo;var a=Loe(t,e,n);if(a==null)return zo;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Uoe(a)){if(s)return jg(jg({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return jg(jg({},zo),{},{coordinate:a.coordinate})};function zoe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Voe(t,e){var n=zoe(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),l=Math.max(r,a);return n>=s&&n<=l}function $oe(t,e,n){if(n==null||e==null)return!0;var r=vt(t,e);return r==null||!el(n)?!0:Voe(r,n)}var Cj=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!Rt(s))return a;var l=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(l,Math.min(s,d)),h=e[f];return h==null||$oe(h,n,r)?String(f):null},oz=(t,e,n,r,a,s,l,d)=>{if(!(s==null||d==null)){var f=l[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=a==null?void 0:a[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},lz=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},_m=t=>t.options.tooltipPayloadSearcher,Ed=t=>t.tooltip;function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Boe(t,e,n){return(e=Foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=qoe(t,"string");return typeof e=="symbol"?e:e+""}function qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hoe(t,e){return t??e}var cz=(t,e,n,r,a,s,l)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,w)=>{var E,{dataDefinedOnItem:A,settings:S}=w,C=Hoe(A,d),U=Array.isArray(C)?F5(C,h,p):C,R=(E=S==null?void 0:S.dataKey)!==null&&E!==void 0?E:r,T=S==null?void 0:S.nameKey,M;if(r&&Array.isArray(U)&&!Array.isArray(U[0])&&l==="axis"?M=X3(U,r,a):M=s(U,e,f,T),Array.isArray(M))M.forEach(I=>{var k=AR(AR({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});x.push(Gk({tooltipEntrySettings:k,dataKey:I.dataKey,payload:I.payload,value:vt(I.payload,I.dataKey),name:I.name}))});else{var V;x.push(Gk({tooltipEntrySettings:S,dataKey:R,payload:M,value:vt(M,R),name:(V=vt(M,T))!==null&&V!==void 0?V:S==null?void 0:S.name}))}return x},g)}},Ij=J([Pn,Qe,IU,nj,kn],BU),Goe=J([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Koe=J([kn,xd],cj),Em=J([Goe,Pn,Koe],uj,{memoizeOptions:{resultEqualityCheck:C0}}),Woe=J([Em],t=>t.filter(N0)),Yoe=J([Em],dj,{memoizeOptions:{resultEqualityCheck:C0}}),Ad=J([Yoe,dl],fj),Qoe=J([Woe,dl,Pn],NU),Oj=J([Ad,Pn,Em],mj),uz=J([Pn],pj),Xoe=J([Pn],t=>t.allowDataOverflow),dz=J([uz,Xoe],aU),Zoe=J([Em],t=>t.filter(N0)),Joe=J([Qoe,Zoe,pm,bU],RU),ele=J([Joe,dl,kn,dz],DU),tle=J([Em],kU),nle=J([Ad,Pn,tle,O0,kn],vj,{memoizeOptions:{resultEqualityCheck:T0}}),rle=J([MU,kn,xd],bd),ale=J([rle,kn],zU),ile=J([LU,kn,xd],bd),sle=J([ile,kn],VU),ole=J([UU,kn,xd],bd),lle=J([ole,kn],$U),cle=J([ale,lle,sle],tv),ule=J([Pn,uz,dz,ele,nle,cle,Qe,kn],xj),Am=J([Pn,Qe,Ad,Oj,pm,kn,ule],bj),dle=J([Am,Pn,Ij],Ej),fle=J([Pn,Am,dle,kn],Sj),fz=t=>{var e=kn(t),n=xd(t),r=!1;return wm(t,e,n,r)},hz=J([Pn,fz],A0),mz=J([Pn,Ij,fle,hz],_j),hle=J([Qe,Oj,Pn,kn],YU),mle=J([Qe,Oj,Pn,kn],QU),ple=(t,e,n,r,a,s,l,d)=>{if(e){var{type:f}=e,h=Xi(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?$n(a[0]-a[1])*2*g:g,h&&l?l.map((x,w)=>({coordinate:r(x)+g,value:x,index:w,offset:g})):r.domain().map((x,w)=>({coordinate:r(x)+g,value:s?s[x]:x,index:w,offset:g}))}}},Qs=J([Qe,Pn,Ij,mz,fz,hle,mle,kn],ple),kj=J([ZU,JU,Aoe],(t,e,n)=>ez(n.shared,t,e)),pz=t=>t.tooltip.settings.trigger,Pj=t=>t.tooltip.settings.defaultIndex,R0=J([Ed,kj,pz,Pj],sz),tl=J([R0,Ad,bm,Am],Cj),gz=J([Qs,tl],tz),yz=J([R0],t=>{if(t)return t.dataKey}),vz=J([Ed,kj,pz,Pj],lz),gle=J([Hs,Gs,Qe,In,Qs,Pj,vz,_m],oz),yle=J([R0,gle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),vle=J([R0],t=>t.active),xle=J([vz,tl,dl,bm,gz,_m,kj],cz),ble=J([xle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return(e=_le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=Ele(t,"string");return typeof e=="symbol"?e:e+""}function Ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ale=()=>Ne(Pn),Sle=()=>{var t=Ale(),e=Ne(Qs),n=Ne(mz);return Jo(!t||!n?void 0:jR(jR({},t),{},{scale:n}),e)};function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jle(t,e,n){return(e=Nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Tle(t,"string");return typeof e=="symbol"?e:e+""}function Tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cle=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},Ile=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:l}=r;return pu(pu(pu({},r),_n(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,{angle:f}=r;return pu(pu(pu({},r),_n(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ole(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var xz=(t,e,n,r,a)=>{var s,l=-1,d=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if($n(p-h)!==$n(g-p)){var w=[];if($n(g-p)===$n(a[1]-a[0])){x=g;var E=p+a[1]-a[0];w[0]=Math.min(E,(E+h)/2),w[1]=Math.max(E,(E+h)/2)}else{x=h;var A=g+a[1]-a[0];w[0]=Math.min(p,(A+p)/2),w[1]=Math.max(p,(A+p)/2)}var S=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){({index:l}=n[f]);break}}else{var C=Math.min(h,g),U=Math.max(h,g);if(t>(C+p)/2&&t<=(U+p)/2){({index:l}=n[f]);break}}}else if(e){for(var R=0;R<d;R++)if(R===0&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R>0&&R<d-1&&t>(e[R].coordinate+e[R-1].coordinate)/2&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R===d-1&&t>(e[R].coordinate+e[R-1].coordinate)/2){({index:l}=e[R]);break}}return l},bz=()=>Ne(nj),Rj=(t,e)=>e,wz=(t,e,n)=>n,Dj=(t,e,n,r)=>r,kle=J(Qs,t=>e0(t,e=>e.coordinate)),Mj=J([Ed,Rj,wz,Dj],sz),Lj=J([Mj,Ad,bm,Am],Cj),Ple=(t,e,n)=>{if(e!=null){var r=Ed(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},_z=J([Ed,Rj,wz,Dj],lz),nv=J([Hs,Gs,Qe,In,Qs,Dj,_z,_m],oz),Rle=J([Mj,nv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Ez=J([Qs,Lj],tz),Dle=J([_z,Lj,dl,bm,Ez,_m,Rj],cz),Mle=J([Mj,Lj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Lle=(t,e,n,r,a,s,l)=>{if(!(!t||!n||!r||!a)&&Ole(t,l)){var d=bte(t,e),f=xz(d,s,a,n,r),h=Cle(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Ule=(t,e,n,r,a,s,l)=>{if(!(!t||!r||!a||!s||!n)){var d=_re(t,n);if(d){var f=wte(d,e),h=xz(f,l,s,r,a),p=Ile(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},zle=(t,e,n,r,a,s,l,d)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?Lle(t,e,r,a,s,l,d):Ule(t,e,n,r,a,s,l)},Vle=J(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),$le=J(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(on)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:Sse}});function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function CR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ble(t,e,n){return(e=Fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fle(t){var e=qle(t,"string");return typeof e=="symbol"?e:e+""}function qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hle={},Gle={zIndexMap:Object.values(on).reduce((t,e)=>CR(CR({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Hle)},Kle=new Set(Object.values(on));function Wle(t){return Kle.has(t)}var Az=Lr({name:"zIndex",initialState:Gle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Lt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Wle(n)&&delete t.zIndexMap[n])},prepare:Lt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:Lt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Lt()}}}),{registerZIndexPortal:Yle,unregisterZIndexPortal:Qle,registerZIndexPortalId:Xle,unregisterZIndexPortalId:Zle}=Az.actions,Jle=Az.reducer;function Er(t){var{zIndex:e,children:n}=t,r=Zte(),a=r&&e!==void 0&&e!==0,s=Fn(),l=Vt();b.useLayoutEffect(()=>a?(l(Yle({zIndex:e})),()=>{l(Qle({zIndex:e}))}):am,[l,e,a]);var d=Ne(h=>Vle(h,e,s));if(!a)return n;if(!d)return null;var f=document.getElementById(d);return f?m4.createPortal(n,f):null}function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ece(t,e,n){return(e=tce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tce(t){var e=nce(t,"string");return typeof e=="symbol"?e:e+""}function nce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rce(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return b.isValidElement(e)?b.cloneElement(e,r):b.createElement(n,r)}function ace(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,w=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,A,S;if(p==="ScatterChart")E=g,A=Une,S=on.cursorLine;else if(p==="BarChart")E=zne(d,g,s,l),A=vL,S=on.cursorRectangle;else if(d==="radial"&&e5(g)){var{cx:C,cy:U,radius:R,startAngle:T,endAngle:M}=bL(g);E={cx:C,cy:U,startAngle:T,endAngle:M,innerRadius:R,outerRadius:R},A=_L,S=on.cursorLine}else E={points:jre(d,g,s)},A=Lu,S=on.cursorLine;var V=typeof f=="object"&&"className"in f?f.className:void 0,I=Ng(Ng(Ng(Ng({stroke:"#ccc",pointerEvents:"none"},s),E),fc(f)),{},{payload:x,payloadIndex:w,className:lt("recharts-tooltip-cursor",V)});return b.createElement(Er,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},b.createElement(rce,{cursor:f,cursorComp:A,cursorProps:I}))}function ice(t){var e=Sle(),n=eL(),r=Ac(),a=bz();return e==null||n==null||r==null||a==null?null:b.createElement(ace,vE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var Sz=b.createContext(null),sce=()=>b.useContext(Sz),D1={exports:{}},OR;function oce(){return OR||(OR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,g||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],w]:f._events[E].push(w):(f._events[E]=w,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,w=g.length,E=new Array(w);x<w;x++)E[x]=g[x].fn;return E},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,x,w,E){var A=n?n+h:h;if(!this._events[A])return!1;var S=this._events[A],C=arguments.length,U,R;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,x),!0;case 5:return S.fn.call(S.context,p,g,x,w),!0;case 6:return S.fn.call(S.context,p,g,x,w,E),!0}for(R=1,U=new Array(C-1);R<C;R++)U[R-1]=arguments[R];S.fn.apply(S.context,U)}else{var T=S.length,M;for(R=0;R<T;R++)switch(S[R].once&&this.removeListener(h,S[R].fn,void 0,!0),C){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,p);break;case 3:S[R].fn.call(S[R].context,p,g);break;case 4:S[R].fn.call(S[R].context,p,g,x);break;default:if(!U)for(M=1,U=new Array(C-1);M<C;M++)U[M-1]=arguments[M];S[R].fn.apply(S[R].context,U)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,x){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return l(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!x||E.once)&&(!g||E.context===g)&&l(this,w);else{for(var A=0,S=[],C=E.length;A<C;A++)(E[A].fn!==p||x&&!E[A].once||g&&E[A].context!==g)&&S.push(E[A]);S.length?this._events[w]=S.length===1?S[0]:S:l(this,w)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(D1)),D1.exports}var lce=oce();const cce=Gi(lce);var Rh=new cce,xE="recharts.syncEvent.tooltip",kR="recharts.syncEvent.brush";function D0(t,e){if(e){var n=Number.parseInt(e,10);if(!Ta(n))return t==null?void 0:t[n]}}var uce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},jz=Lr({name:"options",initialState:uce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dce=jz.reducer,{createEventEmitter:fce}=jz.actions;function hce(t){return t.tooltip.syncInteraction}var mce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Nz=Lr({name:"chartData",initialState:mce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:PR,setDataStartEndIndexes:pce,setComputedData:Zye}=Nz.actions,gce=Nz.reducer,yce=["x","y"];function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=bce(t,"string");return typeof e=="symbol"?e:e+""}function bce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wce(t,e){if(t==null)return{};var n,r,a=_ce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ece(){var t=Ne(rj),e=Ne(aj),n=Vt(),r=Ne(wU),a=Ne(Qs),s=Ac(),l=h0(),d=Ne(f=>f.rootProps.className);b.useEffect(()=>{if(t==null)return am;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(l&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:E,y:A}=w,S=wce(w,yce),{x:C,y:U,width:R,height:T}=p.payload.sourceViewBox,M=gu(gu({},S),{},{x:l.x+(R?(E-C)/R:0)*l.width,y:l.y+(T?(A-U)/T:0)*l.height});n(gu(gu({},p),{},{payload:gu(gu({},p.payload),{},{coordinate:M})}))}else n(p);return}if(a!=null){var V;if(typeof r=="function"){var I={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},k=r(a,I);V=a[k]}else r==="value"&&(V=a.find(Y=>String(Y.value)===p.payload.label));var{coordinate:N}=p.payload;if(V==null||p.payload.active===!1||N==null||l==null){n(gE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:P,y:L}=N,z=Math.min(P,l.x+l.width),$=Math.min(L,l.y+l.height),ne={x:s==="horizontal"?V.coordinate:z,y:s==="horizontal"?$:V.coordinate},me=gE({active:p.payload.active,coordinate:ne,dataKey:p.payload.dataKey,index:String(V.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(me)}}};return Rh.on(xE,f),()=>{Rh.off(xE,f)}},[d,n,e,t,r,a,s,l])}function Ace(){var t=Ne(rj),e=Ne(aj),n=Vt();b.useEffect(()=>{if(t==null)return am;var r=(a,s,l)=>{e!==l&&t===a&&n(pce(s))};return Rh.on(kR,r),()=>{Rh.off(kR,r)}},[n,e,t])}function Sce(){var t=Vt();b.useEffect(()=>{t(fce())},[t]),Ece(),Ace()}function jce(t,e,n,r,a,s){var l=Ne(w=>Ple(w,t,e)),d=Ne(aj),f=Ne(rj),h=Ne(wU),p=Ne(hce),g=p==null?void 0:p.active,x=h0();b.useEffect(()=>{if(!g&&f!=null&&d!=null){var w=gE({active:s,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x});Rh.emit(xE,f,w,d)}},[g,n,l,a,r,d,f,h,s,x])}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Nce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nce(t,e,n){return(e=Tce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tce(t){var e=Cce(t,"string");return typeof e=="symbol"?e:e+""}function Cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ice(t){return t.dataKey}function Oce(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(gne,e)}var LR=[],kce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ll.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Au(t){var e,n,r=An(t,kce),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:w,reverseDirection:E,useTranslate3d:A,wrapperStyle:S,cursor:C,shared:U,trigger:R,defaultIndex:T,portal:M,axisId:V}=r,I=Vt(),k=typeof T=="number"?String(T):T;b.useEffect(()=>{I(Coe({shared:U,trigger:R,axisId:V,active:a,defaultIndex:k}))},[I,U,R,V,a,k]);var N=h0(),P=hL(),L=Eoe(U),{activeIndex:z,isActive:$}=(e=Ne(Pe=>Mle(Pe,L,R,k)))!==null&&e!==void 0?e:{},ne=Ne(Pe=>Dle(Pe,L,R,k)),me=Ne(Pe=>Ez(Pe,L,R,k)),Y=Ne(Pe=>Rle(Pe,L,R,k)),oe=ne,H=sce(),K=(n=a??$)!==null&&n!==void 0?n:!1,[ae,q]=iee([oe,K]),re=L==="axis"?me:void 0;jce(L,R,Y,re,z,K);var pe=M??H;if(pe==null||N==null||L==null)return null;var ye=oe??LR;K||(ye=LR),h&&ye.length&&(ye=OJ(ye.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||r.includeHidden)),x,Ice));var Ce=ye.length>0,ke=b.createElement(Ene,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:K,coordinate:Y,hasPayload:Ce,offset:g,position:w,reverseDirection:E,useTranslate3d:A,viewBox:N,wrapperStyle:S,lastBoundingBox:ae,innerRef:q,hasPortalFromProps:!!M},Oce(f,MR(MR({},r),{},{payload:ye,label:re,active:K,activeIndex:z,coordinate:Y,accessibilityLayer:P})));return b.createElement(b.Fragment,null,m4.createPortal(ke,pe),K&&b.createElement(ice,{cursor:C,tooltipEventType:L,coordinate:Y,payload:ye,index:z}))}var Sm=t=>null;Sm.displayName="Cell";function Pce(t,e,n){return(e=Rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rce(t){var e=Dce(t,"string");return typeof e=="symbol"?e:e+""}function Dce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Mce{constructor(e){Pce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uce(t,e,n){return(e=zce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=Vce(t,"string");return typeof e=="symbol"?e:e+""}function Vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ce={cacheSize:2e3,enableCache:!0},Tz=Lce({},$ce),zR=new Mce(Tz.cacheSize),Bce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VR="recharts_measurement_span";function Fce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(d)}var $R=(t,e)=>{try{var n=document.getElementById(VR);n||(n=document.createElement("span"),n.setAttribute("id",VR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Bce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ih=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ll.isSsr)return{width:0,height:0};if(!Tz.enableCache)return $R(e,n);var r=Fce(e,n),a=zR.get(r);if(a)return a;var s=$R(e,n);return zR.set(r,s),s},BR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Hce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Cz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gce=Object.keys(Cz),Nu="NaN";function Kce(t,e){return t*Cz[e]}class Or{static parse(e){var n,[,r,a]=(n=Hce.exec(e))!==null&&n!==void 0?n:[];return new Or(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ta(e)&&(this.unit=""),n!==""&&!qce.test(n)&&(this.num=NaN,this.unit=""),Gce.includes(n)&&(this.num=Kce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Or(NaN,""):new Or(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Or(NaN,""):new Or(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Or(NaN,""):new Or(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Or(NaN,""):new Or(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ta(this.num)}}function Iz(t){if(t.includes(Nu))return Nu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=BR.exec(e))!==null&&n!==void 0?n:[],l=Or.parse(r??""),d=Or.parse(s??""),f=a==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Nu;e=e.replace(BR,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=FR.exec(e))!==null&&h!==void 0?h:[],w=Or.parse(p??""),E=Or.parse(x??""),A=g==="+"?w.add(E):w.subtract(E);if(A.isNaN())return Nu;e=e.replace(FR,A.toString())}return e}var qR=/\(([^()]*)\)/;function Wce(t){for(var e=t,n;(n=qR.exec(e))!=null;){var[,r]=n;e=e.replace(qR,Iz(r))}return e}function Yce(t){var e=t.replace(/\s+/g,"");return e=Wce(e),e=Iz(e),e}function Qce(t){try{return Yce(t)}catch{return Nu}}function M1(t){var e=Qce(t.slice(5,-1));return e===Nu?"":e}var Xce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Zce=["dx","dy","angle","className","breakAll"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function HR(t,e){if(t==null)return{};var n,r,a=Jce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Jce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oz=/[ \f\n\r\t\v\u2028\u2029]+/,kz=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];Pt(e)||(n?a=e.toString().split(""):a=e.toString().split(Oz));var s=a.map(d=>({word:d,width:ih(d,r).width})),l=n?0:ih("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function eue(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Pz=(t,e,n,r)=>t.reduce((a,s)=>{var{word:l,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(l),f.width+=d+n;else{var h={words:[l],width:d};a.push(h)}return a},[]),Rz=t=>t.reduce((e,n)=>e.width>n.width?e:n),tue="",GR=(t,e,n,r,a,s,l,d)=>{var f=t.slice(0,e),h=kz({breakAll:n,style:r,children:f+tue});if(!h)return[!1,[]];var p=Pz(h.wordsWithComputedWidth,s,l,d),g=p.length>a||Rz(p).width>Number(s);return[g,p]},nue=(t,e,n,r,a)=>{var{maxLines:s,children:l,style:d,breakAll:f}=t,h=Ae(s),p=String(l),g=Pz(e,r,n,a);if(!h||a)return g;var x=g.length>s||Rz(g).width>Number(r);if(!x)return g;for(var w=0,E=p.length-1,A=0,S;w<=E&&A<=p.length-1;){var C=Math.floor((w+E)/2),U=C-1,[R,T]=GR(p,U,f,d,s,r,n,a),[M]=GR(p,C,f,d,s,r,n,a);if(!R&&!M&&(w=C+1),R&&M&&(E=C-1),!R&&M){S=T;break}A++}return S||g},KR=t=>{var e=Pt(t)?[]:t.toString().split(Oz);return[{words:e,width:void 0}]},rue=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:l}=t;if((e||n)&&!ll.isSsr){var d,f,h=kz({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return KR(r);return nue({breakAll:s,children:r,maxLines:l,style:a},d,f,e,!!n)}return KR(r)},Dz="#808080",aue={angle:0,breakAll:!1,capHeight:"0.71em",fill:Dz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},M0=b.forwardRef((t,e)=>{var n=An(t,aue),{x:r,y:a,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=HR(n,Xce),x=b.useMemo(()=>rue({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:E,angle:A,className:S,breakAll:C}=g,U=HR(g,Zce);if(!Vi(r)||!Vi(a)||x.length===0)return null;var R=Number(r)+(Ae(w)?w:0),T=Number(a)+(Ae(E)?E:0);if(!Rt(R)||!Rt(T))return null;var M;switch(p){case"start":M=M1("calc(".concat(l,")"));break;case"middle":M=M1("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:M=M1("calc(".concat(x.length-1," * -").concat(s,")"));break}var V=[];if(f){var I=x[0].width,{width:k}=g;V.push("scale(".concat(Ae(k)&&Ae(I)?k/I:1,")"))}return A&&V.push("rotate(".concat(A,", ").concat(R,", ").concat(T,")")),V.length&&(U.transform=V.join(" ")),b.createElement("text",bE({},ur(U),{ref:e,x:R,y:T,className:lt("recharts-text",S),textAnchor:h,fill:d.includes("url")?Dz:d}),x.map((N,P)=>{var L=N.words.join(C?"":" ");return b.createElement("tspan",{x:R,dy:P===0?M:s,key:"".concat(L,"-").concat(P)},L)}))});M0.displayName="Text";var iue=["labelRef"];function sue(t,e){if(t==null)return{};var n,r,a=oue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){lue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lue(t,e,n){return(e=cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=uue(t,"string");return typeof e=="symbol"?e:e+""}function uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bs.apply(null,arguments)}var Mz=b.createContext(null),due=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l,children:d}=t,f=b.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l}),[e,n,r,a,s,l]);return b.createElement(Mz.Provider,{value:f},d)},Lz=()=>{var t=b.useContext(Mz),e=h0();return t||J5(e)},fue=b.createContext(null),hue=()=>{var t=b.useContext(fue),e=Ne(jU);return t||e},mue=t=>{var{value:e,formatter:n}=t,r=Pt(t.children)?e:t.children;return typeof n=="function"?n(r):r},Uj=t=>t!=null&&typeof t=="function",pue=(t,e)=>{var n=$n(e-t),r=Math.min(Math.abs(e-t),360);return n*r},gue=(t,e,n,r,a)=>{var{offset:s,className:l}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:w}=a,E=(h+p)/2,A=pue(g,x),S=A>=0?1:-1,C,U;switch(e){case"insideStart":C=g+S*s,U=w;break;case"insideEnd":C=x-S*s,U=!w;break;case"end":C=x+S*s,U=w;break;default:throw new Error("Unsupported position ".concat(e))}U=A<=0?U:!U;var R=_n(d,f,E,C),T=_n(d,f,E,C+(U?1:-1)*359),M="M".concat(R.x,",").concat(R.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(U?0:1,`,
    `).concat(T.x,",").concat(T.y),V=Pt(t.id)?bh("recharts-radial-line-"):t.id;return b.createElement("text",bs({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:V,d:M})),b.createElement("textPath",{xlinkHref:"#".concat(V)},n))},yue=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=_n(r,a,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+l)/2,{x:w,y:E}=_n(r,a,x,h);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},wE=t=>"cx"in t&&Ae(t.cx),vue=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!wE(n)&&(s=n);var{x:l,y:d,upperWidth:f,lowerWidth:h,height:p}=e,g=l,x=l+(f-h)/2,w=(g+x)/2,E=(f+h)/2,A=g+f/2,S=p>=0?1:-1,C=S*r,U=S>0?"end":"start",R=S>0?"start":"end",T=f>=0?1:-1,M=T*r,V=T>0?"end":"start",I=T>0?"start":"end";if(a==="top"){var k={x:g+f/2,y:d-C,textAnchor:"middle",verticalAnchor:U};return rn(rn({},k),s?{height:Math.max(d-s.y,0),width:f}:{})}if(a==="bottom"){var N={x:x+h/2,y:d+p+C,textAnchor:"middle",verticalAnchor:R};return rn(rn({},N),s?{height:Math.max(s.y+s.height-(d+p),0),width:h}:{})}if(a==="left"){var P={x:w-M,y:d+p/2,textAnchor:V,verticalAnchor:"middle"};return rn(rn({},P),s?{width:Math.max(P.x-s.x,0),height:p}:{})}if(a==="right"){var L={x:w+E+M,y:d+p/2,textAnchor:I,verticalAnchor:"middle"};return rn(rn({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:p}:{})}var z=s?{width:E,height:p}:{};return a==="insideLeft"?rn({x:w+M,y:d+p/2,textAnchor:I,verticalAnchor:"middle"},z):a==="insideRight"?rn({x:w+E-M,y:d+p/2,textAnchor:V,verticalAnchor:"middle"},z):a==="insideTop"?rn({x:g+f/2,y:d+C,textAnchor:"middle",verticalAnchor:R},z):a==="insideBottom"?rn({x:x+h/2,y:d+p-C,textAnchor:"middle",verticalAnchor:U},z):a==="insideTopLeft"?rn({x:g+M,y:d+C,textAnchor:I,verticalAnchor:R},z):a==="insideTopRight"?rn({x:g+f-M,y:d+C,textAnchor:V,verticalAnchor:R},z):a==="insideBottomLeft"?rn({x:x+M,y:d+p-C,textAnchor:I,verticalAnchor:U},z):a==="insideBottomRight"?rn({x:x+h-M,y:d+p-C,textAnchor:V,verticalAnchor:U},z):a&&typeof a=="object"&&(Ae(a.x)||Ms(a.x))&&(Ae(a.y)||Ms(a.y))?rn({x:l+lr(a.x,E),y:d+lr(a.y,p),textAnchor:"end",verticalAnchor:"end"},z):rn({x:A,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},z)},xue={angle:0,offset:5,zIndex:on.label,position:"middle",textBreakAll:!1};function Ro(t){var e=An(t,xue),{viewBox:n,position:r,value:a,children:s,content:l,className:d="",textBreakAll:f,labelRef:h}=e,p=hue(),g=Lz(),x=r==="center"?g:p??g,w,E,A;if(n==null?w=x:wE(n)?w=n:w=J5(n),!w||Pt(a)&&Pt(s)&&!b.isValidElement(l)&&typeof l!="function")return null;var S=rn(rn({},e),{},{viewBox:w});if(b.isValidElement(l)){var{labelRef:C}=S,U=sue(S,iue);return b.cloneElement(l,U)}if(typeof l=="function"){if(E=b.createElement(l,S),b.isValidElement(E))return E}else E=mue(e);var R=ur(e);if(wE(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return gue(e,r,E,R,w);A=yue(w,e.offset,e.position)}else A=vue(e,w);return b.createElement(Er,{zIndex:e.zIndex},b.createElement(M0,bs({ref:h,className:lt("recharts-label",d)},R,A,{textAnchor:eue(R.textAnchor)?R.textAnchor:A.textAnchor,breakAll:f}),E))}Ro.displayName="Label";var bue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(Ro,bs({key:"label-implicit"},r)):Vi(t)?b.createElement(Ro,bs({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===Ro?b.cloneElement(t,rn({key:"label-implicit"},r)):b.createElement(Ro,bs({key:"label-implicit",content:t},r)):Uj(t)?b.createElement(Ro,bs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(Ro,bs({},t,{key:"label-implicit"},r)):null};function wue(t){var{label:e,labelRef:n}=t,r=Lz();return bue(e,r,n)||null}var L1={},U1={},YR;function _ue(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(U1)),U1}var z1={},QR;function Eue(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(z1)),z1}var XR;function Aue(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ue(),n=Eue(),r=gS();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(L1)),L1}var V1,ZR;function Sue(){return ZR||(ZR=1,V1=Aue().last),V1}var jue=Sue();const Nue=Gi(jue);var Tue=["valueAccessor"],Cue=["dataKey","clockWise","id","textBreakAll","zIndex"];function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(null,arguments)}function JR(t,e){if(t==null)return{};var n,r,a=Iue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Iue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oue=t=>Array.isArray(t.value)?Nue(t.value):t.value,Uz=b.createContext(void 0),zj=Uz.Provider,zz=b.createContext(void 0),kue=zz.Provider;function Pue(){return b.useContext(Uz)}function Rue(){return b.useContext(zz)}function Kg(t){var{valueAccessor:e=Oue}=t,n=JR(t,Tue),{dataKey:r,clockWise:a,id:s,textBreakAll:l,zIndex:d}=n,f=JR(n,Cue),h=Pue(),p=Rue(),g=h||p;return!g||!g.length?null:b.createElement(Er,{zIndex:d??on.label},b.createElement(Yt,{className:"recharts-label-list"},g.map((x,w)=>{var E,A=Pt(r)?e(x,w):vt(x&&x.payload,r),S=Pt(s)?{}:{id:"".concat(s,"-").concat(w)};return b.createElement(Ro,rv({key:"label-".concat(w)},ur(x),f,S,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:A,textBreakAll:l,viewBox:x.viewBox,index:w,zIndex:0}))})))}Kg.displayName="LabelList";function L0(t){var{label:e}=t;return e?e===!0?b.createElement(Kg,{key:"labelList-implicit"}):b.isValidElement(e)||Uj(e)?b.createElement(Kg,{key:"labelList-implicit",content:e}):typeof e=="object"?b.createElement(Kg,rv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}var Vz=t=>{var{cx:e,cy:n,r,className:a}=t,s=lt("recharts-dot",a);return Ae(e)&&Ae(n)&&Ae(r)?b.createElement("circle",_E({},wr(t),pS(t),{className:s,cx:e,cy:n,r})):null},$z=t=>t.graphicalItems.polarItems,Due=J([$t,gm],cj),U0=J([$z,qt,Due],uj),Mue=J([U0],dj),z0=J([Mue,JS],fj),Lue=J([z0,qt,U0],mj);J([z0,qt,U0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,l=vt(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:vt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var eD=()=>{},Uue=J([z0,qt,U0,O0,$t],vj),zue=J([qt,gj,yj,eD,Uue,eD,Qe,$t],xj),Bz=J([qt,Qe,z0,Lue,pm,$t,zue],bj),Vue=J([Bz,qt,wd],Ej);J([qt,Bz,Vue,$t],Sj);var $ue={radiusAxis:{},angleAxis:{}},Fz=Lr({name:"polarAxis",initialState:$ue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Jye,removeRadiusAxis:eve,addAngleAxis:tve,removeAngleAxis:nve}=Fz.actions,Bue=Fz.reducer;function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){Fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fue(t,e,n){return(e=que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function que(t){var e=Hue(t,"string");return typeof e=="symbol"?e:e+""}function Hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gue=(t,e)=>e,Vj=J([$z,Gue],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Kue=[],$j=(t,e,n)=>(n==null?void 0:n.length)===0?Kue:n,qz=J([JS,Vj,$j],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>nD(nD({},e.presentationProps),s.props))),a!=null)return a}}),Wue=J([qz,Vj,$j],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,l=vt(r,e.nameKey,e.name),d;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:ol(l,e.dataKey),color:d,payload:r,type:e.legendType}})}),Yue=J([qz,Vj,$j,In],(t,e,n,r)=>{if(!(e==null||t==null))return Qde({offset:r,pieSettings:e,displayedData:t,cells:n})}),$1={exports:{}},Et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD;function Que(){if(rD)return Et;rD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(A){if(typeof A=="object"&&A!==null){var S=A.$$typeof;switch(S){case t:switch(A=A.type,A){case n:case a:case r:case f:case h:case x:return A;default:switch(A=A&&A.$$typeof,A){case l:case d:case g:case p:return A;case s:return A;default:return S}}case e:return S}}}return Et.ContextConsumer=s,Et.ContextProvider=l,Et.Element=t,Et.ForwardRef=d,Et.Fragment=n,Et.Lazy=g,Et.Memo=p,Et.Portal=e,Et.Profiler=a,Et.StrictMode=r,Et.Suspense=f,Et.SuspenseList=h,Et.isContextConsumer=function(A){return E(A)===s},Et.isContextProvider=function(A){return E(A)===l},Et.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},Et.isForwardRef=function(A){return E(A)===d},Et.isFragment=function(A){return E(A)===n},Et.isLazy=function(A){return E(A)===g},Et.isMemo=function(A){return E(A)===p},Et.isPortal=function(A){return E(A)===e},Et.isProfiler=function(A){return E(A)===a},Et.isStrictMode=function(A){return E(A)===r},Et.isSuspense=function(A){return E(A)===f},Et.isSuspenseList=function(A){return E(A)===h},Et.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===a||A===r||A===f||A===h||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===p||A.$$typeof===l||A.$$typeof===s||A.$$typeof===d||A.$$typeof===w||A.getModuleId!==void 0)},Et.typeOf=E,Et}var aD;function Xue(){return aD||(aD=1,$1.exports=Que()),$1.exports}var Zue=Xue(),iD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",sD=null,B1=null,Hz=t=>{if(t===sD&&Array.isArray(B1))return B1;var e=[];return b.Children.forEach(t,n=>{Pt(n)||(Zue.isFragment(n)?e=e.concat(Hz(n.props.children)):e.push(n))}),B1=e,sD=t,e};function Bj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>iD(a)):r=[iD(e)],Hz(t).forEach(a=>{var s=hc(a,"type.displayName")||hc(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var Fj=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,F1={},oD;function Jue(){return oD||(oD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(F1)),F1}var q1,lD;function ede(){return lD||(lD=1,q1=Jue().isPlainObject),q1}var tde=ede();const nde=Gi(tde);function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rde(t,e,n){return(e=ade(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ade(t){var e=ide(t,"string");return typeof e=="symbol"?e:e+""}function ide(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}var dD=(t,e,n,r,a)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+a),l+="L ".concat(t+n-s/2-r,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},sde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ode=t=>{var e=An(t,sde),{x:n,y:r,upperWidth:a,lowerWidth:s,height:l,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=b.useRef(null),[w,E]=b.useState(-1),A=b.useRef(a),S=b.useRef(s),C=b.useRef(l),U=b.useRef(n),R=b.useRef(r),T=pd(t,"trapezoid-");if(b.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ne=x.current.getTotalLength();ne&&E(ne)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var M=lt("recharts-trapezoid",d);if(!g)return b.createElement("g",null,b.createElement("path",av({},ur(e),{className:M,d:dD(n,r,a,s,l)})));var V=A.current,I=S.current,k=C.current,N=U.current,P=R.current,L="0px ".concat(w===-1?1:w,"px"),z="".concat(w,"px 0px"),$=mL(["strokeDasharray"],h,f);return b.createElement(md,{animationId:T,key:T,canBegin:w>0,duration:h,easing:f,isActive:g,begin:p},ne=>{var me=ft(V,a,ne),Y=ft(I,s,ne),oe=ft(k,l,ne),H=ft(N,n,ne),K=ft(P,r,ne);x.current&&(A.current=me,S.current=Y,C.current=oe,U.current=H,R.current=K);var ae=ne>0?{transition:$,strokeDasharray:z}:{strokeDasharray:L};return b.createElement("path",av({},ur(e),{className:M,d:dD(H,K,me,Y,oe),ref:x,style:uD(uD({},ae),e.style)}))})},lde=["option","shapeType","propTransformer","activeClassName"];function cde(t,e){if(t==null)return{};var n,r,a=ude(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ude(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dde(t,e,n){return(e=fde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fde(t){var e=hde(t,"string");return typeof e=="symbol"?e:e+""}function hde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mde(t,e){return iv(iv({},e),t)}function pde(t,e){return t==="symbols"}function hD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return b.createElement(vL,n);case"trapezoid":return b.createElement(ode,n);case"sector":return b.createElement(_L,n);case"symbols":if(pde(e))return b.createElement(J3,n);break;case"curve":return b.createElement(Lu,n);default:return null}}function gde(t){return b.isValidElement(t)?t.props:t}function qj(t){var{option:e,shapeType:n,propTransformer:r=mde,activeClassName:a="recharts-active-shape"}=t,s=cde(t,lde),l;if(b.isValidElement(e))l=b.cloneElement(e,iv(iv({},s),gde(e)));else if(typeof e=="function")l=e(s);else if(nde(e)&&typeof e!="boolean"){var d=r(e,s);l=b.createElement(hD,{shapeType:n,elementProps:d})}else{var f=s;l=b.createElement(hD,{shapeType:n,elementProps:f})}return s.isActive?b.createElement(Yt,{className:a},l):l}var Hj=(t,e)=>{var n=Vt();return(r,a)=>s=>{t==null||t(r,a,s),n(rz({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Gj=t=>{var e=Vt();return(n,r)=>a=>{t==null||t(n,r,a),e(Ioe())}},Kj=(t,e)=>{var n=Vt();return(r,a)=>s=>{t==null||t(r,a,s),n(Ooe({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function V0(t){var{tooltipEntrySettings:e}=t,n=Vt(),r=Fn(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(joe(e)):a.current!==e&&n(Noe({prev:a.current,next:e})),a.current=e)},[e,n,r]),b.useLayoutEffect(()=>()=>{a.current&&(n(Toe(a.current)),a.current=null)},[n]),null}function Wj(t){var{legendPayload:e}=t,n=Vt(),r=Fn(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(uL(e)):a.current!==e&&n(dL({prev:a.current,next:e})),a.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{a.current&&(n(fL(a.current)),a.current=null)},[n]),null}function yde(t){var{legendPayload:e}=t,n=Vt(),r=Ne(Qe),a=b.useRef(null);return b.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(uL(e)):a.current!==e&&n(dL({prev:a.current,next:e})),a.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{a.current&&(n(fL(a.current)),a.current=null)},[n]),null}var H1,vde=()=>{var[t]=b.useState(()=>bh("uid-"));return t},xde=(H1=w9.useId)!==null&&H1!==void 0?H1:vde;function Gz(t,e){var n=xde();return e||(t?"".concat(t,"-").concat(n):n)}var bde=b.createContext(void 0),$0=t=>{var{id:e,type:n,children:r}=t,a=Gz("recharts-".concat(n),e);return b.createElement(bde.Provider,{value:a},r(a))},wde={cartesianItems:[],polarItems:[]},Kz=Lr({name:"graphicalItems",initialState:wde,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Lt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Xa(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:Lt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Xa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Lt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Lt()},removePolarGraphicalItem:{reducer(t,e){var n=Xa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Lt()}}}),{addCartesianGraphicalItem:_de,replaceCartesianGraphicalItem:Ede,removeCartesianGraphicalItem:Ade,addPolarGraphicalItem:Sde,removePolarGraphicalItem:jde}=Kz.actions,Nde=Kz.reducer,Tde=t=>{var e=Vt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(_de(t)):n.current!==t&&e(Ede({prev:n.current,next:t})),n.current=t},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(e(Ade(n.current)),n.current=null)},[e]),null},Yj=b.memo(Tde);function Cde(t){var e=Vt();return b.useLayoutEffect(()=>(e(Sde(t)),()=>{e(jde(t))}),[e,t]),null}var Ide=["key"],Ode=["onMouseEnter","onClick","onMouseLeave"],kde=["id"],Pde=["id"];function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){Rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e,n){return(e=Dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dde(t){var e=Mde(t,"string");return typeof e=="symbol"?e:e+""}function Mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(null,arguments)}function B0(t,e){if(t==null)return{};var n,r,a=Lde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Lde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ude(t){var e=b.useMemo(()=>Bj(t.children,Sm),[t.children]),n=Ne(r=>Wue(r,t.id,e));return n==null?null:b.createElement(yde,{legendPayload:n})}var zde=b.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:ol(d,e),hide:f,type:h,color:l,unit:""}};return b.createElement(V0,{tooltipEntrySettings:p})}),Vde=(t,e)=>t>e?"start":t<e?"end":"middle",$de=(t,e,n)=>lr(typeof e=="function"?e(t):e,n,n*.8),Bde=(t,e,n)=>{var{top:r,left:a,width:s,height:l}=e,d=xL(s,l),f=a+lr(t.cx,s,s/2),h=r+lr(t.cy,l,l/2),p=lr(t.innerRadius,d,0),g=$de(n,t.outerRadius,d),x=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},Fde=(t,e)=>{var n=$n(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function qde(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Hde=(t,e)=>{if(b.isValidElement(t))return b.cloneElement(t,e);if(typeof t=="function")return t(e);var n=lt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=B0(e,Ide);return b.createElement(Lu,nl({},a,{type:"linear",className:n}))},Gde=(t,e,n)=>{if(b.isValidElement(t))return b.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),b.isValidElement(r)))return r;var a=lt("recharts-pie-label-text",qde(t));return b.createElement(M0,nl({},e,{alignmentBaseline:"middle",className:a}),r)};function Kde(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:l}=n;if(!r||!a||!e)return null;var d=wr(n),f=fc(a),h=fc(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((x,w)=>{var E=(x.startAngle+x.endAngle)/2,A=_n(x.cx,x.cy,x.outerRadius+p,E),S=Kt(Kt(Kt(Kt({},d),x),{},{stroke:"none"},f),{},{index:w,textAnchor:Vde(A.x,x.cx)},A),C=Kt(Kt(Kt(Kt({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:w,points:[_n(x.cx,x.cy,x.outerRadius,E),A],key:"line"});return b.createElement(Er,{zIndex:on.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},b.createElement(Yt,null,s&&Hde(s,C),Gde(a,S,vt(x,l))))});return b.createElement(Yt,{className:"recharts-pie-labels"},g)}function Wde(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?b.createElement(L0,{label:a}):b.createElement(Kde,{sectors:e,props:n,showLabels:r})}function Yde(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s}=t,l=Ne(tl),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,p=B0(a,Ode),g=Hj(d,a.dataKey),x=Gj(h),w=Kj(f,a.dataKey);return e==null||e.length===0?null:b.createElement(b.Fragment,null,e.map((E,A)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var S=String(A)===l,C=l?r:null,U=n&&S?n:C,R=Kt(Kt({},E),{},{stroke:E.stroke,tabIndex:-1,[W5]:A,[Y5]:a.dataKey});return b.createElement(Yt,nl({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},Jv(p,E,A),{onMouseEnter:g(E,A),onMouseLeave:x(E,A),onClick:w(E,A)}),b.createElement(qj,nl({option:s??U,shapeType:"sector",isActive:S},R)))}))}function Qde(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),w=Fde(d,f),E=Math.abs(w),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(V=>vt(V,h,0)!==0).length,C=(E>=360?S:S-1)*A,U=E-S*x-C,R=r.reduce((V,I)=>{var k=vt(I,h,0);return V+(Ae(k)?k:0)},0),T;if(R>0){var M;T=r.map((V,I)=>{var k=vt(V,h,0),N=vt(V,p,I),P=Bde(n,s,V),L=(Ae(k)?k:0)/R,z,$=Kt(Kt({},V),a&&a[I]&&a[I].props);I?z=M.endAngle+$n(w)*A*(k!==0?1:0):z=d;var ne=z+$n(w)*((k!==0?x:0)+L*U),me=(z+ne)/2,Y=(P.innerRadius+P.outerRadius)/2,oe=[{name:N,value:k,payload:$,dataKey:h,type:g}],H=_n(P.cx,P.cy,Y,me);return M=Kt(Kt(Kt(Kt({},n.presentationProps),{},{percent:L,cornerRadius:typeof l=="string"?parseFloat(l):l,name:N,tooltipPayload:oe,midAngle:me,middleRadius:Y,tooltipPosition:H},$),P),{},{value:k,startAngle:z,endAngle:ne,payload:$,paddingAngle:$n(w)*A}),M})}return T}function Xde(t){var{showLabels:e,sectors:n,children:r}=t,a=b.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return b.createElement(kue,{value:e?a:void 0},r)}function Zde(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=pd(e,"recharts-pie-"),w=n.current,[E,A]=b.useState(!1),S=b.useCallback(()=>{typeof g=="function"&&g(),A(!1)},[g]),C=b.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return b.createElement(Xde,{showLabels:!E,sectors:r},b.createElement(md,{animationId:x,begin:s,duration:l,isActive:a,easing:d,onAnimationStart:C,onAnimationEnd:S,key:x},U=>{var R=[],T=r&&r[0],M=T==null?void 0:T.startAngle;return r==null||r.forEach((V,I)=>{var k=w&&w[I],N=I>0?hc(V,"paddingAngle",0):0;if(k){var P=ft(k.endAngle-k.startAngle,V.endAngle-V.startAngle,U),L=Kt(Kt({},V),{},{startAngle:M+N,endAngle:M+P+N});R.push(L),M=L.endAngle}else{var{endAngle:z,startAngle:$}=V,ne=ft(0,z-$,U),me=Kt(Kt({},V),{},{startAngle:M+N,endAngle:M+ne+N});R.push(me),M=me.endAngle}}),n.current=R,b.createElement(Yt,null,b.createElement(Yde,{sectors:R,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape}))}),b.createElement(Wde,{showLabels:!E,sectors:r,props:e}),e.children)}var Jde={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ll.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:on.area};function efe(t){var{id:e}=t,n=B0(t,kde),{hide:r,className:a,rootTabIndex:s}=t,l=b.useMemo(()=>Bj(t.children,Sm),[t.children]),d=Ne(p=>Yue(p,e,l)),f=b.useRef(null),h=lt("recharts-pie",a);return r||d==null?(f.current=null,b.createElement(Yt,{tabIndex:s,className:h})):b.createElement(Er,{zIndex:t.zIndex},b.createElement(zde,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),b.createElement(Yt,{tabIndex:s,className:h},b.createElement(Zde,{props:Kt(Kt({},n),{},{sectors:d}),previousSectorsRef:f})))}function Wz(t){var e=An(t,Jde),{id:n}=e,r=B0(e,Pde),a=wr(r);return b.createElement($0,{id:n,type:"pie"},s=>b.createElement(b.Fragment,null,b.createElement(Cde,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),b.createElement(Ude,nl({},r,{id:s})),b.createElement(efe,nl({},r,{id:s}))))}Wz.displayName="Pie";var tfe=["points"];function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function G1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nfe(t,e,n){return(e=rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=afe(t,"string");return typeof e=="symbol"?e:e+""}function afe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(null,arguments)}function ife(t,e){if(t==null)return{};var n,r,a=sfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ofe(t){var{option:e,dotProps:n,className:r}=t;if(b.isValidElement(e))return b.cloneElement(e,n);if(typeof e=="function")return e(n);var a=lt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,d=ife(s,tfe);return b.createElement(Vz,sv({},d,{className:a}))}function lfe(t,e){return t==null?!1:e?!0:t.length===1}function Yz(t){var{points:e,dot:n,className:r,dotClassName:a,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=on.scatter}=t;if(!lfe(e,n))return null;var p=Fj(n),g=aZ(n),x=e.map((E,A)=>{var S,C,U=G1(G1(G1({r:3},l),g),{},{index:A,cx:(S=E.x)!==null&&S!==void 0?S:void 0,cy:(C=E.y)!==null&&C!==void 0?C:void 0,dataKey:s,value:E.value,payload:E.payload,points:e});return b.createElement(ofe,{key:"dot-".concat(A),option:n,dotProps:U,className:a})}),w={};return d&&f!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),b.createElement(Er,{zIndex:h},b.createElement(Yt,sv({className:r},w),x))}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){cfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cfe(t,e,n){return(e=ufe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ufe(t){var e=dfe(t,"string");return typeof e=="symbol"?e:e+""}function dfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ffe={xAxis:{},yAxis:{},zAxis:{}},Qz=Lr({name:"cartesianAxis",initialState:ffe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Lt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Lt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Lt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Lt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Lt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Lt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Lt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Lt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Lt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=yD(yD({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:hfe,replaceXAxis:mfe,removeXAxis:pfe,addYAxis:gfe,replaceYAxis:yfe,removeYAxis:vfe,addZAxis:rve,replaceZAxis:ave,removeZAxis:ive,updateYAxisWidth:xfe}=Qz.actions,bfe=Qz.reducer,wfe=J([In],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),_fe=J([wfe,Hs,Gs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),F0=()=>Ne(_fe),Efe=()=>Ne(ble);function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function K1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){Afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Afe(t,e,n){return(e=Sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sfe(t){var e=jfe(t,"string");return typeof e=="symbol"?e:e+""}function jfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nfe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:s,clipPath:l}=t;if(a===!1||e.x==null||e.y==null)return null;var d={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=K1(K1(K1({},d),fc(a)),pS(a)),h;return b.isValidElement(a)?h=b.cloneElement(a,f):typeof a=="function"?h=a(f):h=b.createElement(Vz,f),b.createElement(Yt,{className:"recharts-active-dot",clipPath:l},h)};function EE(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a,clipPath:s,zIndex:l=on.activeDot}=t,d=Ne(tl),f=Efe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return Pt(h)?null:b.createElement(Er,{zIndex:l},b.createElement(Nfe,{point:h,childIndex:Number(d),mainColor:n,dataKey:a,activeDot:r,clipPath:s}))}var Tfe="Invariant failed";function Cfe(t,e){throw new Error(Tfe)}var Ife=["x","y"];function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(null,arguments)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return(e=kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kfe(t){var e=Pfe(t,"string");return typeof e=="symbol"?e:e+""}function Pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rfe(t,e){if(t==null)return{};var n,r,a=Dfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Dfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mfe(t,e){var{x:n,y:r}=t,a=Rfe(t,Ife),s="".concat(n),l=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||a.height),p=parseInt(h,10),g="".concat(e.width||a.width),x=parseInt(g,10);return Uf(Uf(Uf(Uf(Uf({},e),a),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function ov(t){return b.createElement(qj,AE({shapeType:"rectangle",propTransformer:Mfe,activeClassName:"recharts-active-bar"},t))}var Lfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Ae(e))return e;var s=Ae(r)||Pt(r);return s?e(r,a):(s||Cfe(),n)}},Ufe={},Xz=Lr({name:"errorBars",initialState:Ufe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:sve,replaceErrorBar:ove,removeErrorBar:lve}=Xz.actions,zfe=Xz.reducer,Vfe=["children"];function $fe(t,e){if(t==null)return{};var n,r,a=Bfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Bfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ffe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qfe=b.createContext(Ffe);function Zz(t){var{children:e}=t,n=$fe(t,Vfe);return b.createElement(qfe.Provider,{value:n},e)}function q0(t,e){var n,r,a=Ne(h=>Ws(h,t)),s=Ne(h=>Ys(h,e)),l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Ln.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Un.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function Qj(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=F0(),{needClipX:s,needClipY:l,needClip:d}=q0(e,n);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}function Hfe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Rt(t.zIndex)?t.zIndex:e}var W1={exports:{}},Y1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD;function Gfe(){if(bD)return Y1;bD=1;var t=td();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,d=t.useDebugValue;return Y1.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function S(M){if(!C){if(C=!0,U=M,M=g(M),x!==void 0&&E.hasValue){var V=E.value;if(x(V,M))return R=V}return R=M}if(V=R,n(U,M))return V;var I=g(M);return x!==void 0&&x(V,I)?(U=M,V):(U=M,R=I)}var C=!1,U,R,T=p===void 0?null:p;return[function(){return S(h())},T===null?void 0:function(){return S(T())}]},[h,p,g,x]);var A=r(f,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},Y1}var wD;function Kfe(){return wD||(wD=1,W1.exports=Gfe()),W1.exports}Kfe();function Wfe(t){t()}function Yfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Wfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var _D={notify(){},get:()=>[]};function Qfe(t,e){let n,r=_D,a=0,s=!1;function l(A){p();const S=r.subscribe(A);let C=!1;return()=>{C||(C=!0,S(),g())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){a++,n||(n=t.subscribe(f),r=Yfe())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=_D)}function x(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const E={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>r};return E}var Xfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zfe=Xfe(),Jfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ehe=Jfe(),the=()=>Zfe||ehe?b.useLayoutEffect:b.useEffect,nhe=the();function ED(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function rhe(t,e){if(ED(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!ED(t[n[a]],e[n[a]]))return!1;return!0}var Q1=Symbol.for("react-redux-context"),X1=typeof globalThis<"u"?globalThis:{};function ahe(){if(!b.createContext)return{};const t=X1[Q1]??(X1[Q1]=new Map);let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var ihe=ahe();function she(t){const{children:e,context:n,serverState:r,store:a}=t,s=b.useMemo(()=>{const f=Qfe(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),l=b.useMemo(()=>a.getState(),[a]);nhe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=n||ihe;return b.createElement(d.Provider,{value:s},e)}var ohe=she,lhe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function che(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function jm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(lhe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!rhe(t[r],e[r]))return!1}else if(!che(t[r],e[r]))return!1;return!0}var uhe=["onMouseEnter","onMouseLeave","onClick"],dhe=["value","background","tooltipPosition"],fhe=["id"],hhe=["onMouseEnter","onClick","onMouseLeave"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(null,arguments)}function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mhe(t,e,n){return(e=phe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=ghe(t,"string");return typeof e=="symbol"?e:e+""}function ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lv(t,e){if(t==null)return{};var n,r,a=yhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vhe=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:ol(n,e),payload:t}]},xhe=b.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:l,unit:d,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:ol(s,e),hide:l,type:f,color:a,unit:d}};return b.createElement(V0,{tooltipEntrySettings:h})});function bhe(t){var e=Ne(tl),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=lv(s,uhe),p=Hj(l,r),g=Gj(d),x=Kj(f,r);if(!a||n==null)return null;var w=fc(a);return b.createElement(Er,{zIndex:Hfe(a,on.barBackground)},n.map((E,A)=>{var{value:S,background:C,tooltipPosition:U}=E,R=lv(E,dhe);if(!C)return null;var T=p(E,A),M=g(E,A),V=x(E,A),I=pr(pr(pr(pr(pr({option:a,isActive:String(A)===e},R),{},{fill:"#eee"},C),w),Jv(h,E,A)),{},{onMouseEnter:T,onMouseLeave:M,onClick:V,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return b.createElement(ov,Bs({key:"background-bar-".concat(A)},I))}))}function whe(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return pr(pr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return b.createElement(zj,{value:e?a:void 0},n)}function _he(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:l}=t,d=Ne(tl),f=Ne(yz),h=n&&String(s)===d&&(f==null||l===f),p=h?n:e;return h?b.createElement(Er,{zIndex:on.activeBar},b.createElement(ov,Bs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:l}))):b.createElement(ov,Bs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function Ehe(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return b.createElement(ov,Bs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function Ahe(t){var e,{data:n,props:r}=t,a=(e=wr(r))!==null&&e!==void 0?e:{},{id:s}=a,l=lv(a,fhe),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,w=lv(r,hhe),E=Hj(p,f),A=Gj(x),S=Kj(g,f);return n?b.createElement(b.Fragment,null,n.map((C,U)=>b.createElement(Yt,Bs({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(U),className:"recharts-bar-rectangle"},Jv(w,C,U),{onMouseEnter:E(C,U),onMouseLeave:A(C,U),onClick:S(C,U)}),h?b.createElement(_he,{shape:d,activeBar:h,baseProps:l,entry:C,index:U,dataKey:f}):b.createElement(Ehe,{shape:d,baseProps:l,entry:C,index:U,dataKey:f})))):null}function She(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=pd(e,"recharts-bar-"),[w,E]=b.useState(!1),A=!w,S=b.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),C=b.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return b.createElement(whe,{showLabels:A,rects:r},b.createElement(md,{animationId:x,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:S,onAnimationStart:C,key:x},U=>{var R=U===1?r:r==null?void 0:r.map((T,M)=>{var V=g&&g[M];if(V)return pr(pr({},T),{},{x:ft(V.x,T.x,U),y:ft(V.y,T.y,U),width:ft(V.width,T.width,U),height:ft(V.height,T.height,U)});if(a==="horizontal"){var I=ft(0,T.height,U),k=ft(T.stackedBarStart,T.y,U);return pr(pr({},T),{},{y:k,height:I})}var N=ft(0,T.width,U),P=ft(T.stackedBarStart,T.x,U);return pr(pr({},T),{},{width:N,x:P})});return U>0&&(n.current=R??null),R==null?null:b.createElement(Yt,null,b.createElement(Ahe,{props:e,data:R}))}),b.createElement(L0,{label:e.label}),e.children)}function jhe(t){var e=b.useRef(null);return b.createElement(She,{previousRectanglesRef:e,props:t})}var Jz=0,Nhe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:vt(t,e)}};class The extends b.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=lt("recharts-bar",a),g=h;return b.createElement(Yt,{className:p,id:h},d&&b.createElement("defs",null,b.createElement(Qj,{clipPathId:g,xAxisId:s,yAxisId:l})),b.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},b.createElement(bhe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),b.createElement(jhe,this.props)))}}var Che={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Jz,xAxisId:0,yAxisId:0,zIndex:on.bar};function Ihe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=q0(e,n),x=Ac(),w=Fn(),E=Bj(t.children,Sm),A=Ne(U=>ame(U,e,n,w,t.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var S,C=A==null?void 0:A[0];return C==null||C.height==null||C.width==null?S=0:S=x==="vertical"?C.height/2:C.width/2,b.createElement(Zz,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:Nhe,errorBarOffset:S},b.createElement(The,Bs({},t,{layout:x,needClip:g,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Ohe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:w,parentViewBox:E,dataStartIndex:A}=t,S=e==="horizontal"?d:l,C=p?S.scale.domain():null,U=gte({numericAxis:S}),R=S.scale(U);return g.map((T,M)=>{var V,I,k,N,P,L;p?V=dte(p[M+A],C):(V=vt(T,n),Array.isArray(V)||(V=[U,V]));var z=Lfe(r,Jz)(V[1],M);if(e==="horizontal"){var $,[ne,me]=[d.scale(V[0]),d.scale(V[1])];I=Fk({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:T,index:M}),k=($=me??ne)!==null&&$!==void 0?$:void 0,N=a.size;var Y=ne-me;if(P=Ta(Y)?0:Y,L={x:I,y:x.top,width:N,height:x.height},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var oe=$n(P||z)*(Math.abs(z)-Math.abs(P));k-=oe,P+=oe}}else{var[H,K]=[l.scale(V[0]),l.scale(V[1])];if(I=H,k=Fk({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:T,index:M}),N=K-H,P=a.size,L={x:x.left,y:k,width:x.width,height:P},Math.abs(z)>0&&Math.abs(N)<Math.abs(z)){var ae=$n(N||z)*(Math.abs(z)-Math.abs(N));N+=ae}}if(I==null||k==null||N==null||P==null)return null;var q=pr(pr({},T),{},{stackedBarStart:R,x:I,y:k,width:N,height:P,value:p?V:V[1],payload:T,background:L,tooltipPosition:{x:I+N/2,y:k+P/2},parentViewBox:E},w&&w[M]&&w[M].props);return q}).filter(Boolean)}function khe(t){var e=An(t,Che),n=Fn();return b.createElement($0,{id:e.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(Wj,{legendPayload:vhe(e)}),b.createElement(xhe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),b.createElement(Yj,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:G5(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),b.createElement(Er,{zIndex:e.zIndex},b.createElement(Ihe,Bs({},e,{id:r})))))}var cv=b.memo(khe,jm);cv.displayName="Bar";function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){Phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Phe(t,e,n){return(e=Rhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rhe(t){var e=Dhe(t,"string");return typeof e=="symbol"?e:e+""}function Dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mhe=(t,e)=>e,Lhe=(t,e,n)=>n,Uhe=(t,e,n,r)=>r,zhe=(t,e,n,r,a)=>a,Nm=J([vm,zhe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Vhe=J([Nm],t=>t==null?void 0:t.maxBarSize),$he=(t,e,n,r,a,s)=>s,jD=(t,e,n)=>{var r=n??t;if(!Pt(r))return lr(r,e,0)},Bhe=J([Qe,vm,Mhe,Lhe,Uhe],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Fhe=(t,e,n,r)=>{var a=Qe(t);return a==="horizontal"?Ph(t,"yAxis",n,r):Ph(t,"xAxis",e,r)},qhe=(t,e,n)=>{var r=Qe(t);return r==="horizontal"?bR(t,"xAxis",e):bR(t,"yAxis",n)},Hhe=(t,e,n)=>{var r={},a=t.filter(N0),s=t.filter(h=>h.stackId==null),l=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(l).map(h=>{var[p,g]=h,x=g.map(E=>E.dataKey),w=jD(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=jD(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},Ghe=J([Bhe,vse,qhe],Hhe),Khe=(t,e,n,r,a)=>{var s,l,d=Nm(t,e,n,r,a);if(d!=null){var f=Qe(t),h=vU(t),{maxBarSize:p}=d,g=Pt(p)?h:p,x,w;return f==="horizontal"?(x=Hi(t,"xAxis",e,r),w=qi(t,"xAxis",e,r)):(x=Hi(t,"yAxis",n,r),w=qi(t,"yAxis",n,r)),(s=(l=Jo(x,w,!0))!==null&&l!==void 0?l:g)!==null&&s!==void 0?s:0}},e8=(t,e,n,r)=>{var a=Qe(t),s,l;return a==="horizontal"?(s=Hi(t,"xAxis",e,r),l=qi(t,"xAxis",e,r)):(s=Hi(t,"yAxis",n,r),l=qi(t,"yAxis",n,r)),Jo(s,l)};function Whe(t,e,n,r,a){var s=r.length;if(!(s<1)){var l=lr(t,n,0,!0),d,f=[];if(Rt(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((C,U)=>C+(U.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var x=(n-g)/2>>0,w={offset:x-l,size:0};d=r.reduce((C,U)=>{var R,T={stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:w.offset+w.size+l,size:h?p:(R=U.barSize)!==null&&R!==void 0?R:0}},M=[...C,T];return w=M[M.length-1].position,M},f)}else{var E=lr(e,n,0,!0);n-2*E-(s-1)*l<=0&&(l=0);var A=(n-2*E-(s-1)*l)/s;A>1&&(A>>=0);var S=Rt(a)?Math.min(A,a):A;d=r.reduce((C,U,R)=>[...C,{stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:E+(A+l)*R+(A-S)/2,size:S}}],f)}return d}}var Yhe=(t,e,n,r,a,s,l)=>{var d=Pt(l)?e:l,f=Whe(n,r,a!==s?a:s,t,d);return a!==s&&f!=null&&(f=f.map(h=>Tg(Tg({},h),{},{position:Tg(Tg({},h.position),{},{offset:h.position.offset-a/2})}))),f},Qhe=J([Ghe,vU,yse,xU,Khe,e8,Vhe],Yhe),Xhe=(t,e,n,r)=>Hi(t,"xAxis",e,r),Zhe=(t,e,n,r)=>Hi(t,"yAxis",n,r),Jhe=(t,e,n,r)=>qi(t,"xAxis",e,r),eme=(t,e,n,r)=>qi(t,"yAxis",n,r),tme=J([Qhe,Nm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),nme=(t,e)=>{var n=j0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===n)}}}},rme=J([Fhe,Nm],nme),ame=J([In,jS,Xhe,Zhe,Jhe,eme,tme,Qe,mm,e8,rme,Nm,$he],(t,e,n,r,a,s,l,d,f,h,p,g,x)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:A}=f;if(!(g==null||l==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:S}=g,C;if(S!=null&&S.length>0?C=S:C=w==null?void 0:w.slice(E,A+1),C!=null)return Ohe({layout:d,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:C,offset:t,cells:x,dataStartIndex:E})}}),t8=t=>{var{chartData:e}=t,n=Vt(),r=Fn();return b.useEffect(()=>r?()=>{}:(n(PR(e)),()=>{n(PR(void 0))}),[e,n,r]),null},ND={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},n8=Lr({name:"brush",initialState:ND,reducers:{setBrushSettings(t,e){return e.payload==null?ND:e.payload}}}),{setBrushSettings:cve}=n8.actions,ime=n8.reducer;function sme(t,e,n){return(e=ome(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ome(t){var e=lme(t,"string");return typeof e=="symbol"?e:e+""}function lme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xj{static create(e){return new Xj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}sme(Xj,"EPS",1e-4);function cme(t){return(t%180+180)%180}var ume=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=cme(a),l=s*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},dme={dots:[],areas:[],lines:[]},r8=Lr({name:"referenceElements",initialState:dme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Xa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Xa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Xa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:uve,removeDot:dve,addArea:fve,removeArea:hve,addLine:mve,removeLine:pve}=r8.actions,fme=r8.reducer,hme=b.createContext(void 0),mme=t=>{var{children:e}=t,[n]=b.useState("".concat(bh("recharts"),"-clip")),r=F0();if(r==null)return null;var{x:a,y:s,width:l,height:d}=r;return b.createElement(hme.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:a,y:s,height:d,width:l}))),e)};function a8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function pme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ume(r,n)}function gme(t,e,n){var r=n==="width",{x:a,y:s,width:l,height:d}=t;return e===1?{start:r?a:s,end:r?a+l:s+d}:{start:r?a+l:s+d,end:r?a:s}}function uv(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function yme(t,e){return a8(t,e+1)}function vme(t,e,n,r,a){for(var s=(r||[]).slice(),{start:l,end:d}=e,f=0,h=1,p=l,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:a8(r,h)};var A=f,S,C=()=>(S===void 0&&(S=n(E,A)),S),U=E.coordinate,R=f===0||uv(t,U,C,p,d);R||(f=0,p=l,h+=1),R&&(p=U+t*(C()/2+a),f+=h)},x;h<=s.length;)if(x=g(),x)return x.v;return[]}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e,n){return(e=bme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bme(t){var e=wme(t,"string");return typeof e=="symbol"?e:e+""}function wme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _me(t,e,n,r,a){for(var s=(r||[]).slice(),l=s.length,{start:d}=e,{end:f}=e,h=function(x){var w=s[x],E,A=()=>(E===void 0&&(E=n(w,x)),E);if(x===l-1){var S=t*(w.coordinate+t*A()/2-f);s[x]=w=rr(rr({},w),{},{tickCoord:S>0?w.coordinate-S*t:w.coordinate})}else s[x]=w=rr(rr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var C=uv(t,w.tickCoord,A,d,f);C&&(f=w.tickCoord-t*(A()/2+a),s[x]=rr(rr({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Eme(t,e,n,r,a,s){var l=(r||[]).slice(),d=l.length,{start:f,end:h}=e;if(s){var p=r[d-1],g=n(p,d-1),x=t*(p.coordinate+t*g/2-h);if(l[d-1]=p=rr(rr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var w=uv(t,p.tickCoord,()=>g,f,h);w&&(h=p.tickCoord-t*(g/2+a),l[d-1]=rr(rr({},p),{},{isShow:!0}))}}for(var E=s?d-1:d,A=function(U){var R=l[U],T,M=()=>(T===void 0&&(T=n(R,U)),T);if(U===0){var V=t*(R.coordinate-t*M()/2-f);l[U]=R=rr(rr({},R),{},{tickCoord:V<0?R.coordinate-V*t:R.coordinate})}else l[U]=R=rr(rr({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var I=uv(t,R.tickCoord,M,f,h);I&&(f=R.tickCoord+t*(M()/2+a),l[U]=rr(rr({},R),{},{isShow:!0}))}},S=0;S<E;S++)A(S);return l}function Zj(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(Ae(f)||ll.isSsr){var x;return(x=yme(a,Ae(f)?f:0))!==null&&x!==void 0?x:[]}var w=[],E=d==="top"||d==="bottom"?"width":"height",A=p&&E==="width"?ih(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(R,T)=>{var M=typeof h=="function"?h(R.value,T):R.value;return E==="width"?pme(ih(M,{fontSize:e,letterSpacing:n}),A,g):ih(M,{fontSize:e,letterSpacing:n})[E]},C=a.length>=2?$n(a[1].coordinate-a[0].coordinate):1,U=gme(s,C,E);return f==="equidistantPreserveStart"?vme(C,U,S,a,l):(f==="preserveStart"||f==="preserveStartEnd"?w=Eme(C,U,S,a,l,f==="preserveStartEnd"):w=_me(C,U,S,a,l),w.filter(R=>R.isShow))}var Ame=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=a+s,h=l+f+d+(n?r:0);return Math.round(h)}return 0},Sme=["axisLine","width","height","className","hide","ticks","axisType"];function jme(t,e){if(t==null)return{};var n,r,a=Nme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Nme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(null,arguments)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){Tme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tme(t,e,n){return(e=Cme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cme(t){var e=Ime(t,"string");return typeof e=="symbol"?e:e+""}function Ime(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:on.axis};function Ome(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=vn(vn(vn({},f),wr(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=vn(vn({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=vn(vn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return b.createElement("line",yc({},h,{className:lt("recharts-cartesian-axis-line",hc(d,"className"))}))}function kme(t,e,n,r,a,s,l,d,f){var h,p,g,x,w,E,A=d?-1:1,S=t.tickSize||l,C=Ae(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,x=n+ +!d*a,g=x-A*S,E=g-A*f,w=C;break;case"left":g=x=t.coordinate,p=e+ +!d*r,h=p-A*S,w=h-A*f,E=C;break;case"right":g=x=t.coordinate,p=e+ +d*r,h=p+A*S,w=h+A*f,E=C;break;default:h=p=t.coordinate,x=n+ +d*a,g=x+A*S,E=g+A*f,w=C;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:w,y:E}}}function Pme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Rme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Dme(t){var{option:e,tickProps:n,value:r}=t,a,s=lt(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))a=b.cloneElement(e,vn(vn({},n),{},{className:s}));else if(typeof e=="function")a=e(vn(vn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=lt(l,e==null?void 0:e.className)),a=b.createElement(M0,yc({},n,{className:l}),r)}return a}var Mme=b.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:w,width:E,height:A,tickSize:S,tickMargin:C,fontSize:U,letterSpacing:R,getTicksConfig:T,events:M,axisType:V}=t,I=Zj(vn(vn({},T),{},{ticks:n}),U,R),k=Pme(p,g),N=Rme(p,g),P=wr(T),L=fc(r),z={};typeof a=="object"&&(z=a);var $=vn(vn({},P),{},{fill:"none"},z),ne=I.map(oe=>vn({entry:oe},kme(oe,x,w,E,A,p,S,g,C))),me=ne.map(oe=>{var{entry:H,line:K}=oe;return b.createElement(Yt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},a&&b.createElement("line",yc({},$,K,{className:lt("recharts-cartesian-axis-tick-line",hc(a,"className"))})))}),Y=ne.map((oe,H)=>{var{entry:K,tick:ae}=oe,q=vn(vn(vn(vn({textAnchor:k,verticalAnchor:N},P),{},{stroke:"none",fill:s},L),ae),{},{index:H,payload:K,visibleTicksCount:I.length,tickFormatter:l,padding:f},h);return b.createElement(Yt,yc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Jv(M,K,H)),r&&b.createElement(Dme,{option:r,tickProps:q,value:"".concat(typeof l=="function"?l(K.value,H):K.value).concat(d||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},Y.length>0&&b.createElement(Er,{zIndex:on.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:e},Y)),me.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},me))}),Lme=b.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:l,ticks:d,axisType:f}=t,h=jme(t,Sme),[p,g]=b.useState(""),[x,w]=b.useState(""),E=b.useRef(null);b.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Ame({ticks:E.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=b.useCallback(S=>{if(S){var C=S.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=C;var U=C[0];if(U){var R=window.getComputedStyle(U),T=R.fontSize,M=R.letterSpacing;(T!==p||M!==x)&&(g(T),w(M))}}},[p,x]);return l||r!=null&&r<=0||a!=null&&a<=0?null:b.createElement(Er,{zIndex:t.zIndex},b.createElement(Yt,{className:lt("recharts-cartesian-axis",s)},b.createElement(Ome,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:wr(t)}),b.createElement(Mme,{ref:A,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),b.createElement(due,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},b.createElement(wue,{label:t.label,labelRef:t.labelRef}),t.children)))}),Jj=b.forwardRef((t,e)=>{var n=An(t,Cs);return b.createElement(Lme,yc({},n,{ref:e}))});Jj.displayName="CartesianAxis";var Ume=["x1","y1","x2","y2","key"],zme=["offset"],Vme=["xAxisId","yAxisId"],$me=["xAxisId","yAxisId"];function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){Bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bme(t,e,n){return(e=Fme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fme(t){var e=qme(t,"string");return typeof e=="symbol"?e:e+""}function qme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(null,arguments)}function dv(t,e){if(t==null)return{};var n,r,a=Hme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Hme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:l,ry:d}=t;return b.createElement("rect",{x:r,y:a,ry:d,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function i8(t){var{option:e,lineItemProps:n}=t,r;if(b.isValidElement(e))r=b.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:s,y1:l,x2:d,y2:f,key:h}=n,p=dv(n,Ume),g=(a=wr(p))!==null&&a!==void 0?a:{},{offset:x}=g,w=dv(g,zme);r=b.createElement("line",Wl({},w,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return r}function Kme(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,d=dv(t,Vme),f=a.map((h,p)=>{var g=sr(sr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return b.createElement(i8,{key:"line-".concat(p),option:r,lineItemProps:g})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Wme(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,d=dv(t,$me),f=a.map((h,p)=>{var g=sr(sr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return b.createElement(i8,{option:r,lineItemProps:g,key:"line-".concat(p)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Yme(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+l-g:h[x+1]-g;if(E<=0)return null;var A=x%e.length;return b.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:E,width:s,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Qme(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:l,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+l-g:h[x+1]-g;if(E<=0)return null;var A=x%n.length;return b.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:E,height:d,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Xme=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return q5(Zj(sr(sr(sr({},Cs),n),{},{ticks:H5(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},Zme=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return q5(Zj(sr(sr(sr({},Cs),n),{},{ticks:H5(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},Jme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:on.grid};function Yf(t){var e=tL(),n=nL(),r=eL(),a=sr(sr({},An(t,Jme)),{},{x:Ae(t.x)?t.x:r.left,y:Ae(t.y)?t.y:r.top,width:Ae(t.width)?t.width:r.width,height:Ae(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:w}=a,E=Fn(),A=Ne(N=>wR(N,"xAxis",s,E)),S=Ne(N=>wR(N,"yAxis",l,E));if(!Bi(h)||!Bi(p)||!Ae(d)||!Ae(f))return null;var C=a.verticalCoordinatesGenerator||Xme,U=a.horizontalCoordinatesGenerator||Zme,{horizontalPoints:R,verticalPoints:T}=a;if((!R||!R.length)&&typeof U=="function"){var M=x&&x.length,V=U({yAxis:S?sr(sr({},S),{},{ticks:M?x:S.ticks}):void 0,width:e??h,height:n??p,offset:r},M?!0:g);Dy(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(R=V)}if((!T||!T.length)&&typeof C=="function"){var I=w&&w.length,k=C({xAxis:A?sr(sr({},A),{},{ticks:I?w:A.ticks}):void 0,width:e??h,height:n??p,offset:r},I?!0:g);Dy(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(T=k)}return b.createElement(Er,{zIndex:a.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Gme,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),b.createElement(Yme,Wl({},a,{horizontalPoints:R})),b.createElement(Qme,Wl({},a,{verticalPoints:T})),b.createElement(Kme,Wl({},a,{offset:r,horizontalPoints:R,xAxis:A,yAxis:S})),b.createElement(Wme,Wl({},a,{offset:r,verticalPoints:T,xAxis:A,yAxis:S}))))}Yf.displayName="CartesianGrid";var s8=(t,e,n,r)=>Hi(t,"xAxis",e,r),o8=(t,e,n,r)=>qi(t,"xAxis",e,r),l8=(t,e,n,r)=>Hi(t,"yAxis",n,r),c8=(t,e,n,r)=>qi(t,"yAxis",n,r),epe=J([Qe,s8,l8,o8,c8],(t,e,n,r,a)=>Xi(t,"xAxis")?Jo(e,r,!1):Jo(n,a,!1)),tpe=(t,e,n,r,a)=>a;function npe(t){return t.type==="line"}var rpe=J([vm,tpe],(t,e)=>t.filter(npe).find(n=>n.id===e)),ape=J([Qe,s8,l8,o8,c8,rpe,epe,mm],(t,e,n,r,a,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:x}=s,w;if(x!=null&&x.length>0?w=x:w=f==null?void 0:f.slice(h,p+1),w!=null)return Ape({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:w})}});function u8(t){var e=fc(t),n=3,r=2;if(e!=null){var{r:a,strokeWidth:s}=e,l=Number(a),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(d)||d<0)&&(d=r),{r:l,strokeWidth:d}}return{r:n,strokeWidth:r}}var ipe=["id"],spe=["type","layout","connectNulls","needClip","shape"],ope=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(null,arguments)}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e,n){return(e=cpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cpe(t){var e=upe(t,"string");return typeof e=="symbol"?e:e+""}function upe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eN(t,e){if(t==null)return{};var n,r,a=dpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function dpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fpe=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:ol(n,e),payload:t}]},hpe=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:ol(l,e),hide:d,type:h,color:r,unit:f}};return b.createElement(V0,{tooltipEntrySettings:p})}),d8=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function mpe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var ppe=(t,e,n)=>{var r=n.reduce((g,x)=>g+x);if(!r)return d8(e,t);for(var a=Math.floor(t/r),s=t%r,l=e-t,d=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>s){d=[...n.slice(0,f),s-h];break}var p=d.length%2===0?[0,l]:[l];return[...mpe(n,a),...d,...p].map(g=>"".concat(g,"px")).join(", ")};function gpe(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:s,needClip:l}=r,{id:d}=r,f=eN(r,ipe),h=wr(f);return b.createElement(Yz,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function ype(t){var{showLabels:e,children:n,points:r}=t,a=b.useMemo(()=>r==null?void 0:r.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ji(ji({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(zj,{value:e?a:void 0},n)}function kD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:s}=t,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=eN(s,spe),x=ji(ji({},ur(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:d,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return b.createElement(b.Fragment,null,(r==null?void 0:r.length)>1&&b.createElement(qj,Dh({shapeType:"curve",option:p},x,{pathRef:n})),b.createElement(gpe,{points:r,clipPathId:e,props:s}))}function vpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function xpe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:x,width:w,height:E,onAnimationEnd:A,onAnimationStart:S}=n,C=a.current,U=pd(l,"recharts-line-"),R=b.useRef(U),[T,M]=b.useState(!1),V=!T,I=b.useCallback(()=>{typeof A=="function"&&A(),M(!1)},[A]),k=b.useCallback(()=>{typeof S=="function"&&S(),M(!0)},[S]),N=vpe(r.current),P=b.useRef(0);R.current!==U&&(P.current=s.current,R.current=U);var L=P.current;return b.createElement(ype,{points:l,showLabels:V},n.children,b.createElement(md,{animationId:U,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:I,onAnimationStart:k,key:U},z=>{var $=ft(L,N+L,z),ne=Math.min($,N),me;if(f)if(d){var Y="".concat(d).split(/[,\s]+/gim).map(K=>parseFloat(K));me=ppe(ne,N,Y)}else me=d8(N,ne);else me=d==null?void 0:String(d);if(z>0&&N>0&&(a.current=l,s.current=Math.max(s.current,ne)),C){var oe=C.length/l.length,H=z===1?l:l.map((K,ae)=>{var q=Math.floor(ae*oe);if(C[q]){var re=C[q];return ji(ji({},K),{},{x:ft(re.x,K.x,z),y:ft(re.y,K.y,z)})}return x?ji(ji({},K),{},{x:ft(w*2,K.x,z),y:ft(E/2,K.y,z)}):ji(ji({},K),{},{x:K.x,y:K.y})});return a.current=H,b.createElement(kD,{props:n,points:H,clipPathId:e,pathRef:r,strokeDasharray:me})}return b.createElement(kD,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:me})}),b.createElement(L0,{label:n.label}))}function bpe(t){var{clipPathId:e,props:n}=t,r=b.useRef(null),a=b.useRef(0),s=b.useRef(null);return b.createElement(xpe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:s})}var wpe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:vt(t.payload,e)}};class _pe extends b.Component{render(){var{hide:e,dot:n,points:r,className:a,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:g,needClip:x,zIndex:w}=this.props;if(e)return null;var E=lt("recharts-line",a),A=g,{r:S,strokeWidth:C}=u8(n),U=Fj(n),R=S*2+C,T=x?"url(#clipPath-".concat(U?"":"dots-").concat(A,")"):void 0;return b.createElement(Er,{zIndex:w},b.createElement(Yt,{className:E},x&&b.createElement("defs",null,b.createElement(Qj,{clipPathId:A,xAxisId:s,yAxisId:l}),!U&&b.createElement("clipPath",{id:"clipPath-dots-".concat(A)},b.createElement("rect",{x:f-R/2,y:d-R/2,width:h+R,height:p+R}))),b.createElement(Zz,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:wpe,errorBarOffset:0},b.createElement(bpe,{props:this.props,clipPathId:A}))),b.createElement(EE,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var f8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:on.line,type:"linear"};function Epe(t){var e=An(t,f8),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:x,xAxisId:w,yAxisId:E,id:A}=e,S=eN(e,ope),{needClip:C}=q0(w,E),U=F0(),R=Ac(),T=Fn(),M=Ne(P=>ape(P,w,E,T,A));if(R!=="horizontal"&&R!=="vertical"||M==null||U==null)return null;var{height:V,width:I,x:k,y:N}=U;return b.createElement(_pe,Dh({},S,{id:A,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:x,xAxisId:w,yAxisId:E,points:M,layout:R,height:V,width:I,left:k,top:N,needClip:C}))}function Ape(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=t;return f.map((h,p)=>{var g=vt(h,l);if(e==="horizontal"){var x=Ry({axis:n,ticks:a,bandSize:d,entry:h,index:p}),w=Pt(g)?null:r.scale(g);return{x,y:w,value:g,payload:h}}var E=Pt(g)?null:n.scale(g),A=Ry({axis:r,ticks:s,bandSize:d,entry:h,index:p});return E==null||A==null?null:{x:E,y:A,value:g,payload:h}}).filter(Boolean)}function Spe(t){var e=An(t,f8),n=Fn();return b.createElement($0,{id:e.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(Wj,{legendPayload:fpe(e)}),b.createElement(hpe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),b.createElement(Yj,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),b.createElement(Epe,Dh({},e,{id:r}))))}var h8=b.memo(Spe,jm);h8.displayName="Line";var m8=(t,e,n,r)=>Hi(t,"xAxis",e,r),p8=(t,e,n,r)=>qi(t,"xAxis",e,r),g8=(t,e,n,r)=>Hi(t,"yAxis",n,r),y8=(t,e,n,r)=>qi(t,"yAxis",n,r),jpe=J([Qe,m8,g8,p8,y8],(t,e,n,r,a)=>Xi(t,"xAxis")?Jo(e,r,!1):Jo(n,a,!1)),Npe=(t,e,n,r,a)=>a,v8=J([vm,Npe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),Tpe=(t,e,n,r,a)=>{var s,l=v8(t,e,n,r,a);if(l!=null){var d=Qe(t),f=Xi(d,"xAxis"),h;if(f?h=Ph(t,"yAxis",n,r):h=Ph(t,"xAxis",e,r),h!=null){var{stackId:p}=l,g=j0(l);if(!(p==null||g==null)){var x=(s=h[p])===null||s===void 0?void 0:s.stackedData;return x==null?void 0:x.find(w=>w.key===g)}}}},Cpe=J([Qe,m8,g8,p8,y8,Tpe,mm,jpe,v8,xse],(t,e,n,r,a,s,l,d,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:x}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||a==null||r.length===0||a.length===0||d==null)){var{data:w}=f,E;if(w&&w.length>0?E=w:E=p==null?void 0:p.slice(g,x+1),E!=null)return Wpe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:g,areaSettings:f,stackedData:s,displayedData:E,chartBaseValue:h,bandSize:d})}}),Ipe=["id"],Ope=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(null,arguments)}function x8(t,e){if(t==null)return{};var n,r,a=kpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){Ppe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e,n){return(e=Rpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rpe(t){var e=Dpe(t,"string");return typeof e=="symbol"?e:e+""}function Dpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fv(t,e){return t&&t!=="none"?t:e}var Mpe=t=>{var{dataKey:e,name:n,stroke:r,fill:a,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:fv(r,a),value:ol(n,e),payload:t}]},Lpe=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:ol(l,e),hide:d,type:h,color:fv(r,s),unit:f}};return b.createElement(V0,{tooltipEntrySettings:p})});function Upe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:a,dot:s,dataKey:l}=r,d=wr(r);return b.createElement(Yz,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:d,needClip:a,clipPathId:e})}function zpe(t){var{showLabels:e,children:n,points:r}=t,a=r.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Tu(Tu({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return b.createElement(zj,{value:e?a:void 0},n)}function RD(t){var{points:e,baseLine:n,needClip:r,clipPathId:a,props:s}=t,{layout:l,type:d,stroke:f,connectNulls:h,isRange:p}=s,{id:g}=s,x=x8(s,Ipe),w=wr(x),E=ur(x);return b.createElement(b.Fragment,null,(e==null?void 0:e.length)>1&&b.createElement(Yt,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},b.createElement(Lu,tc({},E,{id:g,points:e,connectNulls:h,type:d,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&b.createElement(Lu,tc({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&b.createElement(Lu,tc({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:n}))),b.createElement(Upe,{points:e,props:x,clipPathId:a}))}function Vpe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,s=r[0].y,l=r[r.length-1].y;if(!Rt(s)||!Rt(l))return null;var d=e*Math.abs(s-l),f=Math.max(...r.map(h=>h.x||0));return Ae(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.x||0),f)),Ae(f)?b.createElement("rect",{x:0,y:s<l?s:s-d,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}function $pe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,s=r[0].x,l=r[r.length-1].x;if(!Rt(s)||!Rt(l))return null;var d=e*Math.abs(s-l),f=Math.max(...r.map(h=>h.y||0));return Ae(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.y||0),f)),Ae(f)?b.createElement("rect",{x:s<l?s:s-d,y:0,width:d,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function Bpe(t){var{alpha:e,layout:n,points:r,baseLine:a,strokeWidth:s}=t;return n==="vertical"?b.createElement(Vpe,{alpha:e,points:r,baseLine:a,strokeWidth:s}):b.createElement($pe,{alpha:e,points:r,baseLine:a,strokeWidth:s})}function Fpe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s}=t,{points:l,baseLine:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:x,onAnimationEnd:w}=r,E=b.useMemo(()=>({points:l,baseLine:d}),[l,d]),A=pd(E,"recharts-area-"),S=Xte(),[C,U]=b.useState(!1),R=!C,T=b.useCallback(()=>{typeof w=="function"&&w(),U(!1)},[w]),M=b.useCallback(()=>{typeof x=="function"&&x(),U(!0)},[x]);if(S==null)return null;var V=a.current,I=s.current;return b.createElement(zpe,{showLabels:R,points:l},r.children,b.createElement(md,{animationId:A,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:T,onAnimationStart:M,key:A},k=>{if(V){var N=V.length/l.length,P=k===1?l:l.map((z,$)=>{var ne=Math.floor($*N);if(V[ne]){var me=V[ne];return Tu(Tu({},z),{},{x:ft(me.x,z.x,k),y:ft(me.y,z.y,k)})}return z}),L;return Ae(d)?L=ft(I,d,k):Pt(d)||Ta(d)?L=ft(I,0,k):L=d.map((z,$)=>{var ne=Math.floor($*N);if(Array.isArray(I)&&I[ne]){var me=I[ne];return Tu(Tu({},z),{},{x:ft(me.x,z.x,k),y:ft(me.y,z.y,k)})}return z}),k>0&&(a.current=P,s.current=L),b.createElement(RD,{points:P,baseLine:L,needClip:e,clipPathId:n,props:r})}return k>0&&(a.current=l,s.current=d),b.createElement(Yt,null,f&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(Bpe,{alpha:k,points:l,baseLine:d,layout:S,strokeWidth:r.strokeWidth}))),b.createElement(Yt,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(RD,{points:l,baseLine:d,needClip:e,clipPathId:n,props:r})))}),b.createElement(L0,{label:r.label}))}function qpe(t){var{needClip:e,clipPathId:n,props:r}=t,a=b.useRef(null),s=b.useRef();return b.createElement(Fpe,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s})}class Hpe extends b.PureComponent{render(){var{hide:e,dot:n,points:r,className:a,top:s,left:l,needClip:d,xAxisId:f,yAxisId:h,width:p,height:g,id:x,baseLine:w,zIndex:E}=this.props;if(e)return null;var A=lt("recharts-area",a),S=x,{r:C,strokeWidth:U}=u8(n),R=Fj(n),T=C*2+U,M=d?"url(#clipPath-".concat(R?"":"dots-").concat(S,")"):void 0;return b.createElement(Er,{zIndex:E},b.createElement(Yt,{className:A},d&&b.createElement("defs",null,b.createElement(Qj,{clipPathId:S,xAxisId:f,yAxisId:h}),!R&&b.createElement("clipPath",{id:"clipPath-dots-".concat(S)},b.createElement("rect",{x:l-T/2,y:s-T/2,width:p+T,height:g+T}))),b.createElement(qpe,{needClip:d,clipPathId:S,props:this.props})),b.createElement(EE,{points:r,mainColor:fv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(w)&&b.createElement(EE,{points:w,mainColor:fv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var b8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:on.area};function Gpe(t){var e,n=An(t,b8),{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:x,legendType:w,stroke:E,xAxisId:A,yAxisId:S}=n,C=x8(n,Ope),U=Ac(),R=bz(),{needClip:T}=q0(A,S),M=Fn(),{points:V,isRange:I,baseLine:k}=(e=Ne(ne=>Cpe(ne,A,S,M,t.id)))!==null&&e!==void 0?e:{},N=F0();if(U!=="horizontal"&&U!=="vertical"||N==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:P,width:L,x:z,y:$}=N;return!V||!V.length?null:b.createElement(Hpe,tc({},C,{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:k,connectNulls:d,dot:f,fill:h,fillOpacity:p,height:P,hide:g,layout:U,isAnimationActive:x==="auto"?!ll.isSsr:x,isRange:I,legendType:w,needClip:T,points:V,stroke:E,width:L,left:z,top:$,xAxisId:A,yAxisId:S}))}var Kpe=(t,e,n,r,a)=>{var s=n??e;if(Ae(s))return s;var l=t==="horizontal"?a:r,d=l.scale.domain();if(l.type==="number"){var f=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]};function Wpe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:a,layout:s,chartBaseValue:l,xAxis:d,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:x,bandSize:w}=t,E=a&&a.length,A=Kpe(s,l,n,d,f),S=s==="horizontal",C=!1,U=h.map((T,M)=>{var V;E?V=a[p+M]:(V=vt(T,r),Array.isArray(V)?C=!0:V=[A,V]);var I=V[1]==null||E&&!e&&vt(T,r)==null;return S?{x:Ry({axis:d,ticks:g,bandSize:w,entry:T,index:M}),y:I?null:f.scale(V[1]),value:V,payload:T}:{x:I?null:d.scale(V[1]),y:Ry({axis:f,ticks:x,bandSize:w,entry:T,index:M}),value:V,payload:T}}),R;return E||C?R=U.map(T=>{var M=Array.isArray(T.value)?T.value[0]:null;return S?{x:T.x,y:M!=null&&T.y!=null?f.scale(M):null,payload:T.payload}:{x:M!=null?d.scale(M):null,y:T.y,payload:T.payload}}):R=S?f.scale(A):d.scale(A),{points:U,baseLine:R,isRange:C}}function Ype(t){var e=An(t,b8),n=Fn();return b.createElement($0,{id:e.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(Wj,{legendPayload:Mpe(e)}),b.createElement(Lpe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),b.createElement(Yj,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:G5(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),b.createElement(Gpe,tc({},e,{id:r}))))}var w8=b.memo(Ype,jm);w8.displayName="Area";var Qpe=["domain","range"],Xpe=["domain","range"];function DD(t,e){if(t==null)return{};var n,r,a=Zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function _8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=DD(t,Qpe),{domain:s,range:l}=e,d=DD(e,Xpe);return!MD(n,s)||!MD(r,l)?!1:jm(a,d)}var Jpe=["dangerouslySetInnerHTML","ticks"],ege=["id"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function LD(t,e){if(t==null)return{};var n,r,a=tge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nge(t){var e=Vt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(hfe(t)):n.current!==t&&e(mfe({prev:n.current,next:t})),n.current=t},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(pfe(n.current)),n.current=null)},[e]),null}var rge=t=>{var{xAxisId:e,className:n}=t,r=Ne(jS),a=Fn(),s="xAxis",l=Ne(S=>_d(S,s,e,a)),d=Ne(S=>XU(S,s,e,a)),f=Ne(S=>KU(S,e)),h=Ne(S=>goe(S,e)),p=Ne(S=>TU(S,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,w=LD(t,Jpe),{id:E}=p,A=LD(p,ege);return b.createElement(Jj,SE({},w,A,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:lt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d,axisType:s}))},age={allowDataOverflow:Ln.allowDataOverflow,allowDecimals:Ln.allowDecimals,allowDuplicatedCategory:Ln.allowDuplicatedCategory,angle:Ln.angle,axisLine:Cs.axisLine,height:Ln.height,hide:!1,includeHidden:Ln.includeHidden,interval:Ln.interval,minTickGap:Ln.minTickGap,mirror:Ln.mirror,orientation:Ln.orientation,padding:Ln.padding,reversed:Ln.reversed,scale:Ln.scale,tick:Ln.tick,tickCount:Ln.tickCount,tickLine:Cs.tickLine,tickSize:Cs.tickSize,type:Ln.type,xAxisId:0},ige=t=>{var e=An(t,age);return b.createElement(b.Fragment,null,b.createElement(nge,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),b.createElement(rge,e))},Cu=b.memo(ige,_8);Cu.displayName="XAxis";var sge=["dangerouslySetInnerHTML","ticks"],oge=["id"];function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}function UD(t,e){if(t==null)return{};var n,r,a=lge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cge(t){var e=Vt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(gfe(t)):n.current!==t&&e(yfe({prev:n.current,next:t})),n.current=t},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(vfe(n.current)),n.current=null)},[e]),null}var uge=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=b.useRef(null),l=b.useRef(null),d=Ne(jS),f=Fn(),h=Vt(),p="yAxis",g=Ne(M=>_d(M,p,e,f)),x=Ne(M=>WU(M,e)),w=Ne(M=>voe(M,e)),E=Ne(M=>XU(M,p,e,f)),A=Ne(M=>CU(M,e));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!x||Uj(a)||b.isValidElement(a)||A==null)){var M=s.current;if(M){var V=M.getCalculatedWidth();Math.round(x.width)!==Math.round(V)&&h(xfe({id:e,width:V}))}}},[E,x,h,a,e,r,A]),x==null||w==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:C}=t,U=UD(t,sge),{id:R}=A,T=UD(A,oge);return b.createElement(Jj,jE({},U,T,{ref:s,labelRef:l,scale:g,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:lt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:E,axisType:p}))},dge={allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,angle:Un.angle,axisLine:Cs.axisLine,hide:!1,includeHidden:Un.includeHidden,interval:Un.interval,minTickGap:Un.minTickGap,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tick:Un.tick,tickCount:Un.tickCount,tickLine:Cs.tickLine,tickSize:Cs.tickSize,type:Un.type,width:Un.width,yAxisId:0},fge=t=>{var e=An(t,dge);return b.createElement(b.Fragment,null,b.createElement(cge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),b.createElement(uge,e))},Iu=b.memo(fge,_8);Iu.displayName="YAxis";var hge=(t,e)=>e,tN=J([hge,Qe,jU,kn,hz,Qs,kle,In],zle),nN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},E8=Ca("mouseClick"),A8=om();A8.startListening({actionCreator:E8,effect:(t,e)=>{var n=t.payload,r=tN(e.getState(),nN(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(koe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var NE=Ca("mouseMove"),S8=om(),Cg=null;S8.startListening({actionCreator:NE,effect:(t,e)=>{var n=t.payload;Cg!==null&&cancelAnimationFrame(Cg);var r=nN(n);Cg=requestAnimationFrame(()=>{var a=e.getState(),s=Tj(a,a.tooltip.settings.shared);if(s==="axis"){var l=tN(a,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(iz({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(az())}Cg=null})}});var zD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},j8=Lr({name:"rootProps",initialState:zD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:zD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),mge=j8.reducer,{updateOptions:pge}=j8.actions,N8=Lr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:gge}=N8.actions,yge=N8.reducer,T8=Ca("keyDown"),C8=Ca("focus"),rN=om();rN.startListening({actionCreator:T8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Cj(a,Ad(n),bm(n),Am(n)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=Qs(n);if(s==="Enter"){var h=nv(n,"axis","hover",String(a.index));e.dispatch(yE({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var p=_oe(n),g=p==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,w=d+x*g;if(!(f==null||w>=f.length||w<0)){var E=nv(n,"axis","hover",String(w));e.dispatch(yE({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});rN.startListening({actionCreator:C8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",l=nv(n,"axis","hover",String(s));e.dispatch(yE({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var xa=Ca("externalEvent"),I8=om(),Z1=new Map;I8.startListening({actionCreator:xa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=Z1.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:yle(d),activeDataKey:yz(d),activeIndex:tl(d),activeLabel:gz(d),activeTooltipIndex:tl(d),isTooltipActive:vle(d)};n(f,r)}finally{Z1.delete(a)}});Z1.set(a,l)}}});var vge=J([Ed],t=>t.tooltipItemPayloads),xge=J([vge,_m,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var l=e(s,n);return l}}}),O8=Ca("touchMove"),k8=om();k8.startListening({actionCreator:O8,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=Tj(r,r.tooltip.settings.shared);if(a==="axis"){var s=tN(r,nN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(iz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(W5),p=(l=f.getAttribute(Y5))!==null&&l!==void 0?l:void 0,g=xge(e.getState(),h,p);e.dispatch(rz({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var bge=p5({brush:ime,cartesianAxis:bfe,chartData:gce,errorBars:zfe,graphicalItems:Nde,layout:ite,legend:dne,options:dce,polarAxis:Bue,polarOptions:yge,referenceElements:fme,rootProps:mge,tooltip:Poe,zIndex:Jle}),wge=function(e){return Iee({reducer:bge,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([A8.middleware,S8.middleware,rN.middleware,I8.middleware,k8.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(I5({type:"raf"}))},devTools:ll.devToolsEnabled})};function P8(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Fn(),s=b.useRef(null);if(a)return n;s.current==null&&(s.current=wge(e));var l=yS;return b.createElement(ohe,{context:l,store:s.current},n)}function _ge(t){var{layout:e,margin:n}=t,r=Vt(),a=Fn();return b.useEffect(()=>{a||(r(nte(e)),r(tte(n)))},[r,a,e,n]),null}var R8=b.memo(_ge,jm);function D8(t){var e=Vt();return b.useEffect(()=>{e(pge(t))},[e,t]),null}function VD(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=Gz("".concat(r).concat(e)),s=Vt();return b.useLayoutEffect(()=>(s(Xle({zIndex:e,elementId:a,isPanorama:n})),()=>{s(Zle({zIndex:e,isPanorama:n}))}),[s,e,a,n]),b.createElement("g",{id:a})}function $D(t){var{children:e,isPanorama:n}=t,r=Ne($le);if(!r||r.length===0)return e;var a=r.filter(l=>l<0),s=r.filter(l=>l>0);return b.createElement(b.Fragment,null,a.map(l=>b.createElement(VD,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>b.createElement(VD,{key:l,zIndex:l,isPanorama:n})))}var Ege=["children"];function Age(t,e){if(t==null)return{};var n,r,a=Sge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Sge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}var jge={width:"100%",height:"100%",display:"block"},Nge=b.forwardRef((t,e)=>{var n=tL(),r=nL(),a=hL();if(!Bi(n)||!Bi(r))return null;var{children:s,otherAttributes:l,title:d,desc:f}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),b.createElement(k3,hv({},l,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:jge,ref:e}),s)}),Tge=t=>{var{children:e}=t,n=Ne(f0);if(!n)return null;var{width:r,height:a,y:s,x:l}=n;return b.createElement(k3,{width:r,height:a,x:l,y:s},e)},BD=b.forwardRef((t,e)=>{var{children:n}=t,r=Age(t,Ege),a=Fn();return a?b.createElement(Tge,null,b.createElement($D,{isPanorama:!0},n)):b.createElement(Nge,hv({ref:e},r),b.createElement($D,{isPanorama:!1},n))});function Cge(){var t=Vt(),[e,n]=b.useState(null),r=Ne(_te);return b.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Rt(s)&&s!==r&&t(ate(s))}},[e,t,r]),n}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ige(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){Oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oge(t,e,n){return(e=kge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kge(t){var e=Pge(t,"string");return typeof e=="symbol"?e:e+""}function Pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(null,arguments)}var Rge=()=>(Sce(),null);function mv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Dge=b.forwardRef((t,e)=>{var n,r,a=b.useRef(null),[s,l]=b.useState({containerWidth:mv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:mv((r=t.style)===null||r===void 0?void 0:r.height)}),d=b.useCallback((h,p)=>{l(g=>{var x=Math.round(h),w=Math.round(p);return g.containerWidth===x&&g.containerHeight===w?g:{containerWidth:x,containerHeight:w}})},[]),f=b.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var x=E=>{var{width:A,height:S}=E[0].contentRect;d(A,S)},w=new ResizeObserver(x);w.observe(h),a.current=w}},[e,d]);return b.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),b.createElement(b.Fragment,null,b.createElement(m0,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",vc({ref:f},t)))}),Mge=b.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=b.useState({containerWidth:mv(n),containerHeight:mv(r)}),l=b.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),d=b.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[e,l]);return b.createElement(b.Fragment,null,b.createElement(m0,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",vc({ref:d},t)))}),Lge=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return b.createElement(b.Fragment,null,b.createElement(m0,{width:n,height:r}),b.createElement("div",vc({ref:e},t)))}),Uge=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ms(n)||Ms(r)?b.createElement(Mge,vc({},t,{ref:e})):b.createElement(Lge,vc({},t,{ref:e}))});function zge(t){return t===!0?Dge:Uge}var Vge=b.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:w,onTouchMove:E,onTouchStart:A,style:S,width:C,responsive:U,dispatchTouchEvents:R=!0}=t,T=b.useRef(null),M=Vt(),[V,I]=b.useState(null),[k,N]=b.useState(null),P=Cge(),L=NS(),z=(L==null?void 0:L.width)>0?L.width:C,$=(L==null?void 0:L.height)>0?L.height:a,ne=b.useCallback(ce=>{P(ce),typeof e=="function"&&e(ce),I(ce),N(ce),ce!=null&&(T.current=ce)},[P,e,I,N]),me=b.useCallback(ce=>{M(E8(ce)),M(xa({handler:s,reactEvent:ce}))},[M,s]),Y=b.useCallback(ce=>{M(NE(ce)),M(xa({handler:h,reactEvent:ce}))},[M,h]),oe=b.useCallback(ce=>{M(az()),M(xa({handler:p,reactEvent:ce}))},[M,p]),H=b.useCallback(ce=>{M(NE(ce)),M(xa({handler:g,reactEvent:ce}))},[M,g]),K=b.useCallback(()=>{M(C8())},[M]),ae=b.useCallback(ce=>{M(T8(ce.key))},[M]),q=b.useCallback(ce=>{M(xa({handler:l,reactEvent:ce}))},[M,l]),re=b.useCallback(ce=>{M(xa({handler:d,reactEvent:ce}))},[M,d]),pe=b.useCallback(ce=>{M(xa({handler:f,reactEvent:ce}))},[M,f]),ye=b.useCallback(ce=>{M(xa({handler:x,reactEvent:ce}))},[M,x]),Ce=b.useCallback(ce=>{M(xa({handler:A,reactEvent:ce}))},[M,A]),ke=b.useCallback(ce=>{R&&M(O8(ce)),M(xa({handler:E,reactEvent:ce}))},[M,R,E]),Pe=b.useCallback(ce=>{M(xa({handler:w,reactEvent:ce}))},[M,w]),Nt=zge(U);return b.createElement(Sz.Provider,{value:V},b.createElement(dZ.Provider,{value:k},b.createElement(Nt,{width:z??(S==null?void 0:S.width),height:$??(S==null?void 0:S.height),className:lt("recharts-wrapper",r),style:Ige({position:"relative",cursor:"default",width:z,height:$},S),onClick:me,onContextMenu:q,onDoubleClick:re,onFocus:K,onKeyDown:ae,onMouseDown:pe,onMouseEnter:Y,onMouseLeave:oe,onMouseMove:H,onMouseUp:ye,onTouchEnd:Pe,onTouchMove:ke,onTouchStart:Ce,ref:ne},b.createElement(Rge,null),n)))}),$ge=["width","height","responsive","children","className","style","compact","title","desc"];function Bge(t,e){if(t==null)return{};var n,r,a=Fge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Fge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M8=b.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:l,style:d,compact:f,title:h,desc:p}=t,g=Bge(t,$ge),x=wr(g);return f?b.createElement(b.Fragment,null,b.createElement(m0,{width:n,height:r}),b.createElement(BD,{otherAttributes:x,title:h,desc:p},s)):b.createElement(Vge,{className:l,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(BD,{otherAttributes:x,title:h,desc:p,ref:e},b.createElement(mme,null,s)))});function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(null,arguments)}var qge={top:5,right:5,bottom:5,left:5},Hge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qge,reverseStackOrder:!1,syncMethod:"index",responsive:!1},aN=b.forwardRef(function(e,n){var r,a=An(e.categoricalChartProps,Hge),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(P8,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},b.createElement(t8,{chartData:h.data}),b.createElement(R8,{layout:a.layout,margin:a.margin}),b.createElement(D8,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(M8,TE({},a,{ref:n})))}),Gge=["axis"],Kge=b.forwardRef((t,e)=>b.createElement(aN,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gge,tooltipPayloadSearcher:D0,categoricalChartProps:t,ref:e})),Wge=["axis","item"],CE=b.forwardRef((t,e)=>b.createElement(aN,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wge,tooltipPayloadSearcher:D0,categoricalChartProps:t,ref:e}));function Yge(t){var e=Vt();return b.useEffect(()=>{e(gge(t))},[e,t]),null}var Qge=["layout"];function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(null,arguments)}function Xge(t,e){if(t==null)return{};var n,r,a=Zge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jge={top:5,right:5,bottom:5,left:5},eye={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jge,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},tye=b.forwardRef(function(e,n){var r,a=An(e.categoricalChartProps,eye),{layout:s}=a,l=Xge(a,Qge),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return b.createElement(P8,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},b.createElement(t8,{chartData:a.data}),b.createElement(R8,{layout:s,margin:a.margin}),b.createElement(D8,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(Yge,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),b.createElement(M8,IE({},l,{ref:n})))}),nye=["item"],rye={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},aye=b.forwardRef((t,e)=>{var n=An(t,rye);return b.createElement(tye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:nye,tooltipPayloadSearcher:D0,categoricalChartProps:n,ref:e})}),iye=["axis"],sye=b.forwardRef((t,e)=>b.createElement(aN,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iye,tooltipPayloadSearcher:D0,categoricalChartProps:t,ref:e}));const oye=({result:t,paper:e,answers:n,onDownloadModelAnswers:r,onHome:a})=>{var R;const[s,l]=b.useState(new Set),[d,f]=b.useState(""),[h,p]=b.useState(!1),[g,x]=b.useState(!1);b.useEffect(()=>{const T=(t.questionResults||t.breakdown||[]).map(M=>M.questionId);l(new Set(T))},[t]);const w=T=>{const M=new Set(s);M.has(T)?M.delete(T):M.add(T),l(M)},E=T=>{if(T){const M=(t.questionResults||[]).map(V=>V.questionId);l(new Set(M))}else l(new Set)},A=T=>{const M=document.getElementById(`q-${T}`);M&&(M.scrollIntoView({behavior:"smooth",block:"start"}),f(T),p(!1))},S=T=>{const M=T.currentTarget.scrollTop;x(M>500)},C=()=>{const T=document.getElementById("results-scroll-container");T&&T.scrollTo({top:0,behavior:"smooth"})},U=[{name:"AO1",value:0},{name:"AO2",value:0},{name:"AO3",value:0},{name:"AO4",value:0},{name:"AO5",value:0},{name:"AO6",value:0}];return(t.questionResults||t.breakdown||[]).forEach(T=>{T.aos&&Object.entries(T.aos).forEach(([M,V])=>{const I=parseInt(M.replace("AO",""))-1;U[I]&&(U[I].value+=V||0)})}),c.jsxs("div",{id:"results-scroll-container",onScroll:S,className:"h-screen overflow-y-auto bg-gray-50 font-sans print:bg-white print:p-0 flex flex-col print:h-auto print:overflow-visible scroll-smooth",children:[c.jsxs("nav",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 px-4 md:px-8 py-3 md:py-4 flex justify-between items-center shadow-sm print:hidden",children:[c.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[c.jsx("button",{onClick:()=>p(!0),className:"lg:hidden p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-md",children:c.jsx(iX,{size:24})}),c.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-600 hover:text-edexcel-blue font-medium transition-colors",children:[c.jsx(nS,{size:20})," ",c.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),c.jsx("div",{className:"h-6 w-px bg-gray-300 hidden sm:block"}),c.jsxs("h1",{className:"text-sm md:text-lg font-bold text-gray-800 truncate max-w-[150px] sm:max-w-md",children:["Results: ",(e==null?void 0:e.title)||`Exam Result - ${new Date((R=t.date)!=null&&R.toDate?t.date.toDate():t.date).toLocaleDateString()}`]})]}),c.jsx("div",{className:"flex gap-2 md:gap-3",children:c.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-edexcel-dark text-white px-3 py-2 rounded-lg font-bold hover:bg-gray-800 transition-colors shadow-sm text-xs md:text-sm",children:[c.jsx(S3,{size:16})," ",c.jsx("span",{className:"hidden sm:inline",children:"Print PDF"}),c.jsx("span",{className:"sm:hidden",children:"PDF"})]})})]}),c.jsxs("div",{className:"flex flex-1 max-w-[1400px] mx-auto w-full relative",children:[h&&c.jsxs("div",{className:"fixed inset-0 z-50 flex lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>p(!1)}),c.jsxs("aside",{className:"relative w-72 bg-white h-full shadow-2xl p-4 overflow-y-auto animate-in slide-in-from-left duration-200 flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-4",children:[c.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Question Map"}),c.jsx("button",{onClick:()=>p(!1),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:c.jsx(ni,{size:20})})]}),c.jsx("div",{className:"space-y-2 flex-1",children:(t.questionResults||t.breakdown||[]).map(T=>c.jsxs("button",{onClick:()=>A(T.questionId),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors flex justify-between items-center ${d===T.questionId?"bg-blue-50 text-edexcel-blue border border-blue-100":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-transparent"}`,children:[c.jsxs("span",{className:"truncate font-semibold",children:["Q",T.questionId]}),c.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${T.score===T.maxScore?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:[T.score,"/",T.maxScore]})]},T.questionId))}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[c.jsx("button",{onClick:()=>{E(!0),p(!1)},className:"block w-full text-left py-2 text-sm text-blue-600 font-bold hover:underline",children:"Expand All"}),c.jsx("button",{onClick:()=>{E(!1),p(!1)},className:"block w-full text-left py-2 text-sm text-gray-500 font-medium hover:underline",children:"Collapse All"})]})]})]}),c.jsx("aside",{className:"hidden lg:block w-72 sticky top-0 h-screen p-6 border-r border-gray-200 mr-4 bg-gray-50/50 backdrop-blur-sm z-30 overflow-hidden",children:c.jsxs("div",{className:"pt-4",children:[c.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Question Navigator"}),c.jsx("div",{className:"space-y-1 mb-8",children:(t.questionResults||t.breakdown||[]).map(T=>c.jsxs("button",{onClick:()=>A(T.questionId),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors flex justify-between items-center group ${d===T.questionId?"bg-blue-50 text-edexcel-blue":"text-gray-600 hover:bg-gray-100"}`,children:[c.jsxs("span",{className:"truncate",children:["Question ",T.questionId]}),c.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded ${T.score===T.maxScore?"bg-green-100 text-green-700":"bg-gray-200 text-gray-500 group-hover:bg-gray-300"}`,children:[T.score,"/",T.maxScore]})]},T.questionId))}),c.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:()=>E(!0),className:"block w-full text-left text-xs text-blue-600 font-bold mb-3 hover:underline",children:"Expand All Cards"}),c.jsx("button",{onClick:()=>E(!1),className:"block w-full text-left text-xs text-gray-500 font-medium hover:underline",children:"Collapse All Cards"})]})]})}),c.jsxs("main",{className:"flex-1 p-3 md:p-8 lg:p-12 print:p-0 print:w-full min-w-0",children:[c.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-xl p-4 md:p-6 mb-6 md:mb-8 flex gap-4 items-start print:hidden",children:[c.jsx(Gu,{size:24,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-amber-900 text-sm md:text-base mb-2",children:" Important Disclaimer"}),c.jsxs("ul",{className:"text-amber-800 text-xs md:text-sm space-y-1 leading-relaxed",children:[c.jsx("li",{children:" AI-generated results may contain errors. Always verify with your teacher or official textbooks."}),c.jsx("li",{children:" These grades are estimates only and not official qualifications."}),c.jsx("li",{children:" GoGCSE is independent and not affiliated with exam boards or educational authorities."}),c.jsx("li",{children:" Use this tool for practice and revision purposes only."})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-8 shadow-sm border border-gray-200 mb-6 md:mb-10 print:shadow-none print:border-none print:p-0 print:mb-8 break-inside-avoid",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6 md:gap-8",children:[c.jsxs("div",{className:"flex-1 w-full",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 print:mb-0",children:[c.jsx("span",{className:"px-3 py-1 bg-edexcel-blue text-white text-[10px] md:text-xs font-bold uppercase rounded-full print:hidden",children:"Official Simulation"}),c.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-gray-900",children:"Performance Summary"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 my-6 md:my-8 print:grid-cols-4",children:[c.jsxs("div",{className:"bg-blue-50 p-4 md:p-5 rounded-xl border border-blue-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-blue-600 font-bold uppercase tracking-wider mb-1",children:"Estimated Grade"}),c.jsx("span",{className:"text-3xl md:text-4xl font-extrabold text-edexcel-blue",children:t.gradeEstimate})]}),c.jsxs("div",{className:"bg-gray-50 p-4 md:p-5 rounded-xl border border-gray-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Total Marks"}),c.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:[t.totalScore," ",c.jsxs("span",{className:"text-sm md:text-lg text-gray-400 font-normal",children:["/ ",t.maxScore]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 md:p-5 rounded-xl border border-gray-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Reading"}),c.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-800",children:(t.questionResults||t.breakdown||[]).filter(T=>T.questionId.length<2||parseInt(T.questionId)<=4||(e==null?void 0:e.type)==="PAPER_2"&&parseInt(T.questionId)<=6).reduce((T,M)=>T+M.score,0)})]}),c.jsxs("div",{className:"bg-gray-50 p-4 md:p-5 rounded-xl border border-gray-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Writing"}),c.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-800",children:(t.questionResults||t.breakdown||[]).filter(T=>parseInt(T.questionId)>=5||T.questionId.includes("7")).reduce((T,M)=>T+M.score,0)})]})]}),c.jsx("div",{className:"pl-4 md:pl-6 py-2 border-l-4 border-edexcel-blue bg-gray-50 rounded-r-lg print:bg-white print:pl-0 print:border-l-0",children:c.jsxs("p",{className:"text-gray-700 text-sm md:text-lg italic leading-relaxed",children:['"',t.overallFeedback,'"']})})]}),c.jsxs("div",{className:"w-full md:w-64 h-48 print:hidden flex-shrink-0 hidden md:block",children:[c.jsx(Eu,{width:"100%",height:"100%",children:c.jsxs(CE,{data:U.filter(T=>T.value>0),children:[c.jsx(Cu,{dataKey:"name",fontSize:10,tickLine:!1,axisLine:!1}),c.jsx(Iu,{hide:!0}),c.jsx(Au,{cursor:{fill:"#f3f4f6"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(cv,{dataKey:"value",fill:"#005f87",radius:[4,4,0,0]})]})}),c.jsx("p",{className:"text-center text-xs text-gray-400 mt-2 font-medium",children:"AO Performance Breakdown"})]})]}),c.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-xl p-4 md:p-6 mb-6 md:mb-8 flex gap-4 items-start print:hidden",children:[c.jsx(Gu,{size:24,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-amber-900 text-sm md:text-base mb-1",children:" Important: AI-Generated Results"}),c.jsx("p",{className:"text-amber-800 text-xs md:text-sm leading-relaxed",children:"AI can make mistakes. Always check with your teacher or official textbooks. This is not an official grade."})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6 print:hidden",children:[c.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Detailed Analysis"}),c.jsxs("div",{className:"flex gap-2 text-xs md:text-sm lg:hidden",children:[c.jsx("button",{onClick:()=>E(!0),className:"text-blue-600 font-bold hover:bg-blue-50 px-3 py-1 rounded transition-colors",children:"Expand All"}),c.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:bg-gray-100 px-3 py-1 rounded transition-colors",children:"Collapse"})]})]}),c.jsx("div",{className:"space-y-6 md:space-y-12 print:space-y-16 pb-20",children:(t.questionResults||t.breakdown||[]).map(T=>{var N,P;const M=(N=e==null?void 0:e.questions)==null?void 0:N.find(L=>L.id===T.questionId),V=n[T.questionId],I=T.studentAnswer||(V==null?void 0:V.text),k=s.has(T.questionId);return T?c.jsxs("div",{id:`q-${T.questionId}`,className:`bg-white rounded-xl shadow-sm border transition-all duration-300 print:shadow-none print:border-none print:block break-inside-avoid
                    ${k?"border-gray-300 shadow-md ring-1 ring-black/5":"border-gray-200"}`,children:[c.jsxs("div",{onClick:()=>w(T.questionId),className:"cursor-pointer bg-gray-50 p-4 md:p-6 border-b border-gray-200 flex justify-between items-start hover:bg-gray-100 transition-colors print:bg-white print:border-b-2 print:border-black print:px-0",children:[c.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[c.jsx("div",{className:"bg-white p-2 rounded-md shadow-sm border border-gray-200 text-gray-400 print:hidden hidden sm:block",children:c.jsx(UQ,{size:20})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsxs("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:["Question ",T.questionId]}),c.jsxs("span",{className:"text-xs md:text-sm px-2 py-0.5 bg-gray-200 text-gray-700 rounded-md font-medium print:bg-transparent print:p-0 border border-gray-300 print:border-none",children:[T.score," / ",T.maxScore," Marks"]})]}),c.jsxs("div",{className:"text-xs md:text-sm text-gray-500 font-mono",children:["Assessing: ",Object.keys(T.aos).join(", ")]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[T.level>0&&c.jsxs("div",{className:"text-right hidden sm:block",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:"Level"}),c.jsx("div",{className:"text-xl font-bold text-edexcel-blue",children:T.level})]}),c.jsx("button",{className:"text-gray-400 print:hidden p-1 md:p-2 hover:bg-gray-200 rounded-full transition-colors",children:k?c.jsx(b3,{size:20}):c.jsx(x3,{size:20})})]})]}),(k||typeof window<"u"&&window.matchMedia("print").matches)&&c.jsxs("div",{className:"p-4 md:p-6 lg:p-10 space-y-8 md:space-y-10 print:px-0 print:block",children:[c.jsxs("div",{className:"prose max-w-none text-gray-800",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Question"}),c.jsx("p",{className:"text-base md:text-lg font-serif font-medium leading-relaxed border-l-4 border-gray-300 pl-4",children:(M==null?void 0:M.text)||c.jsx("span",{className:"text-gray-400 italic",children:"(Question text not available for this result)"})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Marks Awarded"}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs md:text-sm",children:[Object.entries(T.aos).map(([L,z])=>c.jsxs("div",{className:"bg-gray-50 border border-gray-200 px-3 py-1 rounded font-mono",children:[c.jsxs("span",{className:"font-bold text-gray-700",children:[L,":"]})," ",z]},L)),c.jsxs("div",{className:"ml-auto font-bold text-gray-900 bg-gray-100 px-3 py-1 rounded",children:["Total: ",T.score," / ",T.maxScore]})]})]}),c.jsxs("div",{children:[(M==null?void 0:M.images)&&c.jsx("div",{className:"max-w-md rounded-lg overflow-hidden border border-gray-200 shadow-sm mb-6",children:c.jsx("img",{src:M.images[typeof(V==null?void 0:V.selectedImageIndex)=="number"?V.selectedImageIndex:0],alt:"Prompt Image",className:"w-full h-auto object-cover max-h-64"})}),c.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:["Your Answer ",c.jsx("span",{className:"text-gray-300",children:"|"})," ",I?I.split(/\s+/).length:0," words"]}),c.jsx("div",{className:"w-full bg-blue-50/30 border border-blue-100 rounded-lg p-4 md:p-6 lg:p-8 font-serif text-gray-800 text-sm md:text-base leading-relaxed whitespace-pre-wrap break-words h-auto overflow-visible",children:I||c.jsx("span",{className:"text-gray-400 italic",children:"(No answer text available for this result)"})})]}),c.jsxs("div",{className:"pt-2",children:[c.jsx("h4",{className:"text-xs font-bold text-green-700 uppercase tracking-wider mb-2 bg-green-50 w-fit px-2 py-1 rounded border border-green-100",children:"Model Answer / Suggested Response"}),c.jsx("div",{className:"w-full bg-green-50/20 border border-green-100 rounded-lg p-4 md:p-6 lg:p-8 font-serif text-gray-800 text-sm md:text-base leading-relaxed whitespace-pre-wrap break-words h-auto overflow-visible",children:(P=T.modelAnswer)==null?void 0:P.replace(/^(Prompt \d:|Option \d:|Image \d:)\s*/i,"")})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Examiner Feedback"}),c.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 md:p-6 border border-yellow-100 text-gray-800 text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:T.feedback})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Detailed Comparison"}),c.jsx("div",{className:"grid md:grid-cols-2 gap-3 md:gap-4",children:T.comparisonPoints.map((L,z)=>c.jsxs("div",{className:"flex items-start gap-3 text-xs md:text-sm p-3 rounded bg-gray-50 border border-gray-100",children:[c.jsxs("div",{className:"mt-0.5 shrink-0",children:[L.type==="strength"&&c.jsx(Yi,{className:"text-green-600",size:16}),L.type==="weakness"&&c.jsx(bQ,{className:"text-red-500",size:16}),L.type==="missing"&&c.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-orange-400 flex items-center justify-center text-[10px] font-bold text-orange-500",children:"M"}),L.type==="improvement"&&c.jsx(hw,{className:"text-blue-500",size:16})]}),c.jsx("span",{className:"text-gray-700 leading-relaxed",children:L.text})]},z))})]})]})]},T.questionId):null})}),(e==null?void 0:e.sources)&&e.sources.length>0&&c.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:p-8 print:shadow-none print:border-none print:px-0 print:block break-inside-avoid",children:[c.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-6",children:"Source Materials"}),c.jsx("div",{className:"space-y-8",children:e.sources.map(T=>c.jsxs("div",{className:"prose max-w-none",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 border-b border-gray-100 pb-2 mb-4",children:["Source ",T.id,": ",T.title," ",c.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["by ",T.author," (",T.year,")"]})]}),c.jsx("div",{className:"font-serif p-6 bg-gray-50 rounded-lg text-gray-800 leading-relaxed whitespace-pre-wrap border border-gray-100 print:bg-white print:border-none print:p-0 text-justify",children:T.content})]},T.id))})]}),c.jsx("div",{className:"mt-12 text-center print:hidden pb-12",children:c.jsxs("button",{onClick:C,className:"inline-flex items-center gap-2 text-gray-500 hover:text-edexcel-blue font-medium transition-colors p-4 bg-white rounded-full shadow-sm border border-gray-200",children:[c.jsx(hw,{size:20})," Back to Top"]})})]}),c.jsx("button",{onClick:C,className:`fixed bottom-6 right-6 z-50 p-3 bg-edexcel-blue text-white rounded-full shadow-xl hover:bg-edexcel-dark transition-all duration-300 md:hidden ${g?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:c.jsx(hw,{size:24})})]})]})},lye=()=>{const t=ra(),e=Ft(),{examResult:n,examData:r,answers:a={}}=t.state||{};if(!n)return c.jsx(js,{to:"/"});const s=()=>{if(!(n!=null&&n.generatedModelAnswers)||!r)return;const l=document.createElement("a"),d=new Blob([n.generatedModelAnswers],{type:"text/markdown"});l.href=URL.createObjectURL(d),l.download=`Model_Answers_${r.type}_${Date.now()}.md`,document.body.appendChild(l),l.click()};return c.jsx(oye,{result:n,paper:r,answers:a,onDownloadModelAnswers:s,onHome:()=>e("/")})},cye=()=>{const t=Ft(),[e,n]=b.useState(""),[r,a]=b.useState(""),[s,l]=b.useState(""),[d,f]=b.useState(!1),[h,p]=b.useState(""),[g,x]=b.useState(""),[w,E]=b.useState(!1),[A,S]=b.useState(""),[C,U]=b.useState("UK"),[R,T]=b.useState(!1),[M,V]=b.useState(!1),[I,k]=b.useState(!1),[N,P]=b.useState(!1),[L,z]=b.useState(!1),$=A==="13-15",ne=A==="under13";b.useEffect(()=>{(async()=>{const K=JE();try{E(!0),console.log("Checking for redirect result...");const ae=await xq(K);if(ae&&ae.user){console.log("Google Sign-In successful, user:",ae.user.email);const q=await a3(ae.user.uid);t(q?"/dashboard":"/legal-consent")}else console.log("No redirect result found (normal for first load)")}catch(ae){console.error("Google Sign-In redirect failed:",ae),console.error("Error code:",ae.code),console.error("Error message:",ae.message),ae.code==="auth/unauthorized-domain"?p("Domain not authorized. Please add this domain to Firebase Authentication settings."):ae.code==="auth/operation-not-allowed"?p("Google Sign-In is not enabled. Please enable it in Firebase Console."):ae.code!=="auth/popup-closed-by-user"&&p(`Failed to sign in with Google: ${ae.message||"Unknown error"}`)}finally{E(!1)}})()},[t]);const me=()=>!(!A||ne||!R||!M||!I||$&&!N||!e||!r||!s),Y=async()=>{E(!0),p("");try{console.log("Initiating Google Sign-In redirect..."),await o3(),console.log("Redirect initiated successfully")}catch(H){console.error("Google Sign-In Failure:",H),p(`Failed to sign in with Google. ${H.message||""}`),E(!1)}},oe=async H=>{H.preventDefault(),p(""),x(""),E(!0);try{if(d){if(!me()){p("Please complete all required fields and checkboxes."),E(!1);return}const K=await l3(e,r,s);await i3(K.uid,r,A,R,M,N,L,"email"),await s3(K.uid,{aiDisclaimerAccepted:!0,aiConsentTimestamp:new Date().toISOString()}),await c3(),x("Account created! Please check your email for verification."),setTimeout(()=>t("/dashboard"),3e3)}else await WA(r,s),t("/dashboard")}catch(K){K.code==="auth/email-already-in-use"?p("Email is already in use."):K.code==="auth/wrong-password"||K.code==="auth/user-not-found"||K.code==="auth/invalid-credential"?p("Invalid email or password."):K.code==="auth/weak-password"?p("Password is too weak (minimum 6 characters)."):p("Authentication failed. Please try again."),console.error(K)}finally{E(!1)}};return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 py-8 px-4 font-sans",children:[c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg relative overflow-hidden",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("img",{src:oS,alt:"Logo",className:"w-20 h-20 rounded-2xl shadow-lg mx-auto mb-4"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:d?"Create Account":"Welcome Back"}),c.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:d?"Start your GCSE English practice today.":"Sign in to access your dashboard."})]}),d&&c.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-100 rounded-xl p-4 text-sm text-blue-900",children:[c.jsxs("div",{className:"flex items-center gap-2 font-bold mb-2 text-blue-800",children:[c.jsx(C_,{size:16}),c.jsx("span",{children:"Before you start:"})]}),c.jsxs("ul",{className:"space-y-1 ml-1 list-disc list-inside opacity-90 text-xs sm:text-sm",children:[c.jsxs("li",{children:["This is a ",c.jsx("strong",{children:"practice platform only"}),"."]}),c.jsxs("li",{children:["We are ",c.jsx("strong",{children:"not"})," an exam board or awarding body."]}),c.jsxs("li",{children:["Results are ",c.jsx("strong",{children:"estimates"})," and not official grades."]}),c.jsxs("li",{children:["AI marking is automated and ",c.jsx("strong",{children:"may be inaccurate"}),"."]})]})]}),h&&c.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-start gap-2",children:[c.jsx(Li,{size:18,className:"flex-shrink-0 mt-0.5"}),h]}),g&&c.jsxs("div",{className:"mb-4 p-3 bg-green-50 text-green-600 text-sm rounded-lg border border-green-100 flex items-start gap-2",children:[c.jsx(Yi,{size:18,className:"flex-shrink-0 mt-0.5"}),g]}),c.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[c.jsxs("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wider",children:["Age Group ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:A,onChange:H=>S(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all bg-white text-sm",required:!0,children:[c.jsx("option",{value:"",children:"Select Age"}),c.jsx("option",{value:"under13",children:"Under 13"}),c.jsx("option",{value:"13-15",children:"13-15 years"}),c.jsx("option",{value:"16-17",children:"16-17 years"}),c.jsx("option",{value:"18+",children:"18+ / Adult"}),c.jsx("option",{value:"parent",children:"Parent"}),c.jsx("option",{value:"teacher",children:"Teacher"})]})]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[c.jsxs("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wider",children:["Country ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:C,onChange:H=>U(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all bg-white text-sm",required:!0,children:[c.jsx("option",{value:"UK",children:"United Kingdom"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]}),ne&&c.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl text-amber-800 text-sm flex items-start gap-3",children:[c.jsx(Qi,{size:20,className:"mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Age Restriction"}),c.jsx("br",{}),"You must be at least 13 years old to create an account. Please ask a parent to help you."]})]}),!ne&&A&&c.jsx("input",{type:"text",placeholder:"Full Name",value:e,onChange:H=>n(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all text-sm",required:!0})]}),(!d||d&&A&&!ne)&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"email",placeholder:"Email address",value:r,onChange:H=>a(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all text-sm",required:!0}),c.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:H=>l(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all text-sm",required:!0})]}),d&&A&&!ne&&c.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-100",children:[c.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider",children:"Required Consents"}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[c.jsx("input",{type:"checkbox",checked:R,onChange:H=>T(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-900 leading-snug",children:["I agree to the"," ",c.jsx(Yr,{to:"/terms",target:"_blank",className:"text-[#003764] font-medium hover:underline",children:"Terms"})," ","and"," ",c.jsx(Yr,{to:"/privacy",target:"_blank",className:"text-[#003764] font-medium hover:underline",children:"Privacy Policy"}),".",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[c.jsx("input",{type:"checkbox",checked:M,onChange:H=>V(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-900 leading-snug",children:["I understand GoGCSE is for ",c.jsx("strong",{children:"practice only"})," and does not provide official grades or qualifications.",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group bg-amber-50/50 p-3 rounded-lg border border-amber-200",children:[c.jsx("input",{type:"checkbox",checked:I,onChange:H=>k(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsxs("span",{className:"text-xs sm:text-sm text-amber-900 group-hover:text-amber-950 leading-snug font-medium",children:["I agree that AI-generated content may occasionally contain errors. I will verify important information with official textbooks or my teacher.",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),$&&c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group bg-blue-50/50 p-2 rounded-lg border border-blue-100",children:[c.jsx("input",{type:"checkbox",checked:N,onChange:H=>P(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsxs("span",{className:"text-xs sm:text-sm text-blue-800 font-medium leading-snug",children:["My parent/guardian knows I am using this site and has given permission.",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group pt-2 opacity-80 hover:opacity-100",children:[c.jsx("input",{type:"checkbox",checked:L,onChange:H=>z(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsx("span",{className:"text-xs text-gray-500 group-hover:text-gray-700 leading-snug",children:"(Optional) Send me study tips and updates."})]})]}),(!d||d&&!ne)&&c.jsxs("div",{className:"pt-2",children:[d&&A&&c.jsx("p",{className:"text-xs text-center text-gray-500 mb-3 italic",children:"All three consent checkboxes are required to create your account."}),c.jsx("button",{type:"submit",disabled:w||d&&!me(),className:"w-full py-3 px-4 rounded-xl transition-all font-bold flex items-center justify-center gap-2 shadow-sm hover:shadow-md",style:{backgroundColor:w||d&&!me()?"#e5e7eb":"#003764",color:w||d&&!me()?"#9ca3af":"#ffffff",cursor:w||d&&!me()?"not-allowed":"pointer"},children:w?c.jsx("span",{className:"animate-pulse",children:"Processing..."}):c.jsxs(c.Fragment,{children:[d?c.jsx(zX,{size:18}):c.jsx(vy,{size:18}),d?"Create Account":"Sign In"]})})]})]}),!d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative my-6",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-widest",children:c.jsx("span",{className:"px-2 bg-white text-gray-400",children:"Or"})})]}),c.jsxs("button",{onClick:Y,disabled:w,className:"w-full py-3 px-4 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 disabled:opacity-50 transition-colors flex items-center justify-center gap-3 text-gray-700 font-bold text-sm",children:[c.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-4 h-4"}),"Sign in with Google"]})]}),c.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600 border-t border-gray-100 pt-6",children:[d?"Already have an account?":"Don't have an account?"," ",c.jsx("button",{onClick:()=>{f(!d),p(""),S(""),T(!1),V(!1),k(!1)},className:"text-[#003764] hover:text-[#007fa3] font-bold hover:underline",children:d?"Sign In":"Sign Up"})]}),c.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-x-4 gap-y-2 text-xs text-gray-400",children:[c.jsx(Yr,{to:"/terms",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Terms"}),c.jsx(Yr,{to:"/privacy",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Privacy"}),c.jsx(Yr,{to:"/cookies",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Cookies"}),c.jsx(Yr,{to:"/child-privacy",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Child Safety"})]})]}),c.jsx("p",{className:"text-[10px] text-gray-500 mt-4 text-center max-w-md px-4 leading-relaxed",children:"GoGCSE is not affiliated with Pearson Edexcel, AQA, or any examination board. All trademarks belong to their respective owners."})]})},L8="/assets/profile_icon-CK7ltl4l.png",uye=({isOpen:t,onClose:e,user:n})=>{const r=Ft(),[a,s]=b.useState(!1),[l,d]=b.useState(n.displayName||""),[f,h]=b.useState(!1),[p,g]=b.useState(!1),x=Mh.useRef(null);if(b.useEffect(()=>{d(n.displayName||"")},[n,t]),!t)return null;const w=async S=>{if(S.target.files&&S.target.files[0]){g(!0);try{const C=S.target.files[0],U=await by(()=>Promise.resolve().then(()=>XA),void 0).then(R=>R.uploadProfilePicture(n,C));window.location.reload()}catch(C){console.error("Failed to upload image",C),alert("Failed to upload profile picture.")}finally{g(!1)}}},E=async()=>{if(l.trim()){h(!0);try{await KA(n,{displayName:l}),s(!1),window.location.reload()}catch(S){console.error("Failed to update profile",S),alert("Failed to update profile.")}finally{h(!1)}}},A=async()=>{await fd(),r("/login")};return c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[c.jsxs("div",{className:"bg-edexcel-blue p-6 flex justify-between items-start",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Profile Details"}),c.jsx("button",{onClick:e,className:"text-white/80 hover:text-white hover:bg-white/10 p-1 rounded-full transition-colors",children:c.jsx(ni,{size:20})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex flex-col items-center mb-6 -mt-12 group relative",children:[c.jsxs("div",{className:"bg-white p-2 rounded-full shadow-md cursor-pointer relative",onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},children:[c.jsx("img",{src:n.photoURL||L8,alt:"Profile",className:"w-20 h-20 rounded-full bg-slate-100 object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"Change"})}),p&&c.jsx("div",{className:"absolute inset-0 bg-white/80 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-edexcel-blue border-t-transparent rounded-full"})})]}),c.jsx("input",{type:"file",ref:x,onChange:w,accept:"image/*",className:"hidden"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"Full Name"}),c.jsx("div",{className:"flex items-center gap-2",children:a?c.jsx("input",{type:"text",value:l,onChange:S=>d(S.target.value),className:"flex-1 px-3 py-2 border border-edexcel-teal rounded-lg focus:ring-2 focus:ring-edexcel-teal/20 outline-none font-bold text-gray-900",autoFocus:!0}):c.jsxs("div",{className:"flex-1 font-bold text-gray-900 text-lg flex items-center gap-2",children:[n.displayName||"No Name Set",c.jsx("button",{onClick:()=>s(!0),className:"text-gray-400 hover:text-edexcel-blue transition-colors",children:c.jsx(Yv,{size:14})})]})})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"Email Address"}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx(E3,{size:16,className:"text-gray-400"}),c.jsx("span",{children:n.email})]})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"Member Since"}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx(uc,{size:16,className:"text-gray-400"}),c.jsx("span",{children:n.metadata.creationTime?new Date(n.metadata.creationTime).toLocaleDateString():"Unknown"})]})]})]}),c.jsx("div",{className:"mt-8 flex gap-3",children:a?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg font-bold text-gray-600 hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:E,disabled:f,className:"flex-1 py-2 px-4 bg-edexcel-teal text-white rounded-lg font-bold hover:bg-teal-700 transition-colors flex items-center justify-center gap-2",children:f?"Saving...":c.jsxs(c.Fragment,{children:[c.jsx(ZA,{size:18})," Save Changes"]})})]}):c.jsxs("button",{onClick:A,className:"w-full py-2 px-4 border border-red-100 text-red-600 bg-red-50 rounded-lg font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[c.jsx(hd,{size:18})," Sign Out"]})})]})]})})},dye=()=>{const[t,e]=b.useState(_e.currentUser),[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(!1),[f,h]=b.useState([]),[p,g]=b.useState(new Set),[x,w]=b.useState(null),[E,A]=b.useState(!1),S=Ft();b.useEffect(()=>{const k=_e.onAuthStateChanged(async N=>{if(e(N),N){const P=await Hv(N.uid);A(P),C(N.uid),U()}else s(!1)});return()=>k()},[]);const C=async k=>{const N=await YA(k);r(N),s(!1)},U=async()=>{try{const k=at.now(),N=Mr(it(be,"announcements")),L=(await Bn(N)).docs.map(z=>({id:z.id,...z.data()})).filter(z=>z.active===!0).sort((z,$)=>{var ne,me;return(((ne=$.createdAt)==null?void 0:ne.seconds)||0)-(((me=z.createdAt)==null?void 0:me.seconds)||0)}).filter(z=>!(z.startDate&&z.startDate.seconds>k.seconds||z.endDate&&z.endDate.seconds<k.seconds));h(L)}catch(k){console.error("Failed to fetch announcements",k)}},R=k=>{g(N=>new Set(N).add(k))},T=async(k,N,P="this exam")=>{N.stopPropagation(),w({isOpen:!0,examId:k,examTitle:P})},M=async()=>{if(!x)return;await gy(x.examId)&&r(N=>N.filter(P=>P.id!==x.examId)),w(null)},V=k=>{switch(k){case"info":return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:C_};case"success":return{bg:"bg-emerald-50 border-emerald-200",text:"text-emerald-800",icon:Yi};case"warning":return{bg:"bg-amber-50 border-amber-200",text:"text-amber-800",icon:Li};case"error":return{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:Gu};default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:C_}}},I=f.filter(k=>!p.has(k.id));return c.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[c.jsx(T3,{title:"Student Dashboard",description:"Track your Edexcel GCSE English mock exam progress and view detailed grade reports."}),c.jsxs("nav",{className:"bg-white border-b border-gray-200 py-4 px-6 md:px-12 flex flex-col md:flex-row md:justify-between md:items-center gap-4 sticky top-0 z-10",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>S("/"),children:[c.jsx("img",{src:oS,alt:"Logo",className:"w-10 h-10 rounded-lg shadow-sm"}),c.jsx("span",{className:"font-bold text-lg text-gray-800",children:"Go GCSE"})]})}),c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-end",children:[E&&c.jsxs("button",{onClick:()=>S("/teacher"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white text-sm font-bold rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-cyan-700 transition-all",children:[c.jsx(wn,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Teacher Dashboard"})]}),(t==null?void 0:t.email)&&ei.includes(t.email)&&c.jsxs("button",{onClick:()=>S("/admin"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-sm font-bold rounded-lg shadow-md hover:shadow-lg hover:from-purple-700 hover:to-indigo-700 transition-all",children:[c.jsx(Qi,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Admin Panel"})]}),c.jsxs("div",{onClick:()=>d(!0),className:"flex items-center gap-2 text-sm font-bold text-gray-800 bg-white border border-gray-100 pl-1 pr-3 py-1 rounded-full shadow-sm cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("img",{src:(t==null?void 0:t.photoURL)||L8,alt:"Profile",className:"w-8 h-8 rounded-full border border-indigo-100 object-cover"}),c.jsx("span",{className:"hidden sm:inline",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]})]})]}),c.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[c.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-lg p-4 mb-8 flex gap-3",children:[c.jsx("span",{className:"text-blue-600 font-bold flex-shrink-0",children:"i"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Important Notice"}),c.jsx("p",{children:"All exam results and grades shown here are AI-generated estimates for practice purposes only. They are not official qualifications. Always verify your learning with your teacher."})]})]}),I.length>0&&c.jsx("div",{className:"space-y-3 mb-6",children:I.map(k=>{const N=V(k.type),P=N.icon;return c.jsxs("div",{className:`p-4 rounded-xl border ${N.bg} flex items-start gap-3`,children:[c.jsx(P,{size:20,className:N.text}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:`font-bold ${N.text}`,children:k.title}),c.jsx("p",{className:`text-sm ${N.text} opacity-80`,children:k.message})]}),c.jsx("button",{onClick:()=>R(k.id),className:`p-1 rounded hover:bg-white/50 ${N.text}`,children:c.jsx(ni,{size:16})})]},k.id)})}),c.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:justify-between sm:items-end gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Progress"}),c.jsx("p",{className:"text-gray-500 mt-1",children:"Track your mock exams and improvement over time."})]}),c.jsx("button",{onClick:()=>S("/"),className:"w-full sm:w-auto bg-gray-900 text-white px-6 py-2.5 rounded-lg font-bold hover:bg-gray-800 transition-colors shadow-lg shadow-gray-200",children:"New Mock Exam"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-purple-600",children:[c.jsx(wn,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Exams Taken"})]}),c.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:n.length})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-teal-600",children:[c.jsx(g3,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Average Score"})]}),c.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:n.length>0?Math.round(n.reduce((k,N)=>k+(N.score||0),0)/n.length):"-"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-blue-600",children:[c.jsx(Kv,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Study Time"})]}),c.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:(()=>{const k=n.reduce((L,z)=>L+(z.duration||0),0),N=Math.floor(k/3600),P=Math.floor(k%3600/60);return N===0&&P===0?"0m":N===0?`${P}m`:`${N}h ${P}m`})()})]}),c.jsxs("div",{onClick:()=>S("/student/classroom"),className:"bg-white p-6 rounded-2xl shadow-sm border border-indigo-100 cursor-pointer hover:shadow-md hover:border-indigo-300 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-indigo-600",children:[c.jsx(wn,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide group-hover:underline",children:"My Classroom"})]}),c.jsx("div",{className:"text-gray-500 text-sm",children:"Join classes & view assignments"}),c.jsxs("div",{className:"mt-4 text-indigo-700 font-bold flex items-center gap-1 text-sm",children:["Go to Class ",c.jsx(vh,{size:16})]})]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Exam History"}),a?c.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading history..."}):n.length===0?c.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border border-gray-100 border-dashed",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:c.jsx(wn,{size:32})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"No exams taken yet"}),c.jsx("p",{className:"text-gray-500 mb-6 max-w-sm mx-auto",children:"Complete your first mock exam to see your detailed analysis and grade here."}),c.jsx("button",{onClick:()=>S("/"),className:"text-edexcel-blue font-bold hover:underline",children:"Start an Exam Now"})]}):c.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:n.map((k,N)=>{var P;return c.jsxs("div",{onClick:()=>S("/results",{state:{examResult:{...k,questionResults:k.questionResults||k.breakdown||[],overallFeedback:k.overallFeedback||k.feedback||"",gradeEstimate:k.gradeEstimate||"N/A"},examData:k.paperData||null,answers:k.fullAnswers||{}}}),className:"flex items-center p-6 border-b border-gray-50 last:border-0 hover:bg-gray-50 transition-colors cursor-pointer",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 ${k.paperType==="PAPER_1"?"bg-purple-100 text-purple-600":"bg-teal-100 text-teal-600"}`,children:c.jsx("span",{className:"font-bold text-xs",children:k.paperType==="PAPER_1"?"P1":"P2"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:k.paperType==="PAPER_1"?"Fiction & Imaginative Writing":"Non-Fiction & Transactional"}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(P=k.date)!=null&&P.toDate?new Date(k.date.toDate()).toLocaleDateString():"Unknown Date",c.jsx("span",{className:"text-gray-300",children:""}),k.score," Marks"]})]}),c.jsxs("div",{className:"text-right flex items-center gap-4",children:[c.jsxs("button",{className:"inline-flex items-center text-edexcel-blue font-bold hover:text-edexcel-teal transition-colors",children:["View Result ",c.jsx(vh,{size:16,className:"ml-1"})]}),k.pdfUrl&&c.jsxs("a",{href:k.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-4 inline-flex items-center text-green-600 font-bold hover:text-green-800 transition-colors text-sm",onClick:L=>L.stopPropagation(),children:[c.jsx(S3,{size:16,className:"mr-1"})," Download PDF"]}),c.jsx("button",{onClick:L=>T(k.id,L,k.paperType==="PAPER_1"?"Fiction & Imaginative Writing":"Non-Fiction & Transactional"),className:"ml-4 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",title:"Delete Exam",children:c.jsx(Aa,{size:18})})]})]},k.id||N)})})]}),x&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>w(null),children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",onClick:k=>k.stopPropagation(),children:[c.jsxs("div",{className:"bg-red-50 p-6 flex items-center gap-4 border-b border-red-100",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Li,{className:"text-red-600",size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Exam Result"}),c.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone"})]})]}),c.jsx("div",{className:"p-6",children:c.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to permanently delete ",c.jsxs("span",{className:"font-semibold",children:['"',x.examTitle,'"']}),"? This will remove all associated scores, feedback, and reports."]})}),c.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[c.jsx("button",{onClick:()=>w(null),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:M,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(Aa,{size:18}),"Delete Exam"]})]})]})}),t&&c.jsx(uye,{isOpen:l,onClose:()=>d(!1),user:t})]})},zf=({children:t})=>{const[e,n]=b.useState(null),[r,a]=b.useState(!0),[s,l]=b.useState(!1),[d,f]=b.useState(!1);return b.useEffect(()=>{const h=Hh(_e,async p=>{if(n(p),p)try{if(ei.includes(p.email||"")){l(!0),f(!0),a(!1);return}const g=Fe(be,"users",p.uid),x=await br(g);if(x.exists()){const w=x.data();l(!!w.isApproved),f(!!w.hasConsented)}else l(!1),f(!1)}catch(g){console.error("Error fetching user status",g),l(!1),f(!1)}a(!1)});return()=>h()},[]),r?c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 gap-3",children:[c.jsx(Ea,{className:"animate-spin text-edexcel-blue",size:32}),c.jsx("p",{className:"text-gray-500 animate-pulse text-sm font-medium",children:"Verifying access..."})]}):e?s?c.jsx(c.Fragment,{children:t}):d?c.jsx(js,{to:"/pending-approval",replace:!0}):c.jsx(js,{to:"/legal-consent",replace:!0}):c.jsx(js,{to:"/login",replace:!0})},yu={techniques:{title:"Language Techniques",description:"Master the literary and rhetorical devices used by writers to create meaning and effect.",items:[{name:"Metaphor",definition:'A direct comparison stating one thing IS another, without using "like" or "as".',example:'"Life is a journey with many winding roads."',literarySource:"Common in Shakespeare and Romantic poetry",examTip:"Always explain the effectwhat does the comparison suggest about the subject?",level:"foundation"},{name:"Simile",definition:'A comparison using "like" or "as" to show similarity between two different things.',example:'"Her smile was like sunshine breaking through clouds."',literarySource:"Dickens uses extended similes in Great Expectations",examTip:"Identify what quality is being compared and why the writer chose that image.",level:"foundation"},{name:"Personification",definition:"Giving human qualities, emotions, or actions to non-human things or abstract concepts.",example:'"The wind whispered secrets through the trees."',literarySource:`Shelley's "Ozymandias" personifies the desert`,examTip:"Consider why the writer wants readers to see the object as alive or conscious.",level:"foundation"},{name:"Alliteration",definition:"Repetition of the same consonant sound at the beginning of nearby words.",example:'"Peter Piper picked a peck of pickled peppers."',literarySource:"Anglo-Saxon poetry like Beowulf relies heavily on alliteration",examTip:"Link the sound to the moodharsh sounds for tension, soft sounds for calm.",level:"foundation"},{name:"Pathetic Fallacy",definition:"Using weather or nature to reflect the emotional state of characters or the mood of a scene.",example:'"The storm raged as her anger reached its peak."',literarySource:"Bront uses storms in Wuthering Heights to mirror passion",examTip:"This is a specific type of personificationalways link weather to emotion.",level:"intermediate"},{name:"Onomatopoeia",definition:"Words that phonetically imitate the sound they describe.",example:'"The bees buzzed lazily around the hive."',literarySource:"War poetry uses onomatopoeia for battlefield sounds",examTip:"Explain how the sound word creates a sensory, immersive experience.",level:"foundation"},{name:"Oxymoron",definition:"Two contradictory terms placed together to create a paradoxical effect.",example:'"The silence was deafening."',literarySource:'Romeo and Juliet: "loving hate" and "heavy lightness"',examTip:"Show how the contradiction reveals complexity or tension in meaning.",level:"intermediate"},{name:"Hyperbole",definition:"Deliberate and obvious exaggeration for emphasis or dramatic effect.",example:`"I've told you a million times!"`,literarySource:"Common in satirical writing and comedy",examTip:"Consider whether it creates humour, emphasises emotion, or makes a point.",level:"foundation"},{name:"Sibilance",definition:'Repetition of "s", "sh", "z" sounds to create a hissing effect.',example:'"The snake slithered silently through the shadows."',literarySource:"Often used to create menacing or secretive atmospheres",examTip:"Link sibilance to the moodoften sinister, seductive, or soothing.",level:"intermediate"},{name:"Juxtaposition",definition:"Placing two contrasting elements side by side to highlight their differences.",example:'"It was the best of times, it was the worst of times."',literarySource:"Dickens' A Tale of Two Cities opening",examTip:"Explain what the contrast reveals about themes or characters.",level:"intermediate"},{name:"Anaphora",definition:"Repetition of a word or phrase at the beginning of successive clauses or sentences.",example:'"We shall fight on the beaches, we shall fight on the landing grounds, we shall fight..."',literarySource:`Churchill's WWII speeches; Martin Luther King's "I Have a Dream"`,examTip:"Shows emphasis and builds rhetorical powergreat for speeches.",level:"advanced"},{name:"Epistrophe",definition:"Repetition of a word or phrase at the END of successive clauses.",example:'"See no evil, hear no evil, speak no evil."',literarySource:`Lincoln's Gettysburg Address: "of the people, by the people, for the people"`,examTip:"Creates rhythm and reinforces a key concept at clause endings.",level:"advanced"},{name:"Tricolon",definition:'A series of three parallel elements (the "rule of three") for emphasis and rhythm.',example:'"Veni, vidi, vici" (I came, I saw, I conquered)',literarySource:"Used extensively in political rhetoric and advertising",examTip:"Three elements feel complete and memorableidentify why these three.",level:"intermediate"},{name:"Asyndeton",definition:"Omitting conjunctions between words or clauses to create pace and urgency.",example:'"I came, I saw, I conquered."',literarySource:"Caesar's famous quote demonstrates power through brevity",examTip:"Creates speed and directnessoften shows confidence or urgency.",level:"advanced"},{name:"Polysyndeton",definition:"Using many conjunctions (and, or, but) in quick succession for effect.",example:'"And the rain fell and the wind blew and the night grew darker."',literarySource:"Biblical prose and Hemingway's writing style",examTip:"Slows pace, suggests overwhelming accumulation or relentlessness.",level:"advanced"},{name:"Chiasmus",definition:"A reversal of grammatical structures in successive phrases (AB, BA pattern).",example:'"Ask not what your country can do for you, ask what you can do for your country."',literarySource:"JFK's inaugural address; common in Shakespeare",examTip:"The reversal creates balance and makes ideas memorable.",level:"advanced"},{name:"Antithesis",definition:"Contrasting ideas expressed in balanced, parallel grammatical structures.",example:'"To err is human; to forgive, divine."',literarySource:`Pope's "Essay on Criticism"; Milton's Paradise Lost`,examTip:"Different from juxtapositionantithesis requires parallel structure.",level:"advanced"},{name:"Euphemism",definition:"A milder or indirect word substituted for one considered harsh or blunt.",example:'"He passed away" instead of "He died"',literarySource:"Political and corporate language often uses euphemisms",examTip:"Consider what is being hidden or softened, and why.",level:"intermediate"},{name:"Litotes",definition:"Understatement using double negatives or negating the opposite.",example:`"She's not unattractive" (meaning she is attractive)`,literarySource:"Common in British humour and Old English poetry",examTip:"Often creates irony or understated emphasis.",level:"advanced"},{name:"Synecdoche",definition:"A part represents the whole, or the whole represents a part.",example:'"All hands on deck!" (hands = sailors)',literarySource:'Shakespeare: "lend me your ears" (ears = attention)',examTip:"Identify what part/whole relationship exists and its effect.",level:"advanced"},{name:"Metonymy",definition:"Substituting the name of something with something closely associated.",example:'"The Crown" for the monarchy; "Wall Street" for finance',literarySource:"Common in journalism and political writing",examTip:"Different from synecdochemetonymy is association, not part/whole.",level:"advanced"},{name:"Zeugma",definition:"A figure of speech where one word (usually a verb or adjective) applies to multiple words in different senses.",example:'"She lowered her standards and her neckline."',literarySource:`Pope's "The Rape of the Lock" and Dickens use zeugma for wit`,examTip:"Creates surprising connections or humouroften used for satirical effect.",level:"advanced"},{name:"Anadiplosis",definition:"Repetition of the last word of one clause at the beginning of the next clause.",example:'"Fear leads to anger. Anger leads to hate. Hate leads to suffering."',literarySource:"Yoda in Star Wars; also found in biblical and classical texts",examTip:"Creates a chain of logic or escalationshows cause and effect.",level:"advanced"},{name:"Enjambment",definition:"In poetry, continuing a sentence beyond the end of a line without pause.",example:'"I wandered lonely as a cloud / That floats on high..."',literarySource:`Wordsworth's "Daffodils" uses enjambment throughout`,examTip:"Creates flow, urgency, or highlights the word at line breaks.",level:"intermediate"},{name:"Caesura",definition:"A strong pause within a line of poetry, often marked by punctuation.",example:'"To be, or not to be. || That is the question."',literarySource:"Shakespeare uses caesura for dramatic emphasis",examTip:"The pause creates emphasiswhat comes before/after the break?",level:"intermediate"}]},grammar:{title:"Grammar Essentials",description:"Essential grammatical knowledge for accurate writing and language analysis.",items:[{name:"Simple Sentence",definition:"A sentence containing one independent clause with a subject and verb.",example:'"The dog barked."',examTip:"Simple sentences create impact through directness and clarity.",level:"foundation"},{name:"Compound Sentence",definition:"Two independent clauses joined by a coordinating conjunction (FANBOYS: for, and, nor, but, or, yet, so).",example:'"I wanted to go, but the weather was terrible."',examTip:"Shows equal importance between two connected ideas.",level:"foundation"},{name:"Complex Sentence",definition:"An independent clause joined with one or more dependent clauses using subordinating conjunctions.",example:'"Although it was raining, we went for a walk."',examTip:"The main clause holds the key idea; subordinate clauses add detail.",level:"foundation"},{name:"Minor Sentence",definition:"A sentence fragment used deliberately for effect, lacking subject or verb.",example:'"Silence. Complete, utter silence."',examTip:"Creates drama, emphasis, or mimics natural speech patterns.",level:"intermediate"},{name:"Active Voice",definition:"The subject performs the action of the verb directly.",example:'"The cat chased the mouse."',examTip:"Active voice is direct and engagingpreferred in most writing.",level:"foundation"},{name:"Passive Voice",definition:'The subject receives the action; the doer may be omitted or follow "by".',example:'"The mouse was chased by the cat."',examTip:"Creates formality, shifts focus to receiver, or obscures responsibility.",level:"intermediate"},{name:"First Person Narrative",definition:`Using "I" to tell the story from the narrator's perspective.`,example:'"I walked into the room and immediately sensed danger."',examTip:"Creates intimacy and subjectivitywe see only what the narrator knows.",level:"foundation"},{name:"Third Person Limited",definition:`Using "he/she/they" but limited to one character's thoughts and perceptions.`,example:'"She wondered what he was thinking as he stared out the window."',examTip:"Balances intimacy with objectivitycommon in modern fiction.",level:"intermediate"},{name:"Third Person Omniscient",definition:"An all-knowing narrator who can access any character's thoughts.",example:`"John didn't know that Mary had already left, but we know she was miles away."`,examTip:"Allows dramatic irony and broader perspective on events.",level:"intermediate"},{name:"Present Tense",definition:"Action happening now; creates immediacy and tension.",example:'"I walk through the door. The room is empty."',examTip:"Creates immediacycommon in modern literary fiction for tension.",level:"foundation"},{name:"Past Tense",definition:"Action that has already happened; traditional narrative tense.",example:'"I walked through the door. The room was empty."',examTip:"The default for most storytellingfeels natural and established.",level:"foundation"},{name:"Imperative Mood",definition:'Commands or instructions; verb at the start, often with implied "you".',example:'"Stop right there!" "Consider the evidence."',examTip:"Creates authority, urgency, or direct reader engagement.",level:"intermediate"},{name:"Interrogative",definition:"Questions used to engage the reader or create uncertainty.",example:'"What would you do in this situation?"',examTip:"Rhetorical questions don't need answersthey make readers think.",level:"foundation"},{name:"Modal Verbs",definition:"Verbs expressing possibility, necessity, or obligation (can, could, may, might, must, shall, should, will, would).",example:'"You should consider the consequences."',examTip:"Different modals show different levels of certainty or obligation.",level:"intermediate"},{name:"Noun Phrase",definition:"A group of words centred on a noun, providing more detail.",example:'"The old, weathered wooden door"',examTip:"Extended noun phrases add detail and create vivid imagery.",level:"intermediate"}]},writing:{title:"Writing Skills",description:"Techniques for crafting effective creative and transactional writing.",items:[{name:"Hook Opening",definition:"Starting with something attention-grabbing to immediately engage the reader.",example:'"The day I died was the most interesting day of my life."',examTip:"Start with action, dialogue, a question, or a striking statement.",level:"foundation"},{name:"In Medias Res",definition:"Beginning a narrative in the middle of the action, rather than from the start.",example:"Starting a story with a chase scene, then explaining how it began later.",examTip:"Creates immediate tension and curiosityavoid too much backstory.",level:"intermediate"},{name:"Cyclical Structure",definition:"Ending where you began, creating a sense of completeness or irony.",example:"Starting and ending with the same image or phrase, but with changed meaning.",examTip:"Shows development or changethe same words mean something different by the end.",level:"intermediate"},{name:"Foreshadowing",definition:"Hints or clues about what will happen later in the narrative.",example:'"Little did she know that this would be the last peaceful morning."',examTip:"Creates tension and makes readers feel clever when the prediction pays off.",level:"intermediate"},{name:"Flashback",definition:"Interrupting the narrative to show events from the past.",example:'"As she touched the old photograph, memories flooded back..."',examTip:"Use sparingly and signal clearlydon't confuse the reader.",level:"intermediate"},{name:"Show Don't Tell",definition:"Demonstrating emotions or situations through action and detail rather than stating them.",example:'"His hands trembled as he reached for the door" instead of "He was nervous."',examTip:"Let readers infer emotions from physical details and actions.",level:"foundation"},{name:"Sensory Description",definition:"Using all five senses (sight, sound, smell, taste, touch) to create vivid scenes.",example:'"The acrid smoke stung her eyes; somewhere, glass shattered."',examTip:"Go beyond sightsound, smell, and touch create immersive writing.",level:"foundation"},{name:"Pathetic Fallacy in Writing",definition:"Using setting and weather to reflect character emotions or story mood.",example:"A storm brewing as conflict increases; sunshine as hope returns.",examTip:"Avoid clichsfind fresh ways to mirror emotion in environment.",level:"intermediate"},{name:"Dialogue",definition:"Speech between characters that reveals personality and advances plot.",example:`"I never said I was sorry." She turned away. "Maybe that's the problem."`,examTip:"Each character should sound distinct. Use dialogue tags sparingly.",level:"foundation"},{name:"Paragraph for Effect",definition:"Using paragraph length deliberatelyshort for impact, long for description.",example:'A single-word paragraph: "Silence." after a long descriptive paragraph.',examTip:"Vary paragraph length. Short paragraphs create drama and pace.",level:"intermediate"},{name:"Rhetorical Questions",definition:"Questions that don't expect an answer, used to engage or persuade.",example:'"How many more lives must be lost before we act?"',examTip:"Powerful in speeches and articlesmake the reader think.",level:"foundation"},{name:"Direct Address",definition:'Speaking directly to the reader using "you" to create engagement.',example:`"You might think this doesn't affect you. Think again."`,examTip:"Creates connection and makes arguments feel personal and urgent.",level:"foundation"},{name:"Statistics & Evidence",definition:"Using facts, figures, and research to support arguments.",example:'"According to recent studies, 73% of teenagers..."',literarySource:"Essential for Article, Speech, and Letter writing",examTip:"Even in exams, you can create plausible statistics for effect.",level:"foundation"},{name:"Anecdote",definition:"A short personal story used to illustrate a point or engage readers.",example:'"Last summer, I witnessed something that changed my perspective forever..."',examTip:"Makes abstract arguments concrete and relatable.",level:"intermediate"},{name:"Counter-Argument",definition:"Acknowledging opposing views before refuting them.",example:'"Some argue that... However, this ignores the fact that..."',examTip:"Shows balanced thinking and strengthens your argument.",level:"intermediate"},{name:"Emotive Language",definition:"Words chosen to provoke an emotional response from the reader.",example:'"innocent children", "brutal attack", "heroic sacrifice"',examTip:"Powerful in persuasive writing but use judiciouslydon't overdo it.",level:"foundation"},{name:"Formal Register",definition:"Sophisticated vocabulary and complex sentences for professional contexts.",example:'"Furthermore, it is imperative that we consider..."',examTip:"Use for letters to authorities, formal articles, and official speeches.",level:"intermediate"},{name:"Informal Register",definition:"Conversational tone with contractions and colloquial language.",example:`"Let's be honestwe've all been there, haven't we?"`,examTip:"Use for friendly letters, blogs, or when connecting with peers.",level:"intermediate"}]}},fye=({onHome:t})=>{const[e,n]=b.useState("learn"),[r,a]=b.useState(""),[s,l]=b.useState(null),[d,f]=b.useState(!1),[h,p]=b.useState("techniques"),[g,x]=b.useState(""),[w,E]=b.useState(new Set),[A,S]=b.useState("all"),[C,U]=b.useState("Metaphor"),[R,T]=b.useState(""),[M,V]=b.useState(null),[I,k]=b.useState("techniques"),[N,P]=b.useState(!0);b.useEffect(()=>{(async()=>{const ae=_e.currentUser;if(!ae){P(!1);return}if(ei.includes(ae.email||"")){P(!0);return}try{const q=await br(Fe(be,"users",ae.uid));q.exists()?P(q.data().isApproved??!1):P(!1)}catch(q){console.error("Failed to check approval status:",q),P(!1)}})()},[]);const $=I==="techniques"?["Metaphor","Simile","Personification","Alliteration","Pathetic Fallacy","Onomatopoeia","Oxymoron","Hyperbole","Sibilance","Juxtaposition","Anaphora","Epistrophe","Tricolon","Asyndeton","Polysyndeton","Chiasmus","Antithesis","Euphemism","Litotes","Synecdoche","Metonymy","Zeugma","Anadiplosis","Enjambment","Caesura"]:["Hook Opening","In Medias Res","Cyclical Structure","Foreshadowing","Flashback","Show Don't Tell","Sensory Description","Pathetic Fallacy in Writing","Dialogue","Paragraph for Effect","Rhetorical Questions","Direct Address","Statistics & Evidence","Anecdote","Counter-Argument","Emotive Language","Formal Register","Informal Register"],ne=b.useMemo(()=>yu[h].items.filter(ae=>{const q=g===""||ae.name.toLowerCase().includes(g.toLowerCase())||ae.definition.toLowerCase().includes(g.toLowerCase()),re=A==="all"||ae.level===A;return q&&re}),[h,g,A]),me=K=>{E(ae=>{const q=new Set(ae);return q.has(K)?q.delete(K):q.add(K),q})},Y=K=>{switch(K){case"foundation":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-amber-100 text-amber-700 border-amber-200";case"advanced":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700"}},oe=async()=>{if(r.trim()){f(!0),l(null);try{const ae=await new xh().analyzeTextForMethods(r);l(ae)}catch(K){console.error(K),alert("Analysis failed. Please try again.")}finally{f(!1)}}},H=async()=>{if(R.trim()){f(!0),V(null);try{const ae=await new xh().evaluateWritingPractice(R,C);V(ae),_e.currentUser&&d3(_e.currentUser.uid,C,R,ae).then(()=>console.log("Lab session saved")).catch(q=>console.error("Failed to save lab session",q))}catch(K){console.error(K),alert("Evaluation failed. Please try again.")}finally{f(!1)}}};return c.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[c.jsxs("nav",{className:"bg-white border-b border-gray-200 py-4 px-6 md:px-12 flex items-center gap-4 sticky top-0 z-10",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600",children:c.jsx(ti,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-md flex items-center justify-center text-white font-serif font-bold",children:"L"}),c.jsx("span",{className:"font-bold text-lg text-gray-800",children:"Language Lab"})]})]}),c.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[c.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 mb-8 border-b border-gray-200",children:[c.jsxs("button",{onClick:()=>n("learn"),className:`pb-4 px-3 md:px-4 font-medium flex items-center gap-2 transition-colors border-b-2 text-sm md:text-base ${e==="learn"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[c.jsx(Wv,{size:20}),c.jsx("span",{className:"hidden sm:inline",children:"Knowledge Base"}),c.jsx("span",{className:"sm:hidden",children:"Learn"})]}),c.jsxs("button",{onClick:()=>{if(!N){alert("This section requires account approval. Please wait for admin approval.");return}n("analyzer")},disabled:!N,className:`pb-4 px-3 md:px-4 font-medium flex items-center gap-2 transition-colors border-b-2 text-sm md:text-base ${N?e==="analyzer"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700":"border-transparent text-gray-400 cursor-not-allowed"}`,children:[c.jsx(Zr,{size:20}),c.jsx("span",{className:"hidden sm:inline",children:"Method Analyzer"}),c.jsx("span",{className:"sm:hidden",children:"Analyze"}),!N&&c.jsx(ah,{size:14})]}),c.jsxs("button",{onClick:()=>{if(!N){alert("This section requires account approval. Please wait for admin approval.");return}n("gym")},disabled:!N,className:`pb-4 px-3 md:px-4 font-medium flex items-center gap-2 transition-colors border-b-2 text-sm md:text-base ${N?e==="gym"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700":"border-transparent text-gray-400 cursor-not-allowed"}`,children:[c.jsx(Bg,{size:20}),c.jsx("span",{className:"hidden sm:inline",children:"Writer's Gym"}),c.jsx("span",{className:"sm:hidden",children:"Practice"}),!N&&c.jsx(ah,{size:14})]})]}),e==="learn"?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(yu).map(K=>{const ae=!N&&(K==="grammar"||K==="writing");return c.jsxs("button",{onClick:()=>{if(ae){alert("This section requires account approval. Please wait for admin approval.");return}p(K),x("")},disabled:ae,className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${ae?"bg-gray-100 text-gray-400 cursor-not-allowed border border-gray-200":h===K?"bg-indigo-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50"}`,children:[ae&&c.jsx(ah,{size:14}),yu[K].title]},K)})}),c.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:yu[h].title}),c.jsx("p",{className:"text-indigo-100",children:yu[h].description})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:g,onChange:K=>x(K.target.value),placeholder:"Search techniques, definitions...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),c.jsx("div",{className:"flex gap-2",children:["all","foundation","intermediate","advanced"].map(K=>c.jsx("button",{onClick:()=>S(K),className:`px-3 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${A===K?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:K},K))})]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",ne.length," of ",yu[h].items.length," items"]}),c.jsxs("div",{className:"space-y-4",children:[ne.map(K=>{const ae=w.has(K.name);return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[c.jsxs("button",{onClick:()=>me(K.name),className:"w-full p-5 flex items-start justify-between text-left",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:K.name}),c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border capitalize ${Y(K.level)}`,children:K.level})]}),c.jsx("p",{className:"text-gray-600 text-sm",children:K.definition})]}),c.jsx("div",{className:"ml-4 mt-1 text-gray-400",children:ae?c.jsx(b3,{size:20}):c.jsx(x3,{size:20})})]}),ae&&c.jsxs("div",{className:"px-5 pb-5 pt-0 space-y-4 border-t border-gray-100",children:[c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-medium text-sm mb-2",children:[c.jsx(gX,{size:16}),"Example"]}),c.jsx("p",{className:"text-slate-800 font-serif italic",children:K.example})]}),K.literarySource&&c.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-medium text-sm mb-1",children:[c.jsx(wn,{size:16}),"Found in Literature"]}),c.jsx("p",{className:"text-purple-800 text-sm",children:K.literarySource})]}),c.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-amber-700 font-medium text-sm mb-1",children:[c.jsx(XQ,{size:16}),"Exam Tip"]}),c.jsx("p",{className:"text-amber-800 text-sm",children:K.examTip})]}),c.jsxs("button",{onClick:()=>{n("gym"),U(K.name)},className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-700 font-medium text-sm transition-colors",children:[c.jsx(N3,{size:16}),"Practice using ",K.name," in Writer's Gym "]})]})]},K.name)}),ne.length===0&&c.jsxs("div",{className:"text-center py-12 text-gray-500",children:[c.jsx(Zr,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("p",{children:"No items match your search. Try adjusting your filters."})]})]})]}):e==="analyzer"?c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(wn,{size:20,className:"text-indigo-600"}),"Input Text"]}),c.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Paste a paragraph from a book, article, or your own writing. AI will identify the language methods used."}),c.jsx("textarea",{value:r,onChange:K=>a(K.target.value),placeholder:"The wind howled like a banshee, tearing through the trees...",className:"w-full h-64 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none font-serif text-lg leading-relaxed"}),c.jsx("button",{onClick:oe,disabled:d||!r.trim(),className:`mt-4 w-full py-3 rounded-lg font-bold text-white transition-all ${d||!r.trim()?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-md hover:shadow-lg"}`,children:d?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ea,{className:"animate-spin",size:18})," Analyzing..."]}):"Analyze Text"})]})}),c.jsx("div",{className:"space-y-4",children:s?c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 h-full",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Analysis Results"}),c.jsxs("div",{className:"mb-6 bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[c.jsx("h3",{className:"font-bold text-indigo-900 mb-1",children:"Summary"}),c.jsx("p",{className:"text-indigo-800 text-sm",children:s.summary})]}),c.jsx("div",{className:"space-y-4",children:s.methods.map((K,ae)=>c.jsxs("div",{className:"border-l-4 border-purple-500 pl-4 py-1",children:[c.jsx("div",{className:"flex justify-between items-start mb-1",children:c.jsx("span",{className:"font-bold text-purple-700 bg-purple-50 px-2 py-0.5 rounded text-sm",children:K.name})}),c.jsxs("p",{className:"text-gray-800 font-serif italic mb-2",children:['"',K.quote,'"']}),c.jsx("p",{className:"text-gray-600 text-sm",children:K.effect})]},ae))})]}):c.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[c.jsx(Zr,{size:48,className:"mb-4 opacity-20"}),c.jsx("p",{children:"Enter text and click Analyze to see the breakdown of language methods."})]})})]}):c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Bg,{size:20,className:"text-indigo-600"}),"Practice Area"]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("button",{onClick:()=>{k("techniques"),U("Metaphor")},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${I==="techniques"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Language Techniques"}),c.jsx("button",{onClick:()=>{k("writing"),U("Hook Opening")},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${I==="writing"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Writing Skills"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:I==="techniques"?"Target Technique":"Target Skill"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(K=>c.jsx("button",{onClick:()=>U(K),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${C===K?"bg-indigo-600 text-white font-medium":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:K},K))})]}),c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-4",children:c.jsxs("p",{className:"text-yellow-800 text-sm",children:[c.jsx("strong",{children:"Challenge:"})," ",I==="techniques"?c.jsxs(c.Fragment,{children:["Write a sentence or short paragraph using ",c.jsx("u",{children:C}),"."]}):c.jsxs(c.Fragment,{children:["Practice ",c.jsx("u",{children:C})," by writing a short example."]})]})}),c.jsx("textarea",{value:R,onChange:K=>T(K.target.value),placeholder:I==="techniques"?`Write something using a ${C}...`:`Practice ${C} here...`,className:"w-full h-48 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none font-serif text-lg"}),c.jsx("button",{onClick:H,disabled:d||!R.trim(),className:`mt-4 w-full py-3 rounded-lg font-bold text-white transition-all ${d||!R.trim()?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-md hover:shadow-lg"}`,children:d?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ea,{className:"animate-spin",size:18})," Checking..."]}):"Check My Writing"})]})}),c.jsx("div",{className:"space-y-4",children:M?c.jsxs("div",{className:`p-6 rounded-xl shadow-sm border ${M.success?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[M.success?c.jsx(Yi,{className:"text-green-600",size:32}):c.jsx(Gu,{className:"text-orange-600",size:32}),c.jsx("h2",{className:`text-xl font-bold ${M.success?"text-green-800":"text-orange-800"}`,children:M.success?"Great Job!":"Keep Trying"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Feedback"}),c.jsx("p",{className:"text-gray-700",children:M.feedback})]}),c.jsxs("div",{className:"bg-white/50 p-4 rounded-lg",children:[c.jsxs("h3",{className:"font-bold text-gray-900 mb-1 flex items-center gap-2",children:[c.jsx(Ea,{size:16,className:"text-yellow-600"}),"Tip for Improvement"]}),c.jsx("p",{className:"text-gray-700 italic",children:M.improvementTip})]})]})]}):c.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[c.jsx(Bg,{size:48,className:"mb-4 opacity-20"}),c.jsx("p",{children:"Write your text and click Check to see if you used the method effectively."})]})})]})]})]})},hye=()=>{const t=Ft(),[e,n]=b.useState(!1),r=async()=>{n(!0);try{await fd(),t("/login")}catch(a){console.error("Logout error:",a),n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 font-sans p-4",children:c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-slate-100",children:[c.jsx("div",{className:"w-20 h-20 bg-amber-50 rounded-full flex items-center justify-center mx-auto mb-6 text-amber-500 animate-pulse",children:c.jsx(_X,{size:40})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Pending Approval"}),c.jsx("p",{className:"text-xs font-semibold text-amber-600 bg-amber-50 rounded-lg py-2 px-3 mb-6 inline-block",children:"Status: Awaiting Admin Review"}),c.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Thank you for signing up! Your account is currently awaiting administrative approval."}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(E3,{size:18,className:"text-blue-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-left text-sm text-blue-800",children:[c.jsx("p",{className:"font-semibold mb-1",children:"What happens next?"}),c.jsx("p",{children:"An administrator will review your account and send you an email once approved. You'll then have full access to the dashboard and exam services."})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>t("/"),className:"w-full py-3 px-4 bg-edexcel-blue hover:bg-edexcel-blue/90 text-white rounded-xl transition-colors font-bold",children:"Go to Home Page"}),c.jsxs("button",{onClick:r,disabled:e,className:"w-full py-3 px-4 bg-red-50 border-2 border-red-200 hover:bg-red-100 text-red-700 rounded-xl transition-colors font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(hd,{size:18}),e?"Signing Out...":"Sign Out"]})]}),c.jsx("p",{className:"text-xs text-gray-400 mt-6 border-t border-gray-100 pt-4",children:"GoGCSE Platform  Need help? Contact support"})]})})},mye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ti,{size:18}),"Back to Login"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Terms of Service"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024 | Version 2.0"}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. Assessment & Educational Disclaimer"}),c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[c.jsx("p",{className:"text-amber-800 font-medium mb-2",children:" Important Notice"}),c.jsx("p",{className:"text-amber-700 text-sm",children:"GoGCSE is an independent educational practice platform. We are NOT an exam board and NOT affiliated with Pearson Edexcel, AQA, OCR, or Ofqual."})]}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"NO QUALIFICATIONS:"})," Use of this site does NOT confer any official grade, qualification,/certification, or academic credit."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"INDICATIVE SCORING:"}),' "Marks", "Grades", and "Levels" displayed on this platform are estimates generated by AI for practice purposes only. They may not reflect the grade you would achieve in a real examination.']}),c.jsxs("li",{children:[c.jsx("strong",{children:"NO RELIANCE:"})," You should not rely on these results for university applications, employment, or any other formal purpose."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. AI-Generated Content"}),c.jsx("p",{className:"text-gray-700 mb-3",children:"GoGCSE uses artificial intelligence (AI) technology to generate:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Practice exam questions and source texts"}),c.jsx("li",{children:"Automated marking and feedback"}),c.jsx("li",{children:"Model answers and suggestions"})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-800 mt-4 mb-2",children:"2a. Teacher Classroom Features"}),c.jsx("p",{className:"text-gray-700 mb-2",children:'If you join a "Classroom" using an invite code:'}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"You grant the verified teacher of that class access to view your name and assignment results for that specific class."}),c.jsx("li",{children:"Assignments generated by teachers are AI-created and subject to the same limitations as other platform content."}),c.jsx("li",{children:"You can leave a class at any time, which will remove the teacher's access to your future data."})]}),c.jsxs("p",{className:"text-gray-700 mt-3",children:[c.jsx("strong",{children:"AI Limitations:"})," AI-generated content may contain errors, inaccuracies, or hallucinations. It cannot replace the professional judgement of qualified teachers. Always verify key information with official sources."]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. User Eligibility & Conduct"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Age Requirement:"})," You must be at least 13 years old to create an account. If you are under 13, you may not use this service."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Teacher Accounts:"})," Teachers warrant that they have appropriate authority to invite students to the platform."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Prohibited Conduct:"})," You agree not to upload personal data (names, addresses) in free-text fields or submission boxes. You agree not to use the platform for bullying, harassment, or generating harmful content."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. Limitation of Liability"}),c.jsx("p",{className:"text-gray-700",children:"To the maximum extent permitted by law (and without excluding liability for death or personal injury caused by negligence):"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 mt-2",children:[c.jsx("li",{children:"We are not liable for any loss of academic performance, exam failure, or missed opportunities."}),c.jsx("li",{children:"We are not liable for any indirect or consequential losses."}),c.jsx("li",{children:"Our total liability to you in contract, tort, or otherwise is limited to the amount you paid us (if any) in the 12 months preceding the claim."})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. Intellectual Property"}),c.jsx("p",{className:"text-gray-700",children:'All content on GoGCSE, including generated questions and model answers, is protected by copyright. "GCSE" is a registered trademark of the examination boards. We use these terms purely for descriptive purposes to indicate compatibility with the curriculum.'}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"6. Governing Law"}),c.jsx("p",{className:"text-gray-700",children:"These terms are governed by the laws of England and Wales. Any disputes will be subject to the exclusive jurisdiction of the courts of England and Wales."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"7. Contact"}),c.jsx("p",{className:"text-gray-700",children:"For support or legal inquiries, please contact us via the help link on the dashboard."})]})]})]})}),pye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ti,{size:18}),"Back to Login"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Privacy Notice"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024 | Version 2.0"}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:[c.jsx("p",{className:"text-blue-800 font-medium mb-2",children:" Privacy Summary (Easy Read)"}),c.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[c.jsx("li",{children:" We collect your email, name, and exam answers to help you learn."}),c.jsx("li",{children:" Your teachers can see your work ONLY if you join their class with a code."}),c.jsx("li",{children:" We use Google AI to write questions and mark your work."}),c.jsx("li",{children:" We keep your data safe and never sell it."}),c.jsx("li",{children:" You can ask us to delete your data at any time."})]})]}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. Who We Are (Data Controller)"}),c.jsx("p",{className:"text-gray-700",children:"GoGCSE is the Data Controller for your personal information. For privacy inquiries, please use the contact form on our dashboard or email our privacy team."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. What Data We Collect & Why"}),c.jsxs("table",{className:"w-full border-collapse border border-gray-200 text-sm mt-2",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50",children:[c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Data Type"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Purpose"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Legal Basis"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Email, Display Name"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Account setup & login."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Contract"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Age Confirmation"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Child safety (13+ Only)."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Legal Obligation"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Exam Data & AI Logs"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Providing the service & marking."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Contract"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Consent Records"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Proof of agreement to Terms."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Legal Obligation"})]})]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. Sharing Your Data"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Service Providers:"})," We use Google Firebase (hosting/db) and Google Gemini (AI generation). They process data on our behalf."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Teachers:"})," If you join a class via Invite Code, that teacher sees your name and results for that class."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Legal:"})," We may share data if required by UK law or to protect safety."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. Cookies (PECR Compliance)"}),c.jsx("p",{className:"text-gray-700",children:"We use:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Strictly Necessary Cookies:"})," To keep you logged in. You cannot switch these off."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Functional/Analytics:"})," Only set if you give consent via our Cookie Banner."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. Children's Privacy"}),c.jsx("p",{className:"text-gray-700",children:"This service is for users aged 13 and over. We do not knowingly collect data from children under 13. If we discover an account belongs to a child under 13 without verifiable parental consent, we will delete it."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"6. Your Rights (UK GDPR)"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Access & Portability:"})," Ask for a copy of your data."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Correction:"})," Fix mistakes in your data."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Deletion:"})," Ask us to delete your account."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Withdraw Consent:"})," You can leave a class or change cookie settings at any time."]})]}),c.jsx("p",{className:"text-gray-700 mt-2",children:"To exercise these rights, email specific-request@gogcse.com (Example). You also have the right to complain to the ICO (ico.org.uk)."})]})]})]})}),gye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ti,{size:18}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cookie Policy"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024"}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("p",{className:"text-gray-700",children:'This Cookie Policy explains how GoGCSE ("we", "us", or "our") uses cookies and similar technologies to recognize you when you visit our website. It explains what these technologies are and why we use them, as well as your rights to control our use of them.'}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. What are cookies?"}),c.jsx("p",{className:"text-gray-700",children:"Cookies are small data files that are placed on your computer or mobile device when you visit a website. Cookies are widely used by website owners in order to make their websites work, or to work more efficiently, as well as to provide reporting information."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. Why do we use cookies?"}),c.jsx("p",{className:"text-gray-700 mb-2",children:"We use cookies for several reasons:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Essential Cookies:"})," strictly necessary for the website to function (e.g., to keep you logged in)."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance & Analytics Cookies:"})," to track how users use the site so we can improve it."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Functionality Cookies:"})," to remember your preferences (like your username or language)."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. Cookies we use"}),c.jsx("div",{className:"overflow-x-auto mt-4 mb-8",children:c.jsxs("table",{className:"w-full border-collapse border border-gray-200 text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50",children:[c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Category"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Purpose"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Opt-out?"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2 font-medium",children:"Strictly Necessary"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Login authentication, security, session management."}),c.jsx("td",{className:"border border-gray-200 p-2 text-red-600",children:"No (Required)"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2 font-medium",children:"Performance / Analytics"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Google Analytics (anonymised) to see which pages are popular."}),c.jsx("td",{className:"border border-gray-200 p-2 text-green-600",children:"Yes"})]})]})]})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. Children and Cookies"}),c.jsx("p",{className:"text-gray-700",children:"For users identified as under 18, we strictly limit data collection. We do not use advertising or tracking cookies for marketing purposes for child accounts. Analytics data is anonymised."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. How can I control cookies?"}),c.jsx("p",{className:"text-gray-700",children:"You have the right to decide whether to accept or reject non-essential cookies. You can exercise your cookie rights by setting your preferences in the Cookie Consent Manager (coming soon) or by amending your web browser controls."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"6. Updates to this policy"}),c.jsx("p",{className:"text-gray-700",children:"We may update this Cookie Policy from time to time in order to reflect, for example, changes to the cookies we use or for other operational, legal, or regulatory reasons."})]})]})]})}),yye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ti,{size:18}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Acceptable Use Policy"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024"}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("p",{className:"text-gray-700",children:'This Acceptable Use Policy ("AUP") outlines the rules for using GoGCSE. By accessing our platform, you agree to follow these rules.'}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. Academic Integrity"}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[c.jsx("p",{className:"text-red-800 font-bold mb-2",children:" STRICTLY PROHIBITED"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-red-700 text-sm",children:[c.jsx("li",{children:"Using the platform to cheat in real examinations"}),c.jsx("li",{children:"Sharing answers to real exam papers"}),c.jsx("li",{children:"Uploading copyrighted exam materials"})]})]}),c.jsxs("p",{className:"text-gray-700",children:["GoGCSE is for ",c.jsx("strong",{children:"practice only"}),". You must not use our tools to gain an unfair advantage in official assessments."]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. Prohibited Content"}),c.jsx("p",{className:"text-gray-700 mb-2",children:"You must NOT upload, generate, or share content that is:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Offensive, abusive, or hateful"}),c.jsx("li",{children:"Sexually explicit or violent"}),c.jsx("li",{children:"Harassing or bullying towards others"}),c.jsx("li",{children:"False, misleading, or fraudulent"})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. Account Security"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Do not share your password with anyone"}),c.jsx("li",{children:"Do not access someone else's account"}),c.jsx("li",{children:"Notify us immediately if you suspect unauthorized access"})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. System Abuse"}),c.jsx("p",{className:"text-gray-700 mb-2",children:"You agree NOT to:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Attempt to damage, hack, or interfere with the website"}),c.jsx("li",{children:"Use automated scripts or bots to access the site"}),c.jsx("li",{children:"Data scrape or harvest user information"})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. Consequences of Breach"}),c.jsx("p",{className:"text-gray-700",children:"If you violate this policy, we may:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Issue a warning"}),c.jsx("li",{children:"Suspend your account"}),c.jsx("li",{children:"Permanently terminate your account without refund"}),c.jsx("li",{children:"Report illegal activity to law enforcement"})]})]})]})]})}),vye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ti,{size:18}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:c.jsx(Qi,{className:"text-indigo-600",size:24})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Privacy Information for Students"})]}),c.jsx("p",{className:"text-lg text-gray-600 mb-8 border-b border-gray-100 pb-6",children:"This page explains how we keep your information safe and what we do with it. We want you to understand how GoGCSE works."}),c.jsxs("div",{className:"grid gap-6",children:[c.jsx("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(LX,{className:"text-blue-600 mt-1",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:"1. The Information We Collect"}),c.jsx("p",{className:"text-blue-800 mb-2",children:"When you sign up, we ask for your:"}),c.jsxs("ul",{className:"list-disc pl-5 text-blue-800 text-sm space-y-1",children:[c.jsx("li",{children:"Name (so we know what to call you)"}),c.jsx("li",{children:"Email (to log you in)"}),c.jsx("li",{children:"Age (to make sure you are old enough)"}),c.jsx("li",{children:"Exam answers (to help you practice)"})]})]})]})}),c.jsx("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-100",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(nm,{className:"text-emerald-600 mt-1",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-emerald-900 mb-2",children:"2. Why We Need It"}),c.jsx("p",{className:"text-emerald-800 mb-2",children:"We use this information to:"}),c.jsxs("ul",{className:"list-disc pl-5 text-emerald-800 text-sm space-y-1",children:[c.jsx("li",{children:"Create your account"}),c.jsx("li",{children:"Save your scores so you can see your progress"}),c.jsx("li",{children:"Use AI to mark your practice exams"})]})]})]})}),c.jsx("div",{className:"bg-amber-50 rounded-xl p-6 border border-amber-100",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(ah,{className:"text-amber-600 mt-1",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-2",children:"3. Keeping It Safe"}),c.jsxs("p",{className:"text-amber-800 mb-2",children:["We store your information securely. We ",c.jsx("strong",{children:"never"})," sell your information to advertisers or other companies to contact you."]}),c.jsx("p",{className:"text-amber-800",children:"Only you (and us, for technical help) can see your account details."})]})]})})]}),c.jsxs("div",{className:"mt-10 border-t border-gray-100 pt-8",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Rights"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"You are in control of your data. You can always:"}),c.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Ask to see what info we have"]}),c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Ask us to fix mistakes"]}),c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Ask us to delete your account"]}),c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Change your mind about emails"]})]})]}),c.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-xl",children:[c.jsx("p",{className:"text-gray-700 font-medium",children:"Need help?"}),c.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["If you have questions about privacy, you can ask a parent or guardian to email us at",c.jsx("span",{className:"font-mono text-indigo-600 ml-1",children:"support@gogcse.com"})]})]})]})]})}),xye=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1);b.useEffect(()=>{const d=localStorage.getItem("gogcse_cookie_consent");if(!d)e(!0);else{const f=JSON.parse(d);r(f.analytics)}},[]);const a=()=>{l({necessary:!0,analytics:!0})},s=()=>{l({necessary:!0,analytics:n})},l=d=>{localStorage.setItem("gogcse_cookie_consent",JSON.stringify({...d,timestamp:new Date().toISOString()})),e(!1),d.analytics&&console.log("Analytics cookies enabled")};return t?c.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] z-50 p-6 md:p-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row gap-8 items-start md:items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 mb-2",children:[c.jsx(EQ,{className:"text-edexcel-teal",size:20}),"Cookie Settings"]}),c.jsx("p",{className:"text-gray-600 text-sm leading-relaxed max-w-2xl",children:"We use cookies to ensure our website works (Strictly Necessary). With your permission, wed also like to use analytics cookies to see how you use the site so we can improve it. We do NOT use marketing/advertising cookies."}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-6 text-sm",children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-400 cursor-not-allowed",title:"Required for the site to function",children:[c.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"rounded text-gray-400 focus:ring-0"}),c.jsx("span",{className:"font-medium",children:"Strictly Necessary (Always On)"})]}),c.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:n,onChange:d=>r(d.target.checked),className:"rounded text-edexcel-teal focus:ring-edexcel-teal"}),c.jsx("span",{className:"font-medium",children:"Analytics (Optional)"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto min-w-[300px]",children:[c.jsx("button",{onClick:s,className:"px-6 py-2.5 rounded-lg border-2 border-gray-200 font-bold text-gray-700 hover:border-gray-300 hover:bg-gray-50 transition-colors",children:"Save Preferences"}),c.jsx("button",{onClick:a,className:"px-6 py-2.5 rounded-lg bg-edexcel-teal text-white font-bold hover:bg-teal-700 shadow-md transition-colors",children:"Accept All"})]})]})}):null},bye=()=>{const[t,e]=b.useState(null),[n,r]=b.useState(!0),a=Ft(),[s,l]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(!1),[w,E]=b.useState(!1),[A,S]=b.useState(!1),[C,U]=b.useState(null);b.useEffect(()=>{const T=Hh(_e,async M=>{if(e(M),!M){a("/login"),r(!1);return}try{const V=Fe(be,"users",M.uid),I=await br(V);if(I.exists()){const k=I.data();if(k.isApproved){a("/dashboard");return}if(k.hasConsented){a("/pending-approval");return}}}catch(V){console.error("Error checking consent status:",V)}r(!1)});return()=>T()},[a]);const R=async()=>{if(t){if(!s||!d||!h||!g){U("You must agree to all mandatory legal terms to proceed.");return}S(!0),U(null);try{const T="2.0-dec-2024",M=or(),V=Fe(be,"users",t.uid);(await br(V)).exists()?await Ya(V,{email:t.email,displayName:t.displayName||"",photoURL:t.photoURL||"",hasConsented:!0,consentVersion:T,consentedAt:M,updatedAt:M},{merge:!0}):await Ya(V,{email:t.email,displayName:t.displayName||"",photoURL:t.photoURL||"",createdAt:M,hasConsented:!0,consentVersion:T,consentedAt:M,status:"pending",isApproved:!1,updatedAt:M});try{await Ya(Fe(be,"userConsents",t.uid),{userId:t.uid,createdAt:M},{merge:!0}),await xr(it(be,"userConsents",t.uid,"events"),{action:"accepted_legal_terms",consentVersion:T,acceptedTerms:s,acceptedPrivacy:d,acceptedDisclaimer:h,confirmedAge13Plus:g,marketingOptIn:w,timestamp:M,userAgent:navigator.userAgent})}catch(N){console.warn("Failed to create audit trail, continuing anyway:",N)}a("/pending-approval")}catch(T){console.error("Consent failed:",T),U("Failed to save your consent. Please check your connection and try again.")}finally{S(!1)}}};return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:"Loading..."}):c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white max-w-2xl w-full rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[c.jsxs("div",{className:"bg-[#003764] px-8 py-6 text-white text-center relative overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx(Qi,{className:"mx-auto mb-3",size:48}),c.jsx("h1",{className:"text-2xl font-bold",children:"Welcome to GoGCSE"}),c.jsx("p",{className:"text-blue-100 mt-2",children:"Before you start practising, please review and agree to our rules."})]}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/10 to-transparent pointer-events-none"})]}),c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 mb-8 border border-blue-100",children:[c.jsxs("h3",{className:"text-blue-900 font-bold flex items-center gap-2 mb-3",children:[c.jsx(Li,{size:18}),"Important Reminders"]}),c.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx("span",{className:"mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Practice Only:"})," This platform is NOT an official exam and does not give real qualifications. Scores are estimates only."]})]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx("span",{className:"mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"AI Content:"})," Questions and marking are generated by AI. They may contain mistakes. Always double-check with your teacher."]})]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx("span",{className:"mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Age 13+:"})," You must be 13 or older to use this service."]})]})]})]}),c.jsxs("div",{className:"space-y-5 mb-8",children:[c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:s,onChange:T=>l(T.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Terms of Service (Required)"}),c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["I agree to the GoGCSE ",c.jsx("a",{href:"/terms",target:"_blank",className:"text-[#003764] underline hover:text-[#007fa3]",onClick:T=>T.stopPropagation(),children:"Terms of Service"}),", including the limitation of liability and acceptable use policy."]})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:d,onChange:T=>f(T.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Privacy Policy (Required)"}),c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["I have read the ",c.jsx("a",{href:"/privacy",target:"_blank",className:"text-[#003764] underline hover:text-[#007fa3]",onClick:T=>T.stopPropagation(),children:"Privacy Policy"})," and understand how my data (email, exam answers) is processed."]})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:h,onChange:T=>p(T.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Educational Disclaimer (Required)"}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"I understand this is a practice tool used at my own risk. Results are not official."})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:g,onChange:T=>x(T.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Age Confirmation (Required)"}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"I confirm I am 13 years of age or older."})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-dashed border-gray-300 bg-gray-50/50 cursor-pointer hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:w,onChange:T=>E(T.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-700",children:"Stay Updated (Optional)"}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Email me about new features and exam tips. Unsubscribe anytime."})]})]})]}),C&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg text-sm font-medium border border-red-200",children:C}),c.jsx("button",{onClick:R,disabled:A||!s||!d||!h||!g,className:`w-full py-4 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-2 ${A||!s||!d||!h||!g?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#003764] text-white hover:bg-[#007fa3] shadow-lg hover:shadow-xl"}`,style:{backgroundColor:A||!s||!d||!h||!g?void 0:"#003764"},children:A?"Setting up account...":"Accept & Continue to Dashboard"}),c.jsx("div",{className:"text-center mt-6 text-xs text-gray-400",children:"GoGCSE Platform v2.0  London, UK"})]})]})})},wye=()=>c.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 py-8 px-4 mt-auto",children:c.jsxs("div",{className:"max-w-5xl mx-auto space-y-4",children:[c.jsx("p",{className:"text-xs text-gray-600 text-center leading-relaxed font-medium",children:"GoGCSE is an independent revision tool powered by Artificial Intelligence. We are not affiliated with, endorsed by, or connected to Ofqual, the Department for Education, or any exam boards (AQA, Edexcel, OCR, WJEC). Content is for practice only."}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs text-gray-500 leading-relaxed",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"AI Disclaimer:"}),c.jsx("p",{children:"AI-generated content may contain errors. Always verify important information with official sources before relying on it for academic decisions."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Not Official Grades:"}),c.jsx("p",{children:"Results are estimates for practice purposes only. They are not official grades and should not be submitted as qualifications."})]})]}),c.jsx("p",{className:"text-xs text-gray-400 text-center pt-4 border-t border-gray-200",children:" 2025 GoGCSE. All rights reserved. This is an independent educational tool."})]})}),_ye=()=>{var x,w,E;const t=Ft(),e=ra(),n=Qa.includes(((x=_e.currentUser)==null?void 0:x.email)||""),[r,a]=b.useState(!1),[s,l]=b.useState(()=>localStorage.getItem("adminDarkMode")==="true");b.useEffect(()=>{localStorage.setItem("adminDarkMode",s.toString()),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]);const d=async()=>{await fd(),t("/login")},f=()=>{const A=e.pathname.split("/").filter(Boolean),S=[{label:"Admin",path:"/admin"}];if(A[1]){const C={users:"User Directory",exams:"Exam Records","lab-sessions":"Lab Sessions",settings:"Settings",analytics:"Analytics",announcements:"Announcements","activity-log":"Activity Log",assets:"Assets",security:"Security"};S.push({label:C[A[1]]||A[1],path:e.pathname})}return S},h=({isActive:A})=>`flex items-center gap-3 px-4 py-3 rounded-md transition-colors ${A?"bg-edexcel-teal/20 text-edexcel-teal":"text-slate-300 hover:bg-slate-800"} ${r?"justify-center":""}`,p=[{to:"/admin",icon:rS,label:"Overview",end:!0},{to:"/teacher",icon:Wv,label:"Teacher Classroom"},{to:"/admin/users",icon:Sa,label:"User Directory"},{to:"/admin/exams",icon:dc,label:"Exam Records"},{to:"/admin/lab-sessions",icon:wn,label:"Lab Sessions"},{to:"/admin/analytics",icon:v3,label:"Analytics"},{to:"/admin/announcements",icon:y3,label:"Announcements"},{to:"/admin/assets",icon:FQ,label:"Assets"}],g=[{to:"/admin/activity-log",icon:yy,label:"Activity Log"},{to:"/admin/security",icon:Qi,label:"Security"},{to:"/admin/settings",icon:sS,label:"Settings"},{to:"/admin/directory",icon:Sa,label:"Admin Directory"}];return c.jsxs("div",{className:`flex h-screen ${s?"bg-slate-900":"bg-gray-100"}`,children:[c.jsxs("aside",{className:`${r?"w-20":"w-64"} bg-slate-900 text-white flex flex-col shrink-0 transition-all duration-300`,children:[c.jsxs("div",{className:`p-4 border-b border-slate-700 flex items-center ${r?"justify-center":"justify-between"}`,children:[!r&&c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold tracking-tight text-edexcel-teal",children:"Admin Control"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Edexcel Simulator"})]}),c.jsx("button",{onClick:()=>a(!r),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",title:r?"Expand":"Collapse",children:r?c.jsx(vh,{size:18}):c.jsx(JA,{size:18})})]}),c.jsxs("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:[p.map(A=>c.jsxs(Yg,{to:A.to,end:A.end,className:h,title:r?A.label:void 0,children:[c.jsx(A.icon,{size:20}),!r&&c.jsx("span",{className:"font-medium",children:A.label})]},A.to)),n&&c.jsxs("div",{className:"pt-3 mt-3 border-t border-slate-700",children:[!r&&c.jsx("p",{className:"px-4 py-2 text-xs text-slate-500 uppercase tracking-wider",children:"Super Admin"}),g.map(A=>c.jsxs(Yg,{to:A.to,className:h,title:r?A.label:void 0,children:[c.jsx(A.icon,{size:20}),!r&&c.jsx("span",{className:"font-medium",children:A.label})]},A.to))]})]}),c.jsxs("div",{className:"p-3 border-t border-slate-700 space-y-2",children:[c.jsxs("button",{onClick:()=>l(!s),className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${r?"justify-center":""}`,title:s?"Light Mode":"Dark Mode",children:[s?c.jsx(j3,{size:18}):c.jsx(A3,{size:18}),!r&&c.jsx("span",{children:s?"Light Mode":"Dark Mode"})]}),c.jsxs("button",{onClick:d,className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${r?"justify-center":""}`,title:"Sign Out",children:[c.jsx(hd,{size:18}),!r&&c.jsx("span",{children:"Sign Out"})]}),!r&&c.jsx("div",{className:"px-4 pt-2 text-xs text-slate-500",children:"v2.0.0"})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxs("header",{className:`${s?"bg-slate-800 border-slate-700":"bg-white border-gray-200"} border-b h-16 flex items-center justify-between px-6 shadow-sm`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>t("/"),className:`p-2 rounded-lg hover:bg-slate-100 ${s?"hover:bg-slate-700":""}`,title:"Back to App",children:c.jsx(nS,{size:18,className:s?"text-slate-400":"text-slate-500"})}),c.jsx("nav",{className:"flex items-center gap-1 text-sm",children:f().map((A,S,C)=>c.jsxs(Mh.Fragment,{children:[c.jsx("button",{onClick:()=>t(A.path),className:`${S===C.length-1?s?"text-white font-semibold":"text-slate-900 font-semibold":s?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:A.label}),S<C.length-1&&c.jsx("span",{className:s?"text-slate-600":"text-slate-300",children:"/"})]},A.path))})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`text-sm font-bold ${s?"text-white":"text-gray-800"}`,children:((w=_e.currentUser)==null?void 0:w.displayName)||"Admin User"}),c.jsx("div",{className:`text-xs ${s?"text-slate-400":"text-gray-500"}`,children:n?"Super Administrator":"Administrator"})]}),c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden",children:(E=_e.currentUser)!=null&&E.photoURL?c.jsx("img",{src:_e.currentUser.photoURL,alt:"Admin",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:c.jsx(Sa,{size:20})})})]})]}),c.jsx("main",{className:`flex-1 overflow-auto p-6 ${s?"bg-slate-900":""}`,children:c.jsx(c4,{context:{darkMode:s}})})]})]})},qD=()=>{const t=Ft(),e=Uh(),n=(e==null?void 0:e.darkMode)||!1,[r,a]=b.useState([]),[s,l]=b.useState([]),[d,f]=b.useState(!0),[h,p]=b.useState("30");b.useEffect(()=>{(async()=>{const[P,L]=await Promise.all([Ec(),QA()]);a(P),l(L),f(!1)})()},[]);const g=b.useMemo(()=>{if(h==="all")return s;const N=parseInt(h),P=Date.now()-N*24*60*60*1e3;return s.filter(L=>{var z;return((z=L.date)==null?void 0:z.seconds)&&L.date.seconds*1e3>=P})},[s,h]),x=b.useMemo(()=>{const N=g.reduce((L,z)=>L+(z.totalScore||0),0),P=g.length>0?Math.round(N/g.length):0;return{totalUsers:r.length,totalExams:g.length,avgScore:P,recentActivity:g.slice(0,5)}},[r,g]),w=b.useMemo(()=>{const N={};return r.forEach(P=>{N[P.uid||P.id]=P.displayName||P.email||"Unknown"}),N},[r]),E=b.useMemo(()=>{const N={9:0,8:0,7:0,6:0,5:0,4:0,3:0,2:0,1:0};return g.forEach(P=>{var z;const L=((z=P.gradeEstimate)==null?void 0:z.toString())||"1";N[L]!==void 0&&N[L]++}),Object.entries(N).map(([P,L])=>({grade:`Grade ${P}`,count:L})).reverse()},[g]),A=b.useMemo(()=>{const N=g.filter($=>{var ne;return $.paperType==="PAPER_1"||((ne=$.paperType)==null?void 0:ne.includes("1"))}),P=g.filter($=>{var ne;return $.paperType==="PAPER_2"||((ne=$.paperType)==null?void 0:ne.includes("2"))}),L=N.length>0?Math.round(N.reduce(($,ne)=>$+(ne.totalScore||0),0)/N.length):0,z=P.length>0?Math.round(P.reduce(($,ne)=>$+(ne.totalScore||0),0)/P.length):0;return[{name:"Paper 1",average:L,count:N.length},{name:"Paper 2",average:z,count:P.length}]},[g]),S=b.useMemo(()=>{const N={},P=new Date;for(let L=29;L>=0;L--){const z=new Date(P);z.setDate(z.getDate()-L),N[z.toLocaleDateString("en-US",{month:"short",day:"numeric"})]=new Set}return s.forEach(L=>{var z;if((z=L.date)!=null&&z.seconds&&L.userId){const $=new Date(L.date.seconds*1e3),ne=Math.floor((P.getTime()-$.getTime())/(1e3*60*60*24));if(ne>=0&&ne<30){const me=$.toLocaleDateString("en-US",{month:"short",day:"numeric"});N[me]&&N[me].add(L.userId)}}}),Object.entries(N).map(([L,z])=>({day:L,activeUsers:z.size}))},[s]),C=b.useMemo(()=>{const N={};return g.forEach(P=>{var L;if((L=P.date)!=null&&L.seconds){const z=new Date(P.date.seconds*1e3),$=new Date(z);$.setDate(z.getDate()-z.getDay());const ne=$.toLocaleDateString("en-US",{month:"short",day:"numeric"});N[ne]||(N[ne]={total:0,count:0}),N[ne].total+=P.totalScore||0,N[ne].count++}}),Object.entries(N).map(([P,L])=>({week:P,avgScore:Math.round(L.total/L.count)})).slice(-8)},[g]),U=b.useMemo(()=>{const N={};return g.forEach(P=>{var L;(L=P.questionResults)==null||L.forEach(z=>{z.aos&&Object.entries(z.aos).forEach(([$,ne])=>{N[$]||(N[$]={score:0,max:0}),N[$].score+=Number(ne)||0,N[$].max+=z.maxScore||10})})}),Object.entries(N).map(([P,L])=>({ao:P,percentage:L.max>0?Math.round(L.score/L.max*100):0})).sort((P,L)=>P.percentage-L.percentage)},[g]),R=b.useMemo(()=>{const N={},P=new Date;for(let L=6;L>=0;L--){const z=new Date(P);z.setDate(z.getDate()-L),N[z.toLocaleDateString("en-US",{weekday:"short"})]=0}return g.forEach(L=>{var z;if((z=L.date)!=null&&z.seconds){const $=new Date(L.date.seconds*1e3),ne=Math.floor((P.getTime()-$.getTime())/(1e3*60*60*24));if(ne>=0&&ne<7){const me=$.toLocaleDateString("en-US",{weekday:"short"});N[me]!==void 0&&N[me]++}}}),Object.entries(N).map(([L,z])=>({day:L,exams:z}))},[g]),T=n?"bg-slate-800 border-slate-700":"bg-white border-slate-200",M=n?"text-white":"text-slate-900",V=n?"text-slate-400":"text-slate-500";if(d)return c.jsx("div",{className:`p-8 text-center ${V}`,children:"Loading analytics..."});const I=({title:N,value:P,icon:L,color:z,subtitle:$})=>c.jsx("div",{className:`p-5 rounded-xl shadow-sm border ${T}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${V}`,children:N}),c.jsx("h3",{className:`text-2xl font-bold ${M} mt-1`,children:P}),$&&c.jsx("p",{className:`text-xs ${V} mt-1`,children:$})]}),c.jsx("div",{className:`p-3 rounded-lg ${z}`,children:c.jsx(L,{size:22,className:"text-white"})})]})}),k=({label:N,onClick:P,icon:L})=>c.jsxs("button",{onClick:P,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${n?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(L,{size:16}),N,c.jsx(Gv,{size:14})]});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${M}`,children:"Platform Overview"}),c.jsx("p",{className:V,children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border ${T}`,children:[c.jsx(uc,{size:16,className:V}),c.jsxs("select",{value:h,onChange:N=>p(N.target.value),className:`bg-transparent text-sm font-medium ${M} focus:outline-none`,children:[c.jsx("option",{value:"7",children:"Last 7 days"}),c.jsx("option",{value:"30",children:"Last 30 days"}),c.jsx("option",{value:"90",children:"Last 90 days"}),c.jsx("option",{value:"all",children:"All time"})]})]}),c.jsx(k,{label:"Users",onClick:()=>t("/admin/users"),icon:Sa}),c.jsx(k,{label:"Exams",onClick:()=>t("/admin/exams"),icon:dc})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(I,{title:"Total Students",value:x.totalUsers,icon:Sa,color:"bg-blue-500"}),c.jsx(I,{title:"Exams Completed",value:x.totalExams,icon:dc,color:"bg-indigo-500",subtitle:h==="all"?"all time":`last ${h} days`}),c.jsx(I,{title:"Average Score",value:x.avgScore,icon:gw,color:"bg-emerald-500"}),c.jsx(I,{title:"System Status",value:"Active",icon:Yi,color:"bg-slate-500"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${T}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(v3,{size:18,className:"text-indigo-500"}),c.jsx("h3",{className:`font-bold ${M}`,children:"Grade Distribution"})]}),c.jsx(Eu,{width:"100%",height:220,children:c.jsxs(CE,{data:E,children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"grade",tick:{fontSize:11,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Iu,{allowDecimals:!1,tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Au,{}),c.jsx(cv,{dataKey:"count",fill:"#6366f1",radius:[4,4,0,0]})]})})]}),c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${T}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(dQ,{size:18,className:"text-purple-500"}),c.jsx("h3",{className:`font-bold ${M}`,children:"Paper Comparison"})]}),c.jsxs("div",{className:"flex items-center justify-around",children:[c.jsx(Eu,{width:"50%",height:180,children:c.jsxs(aye,{children:[c.jsx(Wz,{data:A,dataKey:"count",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,label:!0,children:A.map((N,P)=>c.jsx(Sm,{fill:P===0?"#6366f1":"#a855f7"},P))}),c.jsx(Au,{})]})}),c.jsx("div",{className:"space-y-3",children:A.map((N,P)=>c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:`text-sm ${V}`,children:N.name}),c.jsxs("p",{className:`text-lg font-bold ${M}`,children:["Avg: ",N.average]}),c.jsxs("p",{className:`text-xs ${V}`,children:[N.count," exams"]})]},P))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${T}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Sa,{size:18,className:"text-blue-500"}),c.jsx("h3",{className:`font-bold ${M}`,children:"Active Users (30 Days)"})]}),c.jsx(Eu,{width:"100%",height:180,children:c.jsxs(sye,{data:S.slice(-14),children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"day",tick:{fontSize:10,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Iu,{allowDecimals:!1,tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Au,{}),c.jsx(w8,{type:"monotone",dataKey:"activeUsers",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.2})]})})]}),c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${T}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(gw,{size:18,className:"text-emerald-500"}),c.jsx("h3",{className:`font-bold ${M}`,children:"Score Trends (Weekly)"})]}),c.jsx(Eu,{width:"100%",height:180,children:c.jsxs(Kge,{data:C,children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"week",tick:{fontSize:10,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Iu,{tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Au,{}),c.jsx(h8,{type:"monotone",dataKey:"avgScore",stroke:"#10b981",strokeWidth:2,dot:{r:4}})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${T}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(gw,{size:18,className:"text-amber-500"}),c.jsx("h3",{className:`font-bold ${M}`,children:"AO Performance"})]}),c.jsx("p",{className:`text-xs ${V} mb-3`,children:"Weakest first"}),c.jsx("div",{className:"space-y-2",children:U.length>0?U.slice(0,5).map((N,P)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[c.jsx("span",{className:`font-medium ${M}`,children:N.ao}),c.jsxs("span",{className:V,children:[N.percentage,"%"]})]}),c.jsx("div",{className:`w-full rounded-full h-2 ${n?"bg-slate-700":"bg-slate-100"}`,children:c.jsx("div",{className:`h-2 rounded-full ${N.percentage<50?"bg-red-500":N.percentage<70?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${N.percentage}%`}})})]},P)):c.jsx("p",{className:V,children:"No AO data available."})})]}),c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${T}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(yy,{size:18,className:"text-emerald-500"}),c.jsx("h3",{className:`font-bold ${M}`,children:"Weekly Activity"})]}),c.jsx(Eu,{width:"100%",height:180,children:c.jsxs(CE,{data:R,children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"day",tick:{fontSize:11,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Iu,{allowDecimals:!1,tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Au,{}),c.jsx(cv,{dataKey:"exams",fill:"#10b981",radius:[4,4,0,0]})]})})]})]}),c.jsxs("div",{className:`rounded-xl shadow-sm border overflow-hidden ${T}`,children:[c.jsx("div",{className:`p-5 border-b ${n?"border-slate-700":"border-slate-100"}`,children:c.jsx("h3",{className:`font-bold ${M}`,children:"Recent Submissions"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:n?"bg-slate-700/50":"bg-slate-50",children:c.jsxs("tr",{className:`text-xs uppercase font-semibold ${V}`,children:[c.jsx("th",{className:"px-5 py-3",children:"User"}),c.jsx("th",{className:"px-5 py-3",children:"Paper"}),c.jsx("th",{className:"px-5 py-3",children:"Score"}),c.jsx("th",{className:"px-5 py-3",children:"Grade"}),c.jsx("th",{className:"px-5 py-3",children:"Date"})]})}),c.jsxs("tbody",{className:`divide-y ${n?"divide-slate-700":"divide-slate-100"}`,children:[x.recentActivity.map(N=>{var P,L,z;return c.jsxs("tr",{className:n?"hover:bg-slate-700/50":"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-5 py-3",children:[c.jsx("div",{className:`text-sm font-medium ${M}`,children:w[N.userId]||"Unknown"}),c.jsxs("div",{className:`text-xs font-mono ${V}`,children:[(P=N.userId)==null?void 0:P.substring(0,8),"..."]})]}),c.jsx("td",{className:`px-5 py-3 text-sm ${M}`,children:(L=N.paperType)!=null&&L.includes("1")?"Paper 1":"Paper 2"}),c.jsx("td",{className:"px-5 py-3",children:c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[N.totalScore,"/",N.maxScore]})}),c.jsx("td",{className:"px-5 py-3",children:c.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:["Grade ",N.gradeEstimate||"N/A"]})}),c.jsx("td",{className:`px-5 py-3 text-sm ${V}`,children:(z=N.date)!=null&&z.seconds?new Date(N.date.seconds*1e3).toLocaleDateString():"Just now"})]},N.id)}),x.recentActivity.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:`px-5 py-8 text-center ${V}`,children:"No recent activity."})})]})]})})]})]})},Eye=()=>{var k,N;const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(""),[l,d]=b.useState(!0),[f,h]=b.useState(null),[p,g]=b.useState([]),[x,w]=b.useState(!1),[E,A]=b.useState(!1);Qa.includes(((k=_e.currentUser)==null?void 0:k.email)||"");const S=Ft();b.useEffect(()=>{C()},[]),b.useEffect(()=>{if(!Array.isArray(t))return;const P=a.toLowerCase();r(t.filter(L=>L&&((L.email||"").toLowerCase().includes(P)||(L.displayName||"").toLowerCase().includes(P)||(L.id||"").includes(P))))},[a,t]);const C=async()=>{d(!0);const P=await Ec();e(P),d(!1)},U=async P=>{if(!window.confirm("Are you sure? This will delete the user and ALL their exam data permanently."))return;await m3(P)?(e(z=>z.filter($=>$.id!==P)),h(null),alert("User deleted successfully.")):alert("Failed to delete user.")},R=async P=>{h(P),w(!0);try{const L=await YA(P.id);g(L)}catch(L){console.error("Failed to load user exams",L),g([])}w(!1)},T=async P=>{var L,z;if(confirm("Approve this user to active status?")){A(!0);try{await vr(Fe(be,"users",P),{status:"approved",isApproved:!0,updatedAt:or()}),await xr(it(be,"activityLogs"),{action:"User Status Approved",actionType:"update",targetType:"user",targetId:P,details:"User status changed from pending to approved",userId:((L=_e.currentUser)==null?void 0:L.uid)||"unknown",userEmail:((z=_e.currentUser)==null?void 0:z.email)||"unknown",timestamp:or()}),e($=>$.map(ne=>ne.id===P?{...ne,status:"approved",isApproved:!0}:ne)),h($=>$&&$.id===P?{...$,status:"approved",isApproved:!0}:$),alert("User approved successfully!")}catch($){console.error("Failed to approve user:",$),alert("Failed to approve user")}finally{A(!1)}}},M=async P=>{var L,z;if(confirm("Set this user to pending status?")){A(!0);try{await vr(Fe(be,"users",P),{status:"pending",isApproved:!1,updatedAt:or()}),await xr(it(be,"activityLogs"),{action:"User Status Set to Pending",actionType:"update",targetType:"user",targetId:P,details:"User status changed from approved to pending",userId:((L=_e.currentUser)==null?void 0:L.uid)||"unknown",userEmail:((z=_e.currentUser)==null?void 0:z.email)||"unknown",timestamp:or()}),e($=>$.map(ne=>ne.id===P?{...ne,status:"pending",isApproved:!1}:ne)),h($=>$&&$.id===P?{...$,status:"pending",isApproved:!1}:$),alert("User set to pending!")}catch($){console.error("Failed to set user to pending:",$),alert("Failed to update user status")}finally{A(!1)}}},V=ei.includes(((N=_e.currentUser)==null?void 0:N.email)||""),I=()=>{const P=["Display Name","Email","User ID","Last Active","Status"],L=t.map(Y=>{var oe;return[Y.displayName||"Unnamed",Y.email||"",Y.id,(oe=Y.lastActive)!=null&&oe.seconds?new Date(Y.lastActive.seconds*1e3).toISOString():"Unknown",Y.disabled?"Disabled":"Active"]}),z=[P,...L].map(Y=>Y.join(",")).join(`
`),$=new Blob([z],{type:"text/csv"}),ne=URL.createObjectURL($),me=document.createElement("a");me.href=ne,me.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,me.click(),URL.revokeObjectURL(ne)};return l?c.jsx("div",{className:"p-8",children:"Loading directory..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"User Directory"}),c.jsx("p",{className:"text-slate-500",children:"Manage student accounts and access."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors",children:[c.jsx(tS,{size:18}),"Export CSV"]}),c.jsxs("div",{className:"relative",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:P=>s(P.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-edexcel-teal w-64"})]})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User"}),c.jsx("th",{className:"px-6 py-4",children:"Email"}),c.jsx("th",{className:"px-6 py-4",children:"Last Active"}),c.jsx("th",{className:"px-6 py-4",children:"Role"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(P=>{var L;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 overflow-hidden",children:P.photoURL?c.jsx("img",{src:P.photoURL,className:"w-full h-full object-cover",alt:""}):c.jsx(Ku,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-900",children:P.displayName||"Unnamed User"}),c.jsxs("div",{className:"text-xs text-slate-400 font-mono",title:P.id,children:[P.id.slice(0,12),"..."]})]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:P.email||c.jsx("span",{className:"text-slate-400 italic",children:"No Email"})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:(L=P.lastActive)!=null&&L.seconds?new Date(P.lastActive.seconds*1e3).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Qa.includes(P.email||"")&&c.jsxs("span",{className:"px-2 py-1 inline-flex items-center text-xs font-bold rounded-full bg-gradient-to-r from-amber-100 to-orange-100 text-amber-900 border border-amber-400 shadow-sm",children:[c.jsx(eS,{size:12,className:"mr-1"}),"Super Admin"]}),P.isAdmin&&c.jsx("span",{className:"px-2 py-1 inline-flex items-center text-xs font-bold rounded-full bg-red-100 text-red-900 border border-red-300",children:"Admin"}),P.isTeacher&&c.jsxs("span",{className:"px-2 py-1 inline-flex items-center text-xs font-bold rounded-full bg-blue-100 text-blue-900 border border-blue-300",children:[c.jsx(Wv,{size:12,className:"mr-1"}),"Teacher"]}),!Qa.includes(P.email||"")&&!P.isAdmin&&!P.isTeacher&&c.jsx("span",{className:"px-2 py-1 inline-flex items-center text-xs font-semibold rounded-full bg-slate-100 text-slate-700 border border-slate-200",children:"Student"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"flex items-center gap-2",children:P.status==="approved"?c.jsxs("button",{onClick:()=>M(P.id),disabled:E||!V,className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border bg-emerald-100 text-emerald-800 border-emerald-300 transition-all ${V?"hover:bg-amber-100 hover:text-amber-800 hover:border-amber-300 cursor-pointer":"cursor-default"} disabled:opacity-50`,title:V?"Click to set Pending":"Active",children:[c.jsx(Yi,{size:12,className:"mr-1"}),"Active"]}):c.jsx("button",{onClick:()=>T(P.id),disabled:E||!V,className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border bg-amber-100 text-amber-800 border-amber-300 transition-all ${V?"hover:bg-emerald-100 hover:text-emerald-800 hover:border-emerald-300 cursor-pointer":"cursor-default"} disabled:opacity-50`,title:V?"Click to make Active":"Only admins can approve",children:"Pending"})})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[(f==null?void 0:f.id)===P.id&&P.isAdmin&&c.jsx("button",{onClick:()=>{S(`/teacher/view/${P.id}`)},className:"text-emerald-500 hover:text-emerald-700 p-2 hover:bg-emerald-50 rounded-md transition-colors",title:"View Classes",children:c.jsx(wn,{size:18})}),c.jsx("button",{onClick:()=>R(P),className:"text-blue-500 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-md transition-colors",title:"View Profile",children:c.jsx(nm,{size:18})}),c.jsx("button",{onClick:()=>U(P.id),className:"text-slate-400 hover:text-red-500 p-2 hover:bg-red-50 rounded-md transition-colors",title:"Delete User",children:c.jsx(Aa,{size:18})})]})})]},P.id)}),n.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:['No users found matching "',a,'"']})})]})]})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"User Profile"}),c.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(ni,{size:20})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden",children:f.photoURL?c.jsx("img",{src:f.photoURL,className:"w-full h-full object-cover",alt:""}):c.jsx(Ku,{size:32,className:"text-slate-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:f.displayName||"Unnamed"}),c.jsx("p",{className:"text-slate-500",children:f.email}),c.jsx("p",{className:"text-xs text-slate-400 font-mono mt-1",children:f.id})]})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[c.jsx(dc,{size:18}),"Exam History (",p.length,")"]}),x?c.jsx("p",{className:"text-slate-400",children:"Loading exam history..."}):p.length>0?c.jsx("div",{className:"space-y-2",children:p.map((P,L)=>{var z,$;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(uc,{size:16,className:"text-slate-400"}),c.jsx("span",{className:"text-sm text-slate-600",children:(z=P.date)!=null&&z.seconds?new Date(P.date.seconds*1e3).toLocaleDateString():"Unknown"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm font-medium text-slate-700",children:($=P.paperType)!=null&&$.includes("1")?"Paper 1":"Paper 2"}),c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[P.totalScore,"/",P.maxScore]}),c.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:["Grade ",P.gradeEstimate||"N/A"]})]})]},L)})}):c.jsx("p",{className:"text-slate-400 text-sm",children:"No exam history for this user."})]})]}),c.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-end gap-2 flex-wrap",children:[V&&(f.status==="approved"?c.jsx("button",{onClick:()=>M(f.id),disabled:E,className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"Set Pending"}):c.jsx("button",{onClick:()=>T(f.id),disabled:E,className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"Make Active"})),c.jsx("button",{onClick:()=>R(f),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f.isAdmin?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:f.isAdmin?"View Admin":"View Profile"}),f.isAdmin&&c.jsxs("button",{onClick:()=>S(`/teacher/view/${f.id}`),className:"px-4 py-2 ml-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2",title:"View Classes",children:[c.jsx(wn,{size:16}),"View Classes"]}),c.jsx("button",{onClick:()=>U(f.id),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:"Delete User"})]})]})})]})},Aye=()=>{var oe;const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(null),[f,h]=b.useState(0),[p,g]=b.useState(null),[x,w]=b.useState(new Set),[E,A]=b.useState({}),[S,C]=b.useState("all"),[U,R]=b.useState("all"),[T,M]=b.useState("");b.useEffect(()=>{V()},[]),b.useEffect(()=>{let H=[...t];if(S!=="all"&&(H=H.filter(K=>{var ae,q,re;return((ae=K.paperType)==null?void 0:ae.includes(S))||((re=(q=K.paperData)==null?void 0:q.type)==null?void 0:re.includes(S))})),U!=="all"&&(H=H.filter(K=>{var ae;return((ae=K.gradeEstimate)==null?void 0:ae.toString())===U})),T){const K=T.toLowerCase();H=H.filter(ae=>{var q,re,pe;return((q=ae.userId)==null?void 0:q.toLowerCase().includes(K))||((re=ae.id)==null?void 0:re.toLowerCase().includes(K))||((pe=E[ae.userId])==null?void 0:pe.toLowerCase().includes(K))})}r(H)},[t,S,U,T,E]);const V=async()=>{s(!0);const[H,K]=await Promise.all([QA(),Ec()]),ae={};K.forEach(q=>{ae[q.uid||q.id]=q.displayName||q.email||"Unknown"}),A(ae),e(H),s(!1)},[I,k]=b.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),N=(H,K,ae)=>{k({isOpen:!0,title:H,message:K,onConfirm:ae})},P=async H=>{N("Delete Exam Record","Are you sure you want to permanently delete this exam record? This action cannot be undone.",async()=>{await gy(H)&&(e(ae=>ae.filter(q=>q.id!==H)),w(ae=>(ae.delete(H),new Set(ae)))),k(ae=>({...ae,isOpen:!1}))})},L=async()=>{x.size!==0&&N("Delete Multiple Records",`Are you sure you want to delete ${x.size} selected exam record${x.size>1?"s":""}? This action cannot be undone.`,async()=>{const H=Array.from(x).map(K=>gy(K));await Promise.all(H),e(K=>K.filter(ae=>!x.has(ae.id))),w(new Set),k(K=>({...K,isOpen:!1}))})},z=()=>{x.size===n.length?w(new Set):w(new Set(n.map(H=>H.id)))},$=H=>{w(K=>{const ae=new Set(K);return ae.has(H)?ae.delete(H):ae.add(H),ae})},ne=H=>{d(H.id),h(H.totalScore||0)},me=async H=>{await h3(H,{totalScore:f})?(e(ae=>ae.map(q=>q.id===H?{...q,totalScore:f}:q)),d(null)):alert("Failed to update exam.")},Y=()=>{const H=["Exam ID","User ID","Paper Type","Score","Max Score","Grade","Date"],K=n.map(ye=>{var Ce,ke;return[ye.id,ye.userId,ye.paperType||((Ce=ye.paperData)==null?void 0:Ce.type)||"Unknown",ye.totalScore,ye.maxScore,ye.gradeEstimate||"N/A",(ke=ye.date)!=null&&ke.seconds?new Date(ye.date.seconds*1e3).toISOString():"Unknown"]}),ae=[H,...K].map(ye=>ye.join(",")).join(`
`),q=new Blob([ae],{type:"text/csv"}),re=URL.createObjectURL(q),pe=document.createElement("a");pe.href=re,pe.download=`exams_export_${new Date().toISOString().split("T")[0]}.csv`,pe.click(),URL.revokeObjectURL(re)};return a?c.jsx("div",{className:"p-8",children:"Loading records..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Exam Records"}),c.jsx("p",{className:"text-slate-500",children:"Global view of all assessment submissions."})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[x.size>0&&c.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[c.jsx(Aa,{size:18}),"Delete (",x.size,")"]}),c.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors",children:[c.jsx(tS,{size:18}),"Export CSV"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap bg-white p-4 rounded-xl border border-slate-200",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_3,{size:18,className:"text-slate-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Filters:"})]}),c.jsxs("select",{value:S,onChange:H=>C(H.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Papers"}),c.jsx("option",{value:"1",children:"Paper 1"}),c.jsx("option",{value:"2",children:"Paper 2"})]}),c.jsxs("select",{value:U,onChange:H=>R(H.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Grades"}),[9,8,7,6,5,4,3,2,1].map(H=>c.jsxs("option",{value:H.toString(),children:["Grade ",H]},H))]}),c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search by name or user ID...",value:T,onChange:H=>M(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("span",{className:"text-sm text-slate-400",children:["Showing ",n.length," of ",t.length]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-4",children:c.jsx("input",{type:"checkbox",checked:x.size===n.length&&n.length>0,onChange:z,className:"w-4 h-4 rounded border-slate-300"})}),c.jsx("th",{className:"px-4 py-4",children:"User"}),c.jsx("th",{className:"px-4 py-4",children:"Paper"}),c.jsx("th",{className:"px-4 py-4",children:"Score"}),c.jsx("th",{className:"px-4 py-4",children:"Grade"}),c.jsx("th",{className:"px-4 py-4",children:"Date"}),c.jsx("th",{className:"px-4 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(H=>{var K,ae,q,re;return c.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${x.has(H.id)?"bg-blue-50":""}`,children:[c.jsx("td",{className:"px-4 py-4",children:c.jsx("input",{type:"checkbox",checked:x.has(H.id),onChange:()=>$(H.id),className:"w-4 h-4 rounded border-slate-300"})}),c.jsxs("td",{className:"px-4 py-4",children:[c.jsx("div",{className:"text-sm font-medium text-slate-900",children:E[H.userId]||"Unknown"}),c.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:[(K=H.userId)==null?void 0:K.substring(0,10),"..."]})]}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ${(H.paperType||((ae=H.paperData)==null?void 0:ae.type)||"").includes("1")?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:[c.jsx(dc,{size:14}),(H.paperType||((q=H.paperData)==null?void 0:q.type)||"Unknown").includes("1")?"Paper 1":"Paper 2"]})}),c.jsx("td",{className:"px-4 py-4",children:l===H.id?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:f,onChange:pe=>h(Number(pe.target.value)),className:"w-16 border rounded px-2 py-1 text-sm"}),c.jsxs("span",{className:"text-slate-400 text-sm",children:["/ ",H.maxScore]})]}):c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H.totalScore/H.maxScore>.7?"bg-emerald-100 text-emerald-800":H.totalScore/H.maxScore>.4?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[H.totalScore," / ",H.maxScore]})}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Grade ",H.gradeEstimate||"N/A"]})}),c.jsx("td",{className:"px-4 py-4 text-sm text-slate-500",children:(re=H.date)!=null&&re.seconds?new Date(H.date.seconds*1e3).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("div",{className:"flex items-center justify-end gap-1",children:l===H.id?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>me(H.id),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded",children:c.jsx(ZA,{size:18})}),c.jsx("button",{onClick:()=>d(null),className:"p-2 text-slate-400 hover:bg-slate-100 rounded",children:c.jsx(ni,{size:18})})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>g(H),className:"p-2 text-slate-500 hover:bg-slate-100 rounded",title:"View Details",children:c.jsx(nm,{size:18})}),c.jsx("button",{onClick:()=>ne(H),className:"p-2 text-blue-500 hover:bg-blue-50 rounded",title:"Edit Score",children:c.jsx(Yv,{size:18})}),c.jsx("button",{onClick:()=>P(H.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(Aa,{size:18})})]})})})]},H.id)}),n.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-slate-400",children:"No exam records found."})})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Exam Details"}),c.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(ni,{size:20})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"User ID"}),c.jsx("p",{className:"font-mono text-sm",children:p.userId})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Paper Type"}),c.jsx("p",{className:"font-medium",children:p.paperType||((oe=p.paperData)==null?void 0:oe.type)||"Unknown"})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Score"}),c.jsxs("p",{className:"font-bold text-lg",children:[p.totalScore," / ",p.maxScore]})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Grade Estimate"}),c.jsxs("p",{className:"font-bold text-lg",children:["Grade ",p.gradeEstimate||"N/A"]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Overall Feedback"}),c.jsx("p",{className:"text-slate-600 text-sm bg-slate-50 p-4 rounded-lg",children:p.overallFeedback||"No feedback available."})]}),p.questionResults&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Question Results"}),c.jsx("div",{className:"space-y-2",children:p.questionResults.map((H,K)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[c.jsxs("span",{className:"font-medium text-slate-700",children:["Q",H.questionId]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[H.score,"/",H.maxScore]}),c.jsxs("span",{className:"text-sm text-slate-500",children:["Level ",H.level||"N/A"]})]})]},K))})]})]})]})}),I.isOpen&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-in fade-in zoom-in duration-200",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx(Aa,{className:"text-red-600",size:24})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900",children:I.title})]}),c.jsx("p",{className:"text-slate-600 mb-6",children:I.message}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>k(H=>({...H,isOpen:!1})),className:"flex-1 px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-xl transition-colors",children:"Cancel"}),c.jsx("button",{onClick:I.onConfirm,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-xl transition-all shadow-lg shadow-red-500/25",children:"Delete"})]})]})})})]})},Sye=()=>{var A;const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(""),[f,h]=b.useState("all"),[p,g]=b.useState(null);b.useEffect(()=>{x()},[]),b.useEffect(()=>{let S=[...t];if(f!=="all"&&(S=S.filter(C=>C.method===f)),l){const C=l.toLowerCase();S=S.filter(U=>{var R,T;return((R=U.userId)==null?void 0:R.toLowerCase().includes(C))||((T=U.text)==null?void 0:T.toLowerCase().includes(C))})}r(S)},[t,f,l]);const x=async()=>{s(!0);try{const S=Mr(it(be,"labSessions"),Jh("date","desc"),Bv(100)),U=(await Bn(S)).docs.map(R=>({id:R.id,...R.data()}));e(U)}catch(S){console.error("Failed to load lab sessions",S),e([])}s(!1)},w=async S=>{if(window.confirm("Delete this lab session?"))try{await lc(Fe(be,"labSessions",S)),e(C=>C.filter(U=>U.id!==S))}catch(C){console.error("Failed to delete session",C),alert("Failed to delete session.")}},E=S=>{switch(S){case"analyzer":return c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Analyzer"});case"gym":return c.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Writing Gym"});default:return c.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-800 text-xs font-medium rounded-full",children:S})}};return a?c.jsx("div",{className:"p-8",children:"Loading lab sessions..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center flex-wrap gap-4",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Language Lab Sessions"}),c.jsx("p",{className:"text-slate-500",children:"View and manage student practice sessions."})]})}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap bg-white p-4 rounded-xl border border-slate-200",children:[c.jsxs("select",{value:f,onChange:S=>h(S.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Methods"}),c.jsx("option",{value:"analyzer",children:"Analyzer"}),c.jsx("option",{value:"gym",children:"Writing Gym"})]}),c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search by User ID or text...",value:l,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("span",{className:"text-sm text-slate-400",children:["Showing ",n.length," of ",t.length]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User ID"}),c.jsx("th",{className:"px-6 py-4",children:"Method"}),c.jsx("th",{className:"px-6 py-4",children:"Text Preview"}),c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(S=>{var C,U,R;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-slate-600",children:[(C=S.userId)==null?void 0:C.substring(0,12),"..."]}),c.jsx("td",{className:"px-6 py-4",children:E(S.method)}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-[300px] truncate",children:[(U=S.text)==null?void 0:U.substring(0,100),"..."]}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:(R=S.date)!=null&&R.seconds?new Date(S.date.seconds*1e3).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx("button",{onClick:()=>g(S),className:"p-2 text-slate-500 hover:bg-slate-100 rounded",title:"View Details",children:c.jsx(oX,{size:18})}),c.jsx("button",{onClick:()=>w(S.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(Aa,{size:18})})]})})]},S.id)}),n.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:"No lab sessions found."})})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(wn,{size:24,className:"text-indigo-500"}),c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Lab Session Details"})]}),c.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(ni,{size:20})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ku,{size:16,className:"text-slate-400"}),c.jsx("p",{className:"text-sm text-slate-500",children:"User ID"})]}),c.jsx("p",{className:"font-mono text-sm",children:p.userId})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(uc,{size:16,className:"text-slate-400"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Date"})]}),c.jsx("p",{className:"font-medium",children:(A=p.date)!=null&&A.seconds?new Date(p.date.seconds*1e3).toLocaleString():"Unknown"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Method"}),E(p.method)]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Submitted Text"}),c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg text-sm text-slate-700 whitespace-pre-wrap max-h-[200px] overflow-y-auto",children:p.text||"No text submitted."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"AI Feedback"}),c.jsx("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-slate-700 whitespace-pre-wrap max-h-[200px] overflow-y-auto",children:typeof p.feedback=="object"?JSON.stringify(p.feedback,null,2):p.feedback||"No feedback available."})]})]})]})})]})},jye=()=>{var k;const t=Ft(),e=Qa.includes(((k=_e.currentUser)==null?void 0:k.email)||""),[n,r]=b.useState({adminEmails:[...ei],featureFlags:{paper1Enabled:!0,paper2Enabled:!0,languageLabEnabled:!0},apiKeyConfigured:!0}),[a,s]=b.useState(!0),[l,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(""),[x,w]=b.useState([]),[E,A]=b.useState(null),[S,C]=b.useState("checking");b.useEffect(()=>{R(),U()},[]);const U=async()=>{C("checking");try{const N=await fetch("/api/debug-config");N.ok?(await N.json()).hasApiKey?C("active"):C("none"):C("invalid")}catch(N){console.error("Failed to check API key status:",N),C("invalid")}},R=async()=>{s(!0);try{const N=Fe(be,"systemSettings","config"),P=await br(N);if(P.exists()){const z=P.data();r($=>{var ne,me,Y;return{adminEmails:z.adminEmails||[...ei],featureFlags:{paper1Enabled:((ne=z.featureFlags)==null?void 0:ne.paper1Enabled)??!0,paper2Enabled:((me=z.featureFlags)==null?void 0:me.paper2Enabled)??!0,languageLabEnabled:((Y=z.featureFlags)==null?void 0:Y.languageLabEnabled)??!0},apiKeyConfigured:z.apiKeyConfigured??!0}})}const L=await Ec();w(L)}catch(N){console.error("Failed to load settings",N)}s(!1)},T=async()=>{h(!0);try{const N=Fe(be,"systemSettings","config");await Ya(N,n,{merge:!0}),A({type:"success",text:"Settings saved successfully!"}),setTimeout(()=>A(null),3e3)}catch(N){console.error("Failed to save settings",N),A({type:"error",text:"Failed to save settings. Check permissions."})}h(!1)},M=async()=>{var N,P,L;if(!p){A({type:"error",text:"Please select a user."});return}h(!0);try{const z=x.find($=>$.id===p);await vr(Fe(be,"users",p),{isAdmin:!0,adminPromotedAt:or(),adminPromotedBy:(N=_e.currentUser)==null?void 0:N.uid}),await xr(it(be,"activityLogs"),{action:"Admin Role Assigned",actionType:"update",targetType:"user",targetId:p,details:`Promoted user ${(z==null?void 0:z.displayName)||(z==null?void 0:z.email)} to admin`,userId:((P=_e.currentUser)==null?void 0:P.uid)||"unknown",userEmail:((L=_e.currentUser)==null?void 0:L.email)||"unknown",timestamp:or()}),w($=>$.map(ne=>ne.id===p?{...ne,isAdmin:!0}:ne)),g(""),A({type:"success",text:` ${(z==null?void 0:z.displayName)||"User"} promoted to Admin successfully!`})}catch(z){console.error("Error adding admin:",z),A({type:"error",text:"Failed to add admin."})}h(!1)},V=async N=>{var L,z,$,ne;if(N===((L=_e.currentUser)==null?void 0:L.uid)){A({type:"error",text:"You cannot remove yourself."});return}const P=x.find(me=>me.id===N);if(P&&Qa.includes(P.email)){A({type:"error",text:"Cannot remove a Super Admin."});return}if(window.confirm(`Are you sure you want to remove admin access for ${(P==null?void 0:P.displayName)||"this user"}?`)){h(!0);try{await vr(Fe(be,"users",N),{isAdmin:!1,adminRemovedAt:or(),adminRemovedBy:(z=_e.currentUser)==null?void 0:z.uid}),await xr(it(be,"activityLogs"),{action:"Admin Role Removed",actionType:"update",targetType:"user",targetId:N,details:`Removed admin access from ${(P==null?void 0:P.displayName)||(P==null?void 0:P.email)}`,userId:(($=_e.currentUser)==null?void 0:$.uid)||"unknown",userEmail:((ne=_e.currentUser)==null?void 0:ne.email)||"unknown",timestamp:or()}),w(me=>me.map(Y=>Y.id===N?{...Y,isAdmin:!1}:Y)),A({type:"success",text:` Admin role removed from ${(P==null?void 0:P.displayName)||"user"}.`})}catch(me){console.error("Error removing admin:",me),A({type:"error",text:"Failed to remove admin."})}h(!1)}},I=N=>{r(P=>({...P,featureFlags:{...P.featureFlags,[N]:!P.featureFlags[N]}}))};return a?c.jsx("div",{className:"p-8",children:"Loading settings..."}):e?c.jsxs("div",{className:"space-y-8 max-w-4xl",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"System Settings"}),c.jsx("p",{className:"text-slate-500",children:"Manage platform configuration and access control."})]}),E&&c.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl ${E.type==="success"?"bg-emerald-50 text-emerald-800":"bg-red-50 text-red-800"}`,children:[E.type==="success"?c.jsx(Yi,{size:20}):c.jsx(Gu,{size:20}),c.jsx("span",{children:E.text})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:c.jsx(Sa,{size:20,className:"text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-slate-900",children:"Admin Management"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Manage users with Admin access."})]})]}),c.jsx("div",{className:"space-y-3 mb-6",children:x.filter(N=>N.isAdmin).length===0?c.jsx("p",{className:"text-sm text-slate-500 italic p-2",children:"No admins found in database."}):c.jsx("div",{className:"space-y-2",children:x.filter(N=>N.isAdmin).map(N=>{const P=Qa.includes(N.email||"");return c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${P?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm ${P?"bg-gradient-to-br from-amber-500 to-orange-600":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:P?c.jsx(eS,{size:16}):c.jsx(Qi,{size:16})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-sm font-bold text-slate-900",children:N.displayName||"No Name"}),P&&c.jsx("span",{className:"px-2 py-1 bg-amber-200 text-amber-900 text-xs font-bold rounded-full",children:"Super Admin"})]}),c.jsx("p",{className:"text-xs text-slate-500",children:N.email})]})]}),!P&&c.jsx("button",{onClick:()=>V(N.id),disabled:f,className:"p-2 text-red-500 hover:bg-red-100 rounded-lg disabled:opacity-50 transition-colors",title:"Remove Admin Access",children:c.jsx(ni,{size:18})})]},N.id)})})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:p,onChange:N=>g(N.target.value),className:"flex-1 px-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",disabled:f,children:[c.jsx("option",{value:"",children:"Select a user to make admin..."}),x.filter(N=>!N.isAdmin&&N.isApproved).sort((N,P)=>(N.email||"").localeCompare(P.email||"")).map(N=>{const P=N.displayName?`${N.displayName} (${N.email||"No Email"})`:N.email||`Unnamed User (ID: ${N.id.slice(0,8)}...)`;return c.jsx("option",{value:N.id,children:P},N.id)})]}),c.jsxs("button",{onClick:M,disabled:!p||f,className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg font-medium flex items-center gap-2 disabled:bg-indigo-300",children:[c.jsx(aS,{size:18}),"Add Role"]})]}),c.jsxs("p",{className:"mt-4 text-xs text-blue-600 bg-blue-50 p-3 rounded-lg",children:[c.jsx("strong",{children:"Note:"})," Admins are now managed via the ",c.jsx("code",{children:"isAdmin"})," flag on their user profile. Detailed permissions are enforced by database rules."]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:c.jsx(sS,{size:20,className:"text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-slate-900",children:"Feature Flags"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Enable or disable platform features."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Paper 1 (Fiction)"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Allow students to take Paper 1 exams"})]}),c.jsx("button",{onClick:()=>I("paper1Enabled"),className:`p-2 rounded-lg transition-colors ${n.featureFlags.paper1Enabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:n.featureFlags.paper1Enabled?c.jsx(pw,{size:28}):c.jsx(mw,{size:28})})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Paper 2 (Non-Fiction)"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Allow students to take Paper 2 exams"})]}),c.jsx("button",{onClick:()=>I("paper2Enabled"),className:`p-2 rounded-lg transition-colors ${n.featureFlags.paper2Enabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:n.featureFlags.paper2Enabled?c.jsx(pw,{size:28}):c.jsx(mw,{size:28})})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Language Lab"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Enable the Language Lab practice area"})]}),c.jsx("button",{onClick:()=>I("languageLabEnabled"),className:`p-2 rounded-lg transition-colors ${n.featureFlags.languageLabEnabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:n.featureFlags.languageLabEnabled?c.jsx(pw,{size:28}):c.jsx(mw,{size:28})})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:c.jsx(GQ,{size:20,className:"text-amber-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-slate-900",children:"API Configuration"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Manage API keys and external services."})]})]}),c.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Gemini API Key"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Used for AI-powered exam generation and marking"})]}),c.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${S==="checking"?"bg-slate-100 text-slate-600":S==="active"?"bg-emerald-100 text-emerald-800":S==="none"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:[S==="checking"&&" Checking...",S==="active"&&" Active",S==="none"&&" Not Configured",S==="invalid"&&" Server Error"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("input",{type:l?"text":"password",id:"apiKeyInput",defaultValue:localStorage.getItem("gemini_api_key")||"",placeholder:"Enter your Gemini API key...",className:"w-full px-4 py-2 pr-10 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 font-mono"}),c.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:l?c.jsx(w3,{size:18}):c.jsx(nm,{size:18})})]}),c.jsxs("button",{onClick:async()=>{var L,z,$;const N=document.getElementById("apiKeyInput"),P=(L=N==null?void 0:N.value)==null?void 0:L.trim();if(!P){A({type:"error",text:"Please enter a valid API key."});return}A({type:"success",text:" Saving API key..."});try{const ne=Fe(be,"systemSettings","config");await Ya(ne,{geminiApiKey:P},{merge:!0}),localStorage.setItem("gemini_api_key",P),await xr(it(be,"activityLogs"),{action:"API Key Updated",actionType:"update",targetType:"system",targetId:"gemini-api-key",details:"Gemini API key updated by super admin",userId:((z=_e.currentUser)==null?void 0:z.uid)||"unknown",userEmail:(($=_e.currentUser)==null?void 0:$.email)||"unknown",timestamp:or()}),A({type:"success",text:" API key saved successfully! Restart the server to apply changes."}),setTimeout(()=>{A(null),U()},3e3)}catch(ne){console.error("Failed to save API key:",ne),A({type:"error",text:"Failed to save API key. Check Firestore permissions."})}},className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-medium flex items-center gap-2",children:[c.jsx(xy,{size:18}),"Save Key"]})]}),c.jsxs("p",{className:"text-xs text-slate-400",children:["Your API key is stored in Firestore (for server access) and browser local storage.",c.jsx("button",{onClick:async()=>{try{const N=Fe(be,"systemSettings","config");await Ya(N,{geminiApiKey:""},{merge:!0}),localStorage.removeItem("gemini_api_key"),document.getElementById("apiKeyInput").value="",A({type:"success",text:"API key removed from server and local storage."}),setTimeout(()=>A(null),3e3)}catch(N){console.error("Failed to clear API key:",N),A({type:"error",text:"Failed to clear API key from server."})}},className:"ml-2 text-red-500 hover:underline",children:"Clear saved key"})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:T,disabled:f,className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold flex items-center gap-2 disabled:opacity-50",children:[c.jsx(xy,{size:20}),f?"Saving...":"Save Settings"]})})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center",children:[c.jsx("div",{className:"p-4 bg-red-100 rounded-full mb-4",children:c.jsx(AX,{size:48,className:"text-red-500"})}),c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"You don't have permission to access System Settings."}),c.jsx("p",{className:"text-sm text-slate-400",children:"Only Super Administrators can modify these settings."}),c.jsx("button",{onClick:()=>t("/admin"),className:"mt-6 px-6 py-2 bg-slate-800 hover:bg-slate-900 text-white rounded-lg font-medium",children:"Return to Dashboard"})]})},Nye=()=>{const t=Ft(),[e,n]=b.useState(""),[r,a]=b.useState(""),[s,l]=b.useState(!1),[d,f]=b.useState(""),h=async p=>{p.preventDefault(),f(""),l(!0);try{const g=await WA(e,r);g&&ei.includes(g.email||"")?t("/admin"):(f("Unauthorized access. This area is reserved for administrators."),await fd())}catch(g){f("Authentication failed. Please check your credentials."),console.error(g)}finally{l(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#0f172a] relative overflow-hidden font-sans",children:[c.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-600/10 rounded-full blur-[120px]"}),c.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[120px]"}),c.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-indigo-500/20 mb-6",children:c.jsx(Qi,{size:32})}),c.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight mb-2",children:"Admin Control"}),c.jsx("p",{className:"text-slate-400",children:"Secure access to the Go GCSE platform"})]}),c.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-white/10 p-8 rounded-3xl shadow-2xl",children:[d&&c.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 text-red-400 text-sm",children:[c.jsx(Gu,{size:18}),c.jsx("span",{children:d})]}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Administrator Email"}),c.jsxs("div",{className:"relative group",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:c.jsx(uX,{size:18})}),c.jsx("input",{type:"email",value:e,onChange:p=>n(p.target.value),placeholder:"admin@example.com",required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-900/50 border border-white/10 rounded-2xl text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all font-medium"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Secure Password"}),c.jsxs("div",{className:"relative group",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:c.jsx(ah,{size:18})}),c.jsx("input",{type:"password",value:r,onChange:p=>a(p.target.value),placeholder:"",required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-900/50 border border-white/10 rounded-2xl text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all font-medium"})]})]}),c.jsx("button",{type:"submit",disabled:s,className:`w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white rounded-2xl font-bold shadow-lg shadow-blue-600/20 transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?c.jsx(Ea,{size:20,className:"animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"Authorize Access"}),c.jsx(Gv,{size:20})]})})]}),c.jsx("div",{className:"mt-8 pt-8 border-t border-white/5 text-center",children:c.jsx("button",{onClick:()=>t("/login"),className:"text-sm text-slate-500 hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto",children:"Return to Student Login"})})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx("p",{className:"text-xs text-slate-600 uppercase tracking-widest font-bold",children:"Go GCSE Admin v1.0.2"})})]})]})},Tye=()=>{var w;const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(""),[l,d]=b.useState(!0),[f,h]=b.useState(!1),p=Qa.includes(((w=_e.currentUser)==null?void 0:w.email)||"");b.useEffect(()=>{g()},[]),b.useEffect(()=>{if(!Array.isArray(t))return;const E=a.toLowerCase();r(t.filter(A=>A&&((A.email||"").toLowerCase().includes(E)||(A.displayName||"").toLowerCase().includes(E))))},[a,t]);const g=async()=>{d(!0);const E=await Ec();E.sort((A,S)=>{const C=(A.isAdmin?2:0)+(A.isTeacher?1:0);return(S.isAdmin?2:0)+(S.isTeacher?1:0)-C}),e(E),d(!1)},x=async(E,A,S)=>{var T,M;if(!p){alert("Only super admins can change user roles.");return}const C=t.find(V=>V.id===E);if(A==="admin"&&Qa.includes((C==null?void 0:C.email)||"")){alert("Cannot modify Super Admin roles.");return}const U=A==="admin"?"Admin":"Teacher";if(confirm(`Are you sure you want to ${S?"remove":"assign"} the ${U} role for ${(C==null?void 0:C.displayName)||"this user"}?`)){h(!0);try{const V=!S,I={};A==="admin"?I.isAdmin=V:I.isTeacher=V,I.updatedAt=or(),await vr(Fe(be,"users",E),I),await xr(it(be,"activityLogs"),{action:`${U} Role ${V?"Assigned":"Removed"}`,actionType:"update",targetType:"user",targetId:E,details:`User ${U.toLowerCase()} role ${V?"enabled":"disabled"} for ${C==null?void 0:C.email}`,userId:((T=_e.currentUser)==null?void 0:T.uid)||"unknown",userEmail:((M=_e.currentUser)==null?void 0:M.email)||"unknown",timestamp:or()});const k=t.map(N=>N.id===E?A==="admin"?{...N,isAdmin:V}:{...N,isTeacher:V}:N);e(k)}catch(V){console.error("Failed to toggle role:",V),alert("Failed to update user role")}finally{h(!1)}}};return l?c.jsx("div",{className:"p-8",children:"Loading staff directory..."}):p?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin & Staff Directory"}),c.jsx("p",{className:"text-slate-500",children:"Manage elevated privileges for admins and teachers."})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:E=>s(E.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-edexcel-teal w-64"})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User"}),c.jsx("th",{className:"px-6 py-4",children:"Email"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Admin Role"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Teacher Role"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(E=>{const A=Qa.includes(E.email||"");return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 overflow-hidden font-bold",children:E.photoURL?c.jsx("img",{src:E.photoURL,className:"w-full h-full object-cover",alt:""}):(E.displayName||E.email||"?")[0].toUpperCase()}),c.jsx("div",{children:c.jsxs("div",{className:"font-medium text-slate-900 flex items-center gap-2",children:[E.displayName||"Unnamed User",A&&c.jsx(eS,{size:14,className:"text-amber-500"})]})})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:E.email}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("button",{onClick:()=>x(E.id,"admin",E.isAdmin),disabled:f||A,className:`inline-flex items-center justify-center p-2 rounded-lg transition-all ${E.isAdmin?"bg-red-100 text-red-600 hover:bg-red-200":"bg-slate-100 text-slate-300 hover:bg-slate-200"} ${A?"opacity-50 cursor-not-allowed":""}`,title:A?"Super Admins are always Admins":"Toggle Admin Role",children:c.jsx(Qi,{size:20,className:E.isAdmin?"fill-current":""})})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("button",{onClick:()=>x(E.id,"teacher",E.isTeacher),disabled:f,className:`inline-flex items-center justify-center p-2 rounded-lg transition-all ${E.isTeacher?"bg-blue-100 text-blue-600 hover:bg-blue-200":"bg-slate-100 text-slate-300 hover:bg-slate-200"}`,title:"Toggle Teacher Role",children:c.jsx(Wv,{size:20,className:E.isTeacher?"fill-current":""})})})]},E.id)}),n.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-400",children:['No users found matching "',a,'"']})})]})]})})]}):c.jsx("div",{className:"p-8 text-center text-red-500",children:"Access Denied: Super Admin privileges required."})},Cye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(!1),[f,h]=b.useState(null),[p,g]=b.useState({title:"",message:"",type:"info",active:!0,startDate:"",endDate:""}),x=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",w=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500",A=e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-200 text-slate-900";b.useEffect(()=>{S()},[]);const S=async()=>{s(!0);try{const I=Mr(it(be,"announcements"),Jh("createdAt","desc")),N=(await Bn(I)).docs.map(P=>({id:P.id,...P.data()}));r(N)}catch(I){console.error("Failed to load announcements",I)}s(!1)},C=async()=>{var I;if(!p.title||!p.message){alert("Please fill in title and message");return}try{const k={title:p.title,message:p.message,type:p.type,active:p.active,startDate:p.startDate?at.fromDate(new Date(p.startDate)):null,endDate:p.endDate?at.fromDate(new Date(p.endDate)):null,createdAt:at.now(),createdBy:((I=_e.currentUser)==null?void 0:I.email)||"unknown"};f?await vr(Fe(be,"announcements",f),k):await xr(it(be,"announcements"),k),d(!1),h(null),M(),S()}catch(k){console.error("Failed to save announcement",k),alert("Failed to save announcement")}},U=I=>{g({title:I.title,message:I.message,type:I.type,active:I.active,startDate:I.startDate?new Date(I.startDate.seconds*1e3).toISOString().split("T")[0]:"",endDate:I.endDate?new Date(I.endDate.seconds*1e3).toISOString().split("T")[0]:""}),h(I.id),d(!0)},R=async I=>{if(window.confirm("Delete this announcement?"))try{await lc(Fe(be,"announcements",I)),r(k=>k.filter(N=>N.id!==I))}catch(k){console.error("Failed to delete",k)}},T=async(I,k)=>{try{await vr(Fe(be,"announcements",I),{active:!k}),r(N=>N.map(P=>P.id===I?{...P,active:!k}:P))}catch(N){console.error("Failed to toggle",N)}},M=()=>{g({title:"",message:"",type:"info",active:!0,startDate:"",endDate:""})},V=I=>{const k={info:"bg-blue-100 text-blue-800",warning:"bg-amber-100 text-amber-800",success:"bg-emerald-100 text-emerald-800",error:"bg-red-100 text-red-800"};return k[I]||k.info};return a?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading announcements..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${w}`,children:"Announcements"}),c.jsx("p",{className:E,children:"Manage platform-wide announcements for students."})]}),c.jsxs("button",{onClick:()=>{M(),h(null),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[c.jsx(aS,{size:18}),"New Announcement"]})]}),c.jsx("div",{className:"space-y-4",children:n.length===0?c.jsxs("div",{className:`text-center py-12 ${x} rounded-xl border`,children:[c.jsx(y3,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No announcements yet."})]}):n.map(I=>c.jsx("div",{className:`p-5 rounded-xl border ${x} ${I.active?"":"opacity-60"}`,children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:`font-bold ${w}`,children:I.title}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${V(I.type)}`,children:I.type}),I.active?c.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-emerald-100 text-emerald-800",children:"Active"}):c.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-slate-100 text-slate-600",children:"Inactive"})]}),c.jsx("p",{className:`text-sm ${E} mb-3`,children:I.message}),c.jsxs("div",{className:`flex items-center gap-4 text-xs ${E}`,children:[c.jsxs("span",{children:["Created by ",I.createdBy]}),I.startDate&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(uc,{size:12}),"Starts: ",new Date(I.startDate.seconds*1e3).toLocaleDateString()]}),I.endDate&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(uc,{size:12}),"Ends: ",new Date(I.endDate.seconds*1e3).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>T(I.id,I.active),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,title:I.active?"Deactivate":"Activate",children:I.active?c.jsx(w3,{size:18,className:E}):c.jsx(nm,{size:18,className:E})}),c.jsx("button",{onClick:()=>U(I),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:c.jsx(Yv,{size:18,className:"text-blue-500"})}),c.jsx("button",{onClick:()=>R(I.id),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:c.jsx(Aa,{size:18,className:"text-red-500"})})]})]})},I.id))}),l&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:`rounded-2xl shadow-2xl max-w-lg w-full ${e?"bg-slate-800":"bg-white"}`,children:[c.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${e?"border-slate-700":"border-slate-100"}`,children:[c.jsx("h2",{className:`text-lg font-bold ${w}`,children:f?"Edit Announcement":"New Announcement"}),c.jsx("button",{onClick:()=>d(!1),className:`p-2 rounded-lg ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:c.jsx(ni,{size:20,className:E})})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Title"}),c.jsx("input",{type:"text",value:p.title,onChange:I=>g(k=>({...k,title:I.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`,placeholder:"Announcement title..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Message"}),c.jsx("textarea",{value:p.message,onChange:I=>g(k=>({...k,message:I.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`,placeholder:"Announcement message...",rows:3})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Type"}),c.jsxs("select",{value:p.type,onChange:I=>g(k=>({...k,type:I.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`,children:[c.jsx("option",{value:"info",children:"Info"}),c.jsx("option",{value:"success",children:"Success"}),c.jsx("option",{value:"warning",children:"Warning"}),c.jsx("option",{value:"error",children:"Error"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",checked:p.active,onChange:I=>g(k=>({...k,active:I.target.checked})),className:"w-4 h-4"}),c.jsx("label",{className:`text-sm ${w}`,children:"Active immediately"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Start Date (optional)"}),c.jsx("input",{type:"date",value:p.startDate,onChange:I=>g(k=>({...k,startDate:I.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"End Date (optional)"}),c.jsx("input",{type:"date",value:p.endDate,onChange:I=>g(k=>({...k,endDate:I.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`})]})]})]}),c.jsxs("div",{className:`p-5 border-t flex justify-end gap-3 ${e?"border-slate-700":"border-slate-100"}`,children:[c.jsx("button",{onClick:()=>d(!1),className:`px-4 py-2 rounded-lg font-medium ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:"Cancel"}),c.jsxs("button",{onClick:C,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium flex items-center gap-2",children:[c.jsx(ZA,{size:18}),f?"Update":"Create"]})]})]})})]})},Iye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState("all"),[f,h]=b.useState(""),[p,g]=b.useState("7"),x=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",w=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500";b.useEffect(()=>{A()},[p]);const A=async()=>{s(!0);try{const R=parseInt(p),T=new Date;T.setDate(T.getDate()-R);const M=Mr(it(be,"activityLogs"),Ds("timestamp",">=",at.fromDate(T)),Jh("timestamp","desc"),Bv(200)),I=(await Bn(M)).docs.map(k=>({id:k.id,...k.data()}));r(I)}catch(R){console.error("Failed to load activity logs",R),r([])}s(!1)},S=n.filter(R=>{var T,M,V;if(l!=="all"&&R.actionType!==l)return!1;if(f){const I=f.toLowerCase();return((T=R.userEmail)==null?void 0:T.toLowerCase().includes(I))||((M=R.action)==null?void 0:M.toLowerCase().includes(I))||((V=R.details)==null?void 0:V.toLowerCase().includes(I))}return!0}),C=R=>{switch(R){case"login":return c.jsx(vy,{size:16,className:"text-green-500"});case"logout":return c.jsx(hd,{size:16,className:"text-slate-400"});case"create":return c.jsx(Yv,{size:16,className:"text-blue-500"});case"update":return c.jsx(sS,{size:16,className:"text-amber-500"});case"delete":return c.jsx(Aa,{size:16,className:"text-red-500"});case"setting":return c.jsx(Qi,{size:16,className:"text-purple-500"});default:return c.jsx(yy,{size:16,className:E})}},U=R=>{const T={login:"bg-green-100 text-green-800",logout:"bg-slate-100 text-slate-600",create:"bg-blue-100 text-blue-800",update:"bg-amber-100 text-amber-800",delete:"bg-red-100 text-red-800",setting:"bg-purple-100 text-purple-800",other:"bg-slate-100 text-slate-600"};return T[R]||T.other};return a?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading activity logs..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${w}`,children:"Activity Log"}),c.jsx("p",{className:E,children:"Track all admin actions and system events."})]}),c.jsxs("div",{className:`flex items-center gap-4 flex-wrap p-4 rounded-xl border ${x}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_3,{size:18,className:E}),c.jsx("span",{className:`text-sm font-medium ${E}`,children:"Filters:"})]}),c.jsxs("select",{value:l,onChange:R=>d(R.target.value),className:`px-3 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-200"}`,children:[c.jsx("option",{value:"all",children:"All Actions"}),c.jsx("option",{value:"login",children:"Logins"}),c.jsx("option",{value:"logout",children:"Logouts"}),c.jsx("option",{value:"create",children:"Creates"}),c.jsx("option",{value:"update",children:"Updates"}),c.jsx("option",{value:"delete",children:"Deletes"}),c.jsx("option",{value:"setting",children:"Settings"})]}),c.jsxs("select",{value:p,onChange:R=>g(R.target.value),className:`px-3 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-200"}`,children:[c.jsx("option",{value:"1",children:"Last 24 hours"}),c.jsx("option",{value:"7",children:"Last 7 days"}),c.jsx("option",{value:"30",children:"Last 30 days"}),c.jsx("option",{value:"90",children:"Last 90 days"})]}),c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2",size:18}),c.jsx("input",{type:"text",placeholder:"Search by email or action...",value:f,onChange:R=>h(R.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-200"}`})]}),c.jsxs("span",{className:`text-sm ${E}`,children:[S.length," events"]})]}),c.jsx("div",{className:`rounded-xl border overflow-hidden ${x}`,children:S.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(yy,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No activity logs found."}),c.jsx("p",{className:`text-sm ${E} mt-2`,children:"Activity will be recorded as admins perform actions."})]}):c.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:S.map(R=>{var T,M;return c.jsx("div",{className:`p-4 ${e?"hover:bg-slate-700/50":"hover:bg-slate-50"} transition-colors`,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`p-2 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:C(R.actionType)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`font-medium ${w}`,children:R.action}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${U(R.actionType)}`,children:R.actionType})]}),c.jsxs("div",{className:`flex items-center gap-3 text-sm ${E}`,children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ku,{size:14}),R.userEmail]}),R.targetType&&c.jsxs("span",{children:["Target: ",R.targetType," ",R.targetId?`(${R.targetId.substring(0,8)}...)`:""]})]}),R.details&&c.jsx("p",{className:`text-sm mt-1 ${E}`,children:R.details})]}),c.jsxs("div",{className:`text-right text-sm ${E}`,children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(uc,{size:14}),(T=R.timestamp)!=null&&T.seconds?new Date(R.timestamp.seconds*1e3).toLocaleDateString():"Unknown"]}),c.jsx("div",{className:"text-xs mt-1",children:(M=R.timestamp)!=null&&M.seconds?new Date(R.timestamp.seconds*1e3).toLocaleTimeString():""}),R.ipAddress&&c.jsx("div",{className:"text-xs mt-1 font-mono",children:R.ipAddress})]})]})},R.id)})})})]})},Oye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(""),[f,h]=b.useState(null),[p,g]=b.useState(null),x=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",w=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500";b.useEffect(()=>{A()},[]);const A=async()=>{s(!0);try{const M=["exam-images","pdfs","uploads"],V=[];for(const I of M)try{const k=py(yh,I),N=await RY(k);for(const P of N.items)try{const L=await HA(P),z=await PY(P);V.push({name:P.name,fullPath:P.fullPath,url:L,size:z.size,contentType:z.contentType,timeCreated:z.timeCreated})}catch{}}catch{}r(V.sort((I,k)=>new Date(k.timeCreated||0).getTime()-new Date(I.timeCreated||0).getTime()))}catch(M){console.error("Failed to load assets",M)}s(!1)},S=async M=>{if(window.confirm(`Delete "${M.name}"? This cannot be undone.`)){g(M.fullPath);try{const V=py(yh,M.fullPath);await DY(V),r(I=>I.filter(k=>k.fullPath!==M.fullPath)),(f==null?void 0:f.fullPath)===M.fullPath&&h(null)}catch(V){console.error("Failed to delete asset",V),alert("Failed to delete asset")}g(null)}},C=M=>M?M<1024?`${M} B`:M<1024*1024?`${(M/1024).toFixed(1)} KB`:`${(M/(1024*1024)).toFixed(1)} MB`:"Unknown",U=n.filter(M=>M.name.toLowerCase().includes(l.toLowerCase())),R=M=>M==null?void 0:M.startsWith("image/"),T=M=>M==="application/pdf";return a?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading assets..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${w}`,children:"Asset Management"}),c.jsx("p",{className:E,children:"View and manage uploaded files and generated images."})]}),c.jsxs("button",{onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(iS,{size:18}),"Refresh"]})]}),c.jsxs("div",{className:`flex items-center gap-4 flex-wrap p-4 rounded-xl border ${x}`,children:[c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2",size:18}),c.jsx("input",{type:"text",placeholder:"Search by filename...",value:l,onChange:M=>d(M.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-200"}`})]}),c.jsxs("span",{className:`text-sm ${E}`,children:[U.length," files  ",C(U.reduce((M,V)=>M+(V.size||0),0))," total"]})]}),U.length===0?c.jsxs("div",{className:`text-center py-12 ${x} rounded-xl border`,children:[c.jsx(fg,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No assets found."})]}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:U.map(M=>c.jsxs("div",{className:`rounded-xl border overflow-hidden cursor-pointer transition-transform hover:scale-[1.02] ${x} ${(f==null?void 0:f.fullPath)===M.fullPath?"ring-2 ring-indigo-500":""}`,onClick:()=>h(M),children:[c.jsx("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700 flex items-center justify-center overflow-hidden",children:R(M.contentType)?c.jsx("img",{src:M.url,alt:M.name,className:"w-full h-full object-cover"}):T(M.contentType)?c.jsxs("div",{className:"text-red-500",children:[c.jsx(fg,{size:48}),c.jsx("p",{className:"text-xs mt-2",children:"PDF"})]}):c.jsx(fg,{size:48,className:E})}),c.jsxs("div",{className:"p-3",children:[c.jsx("p",{className:`text-sm font-medium truncate ${w}`,children:M.name}),c.jsx("p",{className:`text-xs ${E}`,children:C(M.size)})]})]},M.fullPath))}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>h(null),children:c.jsxs("div",{className:`rounded-2xl shadow-2xl max-w-2xl w-full ${e?"bg-slate-800":"bg-white"}`,onClick:M=>M.stopPropagation(),children:[c.jsx("div",{className:"aspect-video bg-slate-100 dark:bg-slate-700 flex items-center justify-center overflow-hidden rounded-t-2xl",children:R(f.contentType)?c.jsx("img",{src:f.url,alt:f.name,className:"max-w-full max-h-full object-contain"}):c.jsx(fg,{size:64,className:E})}),c.jsxs("div",{className:"p-5",children:[c.jsx("h3",{className:`text-lg font-bold ${w} mb-3`,children:f.name}),c.jsxs("div",{className:`grid grid-cols-2 gap-4 text-sm ${E} mb-4`,children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Size:"})," ",C(f.size)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Type:"})," ",f.contentType||"Unknown"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Path:"})," ",f.fullPath]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Created:"})," ",f.timeCreated?new Date(f.timeCreated).toLocaleDateString():"Unknown"]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium",children:[c.jsx(NQ,{size:18}),"Open"]}),c.jsxs("a",{href:f.url,download:f.name,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(tS,{size:18}),"Download"]}),c.jsxs("button",{onClick:()=>S(f),disabled:p===f.fullPath,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium disabled:opacity-50",children:[c.jsx(Aa,{size:18}),p===f.fullPath?"Deleting...":"Delete"]})]})]})]})})]})},kye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=b.useState([]),[a,s]=b.useState([]),[l,d]=b.useState(!0),[f,h]=b.useState("logins"),[p,g]=b.useState(""),x=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",w=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500";b.useEffect(()=>{A()},[]);const A=async()=>{d(!0);try{try{const M=Mr(it(be,"loginEvents"),Jh("timestamp","desc"),Bv(100)),V=await Bn(M);r(V.docs.map(I=>({id:I.id,...I.data()})))}catch{r([])}const T=await Ec();s(T.map(M=>{var V;return{id:M.id,email:M.email,displayName:M.displayName,lastLogin:(V=M.metadata)!=null&&V.lastSignInTime?at.fromDate(new Date(M.metadata.lastSignInTime)):null,failedAttempts:M.failedAttempts||0,disabled:M.disabled||!1}}))}catch(T){console.error("Failed to load security data",T)}d(!1)},S=async(T,M)=>{if(window.confirm(`${M?"Enable":"Disable"} this user?`))try{const V=Fe(be,"users",T);await vr(V,{disabled:!M}),s(I=>I.map(k=>k.id===T?{...k,disabled:!M}:k))}catch(V){console.error("Failed to toggle user status",V),alert("Failed to update user status")}},C=n.filter(T=>{var M;return f==="failed"&&T.success?!1:p?(M=T.email)==null?void 0:M.toLowerCase().includes(p.toLowerCase()):!0}),U=a.filter(T=>{var M,V;return p?((M=T.email)==null?void 0:M.toLowerCase().includes(p.toLowerCase()))||((V=T.displayName)==null?void 0:V.toLowerCase().includes(p.toLowerCase())):!0}),R={totalLogins:n.filter(T=>T.success).length,failedAttempts:n.filter(T=>!T.success).length,activeUsers:a.filter(T=>!T.disabled).length,disabledUsers:a.filter(T=>T.disabled).length};return l?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading security data..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${w}`,children:"Security Center"}),c.jsx("p",{className:E,children:"Monitor login activity and manage user access."})]}),c.jsxs("button",{onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(iS,{size:18}),"Refresh"]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:`p-4 rounded-xl border ${x}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:c.jsx(vy,{size:20,className:"text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${w}`,children:R.totalLogins}),c.jsx("p",{className:`text-sm ${E}`,children:"Successful Logins"})]})]})}),c.jsx("div",{className:`p-4 rounded-xl border ${x}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:c.jsx(Li,{size:20,className:"text-red-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${w}`,children:R.failedAttempts}),c.jsx("p",{className:`text-sm ${E}`,children:"Failed Attempts"})]})]})}),c.jsx("div",{className:`p-4 rounded-xl border ${x}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(Ku,{size:20,className:"text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${w}`,children:R.activeUsers}),c.jsx("p",{className:`text-sm ${E}`,children:"Active Users"})]})]})}),c.jsx("div",{className:`p-4 rounded-xl border ${x}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:c.jsx(iQ,{size:20,className:"text-slate-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${w}`,children:R.disabledUsers}),c.jsx("p",{className:`text-sm ${E}`,children:"Disabled Users"})]})]})})]}),c.jsx("div",{className:`flex gap-1 p-1 rounded-xl ${e?"bg-slate-700":"bg-slate-100"}`,children:[{id:"logins",label:"Login History",icon:vy},{id:"failed",label:"Failed Attempts",icon:Li},{id:"sessions",label:"User Sessions",icon:Ku}].map(T=>c.jsxs("button",{onClick:()=>h(T.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${f===T.id?e?"bg-slate-800 text-white":"bg-white text-slate-900 shadow-sm":E}`,children:[c.jsx(T.icon,{size:18}),T.label]},T.id))}),c.jsxs("div",{className:"relative",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2",size:18}),c.jsx("input",{type:"text",placeholder:"Search by email...",value:p,onChange:T=>g(T.target.value),className:`w-full pl-10 pr-4 py-3 rounded-xl text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-800 border-slate-700 text-white placeholder-slate-400":"bg-white border-slate-200"}`})]}),f==="sessions"?c.jsx("div",{className:`rounded-xl border overflow-hidden ${x}`,children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-50",children:c.jsxs("tr",{className:`text-xs uppercase font-semibold ${E}`,children:[c.jsx("th",{className:"px-5 py-3",children:"User"}),c.jsx("th",{className:"px-5 py-3",children:"Last Login"}),c.jsx("th",{className:"px-5 py-3",children:"Status"}),c.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-100"}`,children:[U.map(T=>c.jsxs("tr",{className:e?"hover:bg-slate-700/50":"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-5 py-4",children:[c.jsx("div",{className:`font-medium ${w}`,children:T.displayName||"Anonymous"}),c.jsx("div",{className:`text-sm ${E}`,children:T.email})]}),c.jsx("td",{className:`px-5 py-4 text-sm ${E}`,children:T.lastLogin?new Date(T.lastLogin.seconds*1e3).toLocaleString():"Never"}),c.jsx("td",{className:"px-5 py-4",children:T.disabled?c.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Disabled"}):c.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Active"})}),c.jsx("td",{className:"px-5 py-4 text-right",children:c.jsx("button",{onClick:()=>S(T.id,T.disabled),className:`px-3 py-1 text-sm font-medium rounded-lg transition-colors ${T.disabled?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:T.disabled?"Enable":"Disable"})})]},T.id)),U.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:`px-5 py-12 text-center ${E}`,children:"No users found."})})]})]})}):c.jsx("div",{className:`rounded-xl border overflow-hidden ${x}`,children:C.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(Qi,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No login events recorded yet."}),c.jsx("p",{className:`text-sm ${E} mt-2`,children:"Events will appear as users log in."})]}):c.jsx("div",{className:`divide-y ${e?"divide-slate-700":"divide-slate-100"}`,children:C.map(T=>{var M;return c.jsx("div",{className:`p-4 ${e?"hover:bg-slate-700/50":"hover:bg-slate-50"}`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-2 rounded-lg ${T.success?"bg-green-100":"bg-red-100"}`,children:T.success?c.jsx(Yi,{size:20,className:"text-green-600"}):c.jsx(Li,{size:20,className:"text-red-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:`font-medium ${w}`,children:T.email}),c.jsx("div",{className:`text-sm ${E}`,children:T.success?"Successful login":T.reason||"Failed attempt"})]}),c.jsxs("div",{className:`text-right text-sm ${E}`,children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Kv,{size:14}),(M=T.timestamp)!=null&&M.seconds?new Date(T.timestamp.seconds*1e3).toLocaleString():"Unknown"]}),T.ipAddress&&c.jsxs("div",{className:"flex items-center gap-1 justify-end mt-1 text-xs font-mono",children:[c.jsx(rX,{size:12}),T.ipAddress]})]})]})},T.id)})})})]})},Pye=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),[a,s]=b.useState(!1),[l,d]=b.useState(""),[f,h]=b.useState(!1),[p,g]=b.useState("English Language"),[x,w]=b.useState(""),[E,A]=b.useState("Edexcel"),[S,C]=b.useState(""),[U,R]=b.useState(!1),T=JE(),M=Ft();b.useEffect(()=>{V()},[T.currentUser]);const V=async()=>{if(T.currentUser){r(!0);try{const N=await br(Fe(be,"users",T.currentUser.uid));if(console.log("TeacherDashboard: Current User UID:",T.currentUser.uid),N.exists()){const $=N.data();console.log("TeacherDashboard: User Doc Data:",$),$.isAdmin&&h(!0)}else console.warn("TeacherDashboard: No user doc found in Firestore for UID:",T.currentUser.uid);const P=Mr(it(be,"classes"),Ds("teacherId","==",T.currentUser.uid)),z=(await Bn(P)).docs.map($=>({id:$.id,...$.data()}));e(z.sort(($,ne)=>ne.createdAt-$.createdAt))}catch(N){console.error("Error loading classes:",N)}r(!1)}},I=async()=>{if(!(!l.trim()||!T.currentUser)){R(!0);try{const N=Math.random().toString(36).substring(2,8).toUpperCase(),P={name:l.trim(),teacherId:T.currentUser.uid,inviteCode:N,studentCount:0,createdAt:Date.now(),config:{subject:p,yearGroup:x,examBoard:E,level:"Mixed",teacherPrompt:S}};console.log("TeacherDashboard: Attempting to create class with data:",{...P,createdAt:"serverTimestamp"}),await xr(it(be,"classes"),{...P,createdAt:or()}),console.log("TeacherDashboard: Class created successfully"),s(!1),d(""),w(""),C(""),V()}catch(N){console.error("TeacherDashboard: Error creating class:",N),alert(`Failed to create class: ${N.code||"unknown"} - ${N.message}`)}R(!1)}},k=async(N,P)=>{if(window.confirm(`Are you sure you want to delete "${P}"? This action cannot be undone. All associated data (assignments, student records) will be deleted.`))try{await lc(Fe(be,"classes",N)),e(L=>L.filter(z=>z.id!==N))}catch(L){console.error("TeacherDashboard: Error deleting class:",L),alert(`Failed to delete class: ${L.message}`)}};return c.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Teacher Dashboard"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your classes and assignments."})]}),f&&c.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-semibold transition-colors shadow-lg shadow-indigo-200",children:[c.jsx(aS,{size:20}),"Create Class"]})]}),n?c.jsx("div",{className:"flex justify-center p-12",children:c.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):t.length===0?c.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-300",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Sa,{size:32})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No classes yet"}),c.jsx("p",{className:"text-slate-500 max-w-md mx-auto mb-6",children:"Create your first class to start assigning AI-generated practice exams to your students."}),f?c.jsx("button",{onClick:()=>s(!0),className:"text-indigo-600 font-semibold hover:text-indigo-700 hover:underline",children:"Create a Class now"}):c.jsx("p",{className:"text-slate-400 text-sm",children:"Contact your administrator to create a class."})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(N=>c.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors cursor-pointer",onClick:()=>M(`/teacher/class/${N.id}`),children:N.name})}),c.jsx("button",{onClick:P=>{P.stopPropagation(),k(N.id,N.name)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors ml-2 flex-shrink-0",title:"Delete Class",children:c.jsx(Aa,{size:18})}),c.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-full uppercase tracking-wide",children:[N.studentCount," Students"]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-6 p-3 bg-slate-50 rounded-lg border border-slate-100",children:[c.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Connect Code:"}),c.jsx("code",{className:"text-lg font-mono font-bold text-slate-900 tracking-widest",children:N.inviteCode})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>M(`/teacher/class/${N.id}`),className:"flex-1 py-2.5 bg-slate-900 text-white rounded-lg font-medium text-sm hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[c.jsx(wn,{size:16}),"Manage"]}),c.jsx("button",{onClick:()=>M(`/teacher/class/${N.id}/assignments`),className:"flex-1 py-2.5 bg-white border border-slate-200 text-slate-700 rounded-lg font-medium text-sm hover:bg-slate-50 transition-colors",children:"Assignments"})]})]})},N.id))}),a&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-8 shadow-2xl my-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Create New Class"}),c.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:c.jsx("p",{className:"text-amber-800 text-xs font-medium",children:" Legal Reminder: By creating a class, you confirm you are an authorised educator. This platform handles specific student data under your instruction."})}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Class Name *"}),c.jsx("input",{type:"text",value:l,onChange:N=>d(N.target.value),placeholder:"e.g. Year 10 English - Set 2",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),c.jsxs("select",{value:p,onChange:N=>g(N.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"English Language",children:"English Language"}),c.jsx("option",{value:"English Literature",children:"English Literature"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Year Group"}),c.jsx("input",{type:"text",value:x,onChange:N=>w(N.target.value),placeholder:"e.g. Year 11",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Exam Board Focus"}),c.jsxs("select",{value:E,onChange:N=>A(N.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"Edexcel",children:"Edexcel (Default)"}),c.jsx("option",{value:"AQA",children:"AQA"}),c.jsx("option",{value:"Eduqas",children:"Eduqas"}),c.jsx("option",{value:"OCR",children:"OCR"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["AI Teacher Prompt ",c.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),c.jsx("p",{className:"text-xs text-slate-500 mb-2",children:'Provide context for the AI when generating content for this class (e.g. "Focus on weaker students", "Include more creative writing prompts").'}),c.jsx("textarea",{value:S,onChange:N=>C(N.target.value),placeholder:"e.g. This is a high-ability Year 10 group. Focus on complex inference questions.",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 h-24 resize-none"})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 text-slate-600 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:"Cancel"}),c.jsx("button",{onClick:I,disabled:U||!l.trim(),className:`flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors ${U?"opacity-70 cursor-wait":""}`,children:U?"Creating...":"Create Class"})]})]})})]})},HD=()=>{const{classId:t}=gv(),e=Ft(),[n,r]=b.useState(null),[a,s]=b.useState([]),[l,d]=b.useState([]),[f,h]=b.useState(!0),[p,g]=b.useState("assignments");b.useEffect(()=>{t&&x()},[t]);const x=async()=>{if(t){h(!0);try{const E=Fe(be,"classes",t),A=await br(E);if(A.exists())r({id:A.id,...A.data()});else{e("/teacher");return}const S=it(be,"classes",t,"members"),U=(await Bn(S)).docs.map(I=>({uid:I.id,...I.data()}));s(U);const R=it(be,"assignments"),T=Mr(R,Ds("classId","==",t)),V=(await Bn(T)).docs.map(I=>({id:I.id,...I.data()}));d(V.sort((I,k)=>k.createdAt-I.createdAt))}catch(E){console.error("Error loading class data:",E)}h(!1)}},w=async E=>{if(window.confirm("Are you sure? This will delete the assignment and all student results associated with it."))try{await lc(Fe(be,"assignments",E)),d(A=>A.filter(S=>S.id!==E))}catch(A){console.error("Error deleting assignment:",A),alert("Failed to delete assignment.")}};return f?c.jsx("div",{className:"p-12 text-center text-slate-500",children:"Loading class details..."}):n?c.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[c.jsxs("button",{onClick:()=>e("/teacher"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ti,{size:18}),"Back to Dashboard"]}),c.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-8 mb-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 mb-2",children:n.name}),c.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-lg",children:[c.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Join Code:"}),c.jsx("span",{className:"font-mono font-bold text-slate-900",children:n.inviteCode})]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[a.length," Students"]})]})]}),c.jsx("div",{children:c.jsx("button",{onClick:()=>e(`/teacher/class/${t}/create-assignment`),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 transition-all transform hover:scale-105",children:"+ New Assignment"})})]})}),c.jsxs("div",{className:"flex gap-8 border-b border-slate-200 mb-8",children:[c.jsxs("button",{onClick:()=>g("assignments"),className:`pb-4 px-2 font-bold text-lg transition-colors relative ${p==="assignments"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:["Assignments",p==="assignments"&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t-full"})]}),c.jsxs("button",{onClick:()=>g("students"),className:`pb-4 px-2 font-bold text-lg transition-colors relative ${p==="students"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:["Students (",a.length,")",p==="students"&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t-full"})]})]}),p==="assignments"&&c.jsx("div",{className:"grid gap-4",children:l.length===0?c.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-2xl border border-dashed border-slate-300",children:[c.jsx(dc,{size:48,className:"mx-auto text-slate-300 mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"No assignments created yet"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Generate your first AI practice set for this class."}),c.jsx("button",{onClick:()=>e(`/teacher/class/${t}/create-assignment`),className:"text-indigo-600 font-bold hover:underline",children:"Create Assignment"})]}):l.map(E=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex justify-between items-center group",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:E.title||"Untitled Assignment"}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Kv,{size:16})," Created ",new Date(E.createdAt).toLocaleDateString()]}),c.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${E.settings.difficulty==="Easy"?"bg-green-100 text-green-700":E.settings.difficulty==="Medium"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:E.settings.difficulty}),c.jsx("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-xs text-slate-600 uppercase font-medium",children:E.settings.topic})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"View Results"}),c.jsx("button",{onClick:()=>w(E.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(Aa,{size:20})})]})]},E.id))}),p==="students"&&c.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Student Name"}),c.jsx("th",{className:"px-6 py-4",children:"Joined At"}),c.jsx("th",{className:"px-6 py-4",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:a.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:3,className:"px-6 py-12 text-center text-slate-500",children:["No students have joined yet. Share the code ",c.jsx("b",{children:n.inviteCode})," with them."]})}):a.map(E=>{var A;return c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-6 py-4 font-medium text-slate-900 flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-bold",children:((A=E.displayName)==null?void 0:A.charAt(0))||"S"}),E.displayName||"Unnamed Student"]}),c.jsx("td",{className:"px-6 py-4 text-slate-500 text-sm",children:E.joinedAt?new Date(E.joinedAt).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("button",{className:"text-red-400 hover:text-red-600 text-sm font-medium",children:"Remove"})})]},E.uid)})})]})})]}):c.jsx("div",{className:"p-12 text-center text-red-500",children:"Class not found."})},Rye=()=>{const{classId:t}=gv(),e=Ft(),[n,r]=b.useState(""),[a,s]=b.useState("Medium"),[l,d]=b.useState(5),[f,h]=b.useState(""),[p,g]=b.useState(!1),[x,w]=b.useState(null),[E,A]=b.useState(!1),S=async()=>{if(n){g(!0);try{const R=await new xh().generatePracticeSet(n,a,l);if(R&&R.questions)w(R);else throw new Error("Invalid response from AI")}catch(U){console.error("Generation failed:",U),alert("Failed to generate questions. Please try again.")}g(!1)}},C=async()=>{if(!(!x||!_e.currentUser||!t)){A(!0);try{const U={classId:t,teacherId:_e.currentUser.uid,title:x.title,questions:x.questions,settings:{topic:n,difficulty:a},status:"active",createdAt:Date.now()};await xr(it(be,"assignments"),U),e(`/teacher/class/${t}`)}catch(U){console.error("Save failed:",U),alert("Failed to save assignment.")}A(!1)}};return c.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[c.jsxs("button",{onClick:()=>e(`/teacher/class/${t}`),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ti,{size:18}),"Cancel & Back"]}),c.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 mb-8",children:"Create New Assignment"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[c.jsx(Ea,{className:"text-purple-500",size:20}),"AI Configuration"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Topic / Theme"}),c.jsx("input",{type:"text",value:n,onChange:U=>r(U.target.value),placeholder:"e.g. Macbeth Act 1, Persuasive Writing, Grammar...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Difficulty"}),c.jsxs("select",{value:a,onChange:U=>s(U.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",children:[c.jsx("option",{value:"Easy",children:"Foundation (Easy)"}),c.jsx("option",{value:"Medium",children:"Standard (Medium)"}),c.jsx("option",{value:"Hard",children:"Advanced (Hard)"}),c.jsx("option",{value:"Mixed",children:"Mixed Ability"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Questions"}),c.jsxs("select",{value:l,onChange:U=>d(Number(U.target.value)),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",children:[c.jsx("option",{value:3,children:"3 Questions"}),c.jsx("option",{value:5,children:"5 Questions"}),c.jsx("option",{value:10,children:"10 Questions"})]})]})]}),c.jsx("div",{className:"pt-4",children:c.jsx("button",{onClick:S,disabled:!n||p,className:`w-full py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-xl shadow-lg transition-all ${p?"opacity-70 cursor-wait":"hover:scale-[1.02]"}`,children:p?"Generating Questions...":"Generate with AI"})})]})]})}),c.jsx("div",{className:"space-y-6",children:x?c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm h-full flex flex-col",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-2",children:x.title}),c.jsx("div",{className:"flex-1 overflow-y-auto max-h-[500px] pr-2 space-y-4 mb-4",children:x.questions.map((U,R)=>c.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsxs("span",{className:"font-bold text-slate-700",children:["Q",U.number]}),c.jsxs("span",{className:"text-xs bg-slate-200 px-2 py-1 rounded text-slate-600",children:[U.marks," Marks"]})]}),c.jsx("p",{className:"text-slate-600 text-sm",children:U.text})]},R))}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100",children:[c.jsxs("button",{onClick:S,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-semibold rounded-xl hover:bg-slate-50 transition-colors flex items-center justify-center gap-2",children:[c.jsx(iS,{size:18})," Regenerate"]}),c.jsxs("button",{onClick:C,disabled:E,className:"flex-[2] py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(xy,{size:18})," ",E?"Saving...":"Assign to Class"]})]})]}):c.jsxs("div",{className:"h-full bg-slate-50 rounded-2xl border border-dashed border-slate-300 flex flex-col items-center justify-center text-slate-400 p-8",children:[c.jsx(Ea,{size:48,className:"mb-4 opacity-50"}),c.jsxs("p",{className:"text-center",children:["Configure your topic and settings,",c.jsx("br",{}),"then click Generate to preview."]})]})})]})]})},GD=()=>{var g;const{teacherId:t}=gv(),e=Ft(),[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(""),f=!t||_e.currentUser&&t===_e.currentUser.uid,h=t||((g=_e.currentUser)==null?void 0:g.uid);b.useEffect(()=>{h&&p()},[t,_e.currentUser]);const p=async()=>{if(h){s(!0);try{const x=await br(Fe(be,"users",h));x.exists()&&d(x.data().displayName||x.data().email||"Teacher");const w=Mr(it(be,"classes"),Ds("teacherId","==",h)),A=(await Bn(w)).docs.map(S=>({id:S.id,...S.data()}));r(A.sort((S,C)=>C.createdAt-S.createdAt))}catch(x){console.error("Error loading teacher classes:",x)}s(!1)}};return a?c.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[c.jsxs("button",{onClick:()=>e("/admin/users"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ti,{size:18}),"Back to Users"]}),c.jsx("div",{className:"flex justify-center p-12",children:c.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})})]}):c.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[!f&&c.jsxs("button",{onClick:()=>e("/admin/users"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ti,{size:18}),"Back to Users"]}),c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:[l,"'s Classes"]}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Viewing all classes created by this teacher."})]})}),n.length===0?c.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-300",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Sa,{size:32})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No classes found"}),c.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"This teacher hasn't created any classes yet."})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(x=>c.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors cursor-pointer",onClick:()=>e(`/teacher/class/${x.id}`),children:x.name}),c.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-full uppercase tracking-wide",children:[x.studentCount||0," Students"]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-6 p-3 bg-slate-50 rounded-lg border border-slate-100",children:[c.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Connect Code:"}),c.jsx("code",{className:"text-lg font-mono font-bold text-slate-900 tracking-widest",children:x.inviteCode})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>e(`/teacher/class/${x.id}`),className:"flex-1 py-2.5 bg-slate-900 text-white rounded-lg font-medium text-sm hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[c.jsx(wn,{size:16}),"Manage"]}),c.jsx("button",{onClick:()=>e(`/teacher/class/${x.id}/assignments`),className:"flex-1 py-2.5 bg-white border border-slate-200 text-slate-700 rounded-lg font-medium text-sm hover:bg-slate-50 transition-colors",children:"Assignments"})]})]})},x.id))})]})},Dye=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(""),[l,d]=b.useState(!0),[f,h]=b.useState("all"),[p,g]=b.useState([]);b.useEffect(()=>{_e.currentUser&&x()},[]),b.useEffect(()=>{const w=a.toLowerCase();let E=t.filter(A=>(A.displayName||"").toLowerCase().includes(w)||(A.uid||"").includes(w));f!=="all"&&(E=E.filter(A=>A.classId===f)),r(E)},[a,t,f]);const x=async()=>{if(_e.currentUser){d(!0);try{const w=Mr(it(be,"classes"),Ds("teacherId","==",_e.currentUser.uid)),A=(await Bn(w)).docs.map(U=>({id:U.id,...U.data()}));g(A);const S=[];for(const U of A)try{const R=it(be,"classes",U.id,"members");(await Bn(R)).docs.forEach(M=>{const V=M.data();S.push({uid:V.uid||M.id,displayName:V.displayName||"Unnamed Student",joinedAt:V.joinedAt||Date.now(),classId:U.id,className:U.name})})}catch(R){console.error(`Error loading members for class ${U.id}:`,R)}const C=Array.from(new Map(S.map(U=>[`${U.uid}-${U.classId}`,U])).values());e(C),r(C)}catch(w){console.error("Error loading teacher data:",w)}d(!1)}};return l?c.jsx("div",{className:"p-8",children:"Loading student directory..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Student Directory"}),c.jsx("p",{className:"text-slate-500",children:"View all students enrolled in your classes."})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:w=>s(w.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-edexcel-teal w-64"})]})]}),p.length>0&&c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="all"?"bg-edexcel-teal text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["All Classes (",t.length,")"]}),p.map(w=>{const E=t.filter(A=>A.classId===w.id).length;return c.jsxs("button",{onClick:()=>h(w.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f===w.id?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[w.name," (",E,")"]},w.id)})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Student Name"}),c.jsx("th",{className:"px-6 py-4",children:"Class"}),c.jsx("th",{className:"px-6 py-4",children:"Joined"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:n.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-slate-400",children:p.length===0?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Sa,{size:32,className:"text-slate-300"}),c.jsx("p",{children:"No classes created yet. Create a class to enroll students."})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Sa,{size:32,className:"text-slate-300"}),c.jsx("p",{children:"No students found matching your search."})]})})}):n.map(w=>{var E;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-sm",children:((E=w.displayName)==null?void 0:E.charAt(0))||"S"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-900",children:w.displayName}),c.jsxs("div",{className:"text-xs text-slate-400 font-mono",title:w.uid,children:[w.uid.slice(0,12),"..."]})]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wn,{size:16,className:"text-slate-400"}),w.className]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:w.joinedAt?new Date(w.joinedAt).toLocaleDateString():"Unknown"})]},`${w.uid}-${w.classId}`)})})]})})]})},Mye=()=>{var x,w;const t=Ft(),e=ra(),[n,r]=b.useState(!1),[a,s]=b.useState(!1),[l,d]=b.useState(()=>localStorage.getItem("teacherDarkMode")==="true");b.useEffect(()=>{_e.currentUser&&qv(_e.currentUser.uid).then(s)},[]),b.useEffect(()=>{localStorage.setItem("teacherDarkMode",l.toString()),l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l]);const f=async()=>{await fd(),t("/login")},h=()=>{const E=e.pathname.split("/").filter(Boolean),A=[{label:"Teacher",path:"/teacher"}];return E.length>1&&(E[1]==="students"?A.push({label:"Student Dictionary",path:e.pathname}):E[1]==="class"&&E[2]?A.push({label:"Class Manager",path:e.pathname}):E[1]==="view"&&E[2]&&A.push({label:"View Classes",path:e.pathname})),A},p=({isActive:E})=>`flex items-center gap-3 px-4 py-3 rounded-md transition-colors ${E?"bg-blue-500/20 text-blue-500":"text-slate-300 hover:bg-slate-800"} ${n?"justify-center":""}`,g=[{to:"/teacher",icon:rS,label:"Dashboard",end:!0},{to:"/teacher/classes",icon:wn,label:"My Classes"},{to:"/teacher/students",icon:Sa,label:"Student Directory"}];return a&&g.push({to:"/admin",icon:nS,label:"Admin Panel",end:!1}),c.jsxs("div",{className:`flex h-screen ${l?"bg-slate-900":"bg-gray-100"}`,children:[c.jsxs("aside",{className:`${n?"w-20":"w-64"} bg-slate-900 text-white flex flex-col shrink-0 transition-all duration-300`,children:[c.jsxs("div",{className:`p-4 border-b border-slate-700 flex items-center ${n?"justify-center":"justify-between"}`,children:[!n&&c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold tracking-tight text-blue-400",children:"Teacher Control Panel"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Edexcel Simulator"})]}),c.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",title:n?"Expand":"Collapse",children:n?c.jsx(vh,{size:18}):c.jsx(JA,{size:18})})]}),c.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:g.map(E=>c.jsxs(Yg,{to:E.to,end:E.end,className:p,title:n?E.label:void 0,children:[c.jsx(E.icon,{size:20}),!n&&c.jsx("span",{className:"font-medium",children:E.label})]},E.to))}),c.jsxs("div",{className:"p-3 border-t border-slate-700 space-y-2",children:[c.jsxs("button",{onClick:()=>d(!l),className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${n?"justify-center":""}`,title:l?"Light Mode":"Dark Mode",children:[l?c.jsx(j3,{size:18}):c.jsx(A3,{size:18}),!n&&c.jsx("span",{children:l?"Light Mode":"Dark Mode"})]}),c.jsxs("button",{onClick:f,className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${n?"justify-center":""}`,title:"Sign Out",children:[c.jsx(hd,{size:18}),!n&&c.jsx("span",{children:"Sign Out"})]}),!n&&c.jsx("div",{className:"px-4 pt-2 text-xs text-slate-500",children:"v2.0.0"})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxs("header",{className:`${l?"bg-slate-800 border-slate-700":"bg-white border-gray-200"} border-b h-16 flex items-center justify-between px-6 shadow-sm`,children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("nav",{className:"flex items-center gap-1 text-sm",children:h().map((E,A,S)=>c.jsxs(Mh.Fragment,{children:[c.jsx("button",{onClick:()=>t(E.path),className:`${A===S.length-1?l?"text-white font-semibold":"text-slate-900 font-semibold":l?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:E.label}),A<S.length-1&&c.jsx("span",{className:l?"text-slate-600":"text-slate-300",children:"/"})]},E.path))})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`text-sm font-bold ${l?"text-white":"text-gray-800"}`,children:((x=_e.currentUser)==null?void 0:x.displayName)||"Teacher"}),c.jsx("div",{className:`text-xs ${l?"text-slate-400":"text-gray-500"}`,children:"Educator"})]}),c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden",children:(w=_e.currentUser)!=null&&w.photoURL?c.jsx("img",{src:_e.currentUser.photoURL,alt:"Teacher",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:c.jsx(wn,{size:20})})})]})]}),c.jsx("main",{className:`flex-1 overflow-auto p-6 ${l?"bg-slate-900":""}`,children:c.jsx(c4,{context:{darkMode:l}})})]})]})},Lye=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(""),[a,s]=b.useState(!0),[l,d]=b.useState(!1),f=Ft();b.useEffect(()=>{_e.currentUser&&h()},[_e.currentUser]);const h=async()=>{if(_e.currentUser){s(!0);try{const g=it(be,"users",_e.currentUser.uid,"enrolled_classes"),w=(await Bn(g)).docs.map(S=>S.id);if(w.length===0){e([]),s(!1);return}const E=[];for(let S=0;S<w.length;S+=10)E.push(w.slice(S,S+10));const A=[];for(const S of E){const C=Mr(it(be,"classes"),Ds("__name__","in",S));(await Bn(C)).forEach(R=>A.push({id:R.id,...R.data()}))}e(A)}catch(g){console.error("Error loading classes:",g)}s(!1)}},p=async()=>{if(!(!n||!_e.currentUser)){d(!0);try{const g=Mr(it(be,"classes"),Ds("inviteCode","==",n.trim().toUpperCase())),x=await Bn(g);if(x.empty){alert("Invalid class code."),d(!1);return}const w=x.docs[0],E=w.id,A=w.data();await Ya(Fe(be,"classes",E,"members",_e.currentUser.uid),{uid:_e.currentUser.uid,displayName:_e.currentUser.displayName||"Unknown Student",joinedAt:Date.now()}),await Ya(Fe(be,"users",_e.currentUser.uid,"enrolled_classes",E),{joinedAt:Date.now(),name:A.name}),alert(`Successfully joined ${A.name}!`),r(""),h()}catch(g){console.error("Join failed:",g),alert("Failed to join class. Please try again.")}d(!1)}};return c.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-8",children:"My Classroom"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-indigo-100 shadow-lg shadow-indigo-50",children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[c.jsx(Zr,{className:"text-indigo-600",size:20}),"Join a Class"]}),c.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Enter the 6-character code shared by your teacher."}),c.jsx("input",{type:"text",value:n,onChange:g=>r(g.target.value.toUpperCase()),placeholder:"e.g. AB12CD",maxLength:6,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-mono text-center text-lg tracking-widest mb-4 focus:ring-2 focus:ring-indigo-500 focus:outline-none uppercase"}),c.jsx("button",{onClick:p,disabled:l||n.length<3,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition-colors disabled:opacity-50",children:l?"Joining...":"Join Class"})]})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Enrolled Classes"}),a?c.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading your classes..."}):t.length===0?c.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-dashed border-slate-300 text-center",children:[c.jsx(wn,{size:48,className:"mx-auto text-slate-300 mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"No classes yet"}),c.jsx("p",{className:"text-slate-400",children:"Join a class to see your assignments here."})]}):c.jsx("div",{className:"grid gap-4",children:t.map(g=>c.jsx("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-200 hover:shadow-md transition-all group cursor-pointer",onClick:()=>f(`/student/class/${g.id}`),children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-700 transition-colors",children:g.name}),c.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Joined ",new Date().toLocaleDateString()]})]}),c.jsx(Gv,{className:"text-slate-300 group-hover:text-indigo-500 transition-colors"})]})},g.id))})]})]})]})},Uye=()=>{const{assignmentId:t}=gv(),e=Ft(),[n,r]=b.useState(null),[a,s]=b.useState({}),[l,d]=b.useState(!1),[f,h]=b.useState(!0);b.useEffect(()=>{p()},[t]);const p=async()=>{if(t){try{const w=Fe(be,"assignments",t),E=await br(w);E.exists()?r({id:E.id,...E.data()}):(alert("Assignment not found."),e("/student/classroom"))}catch(w){console.error("Error loading assignment:",w)}h(!1)}},g=(w,E)=>{s(A=>({...A,[w]:{questionId:w,text:E,timestamp:Date.now(),isFlagged:!1}}))},x=async()=>{if(!(!window.confirm("Submit assignment? You cannot change your answers after submitting.")||!_e.currentUser||!n)){d(!0);try{const w=Object.values(a);await xr(it(be,"assignment_results"),{assignmentId:n.id,classId:n.classId,studentId:_e.currentUser.uid,studentName:_e.currentUser.displayName||"Student",score:0,maxScore:n.questions.reduce((E,A)=>E+A.marks,0),answers:w,completedAt:Date.now(),feedback:"Pending AI Marking..."}),alert("Assignment submitted! Your teacher will review the results."),e("/student/classroom")}catch(w){console.error("Submission failed:",w),alert("Failed to submit assignment.")}d(!1)}};return f?c.jsx("div",{className:"p-12 text-center text-slate-500",children:"Loading assignment..."}):n?c.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",children:[c.jsxs("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-30 px-6 py-4 flex justify-between items-center shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>e("/student/classroom"),className:"text-slate-400 hover:text-slate-600",children:c.jsx(ti,{})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-slate-900",children:n.title}),c.jsxs("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wide",children:[n.settings.topic,"  ",n.questions.length," Questions"]})]})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("button",{onClick:x,disabled:l,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition-colors flex items-center gap-2",children:l?"Submitting...":c.jsxs(c.Fragment,{children:["Submit ",c.jsx(Yi,{size:18})]})})})]}),c.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-8 mt-6",children:n.questions.map((w,E)=>{var A;return c.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-200 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Question ",E+1]}),c.jsxs("span",{className:"bg-slate-100 text-slate-600 px-3 py-1 rounded text-sm font-medium",children:[w.marks," Marks"]})]}),c.jsx("div",{className:"prose prose-slate max-w-none mb-6",children:c.jsx("p",{className:"whitespace-pre-wrap text-slate-800 text-lg leading-relaxed",children:w.text})}),c.jsx("textarea",{value:((A=a[w.id])==null?void 0:A.text)||"",onChange:S=>g(w.id,S.target.value),placeholder:"Type your answer here...",rows:6,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none focus:bg-white transition-all text-slate-900 leading-relaxed resize-y"})]},w.id||E)})})]}):null},zye=({children:t})=>{const[e,n]=b.useState(null),[r,a]=b.useState(!1),[s,l]=b.useState(!0);return b.useEffect(()=>{const d=Hh(_e,async f=>{if(n(f),f){const[h,p]=await Promise.all([qv(f.uid),Hv(f.uid)]);a(h||p)}l(!1)});return()=>d()},[]),s?c.jsx("div",{className:"h-screen flex items-center justify-center",children:c.jsx(Ea,{className:"animate-spin text-blue-500",size:32})}):!e||!r?e?c.jsx(js,{to:"/dashboard",replace:!0}):c.jsx(js,{to:"/login",replace:!0}):c.jsx(c.Fragment,{children:t})},Vye=({children:t})=>{const[e,n]=b.useState(null),[r,a]=b.useState(!1),[s,l]=b.useState(!0);return b.useEffect(()=>{const d=Hh(_e,async f=>{if(n(f),f){const h=await qv(f.uid);a(h)}l(!1)});return()=>d()},[]),s?c.jsx("div",{className:"h-screen flex items-center justify-center",children:c.jsx(Ea,{className:"animate-spin text-edexcel-blue",size:32})}):!e||!r?c.jsx(js,{to:"/admin/login",replace:!0}):c.jsx(c.Fragment,{children:t})},$ye=()=>{const t=Ft(),e=ra(),n=e.pathname.startsWith("/admin")||e.pathname.startsWith("/teacher");return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsxs(j$,{children:[c.jsx(Ge,{path:"/",element:c.jsx(XX,{})}),c.jsx(Ge,{path:"/login",element:c.jsx(cye,{})}),c.jsx(Ge,{path:"/legal-consent",element:c.jsx(bye,{})}),c.jsx(Ge,{path:"/pending-approval",element:c.jsx(hye,{})}),c.jsx(Ge,{path:"/terms",element:c.jsx(mye,{})}),c.jsx(Ge,{path:"/privacy",element:c.jsx(pye,{})}),c.jsx(Ge,{path:"/cookies",element:c.jsx(gye,{})}),c.jsx(Ge,{path:"/acceptable-use",element:c.jsx(yye,{})}),c.jsx(Ge,{path:"/child-privacy",element:c.jsx(vye,{})}),c.jsx(Ge,{path:"/admin/login",element:c.jsx(Nye,{})}),c.jsx(Ge,{path:"/dashboard",element:c.jsx(zf,{children:c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsx(dye,{})})})}),c.jsxs(Ge,{path:"/admin",element:c.jsx(Vye,{children:c.jsx(_ye,{})}),children:[c.jsx(Ge,{index:!0,element:c.jsx(qD,{})}),c.jsx(Ge,{path:"users",element:c.jsx(Eye,{})}),c.jsx(Ge,{path:"exams",element:c.jsx(Aye,{})}),c.jsx(Ge,{path:"lab-sessions",element:c.jsx(Sye,{})}),c.jsx(Ge,{path:"analytics",element:c.jsx(qD,{})}),c.jsx(Ge,{path:"announcements",element:c.jsx(Cye,{})}),c.jsx(Ge,{path:"assets",element:c.jsx(Oye,{})}),c.jsx(Ge,{path:"activity-log",element:c.jsx(Iye,{})}),c.jsx(Ge,{path:"security",element:c.jsx(kye,{})}),c.jsx(Ge,{path:"directory",element:c.jsx(Tye,{})}),c.jsx(Ge,{path:"settings",element:c.jsx(jye,{})})]}),c.jsx(Ge,{path:"/exam/:type",element:c.jsx(zf,{children:c.jsx(eZ,{})})}),c.jsx(Ge,{path:"/results",element:c.jsx(zf,{children:c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsx(lye,{})})})}),c.jsxs(Ge,{path:"/teacher",element:c.jsx(zye,{children:c.jsx(Mye,{})}),children:[c.jsx(Ge,{index:!0,element:c.jsx(Pye,{})}),c.jsx(Ge,{path:"students",element:c.jsx(Dye,{})}),c.jsx(Ge,{path:"classes",element:c.jsx(GD,{})}),c.jsx(Ge,{path:"view/:teacherId",element:c.jsx(GD,{})}),c.jsx(Ge,{path:"class/:classId",element:c.jsx(HD,{})}),c.jsx(Ge,{path:"class/:classId/assignments",element:c.jsx(HD,{})}),c.jsx(Ge,{path:"class/:classId/create-assignment",element:c.jsx(Rye,{})})]}),c.jsx(Ge,{path:"/student/classroom",element:c.jsx(zf,{children:c.jsx(Lye,{})})}),c.jsx(Ge,{path:"/student/assignment/:assignmentId",element:c.jsx(zf,{children:c.jsx(Uye,{})})}),c.jsx(Ge,{path:"/language-lab",element:c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsx(fye,{onHome:()=>t("/")})})}),c.jsx(Ge,{path:"*",element:c.jsx(js,{to:"/"})})]})}),!n&&c.jsx(wye,{})]})},Bye=()=>c.jsxs(Q$,{children:[c.jsx($ye,{}),c.jsx(xye,{})]}),U8=document.getElementById("root");if(!U8)throw new Error("Could not find root element to mount to");const Fye=T9.createRoot(U8);Fye.render(c.jsx(Mh.StrictMode,{children:c.jsx(Bye,{})}));export{by as _,Hye as c,Gi as g};

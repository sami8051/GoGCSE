var f9=Object.defineProperty;var h9=(t,e,n)=>e in t?f9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fb=(t,e,n)=>h9(t,typeof e!="symbol"?e+"":e,n);function m9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Bye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qb={exports:{}},Nf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function p9(){if(EC)return Nf;EC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Nf.Fragment=e,Nf.jsx=n,Nf.jsxs=n,Nf}var AC;function g9(){return AC||(AC=1,qb.exports=p9()),qb.exports}var c=g9(),Hb={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function y9(){if(SC)return ze;SC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function I(q,re,pe){this.props=q,this.context=re,this.refs=S,this.updater=pe||E}I.prototype.isReactComponent={},I.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},I.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function U(){}U.prototype=I.prototype;function k(q,re,pe){this.props=q,this.context=re,this.refs=S,this.updater=pe||E}var C=k.prototype=new U;C.constructor=k,A(C,I.prototype),C.isPureReactComponent=!0;var P=Array.isArray;function z(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function T(q,re,pe){var ye=pe.ref;return{$$typeof:t,type:q,key:re,ref:ye!==void 0?ye:null,props:pe}}function R(q,re){return T(q.type,re,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(pe){return re[pe]})}var $=/\/+/g;function ne(q,re){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):re.toString(36)}function me(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(z,z):(q.status="pending",q.then(function(re){q.status==="pending"&&(q.status="fulfilled",q.value=re)},function(re){q.status==="pending"&&(q.status="rejected",q.reason=re)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Y(q,re,pe,ye,Ce){var ke=typeof q;(ke==="undefined"||ke==="boolean")&&(q=null);var Pe=!1;if(q===null)Pe=!0;else switch(ke){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(q.$$typeof){case t:case e:Pe=!0;break;case p:return Pe=q._init,Y(Pe(q._payload),re,pe,ye,Ce)}}if(Pe)return Ce=Ce(q),Pe=ye===""?"."+ne(q,0):ye,P(Ce)?(pe="",Pe!=null&&(pe=Pe.replace($,"$&/")+"/"),Y(Ce,re,pe,"",function(Ue){return Ue})):Ce!=null&&(L(Ce)&&(Ce=R(Ce,pe+(Ce.key==null||q&&q.key===Ce.key?"":(""+Ce.key).replace($,"$&/")+"/")+Pe)),re.push(Ce)),1;Pe=0;var Nt=ye===""?".":ye+":";if(P(q))for(var ce=0;ce<q.length;ce++)ye=q[ce],ke=Nt+ne(ye,ce),Pe+=Y(ye,re,pe,ke,Ce);else if(ce=w(q),typeof ce=="function")for(q=ce.call(q),ce=0;!(ye=q.next()).done;)ye=ye.value,ke=Nt+ne(ye,ce++),Pe+=Y(ye,re,pe,ke,Ce);else if(ke==="object"){if(typeof q.then=="function")return Y(me(q),re,pe,ye,Ce);throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function oe(q,re,pe){if(q==null)return q;var ye=[],Ce=0;return Y(q,ye,"","",function(ke){return re.call(pe,ke,Ce++)}),ye}function H(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(pe){(q._status===0||q._status===-1)&&(q._status=1,q._result=pe)},function(pe){(q._status===0||q._status===-1)&&(q._status=2,q._result=pe)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var K=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},se={map:oe,forEach:function(q,re,pe){oe(q,function(){re.apply(this,arguments)},pe)},count:function(q){var re=0;return oe(q,function(){re++}),re},toArray:function(q){return oe(q,function(re){return re})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return ze.Activity=g,ze.Children=se,ze.Component=I,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=k,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ze.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},ze.cache=function(q){return function(){return q.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(q,re,pe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ye=A({},q.props),Ce=q.key;if(re!=null)for(ke in re.key!==void 0&&(Ce=""+re.key),re)!M.call(re,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&re.ref===void 0||(ye[ke]=re[ke]);var ke=arguments.length-2;if(ke===1)ye.children=pe;else if(1<ke){for(var Pe=Array(ke),Nt=0;Nt<ke;Nt++)Pe[Nt]=arguments[Nt+2];ye.children=Pe}return T(q.type,Ce,ye)},ze.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},ze.createElement=function(q,re,pe){var ye,Ce={},ke=null;if(re!=null)for(ye in re.key!==void 0&&(ke=""+re.key),re)M.call(re,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ce[ye]=re[ye]);var Pe=arguments.length-2;if(Pe===1)Ce.children=pe;else if(1<Pe){for(var Nt=Array(Pe),ce=0;ce<Pe;ce++)Nt[ce]=arguments[ce+2];Ce.children=Nt}if(q&&q.defaultProps)for(ye in Pe=q.defaultProps,Pe)Ce[ye]===void 0&&(Ce[ye]=Pe[ye]);return T(q,ke,Ce)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(q){return{$$typeof:d,render:q}},ze.isValidElement=L,ze.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:H}},ze.memo=function(q,re){return{$$typeof:h,type:q,compare:re===void 0?null:re}},ze.startTransition=function(q){var re=N.T,pe={};N.T=pe;try{var ye=q(),Ce=N.S;Ce!==null&&Ce(pe,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(z,K)}catch(ke){K(ke)}finally{re!==null&&pe.types!==null&&(re.types=pe.types),N.T=re}},ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ze.use=function(q){return N.H.use(q)},ze.useActionState=function(q,re,pe){return N.H.useActionState(q,re,pe)},ze.useCallback=function(q,re){return N.H.useCallback(q,re)},ze.useContext=function(q){return N.H.useContext(q)},ze.useDebugValue=function(){},ze.useDeferredValue=function(q,re){return N.H.useDeferredValue(q,re)},ze.useEffect=function(q,re){return N.H.useEffect(q,re)},ze.useEffectEvent=function(q){return N.H.useEffectEvent(q)},ze.useId=function(){return N.H.useId()},ze.useImperativeHandle=function(q,re,pe){return N.H.useImperativeHandle(q,re,pe)},ze.useInsertionEffect=function(q,re){return N.H.useInsertionEffect(q,re)},ze.useLayoutEffect=function(q,re){return N.H.useLayoutEffect(q,re)},ze.useMemo=function(q,re){return N.H.useMemo(q,re)},ze.useOptimistic=function(q,re){return N.H.useOptimistic(q,re)},ze.useReducer=function(q,re,pe){return N.H.useReducer(q,re,pe)},ze.useRef=function(q){return N.H.useRef(q)},ze.useState=function(q){return N.H.useState(q)},ze.useSyncExternalStore=function(q,re,pe){return N.H.useSyncExternalStore(q,re,pe)},ze.useTransition=function(){return N.H.useTransition()},ze.version="19.2.0",ze}var jC;function td(){return jC||(jC=1,Hb.exports=y9()),Hb.exports}var b=td();const Mh=Hi(b),v9=m9({__proto__:null,default:Mh},[b]);var Gb={exports:{}},Tf={},Kb={exports:{}},Wb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function x9(){return NC||(NC=1,(function(t){function e(Y,oe){var H=Y.length;Y.push(oe);e:for(;0<H;){var K=H-1>>>1,se=Y[K];if(0<a(se,oe))Y[K]=oe,Y[H]=se,H=K;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var oe=Y[0],H=Y.pop();if(H!==oe){Y[0]=H;e:for(var K=0,se=Y.length,q=se>>>1;K<q;){var re=2*(K+1)-1,pe=Y[re],ye=re+1,Ce=Y[ye];if(0>a(pe,H))ye<se&&0>a(Ce,pe)?(Y[K]=Ce,Y[ye]=H,K=ye):(Y[K]=pe,Y[re]=H,K=re);else if(ye<se&&0>a(Ce,H))Y[K]=Ce,Y[ye]=H,K=ye;else break e}}return oe}function a(Y,oe){var H=Y.sortIndex-oe.sortIndex;return H!==0?H:Y.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,x=3,w=!1,E=!1,A=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=Y)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(h)}}function P(Y){if(A=!1,C(Y),!E)if(n(f)!==null)E=!0,z||(z=!0,V());else{var oe=n(h);oe!==null&&me(P,oe.startTime-Y)}}var z=!1,N=-1,M=5,T=-1;function R(){return S?!0:!(t.unstable_now()-T<M)}function L(){if(S=!1,z){var Y=t.unstable_now();T=Y;var oe=!0;try{e:{E=!1,A&&(A=!1,U(N),N=-1),w=!0;var H=x;try{t:{for(C(Y),g=n(f);g!==null&&!(g.expirationTime>Y&&R());){var K=g.callback;if(typeof K=="function"){g.callback=null,x=g.priorityLevel;var se=K(g.expirationTime<=Y);if(Y=t.unstable_now(),typeof se=="function"){g.callback=se,C(Y),oe=!0;break t}g===n(f)&&r(f),C(Y)}else r(f);g=n(f)}if(g!==null)oe=!0;else{var q=n(h);q!==null&&me(P,q.startTime-Y),oe=!1}}break e}finally{g=null,x=H,w=!1}oe=void 0}}finally{oe?V():z=!1}}}var V;if(typeof k=="function")V=function(){k(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=L,V=function(){ne.postMessage(null)}}else V=function(){I(L,0)};function me(Y,oe){N=I(function(){Y(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var H=x;x=oe;try{return Y()}finally{x=H}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var H=x;x=Y;try{return oe()}finally{x=H}},t.unstable_scheduleCallback=function(Y,oe,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,Y){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=H+se,Y={id:p++,callback:oe,priorityLevel:Y,startTime:H,expirationTime:se,sortIndex:-1},H>K?(Y.sortIndex=H,e(h,Y),n(f)===null&&Y===n(h)&&(A?(U(N),N=-1):A=!0,me(P,H-K))):(Y.sortIndex=se,e(f,Y),E||w||(E=!0,z||(z=!0,V()))),Y},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(Y){var oe=x;return function(){var H=x;x=oe;try{return Y.apply(this,arguments)}finally{x=H}}}})(Wb)),Wb}var TC;function b9(){return TC||(TC=1,Kb.exports=x9()),Kb.exports}var Yb={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function w9(){if(CC)return tr;CC=1;var t=td();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},tr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},tr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},tr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},tr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},tr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},tr.requestFormReset=function(f){r.d.r(f)},tr.unstable_batchedUpdates=function(f,h){return f(h)},tr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},tr.useFormStatus=function(){return l.H.useHostTransitionStatus()},tr.version="19.2.0",tr}var IC;function HD(){if(IC)return Yb.exports;IC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yb.exports=w9(),Yb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function _9(){if(OC)return Tf;OC=1;var t=b9(),e=td(),n=HD();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return f(v),i;if(_===m)return f(v),o;_=_.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=_;else{for(var O=!1,B=v.child;B;){if(B===u){O=!0,u=v,m=_;break}if(B===m){O=!0,m=v,u=_;break}B=B.sibling}if(!O){for(B=_.child;B;){if(B===u){O=!0,u=_,m=v;break}if(B===m){O=!0,m=_,u=v;break}B=B.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var $=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===$?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case I:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case z:return"SuspenseList";case T:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case k:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return o=i.displayName||null,o!==null?o:ne(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return ne(i(o))}catch{}}return null}var me=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},K=[],se=-1;function q(i){return{current:i}}function re(i){0>se||(i.current=K[se],K[se]=null,se--)}function pe(i,o){se++,K[se]=i.current,i.current=o}var ye=q(null),Ce=q(null),ke=q(null),Pe=q(null);function Nt(i,o){switch(pe(ke,o),pe(Ce,i),pe(ye,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?GT(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=GT(o),i=KT(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ye),pe(ye,i)}function ce(){re(ye),re(Ce),re(ke)}function Ue(i){i.memoizedState!==null&&pe(Pe,i);var o=ye.current,u=KT(o,i.type);o!==u&&(pe(Ce,i),pe(ye,u))}function He(i){Ce.current===i&&(re(ye),re(Ce)),Pe.current===i&&(re(Pe),Ef._currentValue=H)}var ge,Xt;function Ke(i){if(ge===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",Xt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+i+Xt}var An=!1;function Zt(i,o){if(!i||An)return"";An=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var te=ie}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(ie){te=ie}i.call(fe.prototype)}}else{try{throw Error()}catch(ie){te=ie}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),O=_[0],B=_[1];if(O&&B){var G=O.split(`
`),ee=B.split(`
`);for(v=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(m===G.length||v===ee.length)for(m=G.length-1,v=ee.length-1;1<=m&&0<=v&&G[m]!==ee[v];)v--;for(;1<=m&&0<=v;m--,v--)if(G[m]!==ee[v]){if(m!==1||v!==1)do if(m--,v--,0>v||G[m]!==ee[v]){var le=`
`+G[m].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=m&&0<=v);break}}}finally{An=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ke(u):""}function Ur(i,o){switch(i.tag){case 26:case 27:case 5:return Ke(i.type);case 16:return Ke("Lazy");case 13:return i.child!==o&&o!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return Zt(i.type,!1);case 11:return Zt(i.type.render,!1);case 1:return Zt(i.type,!0);case 31:return Ke("Activity");default:return""}}function Qs(i){try{var o="",u=null;do o+=Ur(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ln=Object.prototype.hasOwnProperty,Sn=t.unstable_scheduleCallback,Xs=t.unstable_cancelCallback,H0=t.unstable_shouldYield,Tm=t.unstable_requestPaint,dr=t.unstable_now,fl=t.unstable_getCurrentPriorityLevel,Sd=t.unstable_ImmediatePriority,jd=t.unstable_UserBlockingPriority,Zs=t.unstable_NormalPriority,G0=t.unstable_LowPriority,Cm=t.unstable_IdlePriority,Im=t.log,Om=t.unstable_setDisableYieldValue,Pa=null,Hn=null;function aa(i){if(typeof Im=="function"&&Om(i),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(Pa,i)}catch{}}var Jt=Math.clz32?Math.clz32:Pm,km=Math.log,Tc=Math.LN2;function Pm(i){return i>>>=0,i===0?32:31-(km(i)/Tc|0)|0}var ii=256,hl=262144,cn=4194304;function si(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function oi(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,_=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var B=m&134217727;return B!==0?(m=B&~_,m!==0?v=si(m):(O&=B,O!==0?v=si(O):u||(u=B&~i,u!==0&&(v=si(u))))):(B=m&~_,B!==0?v=si(B):O!==0?v=si(O):u||(u=m&~i,u!==0&&(v=si(u)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:v}function Ra(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function K0(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rm(){var i=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),i}function li(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function ml(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function W0(i,o,u,m,v,_){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var B=i.entanglements,G=i.expirationTimes,ee=i.hiddenUpdates;for(u=O&~u;0<u;){var le=31-Jt(u),fe=1<<le;B[le]=0,G[le]=-1;var te=ee[le];if(te!==null)for(ee[le]=null,le=0;le<te.length;le++){var ie=te[le];ie!==null&&(ie.lane&=-536870913)}u&=~fe}m!==0&&pl(i,m,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(O&~o))}function pl(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-Jt(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function Nd(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-Jt(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}function Td(i,o){var u=o&-o;return u=(u&42)!==0?1:gl(u),(u&(i.suspendedLanes|o))!==0?0:u}function gl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Dm(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:gC(i.type))}function Da(i,o){var u=oe.p;try{return oe.p=i,o()}finally{oe.p=u}}var Ma=Math.random().toString(36).slice(2),un="__reactFiber$"+Ma,Pn="__reactProps$"+Ma,ci="__reactContainer$"+Ma,Cc="__reactEvents$"+Ma,Y0="__reactListeners$"+Ma,Mm="__reactHandles$"+Ma,Lm="__reactResources$"+Ma,ui="__reactMarker$"+Ma;function Ic(i){delete i[un],delete i[Pn],delete i[Cc],delete i[Y0],delete i[Mm]}function di(i){var o=i[un];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ci]||u[un]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=eC(i);i!==null;){if(u=i[un])return u;i=eC(i)}return o}i=u,u=i.parentNode}return null}function ia(i){if(i=i[un]||i[ci]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function zr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function fi(i){var o=i[Lm];return o||(o=i[Lm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function dn(i){i[ui]=!0}var Cd=new Set,Id={};function hi(i,o){mi(i,o),mi(i+"Capture",o)}function mi(i,o){for(Id[i]=o,i=0;i<o.length;i++)Cd.add(o[i])}var Od=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kd={},Pd={};function Um(i){return ln.call(Pd,i)?!0:ln.call(kd,i)?!1:Od.test(i)?Pd[i]=!0:(kd[i]=!0,!1)}function Oc(i,o,u){if(Um(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Vr(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function fn(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Rn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Js(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rd(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,_=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(O){u=""+O,_.call(this,O)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function mt(i){if(!i._valueTracker){var o=Js(i)?"checked":"value";i._valueTracker=Rd(i,o,""+i[o])}}function yl(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=Js(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vl=/[\n"\\]/g;function Er(i){return i.replace(vl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function kc(i,o,u,m,v,_,O,B){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Rn(o)):i.value!==""+Rn(o)&&(i.value=""+Rn(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?Dd(i,O,Rn(o)):u!=null?Dd(i,O,Rn(u)):m!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+Rn(B):i.removeAttribute("name")}function zm(i,o,u,m,v,_,O,B){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){mt(i);return}u=u!=null?""+Rn(u):"",o=o!=null?""+Rn(o):u,B||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=B?i.checked:!!m,i.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),mt(i)}function Dd(i,o,u){o==="number"&&pi(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function eo(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Rn(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function Vm(i,o,u){if(o!=null&&(o=""+Rn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Rn(u):""}function to(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(me(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Rn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),mt(i)}function Ar(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var $m=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Md(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||$m.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Ld(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&Md(i,v,m)}else for(var _ in o)o.hasOwnProperty(_)&&Md(i,_,o[_])}function Pc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rc(i){return no.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function La(){}var Ud=null;function sa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ro=null,gi=null;function xl(i){var o=ia(i);if(o&&(i=o.stateNode)){var u=i[Pn]||null;e:switch(i=o.stateNode,o.type){case"input":if(kc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Er(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=m[Pn]||null;if(!v)throw Error(r(90));kc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&yl(m)}break e;case"textarea":Vm(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&eo(i,!!u.multiple,o,!1)}}}var Dc=!1;function ao(i,o,u){if(Dc)return i(o,u);Dc=!0;try{var m=i(o);return m}finally{if(Dc=!1,(ro!==null||gi!==null)&&(Dp(),ro&&(o=ro,i=gi,gi=ro=null,xl(o),i)))for(o=0;o<i.length;o++)xl(i[o])}}function Ua(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Pn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=!1;if(oa)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){bl=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{bl=!1}var yi=null,zd=null,wl=null;function Vd(){if(wl)return wl;var i,o=zd,u=o.length,m,v="value"in yi?yi.value:yi.textContent,_=v.length;for(i=0;i<u&&o[i]===v[i];i++);var O=u-i;for(m=1;m<=O&&o[u-m]===v[_-m];m++);return wl=v.slice(i,1<m?1-m:void 0)}function _l(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Zi(){return!0}function za(){return!1}function Gn(i){function o(u,m,v,_,O){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(u=i[B],this[B]=u?u(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Zi:za,this.isPropagationStopped=za,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),o}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Gn(Ji),io=g({},Ji,{view:0,detail:0}),$d=Gn(io),so,Mc,xi,Lc=g({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xi&&(xi&&i.type==="mousemove"?(so=i.screenX-xi.screenX,Mc=i.screenY-xi.screenY):Mc=so=0,xi=i),so)},movementY:function(i){return"movementY"in i?i.movementY:Mc}}),Bd=Gn(Lc),El=g({},Lc,{dataTransfer:0}),Fm=Gn(El),qm=g({},io,{relatedTarget:0}),Al=Gn(qm),Fd=g({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=Gn(Fd),Uc=g({},Ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gm=Gn(Uc),Km=g({},Ji,{data:0}),bi=Gn(Km),Wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Qm[i])?!!o[i]:!1}function oo(){return Xm}var fr=g({},io,{key:function(i){if(i.key){var o=Wm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=_l(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ym[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(i){return i.type==="keypress"?_l(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_l(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zm=Gn(fr),Jm=g({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Gn(Jm),y=g({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),j=Gn(y),D=g({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=Gn(D),X=g({},Lc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Gn(X),ve=g({},Ji,{newState:0,oldState:0}),$e=Gn(ve),en=[9,13,27,32],ut=oa&&"CompositionEvent"in window,Dt=null;oa&&"documentMode"in document&&(Dt=document.documentMode);var la=oa&&"TextEvent"in window&&!Dt,wi=oa&&(!ut||Dt&&8<Dt&&11>=Dt),Va=" ",$a=!1;function Sl(i,o){switch(i){case"keyup":return en.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vc=!1;function M8(i,o){switch(i){case"compositionend":return zc(o);case"keypress":return o.which!==32?null:($a=!0,Va);case"textInput":return i=o.data,i===Va&&$a?null:i;default:return null}}function L8(i,o){if(Vc)return i==="compositionend"||!ut&&Sl(i,o)?(i=Vd(),wl=zd=yi=null,Vc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return wi&&o.locale!=="ko"?null:o.data;default:return null}}var U8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!U8[i.type]:o==="textarea"}function aN(i,o,u,m){ro?gi?gi.push(m):gi=[m]:ro=m,o=Bp(o,"onChange"),0<o.length&&(u=new vi("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var qd=null,Hd=null;function z8(i){VT(i,0)}function ep(i){var o=zr(i);if(yl(o))return i}function iN(i,o){if(i==="change")return o}var sN=!1;if(oa){var Q0;if(oa){var X0="oninput"in document;if(!X0){var oN=document.createElement("div");oN.setAttribute("oninput","return;"),X0=typeof oN.oninput=="function"}Q0=X0}else Q0=!1;sN=Q0&&(!document.documentMode||9<document.documentMode)}function lN(){qd&&(qd.detachEvent("onpropertychange",cN),Hd=qd=null)}function cN(i){if(i.propertyName==="value"&&ep(Hd)){var o=[];aN(o,Hd,i,sa(i)),ao(z8,o)}}function V8(i,o,u){i==="focusin"?(lN(),qd=o,Hd=u,qd.attachEvent("onpropertychange",cN)):i==="focusout"&&lN()}function $8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ep(Hd)}function B8(i,o){if(i==="click")return ep(o)}function F8(i,o){if(i==="input"||i==="change")return ep(o)}function q8(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var $r=typeof Object.is=="function"?Object.is:q8;function Gd(i,o){if($r(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!ln.call(o,v)||!$r(i[v],o[v]))return!1}return!0}function uN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dN(i,o){var u=uN(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=uN(u)}}function fN(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?fN(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function hN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=pi(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=pi(i.document)}return o}function Z0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var H8=oa&&"documentMode"in document&&11>=document.documentMode,$c=null,J0=null,Kd=null,ex=!1;function mN(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ex||$c==null||$c!==pi(m)||(m=$c,"selectionStart"in m&&Z0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Kd&&Gd(Kd,m)||(Kd=m,m=Bp(J0,"onSelect"),0<m.length&&(o=new vi("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=$c)))}function jl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Bc={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},tx={},pN={};oa&&(pN=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function Nl(i){if(tx[i])return tx[i];if(!Bc[i])return i;var o=Bc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in pN)return tx[i]=o[u];return i}var gN=Nl("animationend"),yN=Nl("animationiteration"),vN=Nl("animationstart"),G8=Nl("transitionrun"),K8=Nl("transitionstart"),W8=Nl("transitioncancel"),xN=Nl("transitionend"),bN=new Map,nx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nx.push("scrollEnd");function Ba(i,o){bN.set(i,o),hi(o,[i])}var tp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ca=[],Fc=0,rx=0;function np(){for(var i=Fc,o=rx=Fc=0;o<i;){var u=ca[o];ca[o++]=null;var m=ca[o];ca[o++]=null;var v=ca[o];ca[o++]=null;var _=ca[o];if(ca[o++]=null,m!==null&&v!==null){var O=m.pending;O===null?v.next=v:(v.next=O.next,O.next=v),m.pending=v}_!==0&&wN(u,v,_)}}function rp(i,o,u,m){ca[Fc++]=i,ca[Fc++]=o,ca[Fc++]=u,ca[Fc++]=m,rx|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function ax(i,o,u,m){return rp(i,o,u,m),ap(i)}function Tl(i,o){return rp(i,null,null,o),ap(i)}function wN(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,_=i.return;_!==null;)_.childLanes|=u,m=_.alternate,m!==null&&(m.childLanes|=u),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&o!==null&&(v=31-Jt(u),i=_.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=u|536870912),_):null}function ap(i){if(50<gf)throw gf=0,hb=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var qc={};function Y8(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(i,o,u,m){return new Y8(i,o,u,m)}function ix(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ts(i,o){var u=i.alternate;return u===null?(u=Br(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function _N(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function ip(i,o,u,m,v,_){var O=0;if(m=i,typeof i=="function")ix(i)&&(O=1);else if(typeof i=="string")O=e9(i,u,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case T:return i=Br(31,u,o,v),i.elementType=T,i.lanes=_,i;case A:return Cl(u.children,v,_,o);case S:O=8,v|=24;break;case I:return i=Br(12,u,o,v|2),i.elementType=I,i.lanes=_,i;case P:return i=Br(13,u,o,v),i.elementType=P,i.lanes=_,i;case z:return i=Br(19,u,o,v),i.elementType=z,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:O=10;break e;case U:O=9;break e;case C:O=11;break e;case N:O=14;break e;case M:O=16,m=null;break e}O=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=Br(O,u,o,v),o.elementType=i,o.type=m,o.lanes=_,o}function Cl(i,o,u,m){return i=Br(7,i,m,o),i.lanes=u,i}function sx(i,o,u){return i=Br(6,i,null,o),i.lanes=u,i}function EN(i){var o=Br(18,null,null,0);return o.stateNode=i,o}function ox(i,o,u){return o=Br(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var AN=new WeakMap;function ua(i,o){if(typeof i=="object"&&i!==null){var u=AN.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Qs(o)},AN.set(i,o),o)}return{value:i,source:o,stack:Qs(o)}}var Hc=[],Gc=0,sp=null,Wd=0,da=[],fa=0,lo=null,_i=1,Ei="";function ns(i,o){Hc[Gc++]=Wd,Hc[Gc++]=sp,sp=i,Wd=o}function SN(i,o,u){da[fa++]=_i,da[fa++]=Ei,da[fa++]=lo,lo=i;var m=_i;i=Ei;var v=32-Jt(m)-1;m&=~(1<<v),u+=1;var _=32-Jt(o)+v;if(30<_){var O=v-v%5;_=(m&(1<<O)-1).toString(32),m>>=O,v-=O,_i=1<<32-Jt(o)+v|u<<v|m,Ei=_+i}else _i=1<<_|u<<v|m,Ei=i}function lx(i){i.return!==null&&(ns(i,1),SN(i,1,0))}function cx(i){for(;i===sp;)sp=Hc[--Gc],Hc[Gc]=null,Wd=Hc[--Gc],Hc[Gc]=null;for(;i===lo;)lo=da[--fa],da[fa]=null,Ei=da[--fa],da[fa]=null,_i=da[--fa],da[fa]=null}function jN(i,o){da[fa++]=_i,da[fa++]=Ei,da[fa++]=lo,_i=o.id,Ei=o.overflow,lo=i}var Kn=null,It=null,nt=!1,co=null,ha=!1,ux=Error(r(519));function uo(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yd(ua(o,i)),ux}function NN(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[un]=i,o[Pn]=m,u){case"dialog":Ye("cancel",o),Ye("close",o);break;case"iframe":case"object":case"embed":Ye("load",o);break;case"video":case"audio":for(u=0;u<vf.length;u++)Ye(vf[u],o);break;case"source":Ye("error",o);break;case"img":case"image":case"link":Ye("error",o),Ye("load",o);break;case"details":Ye("toggle",o);break;case"input":Ye("invalid",o),zm(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ye("invalid",o);break;case"textarea":Ye("invalid",o),to(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||qT(o.textContent,u)?(m.popover!=null&&(Ye("beforetoggle",o),Ye("toggle",o)),m.onScroll!=null&&Ye("scroll",o),m.onScrollEnd!=null&&Ye("scrollend",o),m.onClick!=null&&(o.onclick=La),o=!0):o=!1,o||uo(i,!0)}function TN(i){for(Kn=i.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:Kn=Kn.return}}function Kc(i){if(i!==Kn)return!1;if(!nt)return TN(i),nt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Tb(i.type,i.memoizedProps)),u=!u),u&&It&&uo(i),TN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));It=JT(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));It=JT(i)}else o===27?(o=It,So(i.type)?(i=Pb,Pb=null,It=i):It=o):It=Kn?pa(i.stateNode.nextSibling):null;return!0}function Il(){It=Kn=null,nt=!1}function dx(){var i=co;return i!==null&&(Tr===null?Tr=i:Tr.push.apply(Tr,i),co=null),i}function Yd(i){co===null?co=[i]:co.push(i)}var fx=q(null),Ol=null,rs=null;function fo(i,o,u){pe(fx,o._currentValue),o._currentValue=u}function as(i){i._currentValue=fx.current,re(fx)}function hx(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function mx(i,o,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var O=v.child;_=_.firstContext;e:for(;_!==null;){var B=_;_=v;for(var G=0;G<o.length;G++)if(B.context===o[G]){_.lanes|=u,B=_.alternate,B!==null&&(B.lanes|=u),hx(_.return,u,i),m||(O=null);break e}_=B.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=u,_=O.alternate,_!==null&&(_.lanes|=u),hx(O,u,i),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===i){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Wc(i,o,u,m){i=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var B=v.type;$r(v.pendingProps.value,O.value)||(i!==null?i.push(B):i=[B])}}else if(v===Pe.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Ef):i=[Ef])}v=v.return}i!==null&&mx(o,i,u,m),o.flags|=262144}function op(i){for(i=i.firstContext;i!==null;){if(!$r(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function kl(i){Ol=i,rs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wn(i){return CN(Ol,i)}function lp(i,o){return Ol===null&&kl(i),CN(i,o)}function CN(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},rs===null){if(i===null)throw Error(r(308));rs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else rs=rs.next=o;return u}var Q8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},X8=t.unstable_scheduleCallback,Z8=t.unstable_NormalPriority,hn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function px(){return{controller:new Q8,data:new Map,refCount:0}}function Qd(i){i.refCount--,i.refCount===0&&X8(Z8,function(){i.controller.abort()})}var Xd=null,gx=0,Yc=0,Qc=null;function J8(i,o){if(Xd===null){var u=Xd=[];gx=0,Yc=xb(),Qc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return gx++,o.then(IN,IN),o}function IN(){if(--gx===0&&Xd!==null){Qc!==null&&(Qc.status="fulfilled");var i=Xd;Xd=null,Yc=0,Qc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function eV(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var ON=Y.S;Y.S=function(i,o){mT=dr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&J8(i,o),ON!==null&&ON(i,o)};var Pl=q(null);function yx(){var i=Pl.current;return i!==null?i:At.pooledCache}function cp(i,o){o===null?pe(Pl,Pl.current):pe(Pl,o.pool)}function kN(){var i=yx();return i===null?null:{parent:hn._currentValue,pool:i}}var Xc=Error(r(460)),vx=Error(r(474)),up=Error(r(542)),dp={then:function(){}};function PN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function RN(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(La,La),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,MN(i),i;default:if(typeof o.status=="string")o.then(La,La);else{if(i=At,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,MN(i),i}throw Dl=o,Xc}}function Rl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Dl=u,Xc):u}}var Dl=null;function DN(){if(Dl===null)throw Error(r(459));var i=Dl;return Dl=null,i}function MN(i){if(i===Xc||i===up)throw Error(r(483))}var Zc=null,Zd=0;function fp(i){var o=Zd;return Zd+=1,Zc===null&&(Zc=[]),RN(Zc,i,o)}function Jd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function hp(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function LN(i){function o(Q,W){if(i){var Z=Q.deletions;Z===null?(Q.deletions=[W],Q.flags|=16):Z.push(W)}}function u(Q,W){if(!i)return null;for(;W!==null;)o(Q,W),W=W.sibling;return null}function m(Q){for(var W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function v(Q,W){return Q=ts(Q,W),Q.index=0,Q.sibling=null,Q}function _(Q,W,Z){return Q.index=Z,i?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<W?(Q.flags|=67108866,W):Z):(Q.flags|=67108866,W)):(Q.flags|=1048576,W)}function O(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function B(Q,W,Z,ue){return W===null||W.tag!==6?(W=sx(Z,Q.mode,ue),W.return=Q,W):(W=v(W,Z),W.return=Q,W)}function G(Q,W,Z,ue){var Ie=Z.type;return Ie===A?le(Q,W,Z.props.children,ue,Z.key):W!==null&&(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&Rl(Ie)===W.type)?(W=v(W,Z.props),Jd(W,Z),W.return=Q,W):(W=ip(Z.type,Z.key,Z.props,null,Q.mode,ue),Jd(W,Z),W.return=Q,W)}function ee(Q,W,Z,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=ox(Z,Q.mode,ue),W.return=Q,W):(W=v(W,Z.children||[]),W.return=Q,W)}function le(Q,W,Z,ue,Ie){return W===null||W.tag!==7?(W=Cl(Z,Q.mode,ue,Ie),W.return=Q,W):(W=v(W,Z),W.return=Q,W)}function fe(Q,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=sx(""+W,Q.mode,Z),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return Z=ip(W.type,W.key,W.props,null,Q.mode,Z),Jd(Z,W),Z.return=Q,Z;case E:return W=ox(W,Q.mode,Z),W.return=Q,W;case M:return W=Rl(W),fe(Q,W,Z)}if(me(W)||V(W))return W=Cl(W,Q.mode,Z,null),W.return=Q,W;if(typeof W.then=="function")return fe(Q,fp(W),Z);if(W.$$typeof===k)return fe(Q,lp(Q,W),Z);hp(Q,W)}return null}function te(Q,W,Z,ue){var Ie=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ie!==null?null:B(Q,W,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Ie?G(Q,W,Z,ue):null;case E:return Z.key===Ie?ee(Q,W,Z,ue):null;case M:return Z=Rl(Z),te(Q,W,Z,ue)}if(me(Z)||V(Z))return Ie!==null?null:le(Q,W,Z,ue,null);if(typeof Z.then=="function")return te(Q,W,fp(Z),ue);if(Z.$$typeof===k)return te(Q,W,lp(Q,Z),ue);hp(Q,Z)}return null}function ie(Q,W,Z,ue,Ie){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(Z)||null,B(W,Q,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return Q=Q.get(ue.key===null?Z:ue.key)||null,G(W,Q,ue,Ie);case E:return Q=Q.get(ue.key===null?Z:ue.key)||null,ee(W,Q,ue,Ie);case M:return ue=Rl(ue),ie(Q,W,Z,ue,Ie)}if(me(ue)||V(ue))return Q=Q.get(Z)||null,le(W,Q,ue,Ie,null);if(typeof ue.then=="function")return ie(Q,W,Z,fp(ue),Ie);if(ue.$$typeof===k)return ie(Q,W,Z,lp(W,ue),Ie);hp(W,ue)}return null}function je(Q,W,Z,ue){for(var Ie=null,st=null,Te=W,Fe=W=0,Ze=null;Te!==null&&Fe<Z.length;Fe++){Te.index>Fe?(Ze=Te,Te=null):Ze=Te.sibling;var ot=te(Q,Te,Z[Fe],ue);if(ot===null){Te===null&&(Te=Ze);break}i&&Te&&ot.alternate===null&&o(Q,Te),W=_(ot,W,Fe),st===null?Ie=ot:st.sibling=ot,st=ot,Te=Ze}if(Fe===Z.length)return u(Q,Te),nt&&ns(Q,Fe),Ie;if(Te===null){for(;Fe<Z.length;Fe++)Te=fe(Q,Z[Fe],ue),Te!==null&&(W=_(Te,W,Fe),st===null?Ie=Te:st.sibling=Te,st=Te);return nt&&ns(Q,Fe),Ie}for(Te=m(Te);Fe<Z.length;Fe++)Ze=ie(Te,Q,Fe,Z[Fe],ue),Ze!==null&&(i&&Ze.alternate!==null&&Te.delete(Ze.key===null?Fe:Ze.key),W=_(Ze,W,Fe),st===null?Ie=Ze:st.sibling=Ze,st=Ze);return i&&Te.forEach(function(Io){return o(Q,Io)}),nt&&ns(Q,Fe),Ie}function Re(Q,W,Z,ue){if(Z==null)throw Error(r(151));for(var Ie=null,st=null,Te=W,Fe=W=0,Ze=null,ot=Z.next();Te!==null&&!ot.done;Fe++,ot=Z.next()){Te.index>Fe?(Ze=Te,Te=null):Ze=Te.sibling;var Io=te(Q,Te,ot.value,ue);if(Io===null){Te===null&&(Te=Ze);break}i&&Te&&Io.alternate===null&&o(Q,Te),W=_(Io,W,Fe),st===null?Ie=Io:st.sibling=Io,st=Io,Te=Ze}if(ot.done)return u(Q,Te),nt&&ns(Q,Fe),Ie;if(Te===null){for(;!ot.done;Fe++,ot=Z.next())ot=fe(Q,ot.value,ue),ot!==null&&(W=_(ot,W,Fe),st===null?Ie=ot:st.sibling=ot,st=ot);return nt&&ns(Q,Fe),Ie}for(Te=m(Te);!ot.done;Fe++,ot=Z.next())ot=ie(Te,Q,Fe,ot.value,ue),ot!==null&&(i&&ot.alternate!==null&&Te.delete(ot.key===null?Fe:ot.key),W=_(ot,W,Fe),st===null?Ie=ot:st.sibling=ot,st=ot);return i&&Te.forEach(function(d9){return o(Q,d9)}),nt&&ns(Q,Fe),Ie}function _t(Q,W,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Ie=Z.key;W!==null;){if(W.key===Ie){if(Ie=Z.type,Ie===A){if(W.tag===7){u(Q,W.sibling),ue=v(W,Z.props.children),ue.return=Q,Q=ue;break e}}else if(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&Rl(Ie)===W.type){u(Q,W.sibling),ue=v(W,Z.props),Jd(ue,Z),ue.return=Q,Q=ue;break e}u(Q,W);break}else o(Q,W);W=W.sibling}Z.type===A?(ue=Cl(Z.props.children,Q.mode,ue,Z.key),ue.return=Q,Q=ue):(ue=ip(Z.type,Z.key,Z.props,null,Q.mode,ue),Jd(ue,Z),ue.return=Q,Q=ue)}return O(Q);case E:e:{for(Ie=Z.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){u(Q,W.sibling),ue=v(W,Z.children||[]),ue.return=Q,Q=ue;break e}else{u(Q,W);break}else o(Q,W);W=W.sibling}ue=ox(Z,Q.mode,ue),ue.return=Q,Q=ue}return O(Q);case M:return Z=Rl(Z),_t(Q,W,Z,ue)}if(me(Z))return je(Q,W,Z,ue);if(V(Z)){if(Ie=V(Z),typeof Ie!="function")throw Error(r(150));return Z=Ie.call(Z),Re(Q,W,Z,ue)}if(typeof Z.then=="function")return _t(Q,W,fp(Z),ue);if(Z.$$typeof===k)return _t(Q,W,lp(Q,Z),ue);hp(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(u(Q,W.sibling),ue=v(W,Z),ue.return=Q,Q=ue):(u(Q,W),ue=sx(Z,Q.mode,ue),ue.return=Q,Q=ue),O(Q)):u(Q,W)}return function(Q,W,Z,ue){try{Zd=0;var Ie=_t(Q,W,Z,ue);return Zc=null,Ie}catch(Te){if(Te===Xc||Te===up)throw Te;var st=Br(29,Te,null,Q.mode);return st.lanes=ue,st.return=Q,st}finally{}}}var Ml=LN(!0),UN=LN(!1),ho=!1;function xx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function po(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(dt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=ap(i),wN(i,null,u),o}return rp(i,m,o,u),ap(i)}function ef(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Nd(i,u)}}function wx(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=O:_=_.next=O,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var _x=!1;function tf(){if(_x){var i=Qc;if(i!==null)throw i}}function nf(i,o,u,m){_x=!1;var v=i.updateQueue;ho=!1;var _=v.firstBaseUpdate,O=v.lastBaseUpdate,B=v.shared.pending;if(B!==null){v.shared.pending=null;var G=B,ee=G.next;G.next=null,O===null?_=ee:O.next=ee,O=G;var le=i.alternate;le!==null&&(le=le.updateQueue,B=le.lastBaseUpdate,B!==O&&(B===null?le.firstBaseUpdate=ee:B.next=ee,le.lastBaseUpdate=G))}if(_!==null){var fe=v.baseState;O=0,le=ee=G=null,B=_;do{var te=B.lane&-536870913,ie=te!==B.lane;if(ie?(Xe&te)===te:(m&te)===te){te!==0&&te===Yc&&(_x=!0),le!==null&&(le=le.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var je=i,Re=B;te=o;var _t=u;switch(Re.tag){case 1:if(je=Re.payload,typeof je=="function"){fe=je.call(_t,fe,te);break e}fe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Re.payload,te=typeof je=="function"?je.call(_t,fe,te):je,te==null)break e;fe=g({},fe,te);break e;case 2:ho=!0}}te=B.callback,te!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=v.callbacks,ie===null?v.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:B.tag,payload:B.payload,callback:B.callback,next:null},le===null?(ee=le=ie,G=fe):le=le.next=ie,O|=te;if(B=B.next,B===null){if(B=v.shared.pending,B===null)break;ie=B,B=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);le===null&&(G=fe),v.baseState=G,v.firstBaseUpdate=ee,v.lastBaseUpdate=le,_===null&&(v.shared.lanes=0),bo|=O,i.lanes=O,i.memoizedState=fe}}function zN(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function VN(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)zN(u[i],o)}var Jc=q(null),mp=q(0);function $N(i,o){i=hs,pe(mp,i),pe(Jc,o),hs=i|o.baseLanes}function Ex(){pe(mp,hs),pe(Jc,Jc.current)}function Ax(){hs=mp.current,re(Jc),re(mp)}var Fr=q(null),ma=null;function go(i){var o=i.alternate;pe(tn,tn.current&1),pe(Fr,i),ma===null&&(o===null||Jc.current!==null||o.memoizedState!==null)&&(ma=i)}function Sx(i){pe(tn,tn.current),pe(Fr,i),ma===null&&(ma=i)}function BN(i){i.tag===22?(pe(tn,tn.current),pe(Fr,i),ma===null&&(ma=i)):yo()}function yo(){pe(tn,tn.current),pe(Fr,Fr.current)}function qr(i){re(Fr),ma===i&&(ma=null),re(tn)}var tn=q(0);function pp(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ob(u)||kb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var is=0,Be=null,bt=null,mn=null,gp=!1,eu=!1,Ll=!1,yp=0,rf=0,tu=null,tV=0;function Ht(){throw Error(r(321))}function jx(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!$r(i[u],o[u]))return!1;return!0}function Nx(i,o,u,m,v,_){return is=_,Be=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=i===null||i.memoizedState===null?S2:Bx,Ll=!1,_=u(m,v),Ll=!1,eu&&(_=qN(o,u,m,v)),FN(i),_}function FN(i){Y.H=of;var o=bt!==null&&bt.next!==null;if(is=0,mn=bt=Be=null,gp=!1,rf=0,tu=null,o)throw Error(r(300));i===null||pn||(i=i.dependencies,i!==null&&op(i)&&(pn=!0))}function qN(i,o,u,m){Be=i;var v=0;do{if(eu&&(tu=null),rf=0,eu=!1,25<=v)throw Error(r(301));if(v+=1,mn=bt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=j2,_=o(u,m)}while(eu);return _}function nV(){var i=Y.H,o=i.useState()[0];return o=typeof o.then=="function"?af(o):o,i=i.useState()[0],(bt!==null?bt.memoizedState:null)!==i&&(Be.flags|=1024),o}function Tx(){var i=yp!==0;return yp=0,i}function Cx(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Ix(i){if(gp){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}gp=!1}is=0,mn=bt=Be=null,eu=!1,rf=yp=0,tu=null}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Be.memoizedState=mn=i:mn=mn.next=i,mn}function nn(){if(bt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var o=mn===null?Be.memoizedState:mn.next;if(o!==null)mn=o,bt=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},mn===null?Be.memoizedState=mn=i:mn=mn.next=i}return mn}function vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function af(i){var o=rf;return rf+=1,tu===null&&(tu=[]),i=RN(tu,i,o),o=Be,(mn===null?o.memoizedState:mn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?S2:Bx),i}function xp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return af(i);if(i.$$typeof===k)return Wn(i)}throw Error(r(438,String(i)))}function Ox(i){var o=null,u=Be.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Be.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=vp(),Be.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=R;return o.index++,u}function ss(i,o){return typeof o=="function"?o(i):o}function bp(i){var o=nn();return kx(o,bt,i)}function kx(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=i.baseQueue,_=m.pending;if(_!==null){if(v!==null){var O=v.next;v.next=_.next,_.next=O}o.baseQueue=v=_,m.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{o=v.next;var B=O=null,G=null,ee=o,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(Xe&fe)===fe:(is&fe)===fe){var te=ee.revertLane;if(te===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Yc&&(le=!0);else if((is&te)===te){ee=ee.next,te===Yc&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(B=G=fe,O=_):G=G.next=fe,Be.lanes|=te,bo|=te;fe=ee.action,Ll&&u(_,fe),_=ee.hasEagerState?ee.eagerState:u(_,fe)}else te={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(B=G=te,O=_):G=G.next=te,Be.lanes|=fe,bo|=fe;ee=ee.next}while(ee!==null&&ee!==o);if(G===null?O=_:G.next=B,!$r(_,i.memoizedState)&&(pn=!0,le&&(u=Qc,u!==null)))throw u;i.memoizedState=_,i.baseState=O,i.baseQueue=G,m.lastRenderedState=_}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Px(i){var o=nn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var O=v=v.next;do _=i(_,O.action),O=O.next;while(O!==v);$r(_,o.memoizedState)||(pn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,m]}function HN(i,o,u){var m=Be,v=nn(),_=nt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var O=!$r((bt||v).memoizedState,u);if(O&&(v.memoizedState=u,pn=!0),v=v.queue,Mx(WN.bind(null,m,v,i),[i]),v.getSnapshot!==o||O||mn!==null&&mn.memoizedState.tag&1){if(m.flags|=2048,nu(9,{destroy:void 0},KN.bind(null,m,v,u,o),null),At===null)throw Error(r(349));_||(is&127)!==0||GN(m,o,u)}return u}function GN(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Be.updateQueue,o===null?(o=vp(),Be.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function KN(i,o,u,m){o.value=u,o.getSnapshot=m,YN(o)&&QN(i)}function WN(i,o,u){return u(function(){YN(o)&&QN(i)})}function YN(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!$r(i,u)}catch{return!0}}function QN(i){var o=Tl(i,2);o!==null&&Cr(o,i,2)}function Rx(i){var o=hr();if(typeof i=="function"){var u=i;if(i=u(),Ll){aa(!0);try{u()}finally{aa(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:i},o}function XN(i,o,u,m){return i.baseState=u,kx(i,bt,typeof m=="function"?m:ss)}function rV(i,o,u,m,v){if(Ep(i))throw Error(r(485));if(i=o.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};Y.T!==null?u(!0):_.isTransition=!1,m(_),u=o.pending,u===null?(_.next=o.pending=_,ZN(o,_)):(_.next=u.next,o.pending=u.next=_)}}function ZN(i,o){var u=o.action,m=o.payload,v=i.state;if(o.isTransition){var _=Y.T,O={};Y.T=O;try{var B=u(v,m),G=Y.S;G!==null&&G(O,B),JN(i,o,B)}catch(ee){Dx(i,o,ee)}finally{_!==null&&O.types!==null&&(_.types=O.types),Y.T=_}}else try{_=u(v,m),JN(i,o,_)}catch(ee){Dx(i,o,ee)}}function JN(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){e2(i,o,m)},function(m){return Dx(i,o,m)}):e2(i,o,u)}function e2(i,o,u){o.status="fulfilled",o.value=u,t2(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,ZN(i,u)))}function Dx(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,t2(o),o=o.next;while(o!==m)}i.action=null}function t2(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function n2(i,o){return o}function r2(i,o){if(nt){var u=At.formState;if(u!==null){e:{var m=Be;if(nt){if(It){t:{for(var v=It,_=ha;v.nodeType!==8;){if(!_){v=null;break t}if(v=pa(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){It=pa(v.nextSibling),m=v.data==="F!";break e}}uo(m)}m=!1}m&&(o=u[0])}}return u=hr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n2,lastRenderedState:o},u.queue=m,u=_2.bind(null,Be,m),m.dispatch=u,m=Rx(!1),_=$x.bind(null,Be,!1,m.queue),m=hr(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,u=rV.bind(null,Be,v,_,u),v.dispatch=u,m.memoizedState=i,[o,u,!1]}function a2(i){var o=nn();return i2(o,bt,i)}function i2(i,o,u){if(o=kx(i,o,n2)[0],i=bp(ss)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=af(o)}catch(O){throw O===Xc?up:O}else m=o;o=nn();var v=o.queue,_=v.dispatch;return u!==o.memoizedState&&(Be.flags|=2048,nu(9,{destroy:void 0},aV.bind(null,v,u),null)),[m,_,i]}function aV(i,o){i.action=o}function s2(i){var o=nn(),u=bt;if(u!==null)return i2(o,u,i);nn(),o=o.memoizedState,u=nn();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function nu(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=Be.updateQueue,o===null&&(o=vp(),Be.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function o2(){return nn().memoizedState}function wp(i,o,u,m){var v=hr();Be.flags|=i,v.memoizedState=nu(1|o,{destroy:void 0},u,m===void 0?null:m)}function _p(i,o,u,m){var v=nn();m=m===void 0?null:m;var _=v.memoizedState.inst;bt!==null&&m!==null&&jx(m,bt.memoizedState.deps)?v.memoizedState=nu(o,_,u,m):(Be.flags|=i,v.memoizedState=nu(1|o,_,u,m))}function l2(i,o){wp(8390656,8,i,o)}function Mx(i,o){_p(2048,8,i,o)}function iV(i){Be.flags|=4;var o=Be.updateQueue;if(o===null)o=vp(),Be.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function c2(i){var o=nn().memoizedState;return iV({ref:o,nextImpl:i}),function(){if((dt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function u2(i,o){return _p(4,2,i,o)}function d2(i,o){return _p(4,4,i,o)}function f2(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function h2(i,o,u){u=u!=null?u.concat([i]):null,_p(4,4,f2.bind(null,o,i),u)}function Lx(){}function m2(i,o){var u=nn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&jx(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function p2(i,o){var u=nn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&jx(o,m[1]))return m[0];if(m=i(),Ll){aa(!0);try{i()}finally{aa(!1)}}return u.memoizedState=[m,o],m}function Ux(i,o,u){return u===void 0||(is&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=gT(),Be.lanes|=i,bo|=i,u)}function g2(i,o,u,m){return $r(u,o)?u:Jc.current!==null?(i=Ux(i,u,m),$r(i,o)||(pn=!0),i):(is&42)===0||(is&1073741824)!==0&&(Xe&261930)===0?(pn=!0,i.memoizedState=u):(i=gT(),Be.lanes|=i,bo|=i,o)}function y2(i,o,u,m,v){var _=oe.p;oe.p=_!==0&&8>_?_:8;var O=Y.T,B={};Y.T=B,$x(i,!1,o,u);try{var G=v(),ee=Y.S;if(ee!==null&&ee(B,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=eV(G,m);sf(i,o,le,Kr(i))}else sf(i,o,m,Kr(i))}catch(fe){sf(i,o,{then:function(){},status:"rejected",reason:fe},Kr())}finally{oe.p=_,O!==null&&B.types!==null&&(O.types=B.types),Y.T=O}}function sV(){}function zx(i,o,u,m){if(i.tag!==5)throw Error(r(476));var v=v2(i).queue;y2(i,v,o,H,u===null?sV:function(){return x2(i),u(m)})}function v2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function x2(i){var o=v2(i);o.next===null&&(o=i.alternate.memoizedState),sf(i,o.next.queue,{},Kr())}function Vx(){return Wn(Ef)}function b2(){return nn().memoizedState}function w2(){return nn().memoizedState}function oV(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Kr();i=mo(u);var m=po(o,i,u);m!==null&&(Cr(m,o,u),ef(m,o,u)),o={cache:px()},i.payload=o;return}o=o.return}}function lV(i,o,u){var m=Kr();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ep(i)?E2(o,u):(u=ax(i,o,u,m),u!==null&&(Cr(u,i,m),A2(u,o,m)))}function _2(i,o,u){var m=Kr();sf(i,o,u,m)}function sf(i,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ep(i))E2(o,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var O=o.lastRenderedState,B=_(O,u);if(v.hasEagerState=!0,v.eagerState=B,$r(B,O))return rp(i,o,v,0),At===null&&np(),!1}catch{}finally{}if(u=ax(i,o,v,m),u!==null)return Cr(u,i,m),A2(u,o,m),!0}return!1}function $x(i,o,u,m){if(m={lane:2,revertLane:xb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ep(i)){if(o)throw Error(r(479))}else o=ax(i,u,m,2),o!==null&&Cr(o,i,2)}function Ep(i){var o=i.alternate;return i===Be||o!==null&&o===Be}function E2(i,o){eu=gp=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function A2(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Nd(i,u)}}var of={readContext:Wn,use:xp,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};of.useEffectEvent=Ht;var S2={readContext:Wn,use:xp,useCallback:function(i,o){return hr().memoizedState=[i,o===void 0?null:o],i},useContext:Wn,useEffect:l2,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,wp(4194308,4,f2.bind(null,o,i),u)},useLayoutEffect:function(i,o){return wp(4194308,4,i,o)},useInsertionEffect:function(i,o){wp(4,2,i,o)},useMemo:function(i,o){var u=hr();o=o===void 0?null:o;var m=i();if(Ll){aa(!0);try{i()}finally{aa(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=hr();if(u!==void 0){var v=u(o);if(Ll){aa(!0);try{u(o)}finally{aa(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=lV.bind(null,Be,i),[m.memoizedState,i]},useRef:function(i){var o=hr();return i={current:i},o.memoizedState=i},useState:function(i){i=Rx(i);var o=i.queue,u=_2.bind(null,Be,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Lx,useDeferredValue:function(i,o){var u=hr();return Ux(u,i,o)},useTransition:function(){var i=Rx(!1);return i=y2.bind(null,Be,i.queue,!0,!1),hr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=Be,v=hr();if(nt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),At===null)throw Error(r(349));(Xe&127)!==0||GN(m,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,l2(WN.bind(null,m,_,i),[i]),m.flags|=2048,nu(9,{destroy:void 0},KN.bind(null,m,_,u,o),null),u},useId:function(){var i=hr(),o=At.identifierPrefix;if(nt){var u=Ei,m=_i;u=(m&~(1<<32-Jt(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=yp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=tV++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Vx,useFormState:r2,useActionState:r2,useOptimistic:function(i){var o=hr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=$x.bind(null,Be,!0,u),u.dispatch=o,[i,o]},useMemoCache:Ox,useCacheRefresh:function(){return hr().memoizedState=oV.bind(null,Be)},useEffectEvent:function(i){var o=hr(),u={impl:i};return o.memoizedState=u,function(){if((dt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Bx={readContext:Wn,use:xp,useCallback:m2,useContext:Wn,useEffect:Mx,useImperativeHandle:h2,useInsertionEffect:u2,useLayoutEffect:d2,useMemo:p2,useReducer:bp,useRef:o2,useState:function(){return bp(ss)},useDebugValue:Lx,useDeferredValue:function(i,o){var u=nn();return g2(u,bt.memoizedState,i,o)},useTransition:function(){var i=bp(ss)[0],o=nn().memoizedState;return[typeof i=="boolean"?i:af(i),o]},useSyncExternalStore:HN,useId:b2,useHostTransitionStatus:Vx,useFormState:a2,useActionState:a2,useOptimistic:function(i,o){var u=nn();return XN(u,bt,i,o)},useMemoCache:Ox,useCacheRefresh:w2};Bx.useEffectEvent=c2;var j2={readContext:Wn,use:xp,useCallback:m2,useContext:Wn,useEffect:Mx,useImperativeHandle:h2,useInsertionEffect:u2,useLayoutEffect:d2,useMemo:p2,useReducer:Px,useRef:o2,useState:function(){return Px(ss)},useDebugValue:Lx,useDeferredValue:function(i,o){var u=nn();return bt===null?Ux(u,i,o):g2(u,bt.memoizedState,i,o)},useTransition:function(){var i=Px(ss)[0],o=nn().memoizedState;return[typeof i=="boolean"?i:af(i),o]},useSyncExternalStore:HN,useId:b2,useHostTransitionStatus:Vx,useFormState:s2,useActionState:s2,useOptimistic:function(i,o){var u=nn();return bt!==null?XN(u,bt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Ox,useCacheRefresh:w2};j2.useEffectEvent=c2;function Fx(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var qx={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=Kr(),v=mo(m);v.payload=o,u!=null&&(v.callback=u),o=po(i,v,m),o!==null&&(Cr(o,i,m),ef(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=Kr(),v=mo(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=po(i,v,m),o!==null&&(Cr(o,i,m),ef(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Kr(),m=mo(u);m.tag=2,o!=null&&(m.callback=o),o=po(i,m,u),o!==null&&(Cr(o,i,u),ef(o,i,u))}};function N2(i,o,u,m,v,_,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,O):o.prototype&&o.prototype.isPureReactComponent?!Gd(u,m)||!Gd(v,_):!0}function T2(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&qx.enqueueReplaceState(o,o.state,null)}function Ul(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function C2(i){tp(i)}function I2(i){console.error(i)}function O2(i){tp(i)}function Ap(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function k2(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Hx(i,o,u){return u=mo(u),u.tag=3,u.payload={element:null},u.callback=function(){Ap(i,o)},u}function P2(i){return i=mo(i),i.tag=3,i}function R2(i,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=m.value;i.payload=function(){return v(_)},i.callback=function(){k2(o,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){k2(o,u,m),typeof v!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var B=m.stack;this.componentDidCatch(m.value,{componentStack:B!==null?B:""})})}function cV(i,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Wc(o,u,v,!0),u=Fr.current,u!==null){switch(u.tag){case 31:case 13:return ma===null?Mp():u.alternate===null&&Gt===0&&(Gt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===dp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),gb(i,m,v)),!1;case 22:return u.flags|=65536,m===dp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),gb(i,m,v)),!1}throw Error(r(435,u.tag))}return gb(i,m,v),Mp(),!1}if(nt)return o=Fr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==ux&&(i=Error(r(422),{cause:m}),Yd(ua(i,u)))):(m!==ux&&(o=Error(r(423),{cause:m}),Yd(ua(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=ua(m,u),v=Hx(i.stateNode,m,v),wx(i,v),Gt!==4&&(Gt=2)),!1;var _=Error(r(520),{cause:m});if(_=ua(_,u),pf===null?pf=[_]:pf.push(_),Gt!==4&&(Gt=2),o===null)return!0;m=ua(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Hx(u.stateNode,m,i),wx(u,i),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wo===null||!wo.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=P2(v),R2(v,i,u,m),wx(u,v),!1}u=u.return}while(u!==null);return!1}var Gx=Error(r(461)),pn=!1;function Yn(i,o,u,m){o.child=i===null?UN(o,null,u,m):Ml(o,i.child,u,m)}function D2(i,o,u,m,v){u=u.render;var _=o.ref;if("ref"in m){var O={};for(var B in m)B!=="ref"&&(O[B]=m[B])}else O=m;return kl(o),m=Nx(i,o,u,O,_,v),B=Tx(),i!==null&&!pn?(Cx(i,o,v),os(i,o,v)):(nt&&B&&lx(o),o.flags|=1,Yn(i,o,m,v),o.child)}function M2(i,o,u,m,v){if(i===null){var _=u.type;return typeof _=="function"&&!ix(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,L2(i,o,_,m,v)):(i=ip(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!eb(i,v)){var O=_.memoizedProps;if(u=u.compare,u=u!==null?u:Gd,u(O,m)&&i.ref===o.ref)return os(i,o,v)}return o.flags|=1,i=ts(_,m),i.ref=o.ref,i.return=o,o.child=i}function L2(i,o,u,m,v){if(i!==null){var _=i.memoizedProps;if(Gd(_,m)&&i.ref===o.ref)if(pn=!1,o.pendingProps=m=_,eb(i,v))(i.flags&131072)!==0&&(pn=!0);else return o.lanes=i.lanes,os(i,o,v)}return Kx(i,o,u,m,v)}function U2(i,o,u,m){var v=m.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,i!==null){for(m=o.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~_}else m=0,o.child=null;return z2(i,o,_,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&cp(o,_!==null?_.cachePool:null),_!==null?$N(o,_):Ex(),BN(o);else return m=o.lanes=536870912,z2(i,o,_!==null?_.baseLanes|u:u,u,m)}else _!==null?(cp(o,_.cachePool),$N(o,_),yo(),o.memoizedState=null):(i!==null&&cp(o,null),Ex(),yo());return Yn(i,o,v,u),o.child}function lf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function z2(i,o,u,m,v){var _=yx();return _=_===null?null:{parent:hn._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},i!==null&&cp(o,null),Ex(),BN(o),i!==null&&Wc(i,o,m,!0),o.childLanes=v,null}function Sp(i,o){return o=Np({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function V2(i,o,u){return Ml(o,i.child,null,u),i=Sp(o,o.pendingProps),i.flags|=2,qr(o),o.memoizedState=null,i}function uV(i,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(nt){if(m.mode==="hidden")return i=Sp(o,m),o.lanes=536870912,lf(null,i);if(Sx(o),(i=It)?(i=ZT(i,ha),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:lo!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},u=EN(i),u.return=o,o.child=u,Kn=o,It=null)):i=null,i===null)throw uo(o);return o.lanes=536870912,null}return Sp(o,m)}var _=i.memoizedState;if(_!==null){var O=_.dehydrated;if(Sx(o),v)if(o.flags&256)o.flags&=-257,o=V2(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(pn||Wc(i,o,u,!1),v=(u&i.childLanes)!==0,pn||v){if(m=At,m!==null&&(O=Td(m,u),O!==0&&O!==_.retryLane))throw _.retryLane=O,Tl(i,O),Cr(m,i,O),Gx;Mp(),o=V2(i,o,u)}else i=_.treeContext,It=pa(O.nextSibling),Kn=o,nt=!0,co=null,ha=!1,i!==null&&jN(o,i),o=Sp(o,m),o.flags|=4096;return o}return i=ts(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function jp(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Kx(i,o,u,m,v){return kl(o),u=Nx(i,o,u,m,void 0,v),m=Tx(),i!==null&&!pn?(Cx(i,o,v),os(i,o,v)):(nt&&m&&lx(o),o.flags|=1,Yn(i,o,u,v),o.child)}function $2(i,o,u,m,v,_){return kl(o),o.updateQueue=null,u=qN(o,m,u,v),FN(i),m=Tx(),i!==null&&!pn?(Cx(i,o,_),os(i,o,_)):(nt&&m&&lx(o),o.flags|=1,Yn(i,o,u,_),o.child)}function B2(i,o,u,m,v){if(kl(o),o.stateNode===null){var _=qc,O=u.contextType;typeof O=="object"&&O!==null&&(_=Wn(O)),_=new u(m,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=qx,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=m,_.state=o.memoizedState,_.refs={},xx(o),O=u.contextType,_.context=typeof O=="object"&&O!==null?Wn(O):qc,_.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Fx(o,u,O,m),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&qx.enqueueReplaceState(_,_.state,null),nf(o,m,_,v),tf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){_=o.stateNode;var B=o.memoizedProps,G=Ul(u,B);_.props=G;var ee=_.context,le=u.contextType;O=qc,typeof le=="object"&&le!==null&&(O=Wn(le));var fe=u.getDerivedStateFromProps;le=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(B||ee!==O)&&T2(o,_,m,O),ho=!1;var te=o.memoizedState;_.state=te,nf(o,m,_,v),tf(),ee=o.memoizedState,B||te!==ee||ho?(typeof fe=="function"&&(Fx(o,u,fe,m),ee=o.memoizedState),(G=ho||N2(o,u,G,m,te,ee,O))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ee),_.props=m,_.state=ee,_.context=O,m=G):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{_=o.stateNode,bx(i,o),O=o.memoizedProps,le=Ul(u,O),_.props=le,fe=o.pendingProps,te=_.context,ee=u.contextType,G=qc,typeof ee=="object"&&ee!==null&&(G=Wn(ee)),B=u.getDerivedStateFromProps,(ee=typeof B=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==fe||te!==G)&&T2(o,_,m,G),ho=!1,te=o.memoizedState,_.state=te,nf(o,m,_,v),tf();var ie=o.memoizedState;O!==fe||te!==ie||ho||i!==null&&i.dependencies!==null&&op(i.dependencies)?(typeof B=="function"&&(Fx(o,u,B,m),ie=o.memoizedState),(le=ho||N2(o,u,le,m,te,ie,G)||i!==null&&i.dependencies!==null&&op(i.dependencies))?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,ie,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,ie,G)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ie),_.props=m,_.state=ie,_.context=G,m=le):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),m=!1)}return _=m,jp(i,o),m=(o.flags&128)!==0,_||m?(_=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&m?(o.child=Ml(o,i.child,null,v),o.child=Ml(o,null,u,v)):Yn(i,o,u,v),o.memoizedState=_.state,i=o.child):i=os(i,o,v),i}function F2(i,o,u,m){return Il(),o.flags|=256,Yn(i,o,u,m),o.child}var Wx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yx(i){return{baseLanes:i,cachePool:kN()}}function Qx(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Gr),i}function q2(i,o,u){var m=o.pendingProps,v=!1,_=(o.flags&128)!==0,O;if((O=_)||(O=i!==null&&i.memoizedState===null?!1:(tn.current&2)!==0),O&&(v=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(nt){if(v?go(o):yo(),(i=It)?(i=ZT(i,ha),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:lo!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},u=EN(i),u.return=o,o.child=u,Kn=o,It=null)):i=null,i===null)throw uo(o);return kb(i)?o.lanes=32:o.lanes=536870912,null}var B=m.children;return m=m.fallback,v?(yo(),v=o.mode,B=Np({mode:"hidden",children:B},v),m=Cl(m,v,u,null),B.return=o,m.return=o,B.sibling=m,o.child=B,m=o.child,m.memoizedState=Yx(u),m.childLanes=Qx(i,O,u),o.memoizedState=Wx,lf(null,m)):(go(o),Xx(o,B))}var G=i.memoizedState;if(G!==null&&(B=G.dehydrated,B!==null)){if(_)o.flags&256?(go(o),o.flags&=-257,o=Zx(i,o,u)):o.memoizedState!==null?(yo(),o.child=i.child,o.flags|=128,o=null):(yo(),B=m.fallback,v=o.mode,m=Np({mode:"visible",children:m.children},v),B=Cl(B,v,u,null),B.flags|=2,m.return=o,B.return=o,m.sibling=B,o.child=m,Ml(o,i.child,null,u),m=o.child,m.memoizedState=Yx(u),m.childLanes=Qx(i,O,u),o.memoizedState=Wx,o=lf(null,m));else if(go(o),kb(B)){if(O=B.nextSibling&&B.nextSibling.dataset,O)var ee=O.dgst;O=ee,m=Error(r(419)),m.stack="",m.digest=O,Yd({value:m,source:null,stack:null}),o=Zx(i,o,u)}else if(pn||Wc(i,o,u,!1),O=(u&i.childLanes)!==0,pn||O){if(O=At,O!==null&&(m=Td(O,u),m!==0&&m!==G.retryLane))throw G.retryLane=m,Tl(i,m),Cr(O,i,m),Gx;Ob(B)||Mp(),o=Zx(i,o,u)}else Ob(B)?(o.flags|=192,o.child=i.child,o=null):(i=G.treeContext,It=pa(B.nextSibling),Kn=o,nt=!0,co=null,ha=!1,i!==null&&jN(o,i),o=Xx(o,m.children),o.flags|=4096);return o}return v?(yo(),B=m.fallback,v=o.mode,G=i.child,ee=G.sibling,m=ts(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ee!==null?B=ts(ee,B):(B=Cl(B,v,u,null),B.flags|=2),B.return=o,m.return=o,m.sibling=B,o.child=m,lf(null,m),m=o.child,B=i.child.memoizedState,B===null?B=Yx(u):(v=B.cachePool,v!==null?(G=hn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=kN(),B={baseLanes:B.baseLanes|u,cachePool:v}),m.memoizedState=B,m.childLanes=Qx(i,O,u),o.memoizedState=Wx,lf(i.child,m)):(go(o),u=i.child,i=u.sibling,u=ts(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function Xx(i,o){return o=Np({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Np(i,o){return i=Br(22,i,null,o),i.lanes=0,i}function Zx(i,o,u){return Ml(o,i.child,null,u),i=Xx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function H2(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),hx(i.return,o,u)}function Jx(i,o,u,m,v,_){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:_}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=u,O.tailMode=v,O.treeForkCount=_)}function G2(i,o,u){var m=o.pendingProps,v=m.revealOrder,_=m.tail;m=m.children;var O=tn.current,B=(O&2)!==0;if(B?(O=O&1|2,o.flags|=128):O&=1,pe(tn,O),Yn(i,o,m,u),m=nt?Wd:0,!B&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&H2(i,u,o);else if(i.tag===19)H2(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&pp(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Jx(o,!1,v,u,_,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&pp(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Jx(o,!0,u,null,_,m);break;case"together":Jx(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function os(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),bo|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Wc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=ts(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ts(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function eb(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&op(i)))}function dV(i,o,u){switch(o.tag){case 3:Nt(o,o.stateNode.containerInfo),fo(o,hn,i.memoizedState.cache),Il();break;case 27:case 5:Ue(o);break;case 4:Nt(o,o.stateNode.containerInfo);break;case 10:fo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Sx(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(go(o),o.flags|=128,null):(u&o.child.childLanes)!==0?q2(i,o,u):(go(o),i=os(i,o,u),i!==null?i.sibling:null);go(o);break;case 19:var v=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Wc(i,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return G2(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(tn,tn.current),m)break;return null;case 22:return o.lanes=0,U2(i,o,u,o.pendingProps);case 24:fo(o,hn,i.memoizedState.cache)}return os(i,o,u)}function K2(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)pn=!0;else{if(!eb(i,u)&&(o.flags&128)===0)return pn=!1,dV(i,o,u);pn=(i.flags&131072)!==0}else pn=!1,nt&&(o.flags&1048576)!==0&&SN(o,Wd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Rl(o.elementType),o.type=i,typeof i=="function")ix(i)?(m=Ul(i,m),o.tag=1,o=B2(null,o,i,m,u)):(o.tag=0,o=Kx(null,o,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===C){o.tag=11,o=D2(null,o,i,m,u);break e}else if(v===N){o.tag=14,o=M2(null,o,i,m,u);break e}}throw o=ne(i)||i,Error(r(306,o,""))}}return o;case 0:return Kx(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=Ul(m,o.pendingProps),B2(i,o,m,v,u);case 3:e:{if(Nt(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var _=o.memoizedState;v=_.element,bx(i,o),nf(o,m,null,u);var O=o.memoizedState;if(m=O.cache,fo(o,hn,m),m!==_.cache&&mx(o,[hn],u,!0),tf(),m=O.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=F2(i,o,m,u);break e}else if(m!==v){v=ua(Error(r(424)),o),Yd(v),o=F2(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(It=pa(i.firstChild),Kn=o,nt=!0,co=null,ha=!0,u=UN(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Il(),m===v){o=os(i,o,u);break e}Yn(i,o,m,u)}o=o.child}return o;case 26:return jp(i,o),i===null?(u=aC(o.type,null,o.pendingProps,null))?o.memoizedState=u:nt||(u=o.type,i=o.pendingProps,m=Fp(ke.current).createElement(u),m[un]=o,m[Pn]=i,Qn(m,u,i),dn(m),o.stateNode=m):o.memoizedState=aC(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ue(o),i===null&&nt&&(m=o.stateNode=tC(o.type,o.pendingProps,ke.current),Kn=o,ha=!0,v=It,So(o.type)?(Pb=v,It=pa(m.firstChild)):It=v),Yn(i,o,o.pendingProps.children,u),jp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&nt&&((v=m=It)&&(m=$V(m,o.type,o.pendingProps,ha),m!==null?(o.stateNode=m,Kn=o,It=pa(m.firstChild),ha=!1,v=!0):v=!1),v||uo(o)),Ue(o),v=o.type,_=o.pendingProps,O=i!==null?i.memoizedProps:null,m=_.children,Tb(v,_)?m=null:O!==null&&Tb(v,O)&&(o.flags|=32),o.memoizedState!==null&&(v=Nx(i,o,nV,null,null,u),Ef._currentValue=v),jp(i,o),Yn(i,o,m,u),o.child;case 6:return i===null&&nt&&((i=u=It)&&(u=BV(u,o.pendingProps,ha),u!==null?(o.stateNode=u,Kn=o,It=null,i=!0):i=!1),i||uo(o)),null;case 13:return q2(i,o,u);case 4:return Nt(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Ml(o,null,m,u):Yn(i,o,m,u),o.child;case 11:return D2(i,o,o.type,o.pendingProps,u);case 7:return Yn(i,o,o.pendingProps,u),o.child;case 8:return Yn(i,o,o.pendingProps.children,u),o.child;case 12:return Yn(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,fo(o,o.type,m.value),Yn(i,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,kl(o),v=Wn(v),m=m(v),o.flags|=1,Yn(i,o,m,u),o.child;case 14:return M2(i,o,o.type,o.pendingProps,u);case 15:return L2(i,o,o.type,o.pendingProps,u);case 19:return G2(i,o,u);case 31:return uV(i,o,u);case 22:return U2(i,o,u,o.pendingProps);case 24:return kl(o),m=Wn(hn),i===null?(v=yx(),v===null&&(v=At,_=px(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),o.memoizedState={parent:m,cache:v},xx(o),fo(o,hn,v)):((i.lanes&u)!==0&&(bx(i,o),nf(o,null,null,u),tf()),v=i.memoizedState,_=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),fo(o,hn,m)):(m=_.cache,fo(o,hn,m),m!==v.cache&&mx(o,[hn],u,!0))),Yn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ls(i){i.flags|=4}function tb(i,o,u,m,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(bT())i.flags|=8192;else throw Dl=dp,vx}else i.flags&=-16777217}function W2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!cC(o))if(bT())i.flags|=8192;else throw Dl=dp,vx}function Tp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Rm():536870912,i.lanes|=o,su|=o)}function cf(i,o){if(!nt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ot(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function fV(i,o,u){var m=o.pendingProps;switch(cx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),as(hn),ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Kc(o)?ls(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,dx())),Ot(o),null;case 26:var v=o.type,_=o.memoizedState;return i===null?(ls(o),_!==null?(Ot(o),W2(o,_)):(Ot(o),tb(o,v,null,m,u))):_?_!==i.memoizedState?(ls(o),Ot(o),W2(o,_)):(Ot(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&ls(o),Ot(o),tb(o,v,i,m,u)),null;case 27:if(He(o),u=ke.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ls(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}i=ye.current,Kc(o)?NN(o):(i=tC(v,m,u),o.stateNode=i,ls(o))}return Ot(o),null;case 5:if(He(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ls(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}if(_=ye.current,Kc(o))NN(o);else{var O=Fp(ke.current);switch(_){case 1:_=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=O.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?O.createElement(v,{is:m.is}):O.createElement(v)}}_[un]=o,_[Pn]=m;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)_.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=_;e:switch(Qn(_,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ls(o)}}return Ot(o),tb(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&ls(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=ke.current,Kc(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,v=Kn,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[un]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||qT(i.nodeValue,u)),i||uo(o,!0)}else i=Fp(i).createTextNode(m),i[un]=o,o.stateNode=i}return Ot(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=Kc(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[un]=o}else Il(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),i=!1}else u=dx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(qr(o),o):(qr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ot(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Kc(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[un]=o}else Il(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),v=!1}else v=dx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(qr(o),o):(qr(o),null)}return qr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==v&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Tp(o,o.updateQueue),Ot(o),null);case 4:return ce(),i===null&&Eb(o.stateNode.containerInfo),Ot(o),null;case 10:return as(o.type),Ot(o),null;case 19:if(re(tn),m=o.memoizedState,m===null)return Ot(o),null;if(v=(o.flags&128)!==0,_=m.rendering,_===null)if(v)cf(m,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=pp(i),_!==null){for(o.flags|=128,cf(m,!1),i=_.updateQueue,o.updateQueue=i,Tp(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)_N(u,i),u=u.sibling;return pe(tn,tn.current&1|2),nt&&ns(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&dr()>Pp&&(o.flags|=128,v=!0,cf(m,!1),o.lanes=4194304)}else{if(!v)if(i=pp(_),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,Tp(o,i),cf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!nt)return Ot(o),null}else 2*dr()-m.renderingStartTime>Pp&&u!==536870912&&(o.flags|=128,v=!0,cf(m,!1),o.lanes=4194304);m.isBackwards?(_.sibling=o.child,o.child=_):(i=m.last,i!==null?i.sibling=_:o.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=dr(),i.sibling=null,u=tn.current,pe(tn,v?u&1|2:u&1),nt&&ns(o,m.treeForkCount),i):(Ot(o),null);case 22:case 23:return qr(o),Ax(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),u=o.updateQueue,u!==null&&Tp(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&re(Pl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),as(hn),Ot(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function hV(i,o){switch(cx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return as(hn),ce(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 31:if(o.memoizedState!==null){if(qr(o),o.alternate===null)throw Error(r(340));Il()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(qr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Il()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return re(tn),null;case 4:return ce(),null;case 10:return as(o.type),null;case 22:case 23:return qr(o),Ax(),i!==null&&re(Pl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return as(hn),null;case 25:return null;default:return null}}function Y2(i,o){switch(cx(o),o.tag){case 3:as(hn),ce();break;case 26:case 27:case 5:He(o);break;case 4:ce();break;case 31:o.memoizedState!==null&&qr(o);break;case 13:qr(o);break;case 19:re(tn);break;case 10:as(o.type);break;case 22:case 23:qr(o),Ax(),i!==null&&re(Pl);break;case 24:as(hn)}}function uf(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var _=u.create,O=u.inst;m=_(),O.destroy=m}u=u.next}while(u!==v)}}catch(B){gt(o,o.return,B)}}function vo(i,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var _=v.next;m=_;do{if((m.tag&i)===i){var O=m.inst,B=O.destroy;if(B!==void 0){O.destroy=void 0,v=o;var G=u,ee=B;try{ee()}catch(le){gt(v,G,le)}}}m=m.next}while(m!==_)}}catch(le){gt(o,o.return,le)}}function Q2(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{VN(o,u)}catch(m){gt(i,i.return,m)}}}function X2(i,o,u){u.props=Ul(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){gt(i,o,m)}}function df(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){gt(i,o,v)}}function Ai(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){gt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){gt(i,o,v)}else u.current=null}function Z2(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){gt(i,i.return,v)}}function nb(i,o,u){try{var m=i.stateNode;DV(m,i.type,u,o),m[Pn]=o}catch(v){gt(i,i.return,v)}}function J2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&So(i.type)||i.tag===4}function rb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||J2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&So(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ab(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=La));else if(m!==4&&(m===27&&So(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(ab(i,o,u),i=i.sibling;i!==null;)ab(i,o,u),i=i.sibling}function Cp(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&So(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Cp(i,o,u),i=i.sibling;i!==null;)Cp(i,o,u),i=i.sibling}function eT(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Qn(o,m,u),o[un]=i,o[Pn]=u}catch(_){gt(i,i.return,_)}}var cs=!1,gn=!1,ib=!1,tT=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function mV(i,o){if(i=i.containerInfo,jb=Qp,i=hN(i),Z0(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var O=0,B=-1,G=-1,ee=0,le=0,fe=i,te=null;t:for(;;){for(var ie;fe!==u||v!==0&&fe.nodeType!==3||(B=O+v),fe!==_||m!==0&&fe.nodeType!==3||(G=O+m),fe.nodeType===3&&(O+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)te=fe,fe=ie;for(;;){if(fe===i)break t;if(te===u&&++ee===v&&(B=O),te===_&&++le===m&&(G=O),(ie=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=ie}u=B===-1||G===-1?null:{start:B,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Nb={focusedElem:i,selectionRange:u},Qp=!1,Dn=o;Dn!==null;)if(o=Dn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Dn=i;else for(;Dn!==null;){switch(o=Dn,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,u=o,v=_.memoizedProps,_=_.memoizedState,m=u.stateNode;try{var je=Ul(u.type,v);i=m.getSnapshotBeforeUpdate(je,_),m.__reactInternalSnapshotBeforeUpdate=i}catch(Re){gt(u,u.return,Re)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Ib(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ib(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Dn=i;break}Dn=o.return}}function nT(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ds(i,u),m&4&&uf(5,u);break;case 1:if(ds(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){gt(u,u.return,O)}else{var v=Ul(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){gt(u,u.return,O)}}m&64&&Q2(u),m&512&&df(u,u.return);break;case 3:if(ds(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{VN(i,o)}catch(O){gt(u,u.return,O)}}break;case 27:o===null&&m&4&&eT(u);case 26:case 5:ds(i,u),o===null&&m&4&&Z2(u),m&512&&df(u,u.return);break;case 12:ds(i,u);break;case 31:ds(i,u),m&4&&iT(i,u);break;case 13:ds(i,u),m&4&&sT(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=EV.bind(null,u),FV(i,u))));break;case 22:if(m=u.memoizedState!==null||cs,!m){o=o!==null&&o.memoizedState!==null||gn,v=cs;var _=gn;cs=m,(gn=o)&&!_?fs(i,u,(u.subtreeFlags&8772)!==0):ds(i,u),cs=v,gn=_}break;case 30:break;default:ds(i,u)}}function rT(i){var o=i.alternate;o!==null&&(i.alternate=null,rT(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ic(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Mt=null,Sr=!1;function us(i,o,u){for(u=u.child;u!==null;)aT(i,o,u),u=u.sibling}function aT(i,o,u){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Pa,u)}catch{}switch(u.tag){case 26:gn||Ai(u,o),us(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:gn||Ai(u,o);var m=Mt,v=Sr;So(u.type)&&(Mt=u.stateNode,Sr=!1),us(i,o,u),bf(u.stateNode),Mt=m,Sr=v;break;case 5:gn||Ai(u,o);case 6:if(m=Mt,v=Sr,Mt=null,us(i,o,u),Mt=m,Sr=v,Mt!==null)if(Sr)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(u.stateNode)}catch(_){gt(u,o,_)}else try{Mt.removeChild(u.stateNode)}catch(_){gt(u,o,_)}break;case 18:Mt!==null&&(Sr?(i=Mt,QT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),mu(i)):QT(Mt,u.stateNode));break;case 4:m=Mt,v=Sr,Mt=u.stateNode.containerInfo,Sr=!0,us(i,o,u),Mt=m,Sr=v;break;case 0:case 11:case 14:case 15:vo(2,u,o),gn||vo(4,u,o),us(i,o,u);break;case 1:gn||(Ai(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&X2(u,o,m)),us(i,o,u);break;case 21:us(i,o,u);break;case 22:gn=(m=gn)||u.memoizedState!==null,us(i,o,u),gn=m;break;default:us(i,o,u)}}function iT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{mu(i)}catch(u){gt(o,o.return,u)}}}function sT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mu(i)}catch(u){gt(o,o.return,u)}}function pV(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new tT),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new tT),o;default:throw Error(r(435,i.tag))}}function Ip(i,o){var u=pV(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=AV.bind(null,i,m);m.then(v,v)}})}function jr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],_=i,O=o,B=O;e:for(;B!==null;){switch(B.tag){case 27:if(So(B.type)){Mt=B.stateNode,Sr=!1;break e}break;case 5:Mt=B.stateNode,Sr=!1;break e;case 3:case 4:Mt=B.stateNode.containerInfo,Sr=!0;break e}B=B.return}if(Mt===null)throw Error(r(160));aT(_,O,v),Mt=null,Sr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)oT(o,i),o=o.sibling}var Fa=null;function oT(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jr(o,i),Nr(i),m&4&&(vo(3,i,i.return),uf(3,i),vo(5,i,i.return));break;case 1:jr(o,i),Nr(i),m&512&&(gn||u===null||Ai(u,u.return)),m&64&&cs&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Fa;if(jr(o,i),Nr(i),m&512&&(gn||u===null||Ai(u,u.return)),m&4){var _=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":_=v.getElementsByTagName("title")[0],(!_||_[ui]||_[un]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(m),v.head.insertBefore(_,v.querySelector("head > title"))),Qn(_,m,u),_[un]=i,dn(_),m=_;break e;case"link":var O=oC("link","href",v).get(m+(u.href||""));if(O){for(var B=0;B<O.length;B++)if(_=O[B],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(B,1);break t}}_=v.createElement(m),Qn(_,m,u),v.head.appendChild(_);break;case"meta":if(O=oC("meta","content",v).get(m+(u.content||""))){for(B=0;B<O.length;B++)if(_=O[B],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(B,1);break t}}_=v.createElement(m),Qn(_,m,u),v.head.appendChild(_);break;default:throw Error(r(468,m))}_[un]=i,dn(_),m=_}i.stateNode=m}else lC(v,i.type,i.stateNode);else i.stateNode=sC(v,m,i.memoizedProps);else _!==m?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,m===null?lC(v,i.type,i.stateNode):sC(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&nb(i,i.memoizedProps,u.memoizedProps)}break;case 27:jr(o,i),Nr(i),m&512&&(gn||u===null||Ai(u,u.return)),u!==null&&m&4&&nb(i,i.memoizedProps,u.memoizedProps);break;case 5:if(jr(o,i),Nr(i),m&512&&(gn||u===null||Ai(u,u.return)),i.flags&32){v=i.stateNode;try{Ar(v,"")}catch(je){gt(i,i.return,je)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,nb(i,v,u!==null?u.memoizedProps:v)),m&1024&&(ib=!0);break;case 6:if(jr(o,i),Nr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(je){gt(i,i.return,je)}}break;case 3:if(Gp=null,v=Fa,Fa=qp(o.containerInfo),jr(o,i),Fa=v,Nr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{mu(o.containerInfo)}catch(je){gt(i,i.return,je)}ib&&(ib=!1,lT(i));break;case 4:m=Fa,Fa=qp(i.stateNode.containerInfo),jr(o,i),Nr(i),Fa=m;break;case 12:jr(o,i),Nr(i);break;case 31:jr(o,i),Nr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ip(i,m)));break;case 13:jr(o,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(kp=dr()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ip(i,m)));break;case 22:v=i.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ee=cs,le=gn;if(cs=ee||v,gn=le||G,jr(o,i),gn=le,cs=ee,Nr(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||G||cs||gn||zl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(_=G.stateNode,v)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{B=G.stateNode;var fe=G.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;B.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(je){gt(G,G.return,je)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(je){gt(G,G.return,je)}}}else if(o.tag===18){if(u===null){G=o;try{var ie=G.stateNode;v?XT(ie,!0):XT(G.stateNode,!1)}catch(je){gt(G,G.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Ip(i,u))));break;case 19:jr(o,i),Nr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ip(i,m)));break;case 30:break;case 21:break;default:jr(o,i),Nr(i)}}function Nr(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(J2(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=rb(i);Cp(i,_,v);break;case 5:var O=u.stateNode;u.flags&32&&(Ar(O,""),u.flags&=-33);var B=rb(i);Cp(i,B,O);break;case 3:case 4:var G=u.stateNode.containerInfo,ee=rb(i);ab(i,ee,G);break;default:throw Error(r(161))}}catch(le){gt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function lT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;lT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function ds(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)nT(i,o.alternate,o),o=o.sibling}function zl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:vo(4,o,o.return),zl(o);break;case 1:Ai(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&X2(o,o.return,u),zl(o);break;case 27:bf(o.stateNode);case 26:case 5:Ai(o,o.return),zl(o);break;case 22:o.memoizedState===null&&zl(o);break;case 30:zl(o);break;default:zl(o)}i=i.sibling}}function fs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,_=o,O=_.flags;switch(_.tag){case 0:case 11:case 15:fs(v,_,u),uf(4,_);break;case 1:if(fs(v,_,u),m=_,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){gt(m,m.return,ee)}if(m=_,v=m.updateQueue,v!==null){var B=m.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)zN(G[v],B)}catch(ee){gt(m,m.return,ee)}}u&&O&64&&Q2(_),df(_,_.return);break;case 27:eT(_);case 26:case 5:fs(v,_,u),u&&m===null&&O&4&&Z2(_),df(_,_.return);break;case 12:fs(v,_,u);break;case 31:fs(v,_,u),u&&O&4&&iT(v,_);break;case 13:fs(v,_,u),u&&O&4&&sT(v,_);break;case 22:_.memoizedState===null&&fs(v,_,u),df(_,_.return);break;case 30:break;default:fs(v,_,u)}o=o.sibling}}function sb(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Qd(u))}function ob(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Qd(i))}function qa(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cT(i,o,u,m),o=o.sibling}function cT(i,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:qa(i,o,u,m),v&2048&&uf(9,o);break;case 1:qa(i,o,u,m);break;case 3:qa(i,o,u,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Qd(i)));break;case 12:if(v&2048){qa(i,o,u,m),i=o.stateNode;try{var _=o.memoizedProps,O=_.id,B=_.onPostCommit;typeof B=="function"&&B(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){gt(o,o.return,G)}}else qa(i,o,u,m);break;case 31:qa(i,o,u,m);break;case 13:qa(i,o,u,m);break;case 23:break;case 22:_=o.stateNode,O=o.alternate,o.memoizedState!==null?_._visibility&2?qa(i,o,u,m):ff(i,o):_._visibility&2?qa(i,o,u,m):(_._visibility|=2,ru(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&sb(O,o);break;case 24:qa(i,o,u,m),v&2048&&ob(o.alternate,o);break;default:qa(i,o,u,m)}}function ru(i,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,O=o,B=u,G=m,ee=O.flags;switch(O.tag){case 0:case 11:case 15:ru(_,O,B,G,v),uf(8,O);break;case 23:break;case 22:var le=O.stateNode;O.memoizedState!==null?le._visibility&2?ru(_,O,B,G,v):ff(_,O):(le._visibility|=2,ru(_,O,B,G,v)),v&&ee&2048&&sb(O.alternate,O);break;case 24:ru(_,O,B,G,v),v&&ee&2048&&ob(O.alternate,O);break;default:ru(_,O,B,G,v)}o=o.sibling}}function ff(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,v=m.flags;switch(m.tag){case 22:ff(u,m),v&2048&&sb(m.alternate,m);break;case 24:ff(u,m),v&2048&&ob(m.alternate,m);break;default:ff(u,m)}o=o.sibling}}var hf=8192;function au(i,o,u){if(i.subtreeFlags&hf)for(i=i.child;i!==null;)uT(i,o,u),i=i.sibling}function uT(i,o,u){switch(i.tag){case 26:au(i,o,u),i.flags&hf&&i.memoizedState!==null&&t9(u,Fa,i.memoizedState,i.memoizedProps);break;case 5:au(i,o,u);break;case 3:case 4:var m=Fa;Fa=qp(i.stateNode.containerInfo),au(i,o,u),Fa=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=hf,hf=16777216,au(i,o,u),hf=m):au(i,o,u));break;default:au(i,o,u)}}function dT(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function mf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Dn=m,hT(m,i)}dT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fT(i),i=i.sibling}function fT(i){switch(i.tag){case 0:case 11:case 15:mf(i),i.flags&2048&&vo(9,i,i.return);break;case 3:mf(i);break;case 12:mf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Op(i)):mf(i);break;default:mf(i)}}function Op(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Dn=m,hT(m,i)}dT(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:vo(8,o,o.return),Op(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Op(o));break;default:Op(o)}i=i.sibling}}function hT(i,o){for(;Dn!==null;){var u=Dn;switch(u.tag){case 0:case 11:case 15:vo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Qd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Dn=m;else e:for(u=i;Dn!==null;){m=Dn;var v=m.sibling,_=m.return;if(rT(m),m===u){Dn=null;break e}if(v!==null){v.return=_,Dn=v;break e}Dn=_}}}var gV={getCacheForType:function(i){var o=Wn(hn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Wn(hn).controller.signal}},yV=typeof WeakMap=="function"?WeakMap:Map,dt=0,At=null,We=null,Xe=0,pt=0,Hr=null,xo=!1,iu=!1,lb=!1,hs=0,Gt=0,bo=0,Vl=0,cb=0,Gr=0,su=0,pf=null,Tr=null,ub=!1,kp=0,mT=0,Pp=1/0,Rp=null,wo=null,jn=0,_o=null,ou=null,ms=0,db=0,fb=null,pT=null,gf=0,hb=null;function Kr(){return(dt&2)!==0&&Xe!==0?Xe&-Xe:Y.T!==null?xb():Dm()}function gT(){if(Gr===0)if((Xe&536870912)===0||nt){var i=hl;hl<<=1,(hl&3932160)===0&&(hl=262144),Gr=i}else Gr=536870912;return i=Fr.current,i!==null&&(i.flags|=32),Gr}function Cr(i,o,u){(i===At&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(lu(i,0),Eo(i,Xe,Gr,!1)),ml(i,u),((dt&2)===0||i!==At)&&(i===At&&((dt&2)===0&&(Vl|=u),Gt===4&&Eo(i,Xe,Gr,!1)),Si(i))}function yT(i,o,u){if((dt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Ra(i,o),v=m?bV(i,o):pb(i,o,!0),_=m;do{if(v===0){iu&&!m&&Eo(i,o,0,!1);break}else{if(u=i.current.alternate,_&&!vV(u)){v=pb(i,o,!1),_=!1;continue}if(v===2){if(_=o,i.errorRecoveryDisabledLanes&_)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var B=i;v=pf;var G=B.current.memoizedState.isDehydrated;if(G&&(lu(B,O).flags|=256),O=pb(B,O,!1),O!==2){if(lb&&!G){B.errorRecoveryDisabledLanes|=_,Vl|=_,v=4;break e}_=Tr,Tr=v,_!==null&&(Tr===null?Tr=_:Tr.push.apply(Tr,_))}v=O}if(_=!1,v!==2)continue}}if(v===1){lu(i,0),Eo(i,o,0,!0);break}e:{switch(m=i,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Eo(m,o,Gr,!xo);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=kp+300-dr(),10<v)){if(Eo(m,o,Gr,!xo),oi(m,0,!0)!==0)break e;ms=o,m.timeoutHandle=WT(vT.bind(null,m,u,Tr,Rp,ub,o,Gr,Vl,su,xo,_,"Throttled",-0,0),v);break e}vT(m,u,Tr,Rp,ub,o,Gr,Vl,su,xo,_,null,-0,0)}}break}while(!0);Si(i)}function vT(i,o,u,m,v,_,O,B,G,ee,le,fe,te,ie){if(i.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:La},uT(o,_,fe);var je=(_&62914560)===_?kp-dr():(_&4194048)===_?mT-dr():0;if(je=n9(fe,je),je!==null){ms=_,i.cancelPendingCommit=je(jT.bind(null,i,o,_,u,m,v,O,B,G,le,fe,null,te,ie)),Eo(i,_,O,!ee);return}}jT(i,o,_,u,m,v,O,B,G)}function vV(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],_=v.getSnapshot;v=v.value;try{if(!$r(_(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Eo(i,o,u,m){o&=~cb,o&=~Vl,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var _=31-Jt(v),O=1<<_;m[_]=-1,v&=~O}u!==0&&pl(i,u,o)}function Dp(){return(dt&6)===0?(yf(0),!1):!0}function mb(){if(We!==null){if(pt===0)var i=We.return;else i=We,rs=Ol=null,Ix(i),Zc=null,Zd=0,i=We;for(;i!==null;)Y2(i.alternate,i),i=i.return;We=null}}function lu(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,UV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ms=0,mb(),At=i,We=u=ts(i.current,null),Xe=o,pt=0,Hr=null,xo=!1,iu=Ra(i,o),lb=!1,su=Gr=cb=Vl=bo=Gt=0,Tr=pf=null,ub=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-Jt(m),_=1<<v;o|=i[v],m&=~_}return hs=o,np(),u}function xT(i,o){Be=null,Y.H=of,o===Xc||o===up?(o=DN(),pt=3):o===vx?(o=DN(),pt=4):pt=o===Gx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Hr=o,We===null&&(Gt=1,Ap(i,ua(o,i.current)))}function bT(){var i=Fr.current;return i===null?!0:(Xe&4194048)===Xe?ma===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===ma:!1}function wT(){var i=Y.H;return Y.H=of,i===null?of:i}function _T(){var i=Y.A;return Y.A=gV,i}function Mp(){Gt=4,xo||(Xe&4194048)!==Xe&&Fr.current!==null||(iu=!0),(bo&134217727)===0&&(Vl&134217727)===0||At===null||Eo(At,Xe,Gr,!1)}function pb(i,o,u){var m=dt;dt|=2;var v=wT(),_=_T();(At!==i||Xe!==o)&&(Rp=null,lu(i,o)),o=!1;var O=Gt;e:do try{if(pt!==0&&We!==null){var B=We,G=Hr;switch(pt){case 8:mb(),O=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(o=!0);var ee=pt;if(pt=0,Hr=null,cu(i,B,G,ee),u&&iu){O=0;break e}break;default:ee=pt,pt=0,Hr=null,cu(i,B,G,ee)}}xV(),O=Gt;break}catch(le){xT(i,le)}while(!0);return o&&i.shellSuspendCounter++,rs=Ol=null,dt=m,Y.H=v,Y.A=_,We===null&&(At=null,Xe=0,np()),O}function xV(){for(;We!==null;)ET(We)}function bV(i,o){var u=dt;dt|=2;var m=wT(),v=_T();At!==i||Xe!==o?(Rp=null,Pp=dr()+500,lu(i,o)):iu=Ra(i,o);e:do try{if(pt!==0&&We!==null){o=We;var _=Hr;t:switch(pt){case 1:pt=0,Hr=null,cu(i,o,_,1);break;case 2:case 9:if(PN(_)){pt=0,Hr=null,AT(o);break}o=function(){pt!==2&&pt!==9||At!==i||(pt=7),Si(i)},_.then(o,o);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:PN(_)?(pt=0,Hr=null,AT(o)):(pt=0,Hr=null,cu(i,o,_,7));break;case 5:var O=null;switch(We.tag){case 26:O=We.memoizedState;case 5:case 27:var B=We;if(O?cC(O):B.stateNode.complete){pt=0,Hr=null;var G=B.sibling;if(G!==null)We=G;else{var ee=B.return;ee!==null?(We=ee,Lp(ee)):We=null}break t}}pt=0,Hr=null,cu(i,o,_,5);break;case 6:pt=0,Hr=null,cu(i,o,_,6);break;case 8:mb(),Gt=6;break e;default:throw Error(r(462))}}wV();break}catch(le){xT(i,le)}while(!0);return rs=Ol=null,Y.H=m,Y.A=v,dt=u,We!==null?0:(At=null,Xe=0,np(),Gt)}function wV(){for(;We!==null&&!H0();)ET(We)}function ET(i){var o=K2(i.alternate,i,hs);i.memoizedProps=i.pendingProps,o===null?Lp(i):We=o}function AT(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=$2(u,o,o.pendingProps,o.type,void 0,Xe);break;case 11:o=$2(u,o,o.pendingProps,o.type.render,o.ref,Xe);break;case 5:Ix(o);default:Y2(u,o),o=We=_N(o,hs),o=K2(u,o,hs)}i.memoizedProps=i.pendingProps,o===null?Lp(i):We=o}function cu(i,o,u,m){rs=Ol=null,Ix(o),Zc=null,Zd=0;var v=o.return;try{if(cV(i,v,o,u,Xe)){Gt=1,Ap(i,ua(u,i.current)),We=null;return}}catch(_){if(v!==null)throw We=v,_;Gt=1,Ap(i,ua(u,i.current)),We=null;return}o.flags&32768?(nt||m===1?i=!0:iu||(Xe&536870912)!==0?i=!1:(xo=i=!0,(m===2||m===9||m===3||m===6)&&(m=Fr.current,m!==null&&m.tag===13&&(m.flags|=16384))),ST(o,i)):Lp(o)}function Lp(i){var o=i;do{if((o.flags&32768)!==0){ST(o,xo);return}i=o.return;var u=fV(o.alternate,o,hs);if(u!==null){We=u;return}if(o=o.sibling,o!==null){We=o;return}We=o=i}while(o!==null);Gt===0&&(Gt=5)}function ST(i,o){do{var u=hV(i.alternate,i);if(u!==null){u.flags&=32767,We=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){We=i;return}We=i=u}while(i!==null);Gt=6,We=null}function jT(i,o,u,m,v,_,O,B,G){i.cancelPendingCommit=null;do Up();while(jn!==0);if((dt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=rx,W0(i,u,_,O,B,G),i===At&&(We=At=null,Xe=0),ou=o,_o=i,ms=u,db=_,fb=v,pT=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,SV(Zs,function(){return OT(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null,v=oe.p,oe.p=2,O=dt,dt|=4;try{mV(i,o,u)}finally{dt=O,oe.p=v,Y.T=m}}jn=1,NT(),TT(),CT()}}function NT(){if(jn===1){jn=0;var i=_o,o=ou,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var m=oe.p;oe.p=2;var v=dt;dt|=4;try{oT(o,i);var _=Nb,O=hN(i.containerInfo),B=_.focusedElem,G=_.selectionRange;if(O!==B&&B&&B.ownerDocument&&fN(B.ownerDocument.documentElement,B)){if(G!==null&&Z0(B)){var ee=G.start,le=G.end;if(le===void 0&&(le=ee),"selectionStart"in B)B.selectionStart=ee,B.selectionEnd=Math.min(le,B.value.length);else{var fe=B.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var ie=te.getSelection(),je=B.textContent.length,Re=Math.min(G.start,je),_t=G.end===void 0?Re:Math.min(G.end,je);!ie.extend&&Re>_t&&(O=_t,_t=Re,Re=O);var Q=dN(B,Re),W=dN(B,_t);if(Q&&W&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==W.node||ie.focusOffset!==W.offset)){var Z=fe.createRange();Z.setStart(Q.node,Q.offset),ie.removeAllRanges(),Re>_t?(ie.addRange(Z),ie.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ie.addRange(Z))}}}}for(fe=[],ie=B;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<fe.length;B++){var ue=fe[B];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Qp=!!jb,Nb=jb=null}finally{dt=v,oe.p=m,Y.T=u}}i.current=o,jn=2}}function TT(){if(jn===2){jn=0;var i=_o,o=ou,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var m=oe.p;oe.p=2;var v=dt;dt|=4;try{nT(i,o.alternate,o)}finally{dt=v,oe.p=m,Y.T=u}}jn=3}}function CT(){if(jn===4||jn===3){jn=0,Tm();var i=_o,o=ou,u=ms,m=pT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jn=5:(jn=0,ou=_o=null,IT(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(wo=null),Xi(u),o=o.stateNode,Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Pa,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Y.T,v=oe.p,oe.p=2,Y.T=null;try{for(var _=i.onRecoverableError,O=0;O<m.length;O++){var B=m[O];_(B.value,{componentStack:B.stack})}}finally{Y.T=o,oe.p=v}}(ms&3)!==0&&Up(),Si(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===hb?gf++:(gf=0,hb=i):gf=0,yf(0)}}function IT(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Qd(o)))}function Up(){return NT(),TT(),CT(),OT()}function OT(){if(jn!==5)return!1;var i=_o,o=db;db=0;var u=Xi(ms),m=Y.T,v=oe.p;try{oe.p=32>u?32:u,Y.T=null,u=fb,fb=null;var _=_o,O=ms;if(jn=0,ou=_o=null,ms=0,(dt&6)!==0)throw Error(r(331));var B=dt;if(dt|=4,fT(_.current),cT(_,_.current,O,u),dt=B,yf(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Pa,_)}catch{}return!0}finally{oe.p=v,Y.T=m,IT(i,o)}}function kT(i,o,u){o=ua(u,o),o=Hx(i.stateNode,o,2),i=po(i,o,2),i!==null&&(ml(i,2),Si(i))}function gt(i,o,u){if(i.tag===3)kT(i,i,u);else for(;o!==null;){if(o.tag===3){kT(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(wo===null||!wo.has(m))){i=ua(u,i),u=P2(2),m=po(o,u,2),m!==null&&(R2(u,m,o,i),ml(m,2),Si(m));break}}o=o.return}}function gb(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new yV;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(lb=!0,v.add(u),i=_V.bind(null,i,o,u),o.then(i,i))}function _V(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,At===i&&(Xe&u)===u&&(Gt===4||Gt===3&&(Xe&62914560)===Xe&&300>dr()-kp?(dt&2)===0&&lu(i,0):cb|=u,su===Xe&&(su=0)),Si(i)}function PT(i,o){o===0&&(o=Rm()),i=Tl(i,o),i!==null&&(ml(i,o),Si(i))}function EV(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),PT(i,u)}function AV(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),PT(i,u)}function SV(i,o){return Sn(i,o)}var zp=null,uu=null,yb=!1,Vp=!1,vb=!1,Ao=0;function Si(i){i!==uu&&i.next===null&&(uu===null?zp=uu=i:uu=uu.next=i),Vp=!0,yb||(yb=!0,NV())}function yf(i,o){if(!vb&&Vp){vb=!0;do for(var u=!1,m=zp;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var _=0;else{var O=m.suspendedLanes,B=m.pingedLanes;_=(1<<31-Jt(42|i)+1)-1,_&=v&~(O&~B),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,LT(m,_))}else _=Xe,_=oi(m,m===At?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Ra(m,_)||(u=!0,LT(m,_));m=m.next}while(u);vb=!1}}function jV(){RT()}function RT(){Vp=yb=!1;var i=0;Ao!==0&&LV()&&(i=Ao);for(var o=dr(),u=null,m=zp;m!==null;){var v=m.next,_=DT(m,o);_===0?(m.next=null,u===null?zp=v:u.next=v,v===null&&(uu=u)):(u=m,(i!==0||(_&3)!==0)&&(Vp=!0)),m=v}jn!==0&&jn!==5||yf(i),Ao!==0&&(Ao=0)}function DT(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var O=31-Jt(_),B=1<<O,G=v[O];G===-1?((B&u)===0||(B&m)!==0)&&(v[O]=K0(B,o)):G<=o&&(i.expiredLanes|=B),_&=~B}if(o=At,u=Xe,u=oi(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Xs(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ra(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&Xs(m),Xi(u)){case 2:case 8:u=jd;break;case 32:u=Zs;break;case 268435456:u=Cm;break;default:u=Zs}return m=MT.bind(null,i),u=Sn(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&Xs(m),i.callbackPriority=2,i.callbackNode=null,2}function MT(i,o){if(jn!==0&&jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Up()&&i.callbackNode!==u)return null;var m=Xe;return m=oi(i,i===At?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(yT(i,m,o),DT(i,dr()),i.callbackNode!=null&&i.callbackNode===u?MT.bind(null,i):null)}function LT(i,o){if(Up())return null;yT(i,o,!0)}function NV(){zV(function(){(dt&6)!==0?Sn(Sd,jV):RT()})}function xb(){if(Ao===0){var i=Yc;i===0&&(i=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Ao=i}return Ao}function UT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Rc(""+i)}function zT(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function TV(i,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var _=UT((v[Pn]||null).action),O=m.submitter;O&&(o=(o=O[Pn]||null)?UT(o.formAction):O.getAttribute("formAction"),o!==null&&(_=o,O=null));var B=new vi("action","action",null,m,v);i.push({event:B,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ao!==0){var G=O?zT(v,O):new FormData(v);zx(u,{pending:!0,data:G,method:v.method,action:_},null,G)}}else typeof _=="function"&&(B.preventDefault(),G=O?zT(v,O):new FormData(v),zx(u,{pending:!0,data:G,method:v.method,action:_},_,G))},currentTarget:v}]})}}for(var bb=0;bb<nx.length;bb++){var wb=nx[bb],CV=wb.toLowerCase(),IV=wb[0].toUpperCase()+wb.slice(1);Ba(CV,"on"+IV)}Ba(gN,"onAnimationEnd"),Ba(yN,"onAnimationIteration"),Ba(vN,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(G8,"onTransitionRun"),Ba(K8,"onTransitionStart"),Ba(W8,"onTransitionCancel"),Ba(xN,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vf));function VT(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var _=void 0;if(o)for(var O=m.length-1;0<=O;O--){var B=m[O],G=B.instance,ee=B.currentTarget;if(B=B.listener,G!==_&&v.isPropagationStopped())break e;_=B,v.currentTarget=ee;try{_(v)}catch(le){tp(le)}v.currentTarget=null,_=G}else for(O=0;O<m.length;O++){if(B=m[O],G=B.instance,ee=B.currentTarget,B=B.listener,G!==_&&v.isPropagationStopped())break e;_=B,v.currentTarget=ee;try{_(v)}catch(le){tp(le)}v.currentTarget=null,_=G}}}}function Ye(i,o){var u=o[Cc];u===void 0&&(u=o[Cc]=new Set);var m=i+"__bubble";u.has(m)||($T(o,i,2,!1),u.add(m))}function _b(i,o,u){var m=0;o&&(m|=4),$T(u,i,m,o)}var $p="_reactListening"+Math.random().toString(36).slice(2);function Eb(i){if(!i[$p]){i[$p]=!0,Cd.forEach(function(u){u!=="selectionchange"&&(OV.has(u)||_b(u,!1,i),_b(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[$p]||(o[$p]=!0,_b("selectionchange",!1,o))}}function $T(i,o,u,m){switch(gC(o)){case 2:var v=i9;break;case 8:v=s9;break;default:v=Ub}u=v.bind(null,o,u,i),v=void 0,!bl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function Ab(i,o,u,m,v){var _=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var B=m.stateNode.containerInfo;if(B===v)break;if(O===4)for(O=m.return;O!==null;){var G=O.tag;if((G===3||G===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;B!==null;){if(O=di(B),O===null)return;if(G=O.tag,G===5||G===6||G===26||G===27){m=_=O;continue e}B=B.parentNode}}m=m.return}ao(function(){var ee=_,le=sa(u),fe=[];e:{var te=bN.get(i);if(te!==void 0){var ie=vi,je=i;switch(i){case"keypress":if(_l(u)===0)break e;case"keydown":case"keyup":ie=Zm;break;case"focusin":je="focus",ie=Al;break;case"focusout":je="blur",ie=Al;break;case"beforeblur":case"afterblur":ie=Al;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=j;break;case gN:case yN:case vN:ie=Hm;break;case xN:ie=F;break;case"scroll":case"scrollend":ie=$d;break;case"wheel":ie=ae;break;case"copy":case"cut":case"paste":ie=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=es;break;case"toggle":case"beforetoggle":ie=$e}var Re=(o&4)!==0,_t=!Re&&(i==="scroll"||i==="scrollend"),Q=Re?te!==null?te+"Capture":null:te;Re=[];for(var W=ee,Z;W!==null;){var ue=W;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Q===null||(ue=Ua(W,Q),ue!=null&&Re.push(xf(W,ue,Z))),_t)break;W=W.return}0<Re.length&&(te=new ie(te,je,null,u,le),fe.push({event:te,listeners:Re}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",te&&u!==Ud&&(je=u.relatedTarget||u.fromElement)&&(di(je)||je[ci]))break e;if((ie||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(je=u.relatedTarget||u.toElement,ie=ee,je=je?di(je):null,je!==null&&(_t=s(je),Re=je.tag,je!==_t||Re!==5&&Re!==27&&Re!==6)&&(je=null)):(ie=null,je=ee),ie!==je)){if(Re=Bd,ue="onMouseLeave",Q="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Re=es,ue="onPointerLeave",Q="onPointerEnter",W="pointer"),_t=ie==null?te:zr(ie),Z=je==null?te:zr(je),te=new Re(ue,W+"leave",ie,u,le),te.target=_t,te.relatedTarget=Z,ue=null,di(le)===ee&&(Re=new Re(Q,W+"enter",je,u,le),Re.target=Z,Re.relatedTarget=_t,ue=Re),_t=ue,ie&&je)t:{for(Re=kV,Q=ie,W=je,Z=0,ue=Q;ue;ue=Re(ue))Z++;ue=0;for(var Ie=W;Ie;Ie=Re(Ie))ue++;for(;0<Z-ue;)Q=Re(Q),Z--;for(;0<ue-Z;)W=Re(W),ue--;for(;Z--;){if(Q===W||W!==null&&Q===W.alternate){Re=Q;break t}Q=Re(Q),W=Re(W)}Re=null}else Re=null;ie!==null&&BT(fe,te,ie,Re,!1),je!==null&&_t!==null&&BT(fe,_t,je,Re,!0)}}e:{if(te=ee?zr(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var st=iN;else if(rN(te))if(sN)st=F8;else{st=$8;var Te=V8}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Pc(ee.elementType)&&(st=iN):st=B8;if(st&&(st=st(i,ee))){aN(fe,st,u,le);break e}Te&&Te(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Dd(te,"number",te.value)}switch(Te=ee?zr(ee):window,i){case"focusin":(rN(Te)||Te.contentEditable==="true")&&($c=Te,J0=ee,Kd=null);break;case"focusout":Kd=J0=$c=null;break;case"mousedown":ex=!0;break;case"contextmenu":case"mouseup":case"dragend":ex=!1,mN(fe,u,le);break;case"selectionchange":if(H8)break;case"keydown":case"keyup":mN(fe,u,le)}var Fe;if(ut)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Vc?Sl(i,u)&&(Ze="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ze="onCompositionStart");Ze&&(wi&&u.locale!=="ko"&&(Vc||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Vc&&(Fe=Vd()):(yi=le,zd="value"in yi?yi.value:yi.textContent,Vc=!0)),Te=Bp(ee,Ze),0<Te.length&&(Ze=new bi(Ze,i,null,u,le),fe.push({event:Ze,listeners:Te}),Fe?Ze.data=Fe:(Fe=zc(u),Fe!==null&&(Ze.data=Fe)))),(Fe=la?M8(i,u):L8(i,u))&&(Ze=Bp(ee,"onBeforeInput"),0<Ze.length&&(Te=new bi("onBeforeInput","beforeinput",null,u,le),fe.push({event:Te,listeners:Ze}),Te.data=Fe)),TV(fe,i,ee,u,le)}VT(fe,o)})}function xf(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Bp(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ua(i,u),v!=null&&m.unshift(xf(i,v,_)),v=Ua(i,o),v!=null&&m.push(xf(i,v,_))),i.tag===3)return m;i=i.return}return[]}function kV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function BT(i,o,u,m,v){for(var _=o._reactName,O=[];u!==null&&u!==m;){var B=u,G=B.alternate,ee=B.stateNode;if(B=B.tag,G!==null&&G===m)break;B!==5&&B!==26&&B!==27||ee===null||(G=ee,v?(ee=Ua(u,_),ee!=null&&O.unshift(xf(u,ee,G))):v||(ee=Ua(u,_),ee!=null&&O.push(xf(u,ee,G)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var PV=/\r\n?/g,RV=/\u0000|\uFFFD/g;function FT(i){return(typeof i=="string"?i:""+i).replace(PV,`
`).replace(RV,"")}function qT(i,o){return o=FT(o),FT(i)===o}function wt(i,o,u,m,v,_){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Ar(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Ar(i,""+m);break;case"className":Vr(i,"class",m);break;case"tabIndex":Vr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(i,u,m);break;case"style":Ld(i,m,_);break;case"data":if(o!=="object"){Vr(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Rc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&wt(i,o,"name",v.name,v,null),wt(i,o,"formEncType",v.formEncType,v,null),wt(i,o,"formMethod",v.formMethod,v,null),wt(i,o,"formTarget",v.formTarget,v,null)):(wt(i,o,"encType",v.encType,v,null),wt(i,o,"method",v.method,v,null),wt(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Rc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=La);break;case"onScroll":m!=null&&Ye("scroll",i);break;case"onScrollEnd":m!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Rc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),Oc(i,"popover",m);break;case"xlinkActuate":fn(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":fn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":fn(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":fn(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":fn(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":fn(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":fn(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":fn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":fn(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Oc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Bm.get(u)||u,Oc(i,u,m))}}function Sb(i,o,u,m,v,_){switch(u){case"style":Ld(i,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?Ar(i,m):(typeof m=="number"||typeof m=="bigint")&&Ar(i,""+m);break;case"onScroll":m!=null&&Ye("scroll",i);break;case"onScrollEnd":m!=null&&Ye("scrollend",i);break;case"onClick":m!=null&&(i.onclick=La);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Id.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),_=i[Pn]||null,_=_!=null?_[u]:null,typeof _=="function"&&i.removeEventListener(o,_,v),typeof m=="function")){typeof _!="function"&&_!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Oc(i,u,m)}}}function Qn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var m=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var O=u[_];if(O!=null)switch(_){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,_,O,u,null)}}v&&wt(i,o,"srcSet",u.srcSet,u,null),m&&wt(i,o,"src",u.src,u,null);return;case"input":Ye("invalid",i);var B=_=O=v=null,G=null,ee=null;for(m in u)if(u.hasOwnProperty(m)){var le=u[m];if(le!=null)switch(m){case"name":v=le;break;case"type":O=le;break;case"checked":G=le;break;case"defaultChecked":ee=le;break;case"value":_=le;break;case"defaultValue":B=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:wt(i,o,m,le,u,null)}}zm(i,_,B,G,ee,O,v,!1);return;case"select":Ye("invalid",i),m=O=_=null;for(v in u)if(u.hasOwnProperty(v)&&(B=u[v],B!=null))switch(v){case"value":_=B;break;case"defaultValue":O=B;break;case"multiple":m=B;default:wt(i,o,v,B,u,null)}o=_,u=O,i.multiple=!!m,o!=null?eo(i,!!m,o,!1):u!=null&&eo(i,!!m,u,!0);return;case"textarea":Ye("invalid",i),_=v=m=null;for(O in u)if(u.hasOwnProperty(O)&&(B=u[O],B!=null))switch(O){case"value":m=B;break;case"defaultValue":v=B;break;case"children":_=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:wt(i,o,O,B,u,null)}to(i,m,v,_);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(m=u[G],m!=null))switch(G){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:wt(i,o,G,m,u,null)}return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(m=0;m<vf.length;m++)Ye(vf[m],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(m=u[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,ee,m,u,null)}return;default:if(Pc(o)){for(le in u)u.hasOwnProperty(le)&&(m=u[le],m!==void 0&&Sb(i,o,le,m,u,void 0));return}}for(B in u)u.hasOwnProperty(B)&&(m=u[B],m!=null&&wt(i,o,B,m,u,null))}function DV(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,O=null,B=null,G=null,ee=null,le=null;for(ie in u){var fe=u[ie];if(u.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":G=fe;default:m.hasOwnProperty(ie)||wt(i,o,ie,null,m,fe)}}for(var te in m){var ie=m[te];if(fe=u[te],m.hasOwnProperty(te)&&(ie!=null||fe!=null))switch(te){case"type":_=ie;break;case"name":v=ie;break;case"checked":ee=ie;break;case"defaultChecked":le=ie;break;case"value":O=ie;break;case"defaultValue":B=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:ie!==fe&&wt(i,o,te,ie,m,fe)}}kc(i,O,B,G,ee,le,_,v);return;case"select":ie=O=B=te=null;for(_ in u)if(G=u[_],u.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":ie=G;default:m.hasOwnProperty(_)||wt(i,o,_,null,m,G)}for(v in m)if(_=m[v],G=u[v],m.hasOwnProperty(v)&&(_!=null||G!=null))switch(v){case"value":te=_;break;case"defaultValue":B=_;break;case"multiple":O=_;default:_!==G&&wt(i,o,v,_,m,G)}o=B,u=O,m=ie,te!=null?eo(i,!!u,te,!1):!!m!=!!u&&(o!=null?eo(i,!!u,o,!0):eo(i,!!u,u?[]:"",!1));return;case"textarea":ie=te=null;for(B in u)if(v=u[B],u.hasOwnProperty(B)&&v!=null&&!m.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:wt(i,o,B,null,m,v)}for(O in m)if(v=m[O],_=u[O],m.hasOwnProperty(O)&&(v!=null||_!=null))switch(O){case"value":te=v;break;case"defaultValue":ie=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&wt(i,o,O,v,m,_)}Vm(i,te,ie);return;case"option":for(var je in u)if(te=u[je],u.hasOwnProperty(je)&&te!=null&&!m.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:wt(i,o,je,null,m,te)}for(G in m)if(te=m[G],ie=u[G],m.hasOwnProperty(G)&&te!==ie&&(te!=null||ie!=null))switch(G){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:wt(i,o,G,te,m,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in u)te=u[Re],u.hasOwnProperty(Re)&&te!=null&&!m.hasOwnProperty(Re)&&wt(i,o,Re,null,m,te);for(ee in m)if(te=m[ee],ie=u[ee],m.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:wt(i,o,ee,te,m,ie)}return;default:if(Pc(o)){for(var _t in u)te=u[_t],u.hasOwnProperty(_t)&&te!==void 0&&!m.hasOwnProperty(_t)&&Sb(i,o,_t,void 0,m,te);for(le in m)te=m[le],ie=u[le],!m.hasOwnProperty(le)||te===ie||te===void 0&&ie===void 0||Sb(i,o,le,te,m,ie);return}}for(var Q in u)te=u[Q],u.hasOwnProperty(Q)&&te!=null&&!m.hasOwnProperty(Q)&&wt(i,o,Q,null,m,te);for(fe in m)te=m[fe],ie=u[fe],!m.hasOwnProperty(fe)||te===ie||te==null&&ie==null||wt(i,o,fe,te,m,ie)}function HT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],_=v.transferSize,O=v.initiatorType,B=v.duration;if(_&&B&&HT(O)){for(O=0,B=v.responseEnd,m+=1;m<u.length;m++){var G=u[m],ee=G.startTime;if(ee>B)break;var le=G.transferSize,fe=G.initiatorType;le&&HT(fe)&&(G=G.responseEnd,O+=le*(G<B?1:(B-ee)/(G-ee)))}if(--m,o+=8*(_+O)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var jb=null,Nb=null;function Fp(i){return i.nodeType===9?i:i.ownerDocument}function GT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KT(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Tb(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cb=null;function LV(){var i=window.event;return i&&i.type==="popstate"?i===Cb?!1:(Cb=i,!0):(Cb=null,!1)}var WT=typeof setTimeout=="function"?setTimeout:void 0,UV=typeof clearTimeout=="function"?clearTimeout:void 0,YT=typeof Promise=="function"?Promise:void 0,zV=typeof queueMicrotask=="function"?queueMicrotask:typeof YT<"u"?function(i){return YT.resolve(null).then(i).catch(VV)}:WT;function VV(i){setTimeout(function(){throw i})}function So(i){return i==="head"}function QT(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),mu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")bf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,bf(u);for(var _=u.firstChild;_;){var O=_.nextSibling,B=_.nodeName;_[ui]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=O}}else u==="body"&&bf(i.ownerDocument.body);u=v}while(u);mu(o)}function XT(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Ib(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ib(u),Ic(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function $V(i,o,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ui])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=pa(i.nextSibling),i===null)break}return null}function BV(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=pa(i.nextSibling),i===null))return null;return i}function ZT(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=pa(i.nextSibling),i===null))return null;return i}function Ob(i){return i.data==="$?"||i.data==="$~"}function kb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function FV(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function pa(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Pb=null;function JT(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return pa(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function eC(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function tC(i,o,u){switch(o=Fp(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function bf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ic(i)}var ga=new Map,nC=new Set;function qp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ps=oe.d;oe.d={f:qV,r:HV,D:GV,C:KV,L:WV,m:YV,X:XV,S:QV,M:ZV};function qV(){var i=ps.f(),o=Dp();return i||o}function HV(i){var o=ia(i);o!==null&&o.tag===5&&o.type==="form"?x2(o):ps.r(i)}var du=typeof document>"u"?null:document;function rC(i,o,u){var m=du;if(m&&typeof o=="string"&&o){var v=Er(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),nC.has(v)||(nC.add(v),i={rel:i,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),Qn(o,"link",i),dn(o),m.head.appendChild(o)))}}function GV(i){ps.D(i),rC("dns-prefetch",i,null)}function KV(i,o){ps.C(i,o),rC("preconnect",i,o)}function WV(i,o,u){ps.L(i,o,u);var m=du;if(m&&i&&o){var v='link[rel="preload"][as="'+Er(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Er(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Er(u.imageSizes)+'"]')):v+='[href="'+Er(i)+'"]';var _=v;switch(o){case"style":_=fu(i);break;case"script":_=hu(i)}ga.has(_)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),ga.set(_,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(wf(_))||o==="script"&&m.querySelector(_f(_))||(o=m.createElement("link"),Qn(o,"link",i),dn(o),m.head.appendChild(o)))}}function YV(i,o){ps.m(i,o);var u=du;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Er(m)+'"][href="'+Er(i)+'"]',_=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=hu(i)}if(!ga.has(_)&&(i=g({rel:"modulepreload",href:i},o),ga.set(_,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(_f(_)))return}m=u.createElement("link"),Qn(m,"link",i),dn(m),u.head.appendChild(m)}}}function QV(i,o,u){ps.S(i,o,u);var m=du;if(m&&i){var v=fi(m).hoistableStyles,_=fu(i);o=o||"default";var O=v.get(_);if(!O){var B={loading:0,preload:null};if(O=m.querySelector(wf(_)))B.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=ga.get(_))&&Rb(i,u);var G=O=m.createElement("link");dn(G),Qn(G,"link",i),G._p=new Promise(function(ee,le){G.onload=ee,G.onerror=le}),G.addEventListener("load",function(){B.loading|=1}),G.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Hp(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:B},v.set(_,O)}}}function XV(i,o){ps.X(i,o);var u=du;if(u&&i){var m=fi(u).hoistableScripts,v=hu(i),_=m.get(v);_||(_=u.querySelector(_f(v)),_||(i=g({src:i,async:!0},o),(o=ga.get(v))&&Db(i,o),_=u.createElement("script"),dn(_),Qn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function ZV(i,o){ps.M(i,o);var u=du;if(u&&i){var m=fi(u).hoistableScripts,v=hu(i),_=m.get(v);_||(_=u.querySelector(_f(v)),_||(i=g({src:i,async:!0,type:"module"},o),(o=ga.get(v))&&Db(i,o),_=u.createElement("script"),dn(_),Qn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function aC(i,o,u,m){var v=(v=ke.current)?qp(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=fu(u.href),u=fi(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=fu(u.href);var _=fi(v).hoistableStyles,O=_.get(i);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,O),(_=v.querySelector(wf(i)))&&!_._p&&(O.instance=_,O.state.loading=5),ga.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ga.set(i,u),_||JV(v,i,u,O.state))),o&&m===null)throw Error(r(528,""));return O}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=hu(u),u=fi(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fu(i){return'href="'+Er(i)+'"'}function wf(i){return'link[rel="stylesheet"]['+i+"]"}function iC(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function JV(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Qn(o,"link",u),dn(o),i.head.appendChild(o))}function hu(i){return'[src="'+Er(i)+'"]'}function _f(i){return"script[async]"+i}function sC(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Er(u.href)+'"]');if(m)return o.instance=m,dn(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),dn(m),Qn(m,"style",v),Hp(m,u.precedence,i),o.instance=m;case"stylesheet":v=fu(u.href);var _=i.querySelector(wf(v));if(_)return o.state.loading|=4,o.instance=_,dn(_),_;m=iC(u),(v=ga.get(v))&&Rb(m,v),_=(i.ownerDocument||i).createElement("link"),dn(_);var O=_;return O._p=new Promise(function(B,G){O.onload=B,O.onerror=G}),Qn(_,"link",m),o.state.loading|=4,Hp(_,u.precedence,i),o.instance=_;case"script":return _=hu(u.src),(v=i.querySelector(_f(_)))?(o.instance=v,dn(v),v):(m=u,(v=ga.get(_))&&(m=g({},u),Db(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),dn(v),Qn(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Hp(m,u.precedence,i));return o.instance}function Hp(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,_=v,O=0;O<m.length;O++){var B=m[O];if(B.dataset.precedence===o)_=B;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Rb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Db(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Gp=null;function oC(i,o,u){if(Gp===null){var m=new Map,v=Gp=new Map;v.set(u,m)}else v=Gp,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var _=u[v];if(!(_[ui]||_[un]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(o)||"";O=i+O;var B=m.get(O);B?B.push(_):m.set(O,[_])}}return m}function lC(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function e9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function cC(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function t9(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=fu(m.href),_=o.querySelector(wf(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Kp.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=_,dn(_);return}_=o.ownerDocument||o,m=iC(m),(v=ga.get(v))&&Rb(m,v),_=_.createElement("link"),dn(_);var O=_;O._p=new Promise(function(B,G){O.onload=B,O.onerror=G}),Qn(_,"link",m),u.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Kp.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Mb=0;function n9(i,o){return i.stylesheets&&i.count===0&&Yp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&Yp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&Mb===0&&(Mb=62500*MV());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Yp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Mb?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Kp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wp=null;function Yp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wp=new Map,o.forEach(r9,i),Wp=null,Kp.call(i))}function r9(i,o){if(!(o.state.loading&4)){var u=Wp.get(i);if(u)var m=u.get(null);else{u=new Map,Wp.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var O=v[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}v=o.instance,O=v.getAttribute("data-precedence"),_=u.get(O)||m,_===m&&u.set(null,v),u.set(O,v),this.count++,m=Kp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Ef={$$typeof:k,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function a9(i,o,u,m,v,_,O,B,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function uC(i,o,u,m,v,_,O,B,G,ee,le,fe){return i=new a9(i,o,u,O,G,ee,le,fe,B),o=1,_===!0&&(o|=24),_=Br(3,null,null,o),i.current=_,_.stateNode=i,o=px(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:m,isDehydrated:u,cache:o},xx(_),i}function dC(i){return i?(i=qc,i):qc}function fC(i,o,u,m,v,_){v=dC(v),m.context===null?m.context=v:m.pendingContext=v,m=mo(o),m.payload={element:u},_=_===void 0?null:_,_!==null&&(m.callback=_),u=po(i,m,o),u!==null&&(Cr(u,i,o),ef(u,i,o))}function hC(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Lb(i,o){hC(i,o),(i=i.alternate)&&hC(i,o)}function mC(i){if(i.tag===13||i.tag===31){var o=Tl(i,67108864);o!==null&&Cr(o,i,67108864),Lb(i,67108864)}}function pC(i){if(i.tag===13||i.tag===31){var o=Kr();o=gl(o);var u=Tl(i,o);u!==null&&Cr(u,i,o),Lb(i,o)}}var Qp=!0;function i9(i,o,u,m){var v=Y.T;Y.T=null;var _=oe.p;try{oe.p=2,Ub(i,o,u,m)}finally{oe.p=_,Y.T=v}}function s9(i,o,u,m){var v=Y.T;Y.T=null;var _=oe.p;try{oe.p=8,Ub(i,o,u,m)}finally{oe.p=_,Y.T=v}}function Ub(i,o,u,m){if(Qp){var v=zb(m);if(v===null)Ab(i,o,m,Xp,u),yC(i,m);else if(l9(v,i,o,u,m))m.stopPropagation();else if(yC(i,m),o&4&&-1<o9.indexOf(i)){for(;v!==null;){var _=ia(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=si(_.pendingLanes);if(O!==0){var B=_;for(B.pendingLanes|=2,B.entangledLanes|=2;O;){var G=1<<31-Jt(O);B.entanglements[1]|=G,O&=~G}Si(_),(dt&6)===0&&(Pp=dr()+500,yf(0))}}break;case 31:case 13:B=Tl(_,2),B!==null&&Cr(B,_,2),Dp(),Lb(_,2)}if(_=zb(m),_===null&&Ab(i,o,m,Xp,u),_===v)break;v=_}v!==null&&m.stopPropagation()}else Ab(i,o,m,null,u)}}function zb(i){return i=sa(i),Vb(i)}var Xp=null;function Vb(i){if(Xp=null,i=di(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Xp=i,null}function gC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fl()){case Sd:return 2;case jd:return 8;case Zs:case G0:return 32;case Cm:return 268435456;default:return 32}default:return 32}}var $b=!1,jo=null,No=null,To=null,Af=new Map,Sf=new Map,Co=[],o9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yC(i,o){switch(i){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":Af.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(o.pointerId)}}function jf(i,o,u,m,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[v]},o!==null&&(o=ia(o),o!==null&&mC(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function l9(i,o,u,m,v){switch(o){case"focusin":return jo=jf(jo,i,o,u,m,v),!0;case"dragenter":return No=jf(No,i,o,u,m,v),!0;case"mouseover":return To=jf(To,i,o,u,m,v),!0;case"pointerover":var _=v.pointerId;return Af.set(_,jf(Af.get(_)||null,i,o,u,m,v)),!0;case"gotpointercapture":return _=v.pointerId,Sf.set(_,jf(Sf.get(_)||null,i,o,u,m,v)),!0}return!1}function vC(i){var o=di(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,Da(i.priority,function(){pC(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,Da(i.priority,function(){pC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=zb(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Ud=m,u.target.dispatchEvent(m),Ud=null}else return o=ia(u),o!==null&&mC(o),i.blockedOn=u,!1;o.shift()}return!0}function xC(i,o,u){Zp(i)&&u.delete(o)}function c9(){$b=!1,jo!==null&&Zp(jo)&&(jo=null),No!==null&&Zp(No)&&(No=null),To!==null&&Zp(To)&&(To=null),Af.forEach(xC),Sf.forEach(xC)}function Jp(i,o){i.blockedOn===o&&(i.blockedOn=null,$b||($b=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,c9)))}var eg=null;function bC(i){eg!==i&&(eg=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){eg===i&&(eg=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if(Vb(m||u)===null)continue;break}var _=ia(u);_!==null&&(i.splice(o,3),o-=3,zx(_,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function mu(i){function o(G){return Jp(G,i)}jo!==null&&Jp(jo,i),No!==null&&Jp(No,i),To!==null&&Jp(To,i),Af.forEach(o),Sf.forEach(o);for(var u=0;u<Co.length;u++){var m=Co[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Co.length&&(u=Co[0],u.blockedOn===null);)vC(u),u.blockedOn===null&&Co.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],_=u[m+1],O=v[Pn]||null;if(typeof _=="function")O||bC(u);else if(O){var B=null;if(_&&_.hasAttribute("formAction")){if(v=_,O=_[Pn]||null)B=O.formAction;else if(Vb(v)!==null)continue}else B=O.action;typeof B=="function"?u[m+1]=B:(u.splice(m,3),m-=3),bC(u)}}}function wC(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Bb(i){this._internalRoot=i}tg.prototype.render=Bb.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=Kr();fC(u,m,i,o,null,null)},tg.prototype.unmount=Bb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;fC(i.current,2,null,i,null,null),Dp(),o[ci]=null}};function tg(i){this._internalRoot=i}tg.prototype.unstable_scheduleHydration=function(i){if(i){var o=Dm();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Co.length&&o!==0&&o<Co[u].priority;u++);Co.splice(u,0,i),u===0&&vC(i)}};var _C=e.version;if(_C!=="19.2.0")throw Error(r(527,_C,"19.2.0"));oe.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var u9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ng.isDisabled&&ng.supportsFiber)try{Pa=ng.inject(u9),Hn=ng}catch{}}return Tf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",v=C2,_=I2,O=O2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=uC(i,1,!1,null,null,u,m,null,v,_,O,wC),i[ci]=o.current,Eb(i),new Bb(o)},Tf.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,v="",_=C2,O=I2,B=O2,G=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=uC(i,1,!0,o,u??null,m,v,G,_,O,B,wC),o.context=dC(null),u=o.current,m=Kr(),m=gl(m),v=mo(m),v.callback=null,po(u,v,m),u=m,o.current.lanes=u,ml(o,u),Si(o),i[ci]=o.current,Eb(i),new tg(o)},Tf.version="19.2.0",Tf}var kC;function E9(){if(kC)return Gb.exports;kC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gb.exports=_9(),Gb.exports}var A9=E9();const S9=Hi(A9);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PC="popstate";function j9(t={}){function e(r,a){let{pathname:s,search:l,hash:d}=r.location;return J1("",{pathname:s,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:sh(a)}return T9(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ja(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N9(){return Math.random().toString(36).substring(2,10)}function RC(t,e){return{usr:t.state,key:t.key,idx:e}}function J1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?nd(e):e,state:n,key:e&&e.key||r||N9()}}function sh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function T9(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let S=p(),I=S==null?null:S-h;h=S,f&&f({action:d,location:A.location,delta:I})}function x(S,I){d="PUSH";let U=J1(A.location,S,I);h=p()+1;let k=RC(U,h),C=A.createHref(U);try{l.pushState(k,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(C)}s&&f&&f({action:d,location:A.location,delta:1})}function w(S,I){d="REPLACE";let U=J1(A.location,S,I);h=p();let k=RC(U,h),C=A.createHref(U);l.replaceState(k,"",C),s&&f&&f({action:d,location:A.location,delta:0})}function E(S){return C9(S)}let A={get action(){return d},get location(){return t(a,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(PC,g),f=S,()=>{a.removeEventListener(PC,g),f=null}},createHref(S){return e(a,S)},createURL:E,encodeLocation(S){let I=E(S);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:x,replace:w,go(S){return l.go(S)}};return A}function C9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:sh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function GD(t,e,n="/"){return I9(t,e,n,!1)}function I9(t,e,n,r){let a=typeof e=="string"?nd(e):e,s=Is(a.pathname||"/",n);if(s==null)return null;let l=KD(t);O9(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=B9(s);d=V9(l[f],h,r)}return d}function KD(t,e=[],n=[],r="",a=!1){let s=(l,d,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;zt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=As([r,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(zt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),KD(l.children,e,x,g,f)),!(l.path==null&&!l.index)&&e.push({path:g,score:U9(g,l.index),routesMeta:x})};return t.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of WD(l.path))s(l,d,!0,h)}),e}function WD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let l=WD(r.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function O9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:z9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var k9=/^:[\w-]+$/,P9=3,R9=2,D9=1,M9=10,L9=-2,DC=t=>t==="*";function U9(t,e){let n=t.split("/"),r=n.length;return n.some(DC)&&(r+=L9),e&&(r+=R9),n.filter(a=>!DC(a)).reduce((a,s)=>a+(k9.test(s)?P9:s===""?D9:M9),r)}function z9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function V9(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=Wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Wg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:As([s,g.pathname]),pathnameBase:G9(As([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=As([s,g.pathnameBase]))}return l}function Wg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$9(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let E=d[x]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[x];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function $9(t,e=!1,n=!0){ja(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function B9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ja(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var YD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F9=t=>YD.test(t);function q9(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?nd(t):t,s;if(n)if(F9(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ja(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=MC(n.substring(1),"/"):s=MC(n,e)}else s=e;return{pathname:s,search:K9(r),hash:W9(a)}}function MC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Qb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OE(t){let e=H9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kE(t,e,n,r=!1){let a;typeof t=="string"?a=nd(t):(a={...t},zt(!a.pathname||!a.pathname.includes("?"),Qb("?","pathname","search",a)),zt(!a.pathname||!a.pathname.includes("#"),Qb("#","pathname","hash",a)),zt(!a.search||!a.search.includes("#"),Qb("#","search","hash",a)));let s=t===""||a.pathname==="",l=s?"/":a.pathname,d;if(l==null)d=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}d=g>=0?e[g]:"/"}let f=q9(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var As=t=>t.join("/").replace(/\/\/+/g,"/"),G9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),K9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Y9=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Q9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function X9(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var QD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function XD(t,e){let n=t;if(typeof n!="string"||!YD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(QD)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),d=Is(l.pathname,e);l.origin===s.origin&&d!=null?n=d+l.search+l.hash:a=!0}catch{ja(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZD=["POST","PUT","PATCH","DELETE"];new Set(ZD);var Z9=["GET",...ZD];new Set(Z9);var rd=b.createContext(null);rd.displayName="DataRouter";var gv=b.createContext(null);gv.displayName="DataRouterState";var J9=b.createContext(!1),JD=b.createContext({isTransitioning:!1});JD.displayName="ViewTransition";var e$=b.createContext(new Map);e$.displayName="Fetchers";var t$=b.createContext(null);t$.displayName="Await";var na=b.createContext(null);na.displayName="Navigation";var Lh=b.createContext(null);Lh.displayName="Location";var Oa=b.createContext({outlet:null,matches:[],isDataRoute:!1});Oa.displayName="Route";var PE=b.createContext(null);PE.displayName="RouteError";var e4="REACT_ROUTER_ERROR",n$="REDIRECT",r$="ROUTE_ERROR_RESPONSE";function a$(t){if(t.startsWith(`${e4}:${n$}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function i$(t){if(t.startsWith(`${e4}:${r$}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Y9(e.status,e.statusText,e.data)}catch{}}function s$(t,{relative:e}={}){zt(ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(na),{hash:a,pathname:s,search:l}=zh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:As([n,s])),r.createHref({pathname:d,search:l,hash:a})}function ad(){return b.useContext(Lh)!=null}function ra(){return zt(ad(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Lh).location}var t4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n4(t){b.useContext(na).static||b.useLayoutEffect(t)}function Ft(){let{isDataRoute:t}=b.useContext(Oa);return t?b$():o$()}function o$(){zt(ad(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(rd),{basename:e,navigator:n}=b.useContext(na),{matches:r}=b.useContext(Oa),{pathname:a}=ra(),s=JSON.stringify(OE(r)),l=b.useRef(!1);return n4(()=>{l.current=!0}),b.useCallback((f,h={})=>{if(ja(l.current,t4),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=kE(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:As([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}var r4=b.createContext(null);function Uh(){return b.useContext(r4)}function l$(t){let e=b.useContext(Oa).outlet;return b.useMemo(()=>e&&b.createElement(r4.Provider,{value:t},e),[e,t])}function yv(){let{matches:t}=b.useContext(Oa),e=t[t.length-1];return e?e.params:{}}function zh(t,{relative:e}={}){let{matches:n}=b.useContext(Oa),{pathname:r}=ra(),a=JSON.stringify(OE(n));return b.useMemo(()=>kE(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function c$(t,e){return a4(t,e)}function a4(t,e,n,r,a){var U;zt(ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(na),{matches:l}=b.useContext(Oa),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let k=g&&g.path||"";s4(h,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=ra(),w;if(e){let k=typeof e=="string"?nd(e):e;zt(p==="/"||((U=k.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),w=k}else w=x;let E=w.pathname||"/",A=E;if(p!=="/"){let k=p.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=GD(t,{pathname:A});ja(g||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ja(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=m$(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:As([p,s.encodeLocation?s.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:As([p,s.encodeLocation?s.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,n,r,a);return e&&I?b.createElement(Lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},I):I}function u$(){let t=x$(),e=Q9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:a},n):null,l)}var d$=b.createElement(u$,null),i4=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=i$(t.digest);n&&(t=n)}let e=t!==void 0?b.createElement(Oa.Provider,{value:this.props.routeContext},b.createElement(PE.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?b.createElement(f$,{error:t},e):e}};i4.contextType=J9;var Xb=new WeakMap;function f$({children:t,error:e}){let{basename:n}=b.useContext(na);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=a$(e.digest);if(r){let a=Xb.get(e);if(a)throw a;let s=XD(r.location,n);if(QD&&!Xb.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw Xb.set(e,l),l}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function h$({routeContext:t,match:e,children:n}){let r=b.useContext(rd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Oa.Provider,{value:t},n)}function m$(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:w}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{var x,w;r(p,{location:n.location,params:((w=(x=n.matches)==null?void 0:x[0])==null?void 0:w.params)??{},unstable_pattern:X9(n.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,x)=>{let w,E=!1,A=null,S=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||d$,d&&(f<0&&x===0?(s4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):f===x&&(E=!0,S=g.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,x+1)),U=()=>{let k;return w?k=A:E?k=S:g.route.Component?k=b.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=p,b.createElement(h$,{match:g,routeContext:{outlet:p,matches:I,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?b.createElement(i4,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:U(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:h}):U()},null)}function RE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p$(t){let e=b.useContext(rd);return zt(e,RE(t)),e}function g$(t){let e=b.useContext(gv);return zt(e,RE(t)),e}function y$(t){let e=b.useContext(Oa);return zt(e,RE(t)),e}function DE(t){let e=y$(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function v$(){return DE("useRouteId")}function x$(){var r;let t=b.useContext(PE),e=g$("useRouteError"),n=DE("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function b$(){let{router:t}=p$("useNavigate"),e=DE("useNavigate"),n=b.useRef(!1);return n4(()=>{n.current=!0}),b.useCallback(async(a,s={})=>{ja(n.current,t4),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var LC={};function s4(t,e,n){!e&&!LC[t]&&(LC[t]=!0,ja(!1,n))}b.memo(w$);function w$({routes:t,future:e,state:n,onError:r}){return a4(t,void 0,n,r,e)}function Ss({to:t,replace:e,state:n,relative:r}){zt(ad(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(na);ja(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Oa),{pathname:l}=ra(),d=Ft(),f=kE(t,OE(s),l,r==="path"),h=JSON.stringify(f);return b.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function o4(t){return l$(t.context)}function Ge(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){zt(!ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[d,a,s,l]);typeof n=="string"&&(n=nd(n));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:w="default"}=n,E=b.useMemo(()=>{let A=Is(h,d);return A==null?null:{location:{pathname:A,search:p,hash:g,state:x,key:w},navigationType:r}},[d,h,p,g,x,w,r]);return ja(E!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:b.createElement(na.Provider,{value:f},b.createElement(Lh.Provider,{children:e,value:E}))}function E$({children:t,location:e}){return c$(e_(t),e)}function e_(t,e=[]){let n=[];return b.Children.forEach(t,(r,a)=>{if(!b.isValidElement(r))return;let s=[...e,a];if(r.type===b.Fragment){n.push.apply(n,e_(r.props.children,s));return}zt(r.type===Ge,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=e_(r.props.children,s)),n.push(l)}),n}var Ig="get",Og="application/x-www-form-urlencoded";function vv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function A$(t){return vv(t)&&t.tagName.toLowerCase()==="button"}function S$(t){return vv(t)&&t.tagName.toLowerCase()==="form"}function j$(t){return vv(t)&&t.tagName.toLowerCase()==="input"}function N$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T$(t,e){return t.button===0&&(!e||e==="_self")&&!N$(t)}var rg=null;function C$(){if(rg===null)try{new FormData(document.createElement("form"),0),rg=!1}catch{rg=!0}return rg}var I$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zb(t){return t!=null&&!I$.has(t)?(ja(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Og}"`),null):t}function O$(t,e){let n,r,a,s,l;if(S$(t)){let d=t.getAttribute("action");r=d?Is(d,e):null,n=t.getAttribute("method")||Ig,a=Zb(t.getAttribute("enctype"))||Og,s=new FormData(t)}else if(A$(t)||j$(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Is(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Ig,a=Zb(t.getAttribute("formenctype"))||Zb(d.getAttribute("enctype"))||Og,s=new FormData(d,t),!C$()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,g)}}else{if(vv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ig,r=null,a=Og,l=t}return s&&a==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ME(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Is(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function P$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function D$(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let l=await P$(s,n);return l.links?l.links():[]}return[]}));return z$(r.flat(1).filter(R$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function UC(t,e,n,r,a,s){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function M$(t,e,{includeHydrateFallback:n}={}){return L$(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function L$(t){return[...new Set(t)]}function U$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function z$(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(U$(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function l4(){let t=b.useContext(rd);return ME(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function V$(){let t=b.useContext(gv);return ME(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var LE=b.createContext(void 0);LE.displayName="FrameworkContext";function c4(){let t=b.useContext(LE);return ME(t,"You must render this element inside a <HydratedRouter> element"),t}function $$(t,e){let n=b.useContext(LE),[r,a]=b.useState(!1),[s,l]=b.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=I=>{I.forEach(U=>{l(U.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[t]),b.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),l(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:Cf(d,w),onBlur:Cf(f,E),onMouseEnter:Cf(h,w),onMouseLeave:Cf(p,E),onTouchStart:Cf(g,w)}]:[!1,x,{}]}function Cf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function B$({page:t,...e}){let{router:n}=l4(),r=b.useMemo(()=>GD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(q$,{page:t,matches:r,...e}):null}function F$(t){let{manifest:e,routeModules:n}=c4(),[r,a]=b.useState([]);return b.useEffect(()=>{let s=!1;return D$(t,e,n).then(l=>{s||a(l)}),()=>{s=!0}},[t,e,n]),r}function q$({page:t,matches:e,...n}){let r=ra(),{manifest:a,routeModules:s}=c4(),{basename:l}=l4(),{loaderData:d,matches:f}=V$(),h=b.useMemo(()=>UC(t,e,f,a,r,"data"),[t,e,f,a,r]),p=b.useMemo(()=>UC(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(I=>{var k;let U=a.routes[I.route.id];!U||!U.hasLoader||(!h.some(C=>C.route.id===I.route.id)&&I.route.id in d&&((k=s[I.route.id])!=null&&k.shouldRevalidate)||U.hasClientLoader?A=!0:E.add(I.route.id))}),E.size===0)return[];let S=k$(t,l,"data");return A&&E.size>0&&S.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[l,d,r,a,h,e,t,s]),x=b.useMemo(()=>M$(p,a),[p,a]),w=F$(p);return b.createElement(b.Fragment,null,g.map(E=>b.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>b.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:A})=>b.createElement("link",{key:E,nonce:n.nonce,...A})))}function H$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var G$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G$&&(window.__reactRouterVersion="7.11.0")}catch{}function K$({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=b.useRef();a.current==null&&(a.current=j9({window:r,v5Compat:!0}));let s=a.current,[l,d]=b.useState({action:s.action,location:s.location}),f=b.useCallback(h=>{n===!1?d(h):b.startTransition(()=>d(h))},[n]);return b.useLayoutEffect(()=>s.listen(f),[s,f]),b.createElement(_$,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var u4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yr=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...w},E){let{basename:A,unstable_useTransitions:S}=b.useContext(na),I=typeof h=="string"&&u4.test(h),U=XD(h,A);h=U.to;let k=s$(h,{relative:a}),[C,P,z]=$$(r,w),N=Q$(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:x,unstable_useTransitions:S});function M(R){e&&e(R),R.defaultPrevented||N(R)}let T=b.createElement("a",{...w,...z,href:U.absoluteURL||k,onClick:U.isExternal||s?e:M,ref:H$(E,P),target:f,"data-discover":!I&&n==="render"?"true":void 0});return C&&!I?b.createElement(b.Fragment,null,T,b.createElement(B$,{page:k})):T});Yr.displayName="Link";var Yg=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=zh(l,{relative:h.relative}),x=ra(),w=b.useContext(gv),{navigator:E,basename:A}=b.useContext(na),S=w!=null&&t7(g)&&d===!0,I=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,U=x.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(U=U.toLowerCase(),k=k?k.toLowerCase():null,I=I.toLowerCase()),k&&A&&(k=Is(k,A)||k);const C=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let P=U===I||!a&&U.startsWith(I)&&U.charAt(C)==="/",z=k!=null&&(k===I||!a&&k.startsWith(I)&&k.charAt(I.length)==="/"),N={isActive:P,isPending:z,isTransitioning:S},M=P?e:void 0,T;typeof r=="function"?T=r(N):T=[r,P?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(N):s;return b.createElement(Yr,{...h,"aria-current":M,className:T,ref:p,style:R,to:l,viewTransition:d},typeof f=="function"?f(N):f)});Yg.displayName="NavLink";var W$=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:l=Ig,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...w},E)=>{let{unstable_useTransitions:A}=b.useContext(na),S=J$(),I=e7(d,{relative:h}),U=l.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&u4.test(d),C=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let z=P.nativeEvent.submitter,N=(z==null?void 0:z.getAttribute("formmethod"))||l,M=()=>S(z||P.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x});A&&n!==!1?b.startTransition(()=>M()):M()};return b.createElement("form",{ref:E,method:U,action:I,onSubmit:r?f:C,...w,"data-discover":!k&&t==="render"?"true":void 0})});W$.displayName="Form";function Y$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d4(t){let e=b.useContext(rd);return zt(e,Y$(t)),e}function Q$(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=Ft(),p=ra(),g=zh(t,{relative:s});return b.useCallback(x=>{if(T$(x,e)){x.preventDefault();let w=n!==void 0?n:sh(p)===sh(g),E=()=>h(t,{replace:w,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d});f?b.startTransition(()=>E()):E()}},[p,h,g,n,r,e,t,a,s,l,d,f])}var X$=0,Z$=()=>`__${String(++X$)}__`;function J$(){let{router:t}=d4("useSubmit"),{basename:e}=b.useContext(na),n=v$(),r=t.fetch,a=t.navigate;return b.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:g}=O$(s,e);if(l.navigate===!1){let x=l.fetcherKey||Z$();await r(x,n,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,a,e,n])}function e7(t,{relative:e}={}){let{basename:n}=b.useContext(na),r=b.useContext(Oa);zt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...zh(t||".",{relative:e})},l=ra();if(t==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:As([n,s.pathname])),sh(s)}function t7(t,{relative:e}={}){let n=b.useContext(JD);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=d4("useViewTransitionState"),a=zh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Is(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Is(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wg(a.pathname,l)!=null||Wg(a.pathname,s)!=null}var f4=HD();const n7=()=>{};var zC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},r7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],l=t[n++],d=t[n++],f=((a&7)<<18|(s&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},m4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],l=a+1<t.length,d=l?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let x=(d&15)<<2|h>>6,w=h&63;f||(w=64,l||(x=64)),r.push(n[p],n[g],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||d==null||h==null||g==null)throw new a7;const x=s<<2|d>>4;if(r.push(x),h!==64){const w=d<<4&240|h>>2;if(r.push(w),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i7=function(t){const e=h4(t);return m4.encodeByteArray(e,!0)},Qg=function(t){return i7(t).replace(/\./g,"")},p4=function(t){try{return m4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=()=>s7().__FIREBASE_DEFAULTS__,l7=()=>{if(typeof process>"u"||typeof zC>"u")return;const t=zC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&p4(t[1]);return e&&JSON.parse(e)},xv=()=>{try{return n7()||o7()||l7()||c7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g4=t=>{var e,n;return(n=(e=xv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},y4=t=>{const e=g4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},v4=()=>{var t;return(t=xv())==null?void 0:t.config},x4=t=>{var e;return(e=xv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qg(JSON.stringify(n)),Qg(JSON.stringify(l)),""].join(".")}const Qf={};function d7(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qf))Qf[e]?t.emulator.push(e):t.prod.push(e);return t}function f7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let VC=!1;function zE(t,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||Qf[t]===e||Qf[t]||VC)return;Qf[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=d7().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{VC=!0,l()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=f7(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),U=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const k=x.element;d(k),p(S,A);const C=h();f(U,I),k.append(U,E,S,C),document.body.appendChild(k)}s?(E.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}function m7(){var e;const t=(e=xv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v7(){const t=cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x7(){return!m7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b7(){try{return typeof indexedDB=="object"}catch{return!1}}function w7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7="FirebaseError";class Gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_7,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vh.prototype.create)}}class Vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?E7(s,r):"Error",d=`${this.serviceName}: ${l} (${a}).`;return new Gi(a,d,r)}}function E7(t,e){return t.replace(A7,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const A7=/\{\$([^}]+)}/g;function S7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],l=e[a];if($C(s)&&$C(l)){if(!rc(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function $C(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function $f(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function j7(t,e){const n=new N7(t,e);return n.subscribe.bind(n)}class N7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");T7(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Jb),a.error===void 0&&(a.error=Jb),a.complete===void 0&&(a.complete=Jb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Ho{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O7(e))try{this.getOrInitializeService({instanceIdentifier:$l})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=$l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$l){return this.instances.has(e)}getOptions(e=$l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$l){return this.component?this.component.multipleInstances?e:$l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function I7(t){return t===$l?void 0:t}function O7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const P7={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},R7=Je.INFO,D7={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},M7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=D7[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class VE{constructor(e){this.name=e,this._logLevel=R7,this._logHandler=M7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const L7=(t,e)=>e.some(n=>t instanceof n);let BC,FC;function U7(){return BC||(BC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z7(){return FC||(FC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w4=new WeakMap,t_=new WeakMap,_4=new WeakMap,ew=new WeakMap,$E=new WeakMap;function V7(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Vo(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&w4.set(n,t)}).catch(()=>{}),$E.set(e,t),e}function $7(t){if(t_.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});t_.set(t,e)}let n_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B7(t){n_=t(n_)}function F7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tw(this),e,...n);return _4.set(r,e.sort?e.sort():[e]),Vo(r)}:z7().includes(t)?function(...e){return t.apply(tw(this),e),Vo(w4.get(this))}:function(...e){return Vo(t.apply(tw(this),e))}}function q7(t){return typeof t=="function"?F7(t):(t instanceof IDBTransaction&&$7(t),L7(t,U7())?new Proxy(t,n_):t)}function Vo(t){if(t instanceof IDBRequest)return V7(t);if(ew.has(t))return ew.get(t);const e=q7(t);return e!==t&&(ew.set(t,e),$E.set(e,t)),e}const tw=t=>$E.get(t);function H7(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(t,e),d=Vo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Vo(l.result),f.oldVersion,f.newVersion,Vo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const G7=["get","getKey","getAll","getAllKeys","count"],K7=["put","add","delete","clear"],nw=new Map;function qC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nw.get(e))return nw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=K7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||G7.includes(n)))return;const s=async function(l,...d){const f=this.transaction(l,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return nw.set(e,s),s}B7(t=>({...t,get:(e,n,r)=>qC(e,n)||t.get(e,n,r),has:(e,n)=>!!qC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r_="@firebase/app",HC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new VE("@firebase/app"),Q7="@firebase/app-compat",X7="@firebase/analytics-compat",Z7="@firebase/analytics",J7="@firebase/app-check-compat",eB="@firebase/app-check",tB="@firebase/auth",nB="@firebase/auth-compat",rB="@firebase/database",aB="@firebase/data-connect",iB="@firebase/database-compat",sB="@firebase/functions",oB="@firebase/functions-compat",lB="@firebase/installations",cB="@firebase/installations-compat",uB="@firebase/messaging",dB="@firebase/messaging-compat",fB="@firebase/performance",hB="@firebase/performance-compat",mB="@firebase/remote-config",pB="@firebase/remote-config-compat",gB="@firebase/storage",yB="@firebase/storage-compat",vB="@firebase/firestore",xB="@firebase/ai",bB="@firebase/firestore-compat",wB="firebase",_B="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="[DEFAULT]",EB={[r_]:"fire-core",[Q7]:"fire-core-compat",[Z7]:"fire-analytics",[X7]:"fire-analytics-compat",[eB]:"fire-app-check",[J7]:"fire-app-check-compat",[tB]:"fire-auth",[nB]:"fire-auth-compat",[rB]:"fire-rtdb",[aB]:"fire-data-connect",[iB]:"fire-rtdb-compat",[sB]:"fire-fn",[oB]:"fire-fn-compat",[lB]:"fire-iid",[cB]:"fire-iid-compat",[uB]:"fire-fcm",[dB]:"fire-fcm-compat",[fB]:"fire-perf",[hB]:"fire-perf-compat",[mB]:"fire-rc",[pB]:"fire-rc-compat",[gB]:"fire-gcs",[yB]:"fire-gcs-compat",[vB]:"fire-fst",[bB]:"fire-fst-compat",[xB]:"fire-vertex","fire-js":"fire-js",[wB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new Map,AB=new Map,i_=new Map;function GC(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ac(t){const e=t.name;if(i_.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,t);for(const n of Xg.values())GC(n,t);for(const n of AB.values())GC(n,t);return!0}function bv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new Vh("app","Firebase",SB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=_B;function E4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:a_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw $o.create("bad-app-name",{appName:String(a)});if(n||(n=v4()),!n)throw $o.create("no-options");const s=Xg.get(a);if(s){if(rc(n,s.options)&&rc(r,s.config))return s;throw $o.create("duplicate-app",{appName:a})}const l=new k7(a);for(const f of i_.values())l.addComponent(f);const d=new jB(n,r,l);return Xg.set(a,d),d}function BE(t=a_){const e=Xg.get(t);if(!e&&t===a_&&v4())return E4();if(!e)throw $o.create("no-app",{appName:t});return e}function Ii(t,e,n){let r=EB[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(l.join(" "));return}ac(new Ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB="firebase-heartbeat-database",TB=1,oh="firebase-heartbeat-store";let rw=null;function A4(){return rw||(rw=H7(NB,TB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),rw}async function CB(t){try{const n=(await A4()).transaction(oh),r=await n.objectStore(oh).get(S4(t));return await n.done,r}catch(e){if(e instanceof Gi)Os.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function KC(t,e){try{const r=(await A4()).transaction(oh,"readwrite");await r.objectStore(oh).put(e,S4(t)),await r.done}catch(n){if(n instanceof Gi)Os.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function S4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=1024,OB=30;class kB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=WC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>OB){const l=DB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WC(),{heartbeatsToSend:r,unsentEntries:a}=PB(this._heartbeatsCache.heartbeats),s=Qg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Os.warn(n),""}}}function WC(){return new Date().toISOString().substring(0,10)}function PB(t,e=IB){const n=[];let r=t.slice();for(const a of t){const s=n.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),YC(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),YC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b7()?w7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function YC(t){return Qg(JSON.stringify({version:2,heartbeats:t})).length}function DB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){ac(new Ho("platform-logger",e=>new W7(e),"PRIVATE")),ac(new Ho("heartbeat",e=>new kB(e),"PRIVATE")),Ii(r_,HC,t),Ii(r_,HC,"esm2020"),Ii("fire-js","")}MB("");function j4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LB=j4,N4=new Vh("auth","Firebase",j4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=new VE("@firebase/auth");function UB(t,...e){Zg.logLevel<=Je.WARN&&Zg.warn(`Auth (${bc}): ${t}`,...e)}function kg(t,...e){Zg.logLevel<=Je.ERROR&&Zg.error(`Auth (${bc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t,...e){throw qE(t,...e)}function Ya(t,...e){return qE(t,...e)}function FE(t,e,n){const r={...LB(),[e]:n};return new Vh("auth","Firebase",r).create(e,{appName:t.name})}function js(t){return FE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Na(t,"argument-error"),FE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return N4.create(t,...e)}function De(t,e,...n){if(!t)throw qE(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kg(e),new Error(e)}function ks(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function VB(){return QC()==="http:"||QC()==="https:"}function QC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VB()||g7()||"connection"in navigator)?navigator.onLine:!0}function BB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=h7()||y7()}get(){return $B()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HB=new Bh(3e4,6e4);function Fs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ki(t,e,n,r,a={}){return C4(t,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const d=$h({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return p7()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&nl(t.emulatorConfig.host)&&(h.credentials="include"),T4.fetch()(await I4(t,t.config.apiHost,n,d),h)})}async function C4(t,e,n){t._canInitEmulator=!1;const r={...FB,...e};try{const a=new KB(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw ag(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const d=s.ok?l.errorMessage:l.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ag(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw ag(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw ag(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw FE(t,p,h);Na(t,p)}}catch(a){if(a instanceof Gi)throw a;Na(t,"network-request-failed",{message:String(a)})}}async function Fh(t,e,n,r,a={}){const s=await Ki(t,e,n,r,a);return"mfaPendingCredential"in s&&Na(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function I4(t,e,n,r){const a=`${e}${n}?${r}`,s=t,l=s.config.emulator?HE(t.config,a):`${t.config.apiScheme}://${a}`;return qB.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function GB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ya(this.auth,"network-request-failed")),HB.get())})}}function ag(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ya(t,e,r);return a.customData._tokenResponse=n,a}function XC(t){return t!==void 0&&t.enterprise!==void 0}class WB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YB(t,e){return Ki(t,"GET","/v2/recaptchaConfig",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(t,e){return Ki(t,"POST","/v1/accounts:delete",e)}async function Jg(t,e){return Ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XB(t,e=!1){const n=jt(t),r=await n.getIdToken(e),a=GE(r);De(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:Xf(aw(a.auth_time)),issuedAtTime:Xf(aw(a.iat)),expirationTime:Xf(aw(a.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function aw(t){return Number(t)*1e3}function GE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kg("JWT malformed, contained fewer than 3 sections"),null;try{const a=p4(n);return a?JSON.parse(a):(kg("Failed to decode base64 JWT payload"),null)}catch(a){return kg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function ZC(t){const e=GE(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gi&&ZB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ey(t){var g;const e=t.auth,n=await t.getIdToken(),r=await zu(t,Jg(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?O4(a.providerUserInfo):[],l=tF(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new o_(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function eF(t){const e=jt(t);await ey(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tF(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function O4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){const n=await C4(t,{},async()=>{const r=$h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,l=await I4(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&nl(t.emulatorConfig.host)&&(f.credentials="include"),T4.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rF(t,e){return Ki(t,"POST","/v2/accounts:revokeToken",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=ZC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await nF(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,l=new Ou;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(De(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(De(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ou,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wa{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new JB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new o_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await zu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XB(this,e)}reload(){return eF(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ey(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await zu(this,QB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:w,providerData:E,stsTokenManager:A}=n;De(g&&A,e,"internal-error");const S=Ou.fromJSON(this.name,A);De(typeof g=="string",e,"internal-error"),Oo(r,e.name),Oo(a,e.name),De(typeof x=="boolean",e,"internal-error"),De(typeof w=="boolean",e,"internal-error"),Oo(s,e.name),Oo(l,e.name),Oo(d,e.name),Oo(f,e.name),Oo(h,e.name),Oo(p,e.name);const I=new Wa({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:d,stsTokenManager:S,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(I.providerData=E.map(U=>({...U}))),f&&(I._redirectEventId=f),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ou;a.updateFromServerResponse(n);const s=new Wa({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await ey(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];De(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?O4(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new Ou;d.updateFromIdToken(r);const f=new Wa({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:l}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new o_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Map;function ws(t){ks(t instanceof Function,"Expected a class definition");let e=JC.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k4.type="NONE";const eI=k4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e,n){return`firebase:${t}:${e}:${n}`}class ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=Pg(this.userKey,a.apiKey,s),this.fullPersistenceKey=Pg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jg(this.auth,{idToken:e}).catch(()=>{});return n?Wa._fromGetAccountInfoResponse(this.auth,n,e):null}return Wa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ku(ws(eI),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||ws(eI);const l=Pg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const x=await Jg(e,{idToken:p}).catch(()=>{});if(!x)break;g=await Wa._fromGetAccountInfoResponse(e,x,p)}else g=Wa._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new ku(s,e,r):(s=f[0],d&&await s._set(l,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new ku(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U4(e))return"Blackberry";if(z4(e))return"Webos";if(R4(e))return"Safari";if((e.includes("chrome/")||D4(e))&&!e.includes("edge/"))return"Chrome";if(L4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P4(t=cr()){return/firefox\//i.test(t)}function R4(t=cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D4(t=cr()){return/crios\//i.test(t)}function M4(t=cr()){return/iemobile/i.test(t)}function L4(t=cr()){return/android/i.test(t)}function U4(t=cr()){return/blackberry/i.test(t)}function z4(t=cr()){return/webos/i.test(t)}function KE(t=cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aF(t=cr()){var e;return KE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function iF(){return v7()&&document.documentMode===10}function V4(t=cr()){return KE(t)||L4(t)||z4(t)||U4(t)||/windows phone/i.test(t)||M4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t,e=[]){let n;switch(t){case"Browser":n=tI(cr());break;case"Worker":n=`${tI(cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,d)=>{try{const f=e(s);l(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e={}){return Ki(t,"GET","/v2/passwordPolicy",Fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=6;class cF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nI(this),this.idTokenSubscription=new nI(this),this.beforeStateQueue=new sF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jg(this,{idToken:e}),r=await Wa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(kr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===d)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ey(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(js(this));const n=e?jt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oF(this),n=new cF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UB(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function rl(t){return jt(t)}class nI{constructor(e){this.auth=e,this.observer=null,this.addObserver=j7(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dF(t){wv=t}function B4(t){return wv.loadJS(t)}function fF(){return wv.recaptchaEnterpriseScript}function hF(){return wv.gapiScript}function mF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pF{constructor(){this.enterprise=new gF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yF="recaptcha-enterprise",F4="NO_RECAPTCHA";class vF{constructor(e){this.type=yF,this.auth=rl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,d)=>{YB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new WB(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(f=>{d(f)})})}function a(s,l,d){const f=window.grecaptcha;XC(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(F4)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pF().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(d=>{if(!n&&XC(window.grecaptcha))a(d,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=fF();f.length!==0&&(f+=d),B4(f).then(()=>{a(d,s,l)}).catch(h=>{l(h)})}}).catch(d=>{l(d)})})}}async function rI(t,e,n,r=!1,a=!1){const s=new vF(t);let l;if(a)l=F4;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function l_(t,e,n,r,a){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await rI(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await rI(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e){const n=bv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(rc(s,e??{}))return a;Na(a,"already-initialized")}return n.initialize({options:e})}function bF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wF(t,e,n){const r=rl(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=q4(e),{host:l,port:d}=_F(e),f=d===null?"":`:${d}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(rc(h,r.config.emulator)&&rc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,nl(l)?(UE(`${s}//${l}${f}`),zE("Auth",!0)):EF()}function q4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _F(t){const e=q4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:aI(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:aI(l)}}}function aI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function AF(t,e){return Ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e){return Fh(t,"POST","/v1/accounts:signInWithPassword",Fs(t,e))}async function jF(t,e){return Ki(t,"POST","/v1/accounts:sendOobCode",Fs(t,e))}async function NF(t,e){return jF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}async function CF(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends WE{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new lh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l_(e,n,"signInWithPassword",SF);case"emailLink":return TF(e,{email:this._email,oobCode:this._password});default:Na(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l_(e,r,"signUpPassword",AF);case"emailLink":return CF(e,{idToken:n,email:this._email,oobCode:this._password});default:Na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return Fh(t,"POST","/v1/accounts:signInWithIdp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="http://localhost";class ic extends WE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ic(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Na("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const l=new ic(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:IF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$h(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kF(t){const e=Vf($f(t)).link,n=e?Vf($f(e)).deep_link_id:null,r=Vf($f(t)).deep_link_id;return(r?Vf($f(r)).link:null)||r||n||e||t}class YE{constructor(e){const n=Vf($f(e)),r=n.apiKey??null,a=n.oobCode??null,s=OF(n.mode??null);De(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=kF(e);try{return new YE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.providerId=id.PROVIDER_ID}static credential(e,n){return lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=YE.parseLink(n);return De(r,"argument-error"),lh._fromEmailAndCode(e,r.code,r.tenantId)}}id.PROVIDER_ID="password";id.EMAIL_PASSWORD_SIGN_IN_METHOD="password";id.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends qh{constructor(){super("facebook.com")}static credential(e){return ic._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ic._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends qh{constructor(){super("github.com")}static credential(e){return ic._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.GITHUB_SIGN_IN_METHOD="github.com";Do.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends qh{constructor(){super("twitter.com")}static credential(e,n){return ic._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mo.credential(n,r)}catch{return null}}}Mo.TWITTER_SIGN_IN_METHOD="twitter.com";Mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e){return Fh(t,"POST","/v1/accounts:signUp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await Wa._fromIdTokenResponse(e,r,a),l=iI(r);return new sc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=iI(r);return new sc({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function iI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Gi{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,ty.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new ty(e,n,r,a)}}function H4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ty._fromErrorAndOperation(t,s,e,r):s})}async function RF(t,e,n=!1){const r=await zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e,n=!1){const{auth:r}=t;if(kr(r.app))return Promise.reject(js(r));const a="reauthenticate";try{const s=await zu(t,H4(r,a,e,t),n);De(s.idToken,r,"internal-error");const l=GE(s.idToken);De(l,r,"internal-error");const{sub:d}=l;return De(t.uid===d,r,"user-mismatch"),sc._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Na(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e,n=!1){if(kr(t.app))return Promise.reject(js(t));const r="signIn",a=await H4(t,r,e),s=await sc._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}async function MF(t,e){return G4(rl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t){const e=rl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LF(t,e,n){if(kr(t.app))return Promise.reject(js(t));const r=rl(t),l=await l_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PF).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&K4(t),f}),d=await sc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function UF(t,e,n){return kr(t.app)?Promise.reject(js(t)):MF(jt(t),id.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&K4(t),r})}async function zF(t,e){const n=jt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await NF(n.auth,a);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(t,e){return Ki(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=jt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await zu(r,VF(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function $F(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function BF(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function Hh(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function FF(t){return jt(t).signOut()}const ny="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ny,"1"),this.storage.removeItem(ny),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=1e3,HF=10;class Q4 extends Y4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);iF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,HF):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q4.type="LOCAL";const GF=Q4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4 extends Y4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}X4.type="SESSION";const Z4=X4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new _v(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,l=this.handlersMap[a];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(l).map(async h=>h(n.origin,s)),f=await KF(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_v.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((d,f)=>{const h=XE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(x.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function YF(t){Oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function QF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function ZF(){return J4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="firebaseLocalStorageDb",JF=1,ry="firebaseLocalStorage",tM="fbase_key";class Gh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ev(t,e){return t.transaction([ry],e?"readwrite":"readonly").objectStore(ry)}function eq(){const t=indexedDB.deleteDatabase(eM);return new Gh(t).toPromise()}function c_(){const t=indexedDB.open(eM,JF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ry,{keyPath:tM})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ry)?e(r):(r.close(),await eq(),e(await c_()))})})}async function sI(t,e,n){const r=Ev(t,!0).put({[tM]:e,value:n});return new Gh(r).toPromise()}async function tq(t,e){const n=Ev(t,!1).get(e),r=await new Gh(n).toPromise();return r===void 0?null:r.value}function oI(t,e){const n=Ev(t,!0).delete(e);return new Gh(n).toPromise()}const nq=800,rq=3;class nM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_v._getInstance(ZF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await QF(),!this.activeServiceWorker)return;this.sender=new WF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c_();return await sI(e,ny,"1"),await oI(e,ny),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=Ev(a,!1).getAll();return new Gh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nM.type="LOCAL";const aq=nM;new Bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e){return e?ws(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends WE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iq(t){return G4(t.auth,new ZE(t),t.bypassAuthState)}function sq(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),DF(n,new ZE(t),t.bypassAuthState)}async function oq(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),RF(n,new ZE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iq;case"linkViaPopup":case"linkViaRedirect":return oq;case"reauthViaPopup":case"reauthViaRedirect":return sq;default:Na(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=new Bh(2e3,1e4);async function cq(t,e,n){if(kr(t.app))return Promise.reject(Ya(t,"operation-not-supported-in-this-environment"));const r=rl(t);zB(t,e,QE);const a=rM(r,n);return new Hl(r,"signInViaPopup",e,a).executeNotNull()}class Hl extends aM{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,Hl.currentPopupAction&&Hl.currentPopupAction.cancel(),Hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=XE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ya(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ya(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ya(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lq.get())};e()}}Hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="pendingRedirect",Rg=new Map;class dq extends aM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rg.get(this.auth._key());if(!e){try{const r=await fq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rg.set(this.auth._key(),e)}return this.bypassAuthState||Rg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fq(t,e){const n=pq(e),r=mq(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function hq(t,e){Rg.set(t._key(),e)}function mq(t){return ws(t._redirectPersistence)}function pq(t){return Pg(uq,t.config.apiKey,t.name)}async function gq(t,e,n=!1){if(kr(t.app))return Promise.reject(js(t));const r=rl(t),a=rM(r,e),l=await new dq(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=600*1e3;class vq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iM(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ya(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yq&&this.cachedEventUids.clear(),this.cachedEventUids.has(lI(e))}saveEventToCache(e){this.cachedEventUids.add(lI(e)),this.lastProcessedEventTime=Date.now()}}function lI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(t,e={}){return Ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_q=/^https?/;async function Eq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bq(t);for(const n of e)try{if(Aq(n))return}catch{}Na(t,"unauthorized-domain")}function Aq(t){const e=s_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!_q.test(n))return!1;if(wq.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=new Bh(3e4,6e4);function cI(){const t=Oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jq(t){return new Promise((e,n)=>{var a,s,l;function r(){cI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cI(),n(Ya(t,"network-request-failed"))},timeout:Sq.get()})}if((s=(a=Oi().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=Oi().gapi)!=null&&l.load)r();else{const d=mF("iframefcb");return Oi()[d]=()=>{gapi.load?r():n(Ya(t,"network-request-failed"))},B4(`${hF()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Dg=null,e})}let Dg=null;function Nq(t){return Dg=Dg||jq(t),Dg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=new Bh(5e3,15e3),Cq="__/auth/iframe",Iq="emulator/auth/iframe",Oq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pq(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?HE(e,Iq):`https://${t.config.authDomain}/${Cq}`,r={apiKey:e.apiKey,appName:t.name,v:bc},a=kq.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$h(r).slice(1)}`}async function Rq(t){const e=await Nq(t),n=Oi().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:Pq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oq,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=Ya(t,"network-request-failed"),d=Oi().setTimeout(()=>{s(l)},Tq.get());function f(){Oi().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mq=500,Lq=600,Uq="_blank",zq="http://localhost";class uI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vq(t,e,n,r=Mq,a=Lq){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...Dq,width:r.toString(),height:a.toString(),top:s,left:l},h=cr().toLowerCase();n&&(d=D4(h)?Uq:n),P4(h)&&(e=e||zq,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[w,E])=>`${x}${w}=${E},`,"");if(aF(h)&&d!=="_self")return $q(e||"",d),new uI(null);const g=window.open(e||"",d,p);De(g,t,"popup-blocked");try{g.focus()}catch{}return new uI(g)}function $q(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="__/auth/handler",Fq="emulator/auth/handler",qq=encodeURIComponent("fac");async function dI(t,e,n,r,a,s){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bc,eventId:a};if(e instanceof QE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",S7(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof qh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${qq}=${encodeURIComponent(f)}`:"";return`${Hq(t)}?${$h(d).slice(1)}${h}`}function Hq({config:t}){return t.emulator?HE(t,Fq):`https://${t.authDomain}/${Bq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="webStorageSupport";class Gq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z4,this._completeRedirectFn=gq,this._overrideRedirectResult=hq}async _openPopup(e,n,r,a){var l;ks((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await dI(e,n,r,s_(),a);return Vq(e,s,XE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await dI(e,n,r,s_(),a);return YF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Rq(e),r=new vq(e);return n.register("authEvent",a=>(De(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iw,{type:iw},a=>{var l;const s=(l=a==null?void 0:a[0])==null?void 0:l[iw];s!==void 0&&n(!!s),Na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Eq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V4()||R4()||KE()}}const Kq=Gq;var fI="@firebase/auth",hI="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qq(t){ac(new Ho("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$4(t)},h=new uF(r,a,s,f);return bF(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ac(new Ho("auth-internal",e=>{const n=rl(e.getProvider("auth").getImmediate());return(r=>new Wq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(fI,hI,Yq(t)),Ii(fI,hI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=300,Zq=x4("authIdTokenMaxAge")||Xq;let mI=null;const Jq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zq)return;const a=n==null?void 0:n.token;mI!==a&&(mI=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function sM(t=BE()){const e=bv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xF(t,{popupRedirectResolver:Kq,persistence:[aq,GF,Z4]}),r=x4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=Jq(s.toString());BF(n,l,()=>l(n.currentUser)),$F(n,d=>l(d))}}const a=g4("auth");return a&&wF(n,`http://${a}`),n}function eH(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}dF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=Ya("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",eH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qq("Browser");var tH="firebase",nH="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(tH,nH,"app");var pI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bo,oM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,M){function T(){}T.prototype=M.prototype,N.F=M.prototype,N.prototype=new T,N.prototype.constructor=N,N.D=function(R,L,V){for(var $=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)$[ne-2]=arguments[ne];return M.prototype[L].apply(R,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,M,T){T||(T=0);const R=Array(16);if(typeof M=="string")for(var L=0;L<16;++L)R[L]=M.charCodeAt(T++)|M.charCodeAt(T++)<<8|M.charCodeAt(T++)<<16|M.charCodeAt(T++)<<24;else for(L=0;L<16;++L)R[L]=M[T++]|M[T++]<<8|M[T++]<<16|M[T++]<<24;M=N.g[0],T=N.g[1],L=N.g[2];let V=N.g[3],$;$=M+(V^T&(L^V))+R[0]+3614090360&4294967295,M=T+($<<7&4294967295|$>>>25),$=V+(L^M&(T^L))+R[1]+3905402710&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(T^V&(M^T))+R[2]+606105819&4294967295,L=V+($<<17&4294967295|$>>>15),$=T+(M^L&(V^M))+R[3]+3250441966&4294967295,T=L+($<<22&4294967295|$>>>10),$=M+(V^T&(L^V))+R[4]+4118548399&4294967295,M=T+($<<7&4294967295|$>>>25),$=V+(L^M&(T^L))+R[5]+1200080426&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(T^V&(M^T))+R[6]+2821735955&4294967295,L=V+($<<17&4294967295|$>>>15),$=T+(M^L&(V^M))+R[7]+4249261313&4294967295,T=L+($<<22&4294967295|$>>>10),$=M+(V^T&(L^V))+R[8]+1770035416&4294967295,M=T+($<<7&4294967295|$>>>25),$=V+(L^M&(T^L))+R[9]+2336552879&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(T^V&(M^T))+R[10]+4294925233&4294967295,L=V+($<<17&4294967295|$>>>15),$=T+(M^L&(V^M))+R[11]+2304563134&4294967295,T=L+($<<22&4294967295|$>>>10),$=M+(V^T&(L^V))+R[12]+1804603682&4294967295,M=T+($<<7&4294967295|$>>>25),$=V+(L^M&(T^L))+R[13]+4254626195&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(T^V&(M^T))+R[14]+2792965006&4294967295,L=V+($<<17&4294967295|$>>>15),$=T+(M^L&(V^M))+R[15]+1236535329&4294967295,T=L+($<<22&4294967295|$>>>10),$=M+(L^V&(T^L))+R[1]+4129170786&4294967295,M=T+($<<5&4294967295|$>>>27),$=V+(T^L&(M^T))+R[6]+3225465664&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^T&(V^M))+R[11]+643717713&4294967295,L=V+($<<14&4294967295|$>>>18),$=T+(V^M&(L^V))+R[0]+3921069994&4294967295,T=L+($<<20&4294967295|$>>>12),$=M+(L^V&(T^L))+R[5]+3593408605&4294967295,M=T+($<<5&4294967295|$>>>27),$=V+(T^L&(M^T))+R[10]+38016083&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^T&(V^M))+R[15]+3634488961&4294967295,L=V+($<<14&4294967295|$>>>18),$=T+(V^M&(L^V))+R[4]+3889429448&4294967295,T=L+($<<20&4294967295|$>>>12),$=M+(L^V&(T^L))+R[9]+568446438&4294967295,M=T+($<<5&4294967295|$>>>27),$=V+(T^L&(M^T))+R[14]+3275163606&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^T&(V^M))+R[3]+4107603335&4294967295,L=V+($<<14&4294967295|$>>>18),$=T+(V^M&(L^V))+R[8]+1163531501&4294967295,T=L+($<<20&4294967295|$>>>12),$=M+(L^V&(T^L))+R[13]+2850285829&4294967295,M=T+($<<5&4294967295|$>>>27),$=V+(T^L&(M^T))+R[2]+4243563512&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^T&(V^M))+R[7]+1735328473&4294967295,L=V+($<<14&4294967295|$>>>18),$=T+(V^M&(L^V))+R[12]+2368359562&4294967295,T=L+($<<20&4294967295|$>>>12),$=M+(T^L^V)+R[5]+4294588738&4294967295,M=T+($<<4&4294967295|$>>>28),$=V+(M^T^L)+R[8]+2272392833&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^T)+R[11]+1839030562&4294967295,L=V+($<<16&4294967295|$>>>16),$=T+(L^V^M)+R[14]+4259657740&4294967295,T=L+($<<23&4294967295|$>>>9),$=M+(T^L^V)+R[1]+2763975236&4294967295,M=T+($<<4&4294967295|$>>>28),$=V+(M^T^L)+R[4]+1272893353&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^T)+R[7]+4139469664&4294967295,L=V+($<<16&4294967295|$>>>16),$=T+(L^V^M)+R[10]+3200236656&4294967295,T=L+($<<23&4294967295|$>>>9),$=M+(T^L^V)+R[13]+681279174&4294967295,M=T+($<<4&4294967295|$>>>28),$=V+(M^T^L)+R[0]+3936430074&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^T)+R[3]+3572445317&4294967295,L=V+($<<16&4294967295|$>>>16),$=T+(L^V^M)+R[6]+76029189&4294967295,T=L+($<<23&4294967295|$>>>9),$=M+(T^L^V)+R[9]+3654602809&4294967295,M=T+($<<4&4294967295|$>>>28),$=V+(M^T^L)+R[12]+3873151461&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^T)+R[15]+530742520&4294967295,L=V+($<<16&4294967295|$>>>16),$=T+(L^V^M)+R[2]+3299628645&4294967295,T=L+($<<23&4294967295|$>>>9),$=M+(L^(T|~V))+R[0]+4096336452&4294967295,M=T+($<<6&4294967295|$>>>26),$=V+(T^(M|~L))+R[7]+1126891415&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~T))+R[14]+2878612391&4294967295,L=V+($<<15&4294967295|$>>>17),$=T+(V^(L|~M))+R[5]+4237533241&4294967295,T=L+($<<21&4294967295|$>>>11),$=M+(L^(T|~V))+R[12]+1700485571&4294967295,M=T+($<<6&4294967295|$>>>26),$=V+(T^(M|~L))+R[3]+2399980690&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~T))+R[10]+4293915773&4294967295,L=V+($<<15&4294967295|$>>>17),$=T+(V^(L|~M))+R[1]+2240044497&4294967295,T=L+($<<21&4294967295|$>>>11),$=M+(L^(T|~V))+R[8]+1873313359&4294967295,M=T+($<<6&4294967295|$>>>26),$=V+(T^(M|~L))+R[15]+4264355552&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~T))+R[6]+2734768916&4294967295,L=V+($<<15&4294967295|$>>>17),$=T+(V^(L|~M))+R[13]+1309151649&4294967295,T=L+($<<21&4294967295|$>>>11),$=M+(L^(T|~V))+R[4]+4149444226&4294967295,M=T+($<<6&4294967295|$>>>26),$=V+(T^(M|~L))+R[11]+3174756917&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~T))+R[2]+718787259&4294967295,L=V+($<<15&4294967295|$>>>17),$=T+(V^(L|~M))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(L+($<<21&4294967295|$>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,M){M===void 0&&(M=N.length);const T=M-this.blockSize,R=this.C;let L=this.h,V=0;for(;V<M;){if(L==0)for(;V<=T;)a(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<M;)if(R[L++]=N.charCodeAt(V++),L==this.blockSize){a(this,R),L=0;break}}else for(;V<M;)if(R[L++]=N[V++],L==this.blockSize){a(this,R),L=0;break}}this.h=L,this.o+=M},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var T=N.length-8;T<N.length;++T)N[T]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,T=0;T<4;++T)for(let R=0;R<32;R+=8)N[M++]=this.g[T]>>>R&255;return N};function s(N,M){var T=d;return Object.prototype.hasOwnProperty.call(T,N)?T[N]:T[N]=M(N)}function l(N,M){this.h=M;const T=[];let R=!0;for(let L=N.length-1;L>=0;L--){const V=N[L]|0;R&&V==M||(T[L]=V,R=!1)}this.g=T}var d={};function f(N){return-128<=N&&N<128?s(N,function(M){return new l([M|0],M<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return S(h(-N));const M=[];let T=1;for(let R=0;N>=T;R++)M[R]=N/T|0,T*=4294967296;return new l(M,0)}function p(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return S(p(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=h(Math.pow(M,8));let R=g;for(let V=0;V<N.length;V+=8){var L=Math.min(8,N.length-V);const $=parseInt(N.substring(V,V+L),M);L<8?(L=h(Math.pow(M,L)),R=R.j(L).add(h($))):(R=R.j(T),R=R.add(h($)))}return R}var g=f(0),x=f(1),w=f(16777216);t=l.prototype,t.m=function(){if(A(this))return-S(this).m();let N=0,M=1;for(let T=0;T<this.g.length;T++){const R=this.i(T);N+=(R>=0?R:4294967296+R)*M,M*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(A(this))return"-"+S(this).toString(N);const M=h(Math.pow(N,6));var T=this;let R="";for(;;){const L=C(T,M).g;T=I(T,L.j(M));let V=((T.g.length>0?T.g[0]:T.h)>>>0).toString(N);if(T=L,E(T))return V+R;for(;V.length<6;)V="0"+V;R=V+R}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function A(N){return N.h==-1}t.l=function(N){return N=I(this,N),A(N)?-1:E(N)?0:1};function S(N){const M=N.g.length,T=[];for(let R=0;R<M;R++)T[R]=~N.g[R];return new l(T,~N.h).add(x)}t.abs=function(){return A(this)?S(this):this},t.add=function(N){const M=Math.max(this.g.length,N.g.length),T=[];let R=0;for(let L=0;L<=M;L++){let V=R+(this.i(L)&65535)+(N.i(L)&65535),$=(V>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);R=$>>>16,V&=65535,$&=65535,T[L]=$<<16|V}return new l(T,T[T.length-1]&-2147483648?-1:0)};function I(N,M){return N.add(S(M))}t.j=function(N){if(E(this)||E(N))return g;if(A(this))return A(N)?S(this).j(S(N)):S(S(this).j(N));if(A(N))return S(this.j(S(N)));if(this.l(w)<0&&N.l(w)<0)return h(this.m()*N.m());const M=this.g.length+N.g.length,T=[];for(var R=0;R<2*M;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(let L=0;L<N.g.length;L++){const V=this.i(R)>>>16,$=this.i(R)&65535,ne=N.i(L)>>>16,me=N.i(L)&65535;T[2*R+2*L]+=$*me,U(T,2*R+2*L),T[2*R+2*L+1]+=V*me,U(T,2*R+2*L+1),T[2*R+2*L+1]+=$*ne,U(T,2*R+2*L+1),T[2*R+2*L+2]+=V*ne,U(T,2*R+2*L+2)}for(N=0;N<M;N++)T[N]=T[2*N+1]<<16|T[2*N];for(N=M;N<2*M;N++)T[N]=0;return new l(T,0)};function U(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function k(N,M){this.g=N,this.h=M}function C(N,M){if(E(M))throw Error("division by zero");if(E(N))return new k(g,g);if(A(N))return M=C(S(N),M),new k(S(M.g),S(M.h));if(A(M))return M=C(N,S(M)),new k(S(M.g),M.h);if(N.g.length>30){if(A(N)||A(M))throw Error("slowDivide_ only works with positive integers.");for(var T=x,R=M;R.l(N)<=0;)T=P(T),R=P(R);var L=z(T,1),V=z(R,1);for(R=z(R,2),T=z(T,2);!E(R);){var $=V.add(R);$.l(N)<=0&&(L=L.add(T),V=$),R=z(R,1),T=z(T,1)}return M=I(N,L.j(M)),new k(L,M)}for(L=g;N.l(M)>=0;){for(T=Math.max(1,Math.floor(N.m()/M.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),V=h(T),$=V.j(M);A($)||$.l(N)>0;)T-=R,V=h(T),$=V.j(M);E(V)&&(V=x),L=L.add(V),N=I(N,$)}return new k(L,N)}t.B=function(N){return C(this,N).h},t.and=function(N){const M=Math.max(this.g.length,N.g.length),T=[];for(let R=0;R<M;R++)T[R]=this.i(R)&N.i(R);return new l(T,this.h&N.h)},t.or=function(N){const M=Math.max(this.g.length,N.g.length),T=[];for(let R=0;R<M;R++)T[R]=this.i(R)|N.i(R);return new l(T,this.h|N.h)},t.xor=function(N){const M=Math.max(this.g.length,N.g.length),T=[];for(let R=0;R<M;R++)T[R]=this.i(R)^N.i(R);return new l(T,this.h^N.h)};function P(N){const M=N.g.length+1,T=[];for(let R=0;R<M;R++)T[R]=N.i(R)<<1|N.i(R-1)>>>31;return new l(T,N.h)}function z(N,M){const T=M>>5;M%=32;const R=N.g.length-T,L=[];for(let V=0;V<R;V++)L[V]=M>0?N.i(V+T)>>>M|N.i(V+T+1)<<32-M:N.i(V+T);return new l(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Bo=l}).apply(typeof pI<"u"?pI:typeof self<"u"?self:typeof window<"u"?window:{});var ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lM,Bf,cM,Mg,u_,uM,dM,fM;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof ig=="object"&&ig];for(var j=0;j<y.length;++j){var D=y[j];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function a(y,j){if(j)e:{var D=r;y=y.split(".");for(var F=0;F<y.length-1;F++){var X=y[F];if(!(X in D))break e;D=D[X]}y=y[y.length-1],F=D[y],j=j(F),j!=F&&j!=null&&e(D,y,{configurable:!0,writable:!0,value:j})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(j){var D=[],F;for(F in j)Object.prototype.hasOwnProperty.call(j,F)&&D.push([F,j[F]]);return D}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function d(y){var j=typeof y;return j=="object"&&y!=null||j=="function"}function f(y,j,D){return y.call.apply(y.bind,arguments)}function h(y,j,D){return h=f,h.apply(null,arguments)}function p(y,j){var D=Array.prototype.slice.call(arguments,1);return function(){var F=D.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function g(y,j){function D(){}D.prototype=j.prototype,y.Z=j.prototype,y.prototype=new D,y.prototype.constructor=y,y.Ob=function(F,X,ae){for(var ve=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ve[$e-2]=arguments[$e];return j.prototype[X].apply(F,ve)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const j=y.length;if(j>0){const D=Array(j);for(let F=0;F<j;F++)D[F]=y[F];return D}return[]}function E(y,j){for(let F=1;F<arguments.length;F++){const X=arguments[F];var D=typeof X;if(D=D!="object"?D:X?Array.isArray(X)?"array":D:"null",D=="array"||D=="object"&&typeof X.length=="number"){D=y.length||0;const ae=X.length||0;y.length=D+ae;for(let ve=0;ve<ae;ve++)y[D+ve]=X[ve]}else y.push(X)}}class A{constructor(j,D){this.i=j,this.j=D,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function S(y){l.setTimeout(()=>{throw y},0)}function I(){var y=N;let j=null;return y.g&&(j=y.g,y.g=y.g.next,y.g||(y.h=null),j.next=null),j}class U{constructor(){this.h=this.g=null}add(j,D){const F=k.get();F.set(j,D),this.h?this.h.next=F:this.g=F,this.h=F}}var k=new A(()=>new C,y=>y.reset());class C{constructor(){this.next=this.g=this.h=null}set(j,D){this.h=j,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let P,z=!1,N=new U,M=()=>{const y=Promise.resolve(void 0);P=()=>{y.then(T)}};function T(){for(var y;y=I();){try{y.h.call(y.g)}catch(D){S(D)}var j=k;j.j(y),j.h<100&&(j.h++,y.next=j.g,j.g=y)}z=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(y,j){this.type=y,this.g=this.target=j,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,j=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const D=()=>{};l.addEventListener("test",D,j),l.removeEventListener("test",D,j)}catch{}return y})();function $(y){return/^[\s\xa0]*$/.test(y)}function ne(y,j){L.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,j)}g(ne,L),ne.prototype.init=function(y,j){const D=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=j,j=y.relatedTarget,j||(D=="mouseover"?j=y.fromElement:D=="mouseout"&&(j=y.toElement)),this.relatedTarget=j,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(y,j,D,F,X){this.listener=y,this.proxy=null,this.src=j,this.type=D,this.capture=!!F,this.ha=X,this.key=++Y,this.da=this.fa=!1}function H(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function K(y,j,D){for(const F in y)j.call(D,y[F],F,y)}function se(y,j){for(const D in y)j.call(void 0,y[D],D,y)}function q(y){const j={};for(const D in y)j[D]=y[D];return j}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(y,j){let D,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(D in F)y[D]=F[D];for(let ae=0;ae<re.length;ae++)D=re[ae],Object.prototype.hasOwnProperty.call(F,D)&&(y[D]=F[D])}}function ye(y){this.src=y,this.g={},this.h=0}ye.prototype.add=function(y,j,D,F,X){const ae=y.toString();y=this.g[ae],y||(y=this.g[ae]=[],this.h++);const ve=ke(y,j,F,X);return ve>-1?(j=y[ve],D||(j.fa=!1)):(j=new oe(j,this.src,ae,!!F,X),j.fa=D,y.push(j)),j};function Ce(y,j){const D=j.type;if(D in y.g){var F=y.g[D],X=Array.prototype.indexOf.call(F,j,void 0),ae;(ae=X>=0)&&Array.prototype.splice.call(F,X,1),ae&&(H(j),y.g[D].length==0&&(delete y.g[D],y.h--))}}function ke(y,j,D,F){for(let X=0;X<y.length;++X){const ae=y[X];if(!ae.da&&ae.listener==j&&ae.capture==!!D&&ae.ha==F)return X}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Nt={};function ce(y,j,D,F,X){if(Array.isArray(j)){for(let ae=0;ae<j.length;ae++)ce(y,j[ae],D,F,X);return null}return D=Qs(D),y&&y[me]?y.J(j,D,d(F)?!!F.capture:!1,X):Ue(y,j,D,!1,F,X)}function Ue(y,j,D,F,X,ae){if(!j)throw Error("Invalid event type");const ve=d(X)?!!X.capture:!!X;let $e=Zt(y);if($e||(y[Pe]=$e=new ye(y)),D=$e.add(j,D,F,ve,ae),D.proxy)return D;if(F=He(),D.proxy=F,F.src=y,F.listener=D,y.addEventListener)V||(X=ve),X===void 0&&(X=!1),y.addEventListener(j.toString(),F,X);else if(y.attachEvent)y.attachEvent(Ke(j.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return D}function He(){function y(D){return j.call(y.src,y.listener,D)}const j=An;return y}function ge(y,j,D,F,X){if(Array.isArray(j))for(var ae=0;ae<j.length;ae++)ge(y,j[ae],D,F,X);else F=d(F)?!!F.capture:!!F,D=Qs(D),y&&y[me]?(y=y.i,ae=String(j).toString(),ae in y.g&&(j=y.g[ae],D=ke(j,D,F,X),D>-1&&(H(j[D]),Array.prototype.splice.call(j,D,1),j.length==0&&(delete y.g[ae],y.h--)))):y&&(y=Zt(y))&&(j=y.g[j.toString()],y=-1,j&&(y=ke(j,D,F,X)),(D=y>-1?j[y]:null)&&Xt(D))}function Xt(y){if(typeof y!="number"&&y&&!y.da){var j=y.src;if(j&&j[me])Ce(j.i,y);else{var D=y.type,F=y.proxy;j.removeEventListener?j.removeEventListener(D,F,y.capture):j.detachEvent?j.detachEvent(Ke(D),F):j.addListener&&j.removeListener&&j.removeListener(F),(D=Zt(j))?(Ce(D,y),D.h==0&&(D.src=null,j[Pe]=null)):H(y)}}}function Ke(y){return y in Nt?Nt[y]:Nt[y]="on"+y}function An(y,j){if(y.da)y=!0;else{j=new ne(j,this);const D=y.listener,F=y.ha||y.src;y.fa&&Xt(y),y=D.call(F,j)}return y}function Zt(y){return y=y[Pe],y instanceof ye?y:null}var Ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qs(y){return typeof y=="function"?y:(y[Ur]||(y[Ur]=function(j){return y.handleEvent(j)}),y[Ur])}function ln(){R.call(this),this.i=new ye(this),this.M=this,this.G=null}g(ln,R),ln.prototype[me]=!0,ln.prototype.removeEventListener=function(y,j,D,F){ge(this,y,j,D,F)};function Sn(y,j){var D,F=y.G;if(F)for(D=[];F;F=F.G)D.push(F);if(y=y.M,F=j.type||j,typeof j=="string")j=new L(j,y);else if(j instanceof L)j.target=j.target||y;else{var X=j;j=new L(F,y),pe(j,X)}X=!0;let ae,ve;if(D)for(ve=D.length-1;ve>=0;ve--)ae=j.g=D[ve],X=Xs(ae,F,!0,j)&&X;if(ae=j.g=y,X=Xs(ae,F,!0,j)&&X,X=Xs(ae,F,!1,j)&&X,D)for(ve=0;ve<D.length;ve++)ae=j.g=D[ve],X=Xs(ae,F,!1,j)&&X}ln.prototype.N=function(){if(ln.Z.N.call(this),this.i){var y=this.i;for(const j in y.g){const D=y.g[j];for(let F=0;F<D.length;F++)H(D[F]);delete y.g[j],y.h--}}this.G=null},ln.prototype.J=function(y,j,D,F){return this.i.add(String(y),j,!1,D,F)},ln.prototype.K=function(y,j,D,F){return this.i.add(String(y),j,!0,D,F)};function Xs(y,j,D,F){if(j=y.i.g[String(j)],!j)return!0;j=j.concat();let X=!0;for(let ae=0;ae<j.length;++ae){const ve=j[ae];if(ve&&!ve.da&&ve.capture==D){const $e=ve.listener,en=ve.ha||ve.src;ve.fa&&Ce(y.i,ve),X=$e.call(en,F)!==!1&&X}}return X&&!F.defaultPrevented}function H0(y,j){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:l.setTimeout(y,j||0)}function Tm(y){y.g=H0(()=>{y.g=null,y.i&&(y.i=!1,Tm(y))},y.l);const j=y.h;y.h=null,y.m.apply(null,j)}class dr extends R{constructor(j,D){super(),this.m=j,this.l=D,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Tm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fl(y){R.call(this),this.h=y,this.g={}}g(fl,R);var Sd=[];function jd(y){K(y.g,function(j,D){this.g.hasOwnProperty(D)&&Xt(j)},y),y.g={}}fl.prototype.N=function(){fl.Z.N.call(this),jd(this)},fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=l.JSON.stringify,G0=l.JSON.parse,Cm=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function Im(){}function Om(){}var Pa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hn(){L.call(this,"d")}g(Hn,L);function aa(){L.call(this,"c")}g(aa,L);var Jt={},km=null;function Tc(){return km=km||new ln}Jt.Ia="serverreachability";function Pm(y){L.call(this,Jt.Ia,y)}g(Pm,L);function ii(y){const j=Tc();Sn(j,new Pm(j))}Jt.STAT_EVENT="statevent";function hl(y,j){L.call(this,Jt.STAT_EVENT,y),this.stat=j}g(hl,L);function cn(y){const j=Tc();Sn(j,new hl(j,y))}Jt.Ja="timingevent";function si(y,j){L.call(this,Jt.Ja,y),this.size=j}g(si,L);function oi(y,j){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},j)}function Ra(){this.g=!0}Ra.prototype.ua=function(){this.g=!1};function K0(y,j,D,F,X,ae){y.info(function(){if(y.g)if(ae){var ve="",$e=ae.split("&");for(let ut=0;ut<$e.length;ut++){var en=$e[ut].split("=");if(en.length>1){const Dt=en[0];en=en[1];const la=Dt.split("_");ve=la.length>=2&&la[1]=="type"?ve+(Dt+"="+en+"&"):ve+(Dt+"=redacted&")}}}else ve=null;else ve=ae;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+j+`
`+D+`
`+ve})}function Rm(y,j,D,F,X,ae,ve){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+j+`
`+D+`
`+ae+" "+ve})}function li(y,j,D,F){y.info(function(){return"XMLHTTP TEXT ("+j+"): "+W0(y,D)+(F?" "+F:"")})}function ml(y,j){y.info(function(){return"TIMEOUT: "+j})}Ra.prototype.info=function(){};function W0(y,j){if(!y.g)return j;if(!j)return null;try{const ae=JSON.parse(j);if(ae){for(y=0;y<ae.length;y++)if(Array.isArray(ae[y])){var D=ae[y];if(!(D.length<2)){var F=D[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<F.length;ve++)F[ve]=""}}}}return Zs(ae)}catch{return j}}var pl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Td;function gl(){}g(gl,Im),gl.prototype.g=function(){return new XMLHttpRequest},Td=new gl;function Xi(y){return encodeURIComponent(String(y))}function Dm(y){var j=1;y=y.split(":");const D=[];for(;j>0&&y.length;)D.push(y.shift()),j--;return y.length&&D.push(y.join(":")),D}function Da(y,j,D,F){this.j=y,this.i=j,this.l=D,this.S=F||1,this.V=new fl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ma}function Ma(){this.i=null,this.g="",this.h=!1}var un={},Pn={};function ci(y,j,D){y.M=1,y.A=yl(fn(j)),y.u=D,y.R=!0,Cc(y,null)}function Cc(y,j){y.F=Date.now(),ui(y),y.B=fn(y.A);var D=y.B,F=y.S;Array.isArray(F)||(F=[String(F)]),Pc(D.i,"t",F),y.C=0,D=y.j.L,y.h=new Ma,y.g=Qm(y.j,D?j:null,!y.u),y.P>0&&(y.O=new dr(h(y.Y,y,y.g),y.P)),j=y.V,D=y.g,F=y.ba;var X="readystatechange";Array.isArray(X)||(X&&(Sd[0]=X.toString()),X=Sd);for(let ae=0;ae<X.length;ae++){const ve=ce(D,X[ae],F||j.handleEvent,!1,j.h||j);if(!ve)break;j.g[ve.key]=ve}j=y.J?q(y.J):{},y.u?(y.v||(y.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,j)):(y.v="GET",y.g.ea(y.B,y.v,null,j)),ii(),K0(y.i,y.v,y.B,y.l,y.S,y.u)}Da.prototype.ba=function(y){y=y.target;const j=this.O;j&&za(y)==3?j.j():this.Y(y)},Da.prototype.Y=function(y){try{if(y==this.g)e:{const $e=za(this.g),en=this.g.ya(),ut=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Gn(this.g)))){this.K||$e!=4||en==7||(en==8||ut<=0?ii(3):ii(2)),di(this);var j=this.g.ca();this.X=j;var D=Y0(this);if(this.o=j==200,Rm(this.i,this.v,this.B,this.l,this.S,$e,j),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(F)){var ae=F;break t}}ae=null}if(y=ae)li(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,y);else{this.o=!1,this.m=3,cn(12),zr(this),ia(this);break e}}if(this.R){y=!0;let Dt;for(;!this.K&&this.C<D.length;)if(Dt=Lm(this,D),Dt==Pn){$e==4&&(this.m=4,cn(14),y=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==un){this.m=4,cn(15),li(this.i,this.l,D,"[Invalid Chunk]"),y=!1;break}else li(this.i,this.l,Dt,null),fi(this,Dt);if(Mm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||D.length!=0||this.h.h||(this.m=1,cn(16),y=!1),this.o=this.o&&y,!y)li(this.i,this.l,D,"[Invalid Chunked Response]"),zr(this),ia(this);else if(D.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),Fd(ve),ve.P=!0,cn(11))}}else li(this.i,this.l,D,null),fi(this,D);$e==4&&zr(this),this.o&&!this.K&&($e==4?Gm(this.j,this):(this.o=!1,ui(this)))}else Ji(this.g),j==400&&D.indexOf("Unknown SID")>0?(this.m=3,cn(12)):(this.m=0,cn(13)),zr(this),ia(this)}}}catch{}finally{}};function Y0(y){if(!Mm(y))return y.g.la();const j=Gn(y.g);if(j==="")return"";let D="";const F=j.length,X=za(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return zr(y),ia(y),"";y.h.i=new l.TextDecoder}for(let ae=0;ae<F;ae++)y.h.h=!0,D+=y.h.i.decode(j[ae],{stream:!(X&&ae==F-1)});return j.length=0,y.h.g+=D,y.C=0,y.h.g}function Mm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Lm(y,j){var D=y.C,F=j.indexOf(`
`,D);return F==-1?Pn:(D=Number(j.substring(D,F)),isNaN(D)?un:(F+=1,F+D>j.length?Pn:(j=j.slice(F,F+D),y.C=F+D,j)))}Da.prototype.cancel=function(){this.K=!0,zr(this)};function ui(y){y.T=Date.now()+y.H,Ic(y,y.H)}function Ic(y,j){if(y.D!=null)throw Error("WatchDog timer not null");y.D=oi(h(y.aa,y),j)}function di(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Da.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(ml(this.i,this.B),this.M!=2&&(ii(),cn(17)),zr(this),this.m=2,ia(this)):Ic(this,this.T-y)};function ia(y){y.j.I==0||y.K||Gm(y.j,y)}function zr(y){di(y);var j=y.O;j&&typeof j.dispose=="function"&&j.dispose(),y.O=null,jd(y.V),y.g&&(j=y.g,y.g=null,j.abort(),j.dispose())}function fi(y,j){try{var D=y.j;if(D.I!=0&&(D.g==y||mi(D.h,y))){if(!y.L&&mi(D.h,y)&&D.I==3){try{var F=D.Ba.g.parse(j)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<y.F)Uc(D),so(D);else break e;Al(D),cn(18)}}else D.xa=X[1],0<D.xa-D.K&&X[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=oi(h(D.Va,D),6e3));hi(D.h)<=1&&D.ta&&(D.ta=void 0)}else bi(D,11)}else if((y.L||D.g==y)&&Uc(D),!$(j))for(X=D.Ba.g.parse(j),j=0;j<X.length;j++){let ut=X[j];const Dt=ut[0];if(!(Dt<=D.K))if(D.K=Dt,ut=ut[1],D.I==2)if(ut[0]=="c"){D.M=ut[1],D.ba=ut[2];const la=ut[3];la!=null&&(D.ka=la,D.j.info("VER="+D.ka));const wi=ut[4];wi!=null&&(D.za=wi,D.j.info("SVER="+D.za));const Va=ut[5];Va!=null&&typeof Va=="number"&&Va>0&&(F=1.5*Va,D.O=F,D.j.info("backChannelRequestTimeoutMs_="+F)),F=D;const $a=y.g;if($a){const Sl=$a.g?$a.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sl){var ae=F.h;ae.g||Sl.indexOf("spdy")==-1&&Sl.indexOf("quic")==-1&&Sl.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Od(ae,ae.h),ae.h=null))}if(F.G){const zc=$a.g?$a.g.getResponseHeader("X-HTTP-Session-Id"):null;zc&&(F.wa=zc,mt(F.J,F.G,zc))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-y.F,D.j.info("Handshake RTT: "+D.T+"ms")),F=D;var ve=y;if(F.na=Ym(F,F.L?F.ba:null,F.W),ve.L){kd(F.h,ve);var $e=ve,en=F.O;en&&($e.H=en),$e.D&&(di($e),ui($e)),F.g=ve}else qm(F);D.i.length>0&&xi(D)}else ut[0]!="stop"&&ut[0]!="close"||bi(D,7);else D.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?bi(D,7):$d(D):ut[0]!="noop"&&D.l&&D.l.qa(ut),D.A=0)}}ii(4)}catch{}}var dn=class{constructor(y,j){this.g=y,this.map=j}};function Cd(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Id(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function hi(y){return y.h?1:y.g?y.g.size:0}function mi(y,j){return y.h?y.h==j:y.g?y.g.has(j):!1}function Od(y,j){y.g?y.g.add(j):y.h=j}function kd(y,j){y.h&&y.h==j?y.h=null:y.g&&y.g.has(j)&&y.g.delete(j)}Cd.prototype.cancel=function(){if(this.i=Pd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Pd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let j=y.i;for(const D of y.g.values())j=j.concat(D.G);return j}return w(y.i)}var Um=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(y,j){if(y){y=y.split("&");for(let D=0;D<y.length;D++){const F=y[D].indexOf("=");let X,ae=null;F>=0?(X=y[D].substring(0,F),ae=y[D].substring(F+1)):X=y[D],j(X,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Vr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;y instanceof Vr?(this.l=y.l,Rn(this,y.j),this.o=y.o,this.g=y.g,Js(this,y.u),this.h=y.h,Rd(this,Bm(y.i)),this.m=y.m):y&&(j=String(y).match(Um))?(this.l=!1,Rn(this,j[1]||"",!0),this.o=pi(j[2]||""),this.g=pi(j[3]||"",!0),Js(this,j[4]),this.h=pi(j[5]||"",!0),Rd(this,j[6]||"",!0),this.m=pi(j[7]||"")):(this.l=!1,this.i=new to(null,this.l))}Vr.prototype.toString=function(){const y=[];var j=this.j;j&&y.push(vl(j,kc,!0),":");var D=this.g;return(D||j=="file")&&(y.push("//"),(j=this.o)&&y.push(vl(j,kc,!0),"@"),y.push(Xi(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&y.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&y.push("/"),y.push(vl(D,D.charAt(0)=="/"?Dd:zm,!0))),(D=this.i.toString())&&y.push("?",D),(D=this.m)&&y.push("#",vl(D,Vm)),y.join("")},Vr.prototype.resolve=function(y){const j=fn(this);let D=!!y.j;D?Rn(j,y.j):D=!!y.o,D?j.o=y.o:D=!!y.g,D?j.g=y.g:D=y.u!=null;var F=y.h;if(D)Js(j,y.u);else if(D=!!y.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=j.h.lastIndexOf("/");X!=-1&&(F=j.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const ae=[];for(let ve=0;ve<X.length;){const $e=X[ve++];$e=="."?F&&ve==X.length&&ae.push(""):$e==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),F&&ve==X.length&&ae.push("")):(ae.push($e),F=!0)}F=ae.join("/")}else F=X}return D?j.h=F:D=y.i.toString()!=="",D?Rd(j,Bm(y.i)):D=!!y.m,D&&(j.m=y.m),j};function fn(y){return new Vr(y)}function Rn(y,j,D){y.j=D?pi(j,!0):j,y.j&&(y.j=y.j.replace(/:$/,""))}function Js(y,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);y.u=j}else y.u=null}function Rd(y,j,D){j instanceof to?(y.i=j,Rc(y.i,y.l)):(D||(j=vl(j,eo)),y.i=new to(j,y.l))}function mt(y,j,D){y.i.set(j,D)}function yl(y){return mt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function pi(y,j){return y?j?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function vl(y,j,D){return typeof y=="string"?(y=encodeURI(y).replace(j,Er),D&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Er(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var kc=/[#\/\?@]/g,zm=/[#\?:]/g,Dd=/[#\?]/g,eo=/[#\?@]/g,Vm=/#/g;function to(y,j){this.h=this.g=null,this.i=y||null,this.j=!!j}function Ar(y){y.g||(y.g=new Map,y.h=0,y.i&&Oc(y.i,function(j,D){y.add(decodeURIComponent(j.replace(/\+/g," ")),D)}))}t=to.prototype,t.add=function(y,j){Ar(this),this.i=null,y=no(this,y);let D=this.g.get(y);return D||this.g.set(y,D=[]),D.push(j),this.h+=1,this};function $m(y,j){Ar(y),j=no(y,j),y.g.has(j)&&(y.i=null,y.h-=y.g.get(j).length,y.g.delete(j))}function Md(y,j){return Ar(y),j=no(y,j),y.g.has(j)}t.forEach=function(y,j){Ar(this),this.g.forEach(function(D,F){D.forEach(function(X){y.call(j,X,F,this)},this)},this)};function Ld(y,j){Ar(y);let D=[];if(typeof j=="string")Md(y,j)&&(D=D.concat(y.g.get(no(y,j))));else for(y=Array.from(y.g.values()),j=0;j<y.length;j++)D=D.concat(y[j]);return D}t.set=function(y,j){return Ar(this),this.i=null,y=no(this,y),Md(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[j]),this.h+=1,this},t.get=function(y,j){return y?(y=Ld(this,y),y.length>0?String(y[0]):j):j};function Pc(y,j,D){$m(y,j),D.length>0&&(y.i=null,y.g.set(no(y,j),w(D)),y.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],j=Array.from(this.g.keys());for(let F=0;F<j.length;F++){var D=j[F];const X=Xi(D);D=Ld(this,D);for(let ae=0;ae<D.length;ae++){let ve=X;D[ae]!==""&&(ve+="="+Xi(D[ae])),y.push(ve)}}return this.i=y.join("&")};function Bm(y){const j=new to;return j.i=y.i,y.g&&(j.g=new Map(y.g),j.h=y.h),j}function no(y,j){return j=String(j),y.j&&(j=j.toLowerCase()),j}function Rc(y,j){j&&!y.j&&(Ar(y),y.i=null,y.g.forEach(function(D,F){const X=F.toLowerCase();F!=X&&($m(this,F),Pc(this,X,D))},y)),y.j=j}function La(y,j){const D=new Ra;if(l.Image){const F=new Image;F.onload=p(sa,D,"TestLoadImage: loaded",!0,j,F),F.onerror=p(sa,D,"TestLoadImage: error",!1,j,F),F.onabort=p(sa,D,"TestLoadImage: abort",!1,j,F),F.ontimeout=p(sa,D,"TestLoadImage: timeout",!1,j,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else j(!1)}function Ud(y,j){const D=new Ra,F=new AbortController,X=setTimeout(()=>{F.abort(),sa(D,"TestPingServer: timeout",!1,j)},1e4);fetch(y,{signal:F.signal}).then(ae=>{clearTimeout(X),ae.ok?sa(D,"TestPingServer: ok",!0,j):sa(D,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(X),sa(D,"TestPingServer: error",!1,j)})}function sa(y,j,D,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(D)}catch{}}function ro(){this.g=new Cm}function gi(y){this.i=y.Sb||null,this.h=y.ab||!1}g(gi,Im),gi.prototype.g=function(){return new xl(this.i,this.h)};function xl(y,j){ln.call(this),this.H=y,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(xl,ln),t=xl.prototype,t.open=function(y,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=j,this.readyState=1,Ua(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(j.body=y),(this.H||l).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var j=y.value?y.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!y.done}))&&(this.response=this.responseText+=j)}y.done?ao(this):Ua(this),this.readyState==3&&Dc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ao(this))},t.Na=function(y){this.g&&(this.response=y,ao(this))},t.ga=function(){this.g&&ao(this)};function ao(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ua(y)}t.setRequestHeader=function(y,j){this.A.append(y,j)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],j=this.h.entries();for(var D=j.next();!D.done;)D=D.value,y.push(D[0]+": "+D[1]),D=j.next();return y.join(`\r
`)};function Ua(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function oa(y){let j="";return K(y,function(D,F){j+=F,j+=":",j+=D,j+=`\r
`}),j}function bl(y,j,D){e:{for(F in D){var F=!1;break e}F=!0}F||(D=oa(D),typeof y=="string"?D!=null&&Xi(D):mt(y,j,D))}function xt(y){ln.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(xt,ln);var yi=/^https?$/i,zd=["POST","PUT"];t=xt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,j,D,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);j=j?j.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Td.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(j,String(y),!0),this.B=!1}catch(ae){wl(this,ae);return}if(y=D||"",D=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)D.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ae of F.keys())D.set(ae,F.get(ae));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(D.keys()).find(ae=>ae.toLowerCase()=="content-type"),X=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(zd,j,void 0)>=0)||F||X||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ve]of D)this.g.setRequestHeader(ae,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ae){wl(this,ae)}};function wl(y,j){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=j,y.o=5,Vd(y),Zi(y)}function Vd(y){y.A||(y.A=!0,Sn(y,"complete"),Sn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Sn(this,"complete"),Sn(this,"abort"),Zi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),xt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},t.Xa=function(){_l(this)};function _l(y){if(y.h&&typeof s<"u"){if(y.v&&za(y)==4)setTimeout(y.Ca.bind(y),0);else if(Sn(y,"readystatechange"),za(y)==4){y.h=!1;try{const ae=y.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var D;if(!(D=j)){var F;if(F=ae===0){let ve=String(y.D).match(Um)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),F=!yi.test(ve?ve.toLowerCase():"")}D=F}if(D)Sn(y,"complete"),Sn(y,"success");else{y.o=6;try{var X=za(y)>2?y.g.statusText:""}catch{X=""}y.l=X+" ["+y.ca()+"]",Vd(y)}}finally{Zi(y)}}}}function Zi(y,j){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const D=y.g;y.g=null,j||Sn(y,"ready");try{D.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function za(y){return y.g?y.g.readyState:0}t.ca=function(){try{return za(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var j=this.g.responseText;return y&&j.indexOf(y)==0&&(j=j.substring(y.length)),G0(j)}};function Gn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(y){const j={};y=(y.g&&za(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if($(y[F]))continue;var D=Dm(y[F]);const X=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ae=j[X]||[];j[X]=ae,ae.push(D)}se(j,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(y,j,D){return D&&D.internalChannelParams&&D.internalChannelParams[y]||j}function io(y){this.za=0,this.i=[],this.j=new Ra,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,y),this.Za=vi("retryDelaySeedMs",1e4,y),this.Ta=vi("forwardChannelMaxRetries",2,y),this.va=vi("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Cd(y&&y.concurrentRequestLimit),this.Ba=new ro,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=io.prototype,t.ka=8,t.I=1,t.connect=function(y,j,D,F){cn(0),this.W=y,this.H=j||{},D&&F!==void 0&&(this.H.OSID=D,this.H.OAID=F),this.F=this.X,this.J=Ym(this,null,this.W),xi(this)};function $d(y){if(Mc(y),y.I==3){var j=y.V++,D=fn(y.J);if(mt(D,"SID",y.M),mt(D,"RID",j),mt(D,"TYPE","terminate"),El(y,D),j=new Da(y,y.j,j),j.M=2,j.A=yl(fn(D)),D=!1,l.navigator&&l.navigator.sendBeacon)try{D=l.navigator.sendBeacon(j.A.toString(),"")}catch{}!D&&l.Image&&(new Image().src=j.A,D=!0),D||(j.g=Qm(j.j,null),j.g.ea(j.A)),j.F=Date.now(),ui(j)}Wm(y)}function so(y){y.g&&(Fd(y),y.g.cancel(),y.g=null)}function Mc(y){so(y),y.v&&(l.clearTimeout(y.v),y.v=null),Uc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function xi(y){if(!Id(y.h)&&!y.m){y.m=!0;var j=y.Ea;P||M(),z||(P(),z=!0),N.add(j,y),y.D=0}}function Lc(y,j){return hi(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=j.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=oi(h(y.Ea,y,j),Km(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const X=new Da(this,this.j,y);let ae=this.o;if(this.U&&(ae?(ae=q(ae),pe(ae,this.U)):ae=this.U),this.u!==null||this.R||(X.J=ae,ae=null),this.S)e:{for(var j=0,D=0;D<this.i.length;D++){t:{var F=this.i[D];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(j+=F,j>4096){j=D;break e}if(j===4096||D===this.i.length-1){j=D+1;break e}}j=1e3}else j=1e3;j=Fm(this,X,j),D=fn(this.J),mt(D,"RID",y),mt(D,"CVER",22),this.G&&mt(D,"X-HTTP-Session-Id",this.G),El(this,D),ae&&(this.R?j="headers="+Xi(oa(ae))+"&"+j:this.u&&bl(D,this.u,ae)),Od(this.h,X),this.Ra&&mt(D,"TYPE","init"),this.S?(mt(D,"$req",j),mt(D,"SID","null"),X.U=!0,ci(X,D,null)):ci(X,D,j),this.I=2}}else this.I==3&&(y?Bd(this,y):this.i.length==0||Id(this.h)||Bd(this))};function Bd(y,j){var D;j?D=j.l:D=y.V++;const F=fn(y.J);mt(F,"SID",y.M),mt(F,"RID",D),mt(F,"AID",y.K),El(y,F),y.u&&y.o&&bl(F,y.u,y.o),D=new Da(y,y.j,D,y.D+1),y.u===null&&(D.J=y.o),j&&(y.i=j.G.concat(y.i)),j=Fm(y,D,1e3),D.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Od(y.h,D),ci(D,F,j)}function El(y,j){y.H&&K(y.H,function(D,F){mt(j,F,D)}),y.l&&K({},function(D,F){mt(j,F,D)})}function Fm(y,j,D){D=Math.min(y.i.length,D);const F=y.l?h(y.l.Ka,y.l,y):null;e:{var X=y.i;let $e=-1;for(;;){const en=["count="+D];$e==-1?D>0?($e=X[0].g,en.push("ofs="+$e)):$e=0:en.push("ofs="+$e);let ut=!0;for(let Dt=0;Dt<D;Dt++){var ae=X[Dt].g;const la=X[Dt].map;if(ae-=$e,ae<0)$e=Math.max(0,X[Dt].g-100),ut=!1;else try{ae="req"+ae+"_"||"";try{var ve=la instanceof Map?la:Object.entries(la);for(const[wi,Va]of ve){let $a=Va;d(Va)&&($a=Zs(Va)),en.push(ae+wi+"="+encodeURIComponent($a))}}catch(wi){throw en.push(ae+"type="+encodeURIComponent("_badmap")),wi}}catch{F&&F(la)}}if(ut){ve=en.join("&");break e}}ve=void 0}return y=y.i.splice(0,D),j.G=y,ve}function qm(y){if(!y.g&&!y.v){y.Y=1;var j=y.Da;P||M(),z||(P(),z=!0),N.add(j,y),y.A=0}}function Al(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=oi(h(y.Da,y),Km(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Hm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=oi(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,cn(10),so(this),Hm(this))};function Fd(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function Hm(y){y.g=new Da(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var j=fn(y.na);mt(j,"RID","rpc"),mt(j,"SID",y.M),mt(j,"AID",y.K),mt(j,"CI",y.F?"0":"1"),!y.F&&y.ia&&mt(j,"TO",y.ia),mt(j,"TYPE","xmlhttp"),El(y,j),y.u&&y.o&&bl(j,y.u,y.o),y.O&&(y.g.H=y.O);var D=y.g;y=y.ba,D.M=1,D.A=yl(fn(j)),D.u=null,D.R=!0,Cc(D,y)}t.Va=function(){this.C!=null&&(this.C=null,so(this),Al(this),cn(19))};function Uc(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function Gm(y,j){var D=null;if(y.g==j){Uc(y),Fd(y),y.g=null;var F=2}else if(mi(y.h,j))D=j.G,kd(y.h,j),F=1;else return;if(y.I!=0){if(j.o)if(F==1){D=j.u?j.u.length:0,j=Date.now()-j.F;var X=y.D;F=Tc(),Sn(F,new si(F,D)),xi(y)}else qm(y);else if(X=j.m,X==3||X==0&&j.X>0||!(F==1&&Lc(y,j)||F==2&&Al(y)))switch(D&&D.length>0&&(j=y.h,j.i=j.i.concat(D)),X){case 1:bi(y,5);break;case 4:bi(y,10);break;case 3:bi(y,6);break;default:bi(y,2)}}}function Km(y,j){let D=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(D*=2),D*j}function bi(y,j){if(y.j.info("Error code "+j),j==2){var D=h(y.bb,y),F=y.Ua;const X=!F;F=new Vr(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rn(F,"https"),yl(F),X?La(F.toString(),D):Ud(F.toString(),D)}else cn(2);y.I=0,y.l&&y.l.pa(j),Wm(y),Mc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function Wm(y){if(y.I=0,y.ja=[],y.l){const j=Pd(y.h);(j.length!=0||y.i.length!=0)&&(E(y.ja,j),E(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function Ym(y,j,D){var F=D instanceof Vr?fn(D):new Vr(D);if(F.g!="")j&&(F.g=j+"."+F.g),Js(F,F.u);else{var X=l.location;F=X.protocol,j=j?j+"."+X.hostname:X.hostname,X=+X.port;const ae=new Vr(null);F&&Rn(ae,F),j&&(ae.g=j),X&&Js(ae,X),D&&(ae.h=D),F=ae}return D=y.G,j=y.wa,D&&j&&mt(F,D,j),mt(F,"VER",y.ka),El(y,F),F}function Qm(y,j,D){if(j&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=y.Aa&&!y.ma?new xt(new gi({ab:D})):new xt(y.ma),j.Fa(y.L),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xm(){}t=Xm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function oo(){}oo.prototype.g=function(y,j){return new fr(y,j)};function fr(y,j){ln.call(this),this.g=new io(j),this.l=y,this.h=j&&j.messageUrlParams||null,y=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(y?y["X-WebChannel-Content-Type"]=j.messageContentType:y={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(y?y["X-WebChannel-Client-Profile"]=j.sa:y={"X-WebChannel-Client-Profile":j.sa}),this.g.U=y,(y=j&&j.Qb)&&!$(y)&&(this.g.u=y),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!$(j)&&(this.g.G=j,y=this.h,y!==null&&j in y&&(y=this.h,j in y&&delete y[j])),this.j=new es(this)}g(fr,ln),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){$d(this.g)},fr.prototype.o=function(y){var j=this.g;if(typeof y=="string"){var D={};D.__data__=y,y=D}else this.v&&(D={},D.__data__=Zs(y),y=D);j.i.push(new dn(j.Ya++,y)),j.I==3&&xi(j)},fr.prototype.N=function(){this.g.l=null,delete this.j,$d(this.g),delete this.g,fr.Z.N.call(this)};function Zm(y){Hn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var j=y.__sm__;if(j){e:{for(const D in j){y=D;break e}y=void 0}(this.i=y)&&(y=this.i,j=j!==null&&y in j?j[y]:void 0),this.data=j}else this.data=y}g(Zm,Hn);function Jm(){aa.call(this),this.status=1}g(Jm,aa);function es(y){this.g=y}g(es,Xm),es.prototype.ra=function(){Sn(this.g,"a")},es.prototype.qa=function(y){Sn(this.g,new Zm(y))},es.prototype.pa=function(y){Sn(this.g,new Jm)},es.prototype.oa=function(){Sn(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,fM=function(){return new oo},dM=function(){return Tc()},uM=Jt,u_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,Mg=pl,Nd.COMPLETE="complete",cM=Nd,Om.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",ln.prototype.listen=ln.prototype.J,Bf=Om,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,lM=xt}).apply(typeof ig<"u"?ig:typeof self<"u"?self:typeof window<"u"?window:{});const gI="@firebase/firestore",yI="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ar=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new VE("@firebase/firestore");function xu(){return oc.logLevel}function Ee(t,...e){if(oc.logLevel<=Je.DEBUG){const n=e.map(JE);oc.debug(`Firestore (${sd}): ${t}`,...n)}}function Ps(t,...e){if(oc.logLevel<=Je.ERROR){const n=e.map(JE);oc.error(`Firestore (${sd}): ${t}`,...n)}}function Vu(t,...e){if(oc.logLevel<=Je.WARN){const n=e.map(JE);oc.warn(`Firestore (${sd}): ${t}`,...n)}}function JE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hM(t,r,n)}function hM(t,e,n){let r=`FIRESTORE (${sd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ps(r),new Error(r)}function ht(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||hM(e,a,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ar.UNAUTHENTICATED)))}shutdown(){}}class aH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iH{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ns,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ns)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new mM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new ar(e)}}class sH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=s=>{s.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=cH(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function d_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return sw(a)===sw(s)?et(a,s):sw(a)?1:-1}return et(t.length,e.length)}const uH=55296,dH=57343;function sw(t){const e=t.charCodeAt(0);return e>=uH&&e<=dH}function $u(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="__name__";class ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=ji.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return et(e.length,n.length)}static compareSegments(e,n){const r=ji.isNumericId(e),a=ji.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ji.extractNumericId(e).compare(ji.extractNumericId(n)):d_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bo.fromString(e.substring(4,e.length-2))}}class Ct extends ji{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const fH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends ji{construct(e,n,r){return new Jn(e,n,r)}static isValidIdentifier(e){return fH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xI}static keyField(){return new Jn([xI])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new we(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(l=!l,a++):d!=="."||l?(r+=d,a++):(s(),a++)}if(s(),l)throw new we(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(n)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Ct.fromString(e))}static fromName(e){return new Oe(Ct.fromString(e).popFirst(5))}static empty(){return new Oe(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e,n){if(!n)throw new we(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hH(t,e,n,r){if(e===!0&&r===!0)throw new we(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bI(t){if(!Oe.isDocumentKey(t))throw new we(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wI(t){if(Oe.isDocumentKey(t))throw new we(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Av(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Ja(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Av(t);throw new we(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mH(t,e){if(e<=0)throw new we(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kh(t,e){if(!gM(t))throw new we(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new we(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=-62135596800,EI=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EI);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_I)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EI}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kh(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_I;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:bn("string",at._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new at(0,0))}static max(){return new Le(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=-1;function pH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Go(a,Oe.empty(),e)}function gH(t){return new Go(t.readTime,t.key,ch)}class Go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Go(Le.min(),Oe.empty(),ch)}static max(){return new Go(Le.max(),Oe.empty(),ch)}}function yH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==vH)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let a=0,s=0,l=!1;e.forEach((d=>{++a,d.next((()=>{++s,l&&s===a&&n()}),(f=>r(f)))})),l=!0,s===a&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((a=>a?he.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,a)=>{const s=e.length,l=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++d,d===s&&r(l)}),(p=>a(p)))}}))}static doWhile(e,n){return new he(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function bH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ld(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=-1;function jv(t){return t==null}function ay(t){return t===0&&1/t==-1/0}function wH(t){return typeof t=="number"&&Number.isInteger(t)&&!ay(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="";function _H(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AI(e)),e=EH(t.get(n),e);return AI(e)}function EH(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case yM:n+="";break;default:n+=s}}return n}function AI(t){return t+yM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sg(this.root,e,this.comparator,!1)}getReverseIterator(){return new sg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sg(this.root,e,this.comparator,!0)}}class sg{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=a??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new Zn(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jI(this.data.getIterator())}getIteratorFrom(e){return new jI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class jI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new Xr([])}unionWith(e){let n=new Tn(Jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $u(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xM("Invalid base64 string: "+s):s}})(e);return new er(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s})(e);return new er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const AH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ko(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=AH.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wo(t){return typeof t=="string"?er.fromBase64String(t):er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="server_timestamp",wM="__type__",_M="__previous_value__",EM="__local_write_time__";function nA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wM])==null?void 0:r.stringValue)===bM}function Nv(t){const e=t.mapValue.fields[_M];return nA(e)?Nv(e):e}function uh(t){const e=Ko(t.mapValue.fields[EM].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,n,r,a,s,l,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const iy="(default)";class dh{constructor(e,n){this.projectId=e,this.database=n||iy}static empty(){return new dh("","")}get isDefaultDatabase(){return this.database===iy}isEqual(e){return e instanceof dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="__type__",jH="__max__",og={mapValue:{}},SM="__vector__",sy="value";function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nA(t)?4:TH(t)?9007199254740991:NH(t)?10:11:Me(28295,{value:t})}function Ui(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uh(t).isEqual(uh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=Ko(a.timestampValue),d=Ko(s.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Wo(a.bytesValue).isEqual(Wo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return an(a.geoPointValue.latitude)===an(s.geoPointValue.latitude)&&an(a.geoPointValue.longitude)===an(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return an(a.integerValue)===an(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=an(a.doubleValue),d=an(s.doubleValue);return l===d?ay(l)===ay(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return $u(t.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(a,s){const l=a.mapValue.fields||{},d=s.mapValue.fields||{};if(SI(l)!==SI(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!Ui(l[f],d[f])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function fh(t,e){return(t.values||[]).find((n=>Ui(n,e)))!==void 0}function Bu(t,e){if(t===e)return 0;const n=Yo(t),r=Yo(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const d=an(s.integerValue||s.doubleValue),f=an(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return NI(t.timestampValue,e.timestampValue);case 4:return NI(uh(t),uh(e));case 5:return d_(t.stringValue,e.stringValue);case 6:return(function(s,l){const d=Wo(s),f=Wo(l);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const d=s.split("/"),f=l.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=et(d[h],f[h]);if(p!==0)return p}return et(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const d=et(an(s.latitude),an(l.latitude));return d!==0?d:et(an(s.longitude),an(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TI(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var x,w,E,A;const d=s.fields||{},f=l.fields||{},h=(x=d[sy])==null?void 0:x.arrayValue,p=(w=f[sy])==null?void 0:w.arrayValue,g=et(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((A=p==null?void 0:p.values)==null?void 0:A.length)||0);return g!==0?g:TI(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===og.mapValue&&l===og.mapValue)return 0;if(s===og.mapValue)return 1;if(l===og.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=d_(f[g],p[g]);if(x!==0)return x;const w=Bu(d[f[g]],h[p[g]]);if(w!==0)return w}return et(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function NI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Ko(t),r=Ko(e),a=et(n.seconds,r.seconds);return a!==0?a:et(n.nanos,r.nanos)}function TI(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Bu(n[a],r[a]);if(s)return s}return et(n.length,r.length)}function Fu(t){return f_(t)}function f_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ko(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Oe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=f_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${f_(n.fields[l])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Lg(t){switch(Yo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nv(t);return e?16+Lg(e):16;case 5:return 2*t.stringValue.length;case 6:return Wo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+Lg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return al(r.fields,((s,l)=>{a+=s.length+Lg(l)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function CI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function h_(t){return!!t&&"integerValue"in t}function rA(t){return!!t&&"arrayValue"in t}function II(t){return!!t&&"nullValue"in t}function OI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ug(t){return!!t&&"mapValue"in t}function NH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[AM])==null?void 0:r.stringValue)===SM}function Zf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return al(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return{...t}}function TH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ug(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=Jn.emptyPath(),r={},a=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}l?r[d.lastSegment()]=Zf(l):a.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());Ug(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Ug(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){al(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new Pr(Zf(this.value))}}function jM(t){const e=[];return al(t.fields,((n,r)=>{const a=new Jn([n]);if(Ug(r)){const s=jM(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)})),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r,a,s,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new ir(e,0,Le.min(),Le.min(),Le.min(),Pr.empty(),0)}static newFoundDocument(e,n,r,a){return new ir(e,1,n,Le.min(),r,a,0)}static newNoDocument(e,n){return new ir(e,2,n,Le.min(),Le.min(),Pr.empty(),0)}static newUnknownDocument(e,n){return new ir(e,3,n,Le.min(),Le.min(),Pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.position=e,this.inclusive=n}}function kI(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],l=t.position[a];if(s.field.isKeyField()?r=Oe.comparator(Oe.fromName(l.referenceValue),n.key):r=Bu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function CH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{}class xn extends NM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OH(e,n,r):n==="array-contains"?new RH(e,r):n==="in"?new DH(e,r):n==="not-in"?new MH(e,r):n==="array-contains-any"?new LH(e,r):new xn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kH(e,r):new PH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bu(n,this.value)):n!==null&&Yo(this.value)===Yo(n)&&this.matchesComparison(Bu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends NM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ei(e,n)}matches(e){return TM(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TM(t){return t.op==="and"}function CM(t){return IH(t)&&TM(t)}function IH(t){for(const e of t.filters)if(e instanceof ei)return!1;return!0}function m_(t){if(t instanceof xn)return t.field.canonicalString()+t.op.toString()+Fu(t.value);if(CM(t))return t.filters.map((e=>m_(e))).join(",");{const e=t.filters.map((n=>m_(n))).join(",");return`${t.op}(${e})`}}function IM(t,e){return t instanceof xn?(function(r,a){return a instanceof xn&&r.op===a.op&&r.field.isEqual(a.field)&&Ui(r.value,a.value)})(t,e):t instanceof ei?(function(r,a){return a instanceof ei&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,l,d)=>s&&IM(l,a.filters[d])),!0):!1})(t,e):void Me(19439)}function OM(t){return t instanceof xn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fu(n.value)}`})(t):t instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(OM).join(" ,")+"}"})(t):"Filter"}class OH extends xn{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class kH extends xn{constructor(e,n){super(e,"in",n),this.keys=kM("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class PH extends xn{constructor(e,n){super(e,"not-in",n),this.keys=kM("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Oe.fromName(r.referenceValue)))}class RH extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rA(n)&&fh(n.arrayValue,this.value)}}class DH extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fh(this.value.arrayValue,n)}}class MH extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fh(this.value.arrayValue,n)}}class LH extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n=null,r=[],a=[],s=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=d,this.Te=null}}function RI(t,e=null,n=[],r=[],a=null,s=null,l=null){return new UH(t,e,n,r,a,s,l)}function aA(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>m_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),jv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fu(r))).join(",")),e.Te=n}return e.Te}function iA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PI(t.startAt,e.startAt)&&PI(t.endAt,e.endAt)}function p_(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n=null,r=[],a=[],s=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zH(t,e,n,r,a,s,l,d){return new cd(t,e,n,r,a,s,l,d)}function sA(t){return new cd(t)}function DI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PM(t){return t.collectionGroup!==null}function Jf(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Tn(Jn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new hh(s,r))})),n.has(Jn.keyField().canonicalString())||e.Ie.push(new hh(Jn.keyField(),r))}return e.Ie}function ki(t){const e=Ve(t);return e.Ee||(e.Ee=VH(e,Jf(t))),e.Ee}function VH(t,e){if(t.limitType==="F")return RI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new hh(a.field,s)}));const n=t.endAt?new oy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oy(t.startAt.position,t.startAt.inclusive):null;return RI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g_(t,e){const n=t.filters.concat([e]);return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ly(t,e,n){return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tv(t,e){return iA(ki(t),ki(e))&&t.limitType===e.limitType}function RM(t){return`${aA(ki(t))}|lt:${t.limitType}`}function bu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>OM(a))).join(", ")}]`),jv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Fu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Fu(a))).join(",")),`Target(${r})`})(ki(t))}; limitType=${t.limitType})`}function Cv(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of Jf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,d,f){const h=kI(l,d,f);return l.inclusive?h<=0:h<0})(r.startAt,Jf(r),a)||r.endAt&&!(function(l,d,f){const h=kI(l,d,f);return l.inclusive?h>=0:h>0})(r.endAt,Jf(r),a))})(t,e)}function $H(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DM(t){return(e,n)=>{let r=!1;for(const a of Jf(t)){const s=BH(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function BH(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):(function(s,l,d){const f=l.data.field(s),h=d.data.field(s);return f!==null&&h!==null?Bu(f,h):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return vM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=new Bt(Oe.comparator);function Rs(){return FH}const MM=new Bt(Oe.comparator);function Ff(...t){let e=MM;for(const n of t)e=e.insert(n.key,n);return e}function LM(t){let e=MM;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Gl(){return eh()}function UM(){return eh()}function eh(){return new wc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qH=new Bt(Oe.comparator),HH=new Tn(Oe.comparator);function tt(...t){let e=HH;for(const n of t)e=e.add(n);return e}const GH=new Tn(et);function KH(){return GH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ay(e)?"-0":e}}function zM(t){return{integerValue:""+t}}function WH(t,e){return wH(e)?zM(e):oA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this._=void 0}}function YH(t,e,n){return t instanceof mh?(function(a,s){const l={fields:{[wM]:{stringValue:bM},[EM]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&nA(s)&&(s=Nv(s)),s&&(l.fields[_M]=s),{mapValue:l}})(n,e):t instanceof ph?$M(t,e):t instanceof gh?BM(t,e):(function(a,s){const l=VM(a,s),d=MI(l)+MI(a.Ae);return h_(l)&&h_(a.Ae)?zM(d):oA(a.serializer,d)})(t,e)}function QH(t,e,n){return t instanceof ph?$M(t,e):t instanceof gh?BM(t,e):n}function VM(t,e){return t instanceof cy?(function(r){return h_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class mh extends Iv{}class ph extends Iv{constructor(e){super(),this.elements=e}}function $M(t,e){const n=FM(e);for(const r of t.elements)n.some((a=>Ui(a,r)))||n.push(r);return{arrayValue:{values:n}}}class gh extends Iv{constructor(e){super(),this.elements=e}}function BM(t,e){let n=FM(e);for(const r of t.elements)n=n.filter((a=>!Ui(a,r)));return{arrayValue:{values:n}}}class cy extends Iv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MI(t){return an(t.integerValue||t.doubleValue)}function FM(t){return rA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e,n){this.field=e,this.transform=n}}function ZH(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof ph&&a instanceof ph||r instanceof gh&&a instanceof gh?$u(r.elements,a.elements,Ui):r instanceof cy&&a instanceof cy?Ui(r.Ae,a.Ae):r instanceof mh&&a instanceof mh})(t.transform,e.transform)}class JH{constructor(e,n){this.version=e,this.transformResults=n}}class _a{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _a}static exists(e){return new _a(void 0,e)}static updateTime(e){return new _a(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ov{}function qM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lA(t.key,_a.none()):new Wh(t.key,t.data,_a.none());{const n=t.data,r=Pr.empty();let a=new Tn(Jn.comparator);for(let s of e.fields)if(!a.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new il(t.key,r,new Xr(a.toArray()),_a.none())}}function eG(t,e,n){t instanceof Wh?(function(a,s,l){const d=a.value.clone(),f=UI(a.fieldTransforms,s,l.transformResults);d.setAll(f),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof il?(function(a,s,l){if(!zg(a.precondition,s))return void s.convertToUnknownDocument(l.version);const d=UI(a.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(HM(a)),f.setAll(d),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function th(t,e,n,r){return t instanceof Wh?(function(s,l,d,f){if(!zg(s.precondition,l))return d;const h=s.value.clone(),p=zI(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof il?(function(s,l,d,f){if(!zg(s.precondition,l))return d;const h=zI(s.fieldTransforms,f,l),p=l.data;return p.setAll(HM(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,d){return zg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function tG(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=VM(r.transform,a||null);s!=null&&(n===null&&(n=Pr.empty()),n.set(r.field,s))}return n||null}function LI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&$u(r,a,((s,l)=>ZH(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends Ov{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class il extends Ov{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HM(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function UI(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],l=s.transform,d=e.data.field(s.field);r.set(s.field,QH(l,d,n[a]))}return r}function zI(t,e,n){const r=new Map;for(const a of t){const s=a.transform,l=n.data.field(a.field);r.set(a.field,YH(s,l,e))}return r}class lA extends Ov{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nG extends Ov{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&eG(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UM();return this.mutations.forEach((a=>{const s=e.get(a.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=n.has(a.key)?null:d;const f=qM(l,d);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&$u(this.mutations,e.mutations,((n,r)=>LI(n,r)))&&$u(this.baseMutations,e.baseMutations,((n,r)=>LI(n,r)))}}class cA{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return qH})();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new cA(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,rt;function sG(t){switch(t){case de.OK:return Me(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function GM(t){if(t===void 0)return Ps("GRPC error has no .code"),de.UNKNOWN;switch(t){case yn.OK:return de.OK;case yn.CANCELLED:return de.CANCELLED;case yn.UNKNOWN:return de.UNKNOWN;case yn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case yn.INTERNAL:return de.INTERNAL;case yn.UNAVAILABLE:return de.UNAVAILABLE;case yn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case yn.NOT_FOUND:return de.NOT_FOUND;case yn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case yn.ABORTED:return de.ABORTED;case yn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case yn.DATA_LOSS:return de.DATA_LOSS;default:return Me(39323,{code:t})}}(rt=yn||(yn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=new Bo([4294967295,4294967295],0);function VI(t){const e=oG().encode(t),n=new oM;return n.update(e),new Uint8Array(n.digest())}function $I(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bo([n,r],0),new Bo([a,s],0)]}class uA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qf(`Invalid padding: ${n}`);if(r<0)throw new qf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bo.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Bo.fromNumber(r)));return a.compare(lG)===1&&(a=new Bo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VI(e),[r,a]=$I(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new uA(s,a,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=VI(e),[r,a]=$I(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kv(Le.min(),a,new Bt(et),Rs(),tt())}}class Yh{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yh(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class KM{constructor(e,n){this.targetId=e,this.Ce=n}}class WM{constructor(e,n,r=er.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class BI{constructor(){this.ve=0,this.Fe=FI(),this.Me=er.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Me(38017,{changeType:s})}})),new Yh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cG{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=lg(),this.He=lg(),this.Ye=new Bt(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(p_(s))if(r===0){const l=new Oe(s.path);this.et(n,l,ir.newNoDocument(l,Le.min()))}else ht(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),f=d?this.ct(d,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let l,d;try{l=Wo(r).toUint8Array()}catch(f){if(f instanceof xM)return Vu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new uA(l,a,s)}catch(f){return Vu(f instanceof qf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const d=this.ot(l);if(d){if(s.current&&p_(d.target)){const f=new Oe(d.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,ir.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=tt();this.He.forEach(((s,l)=>{let d=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const a=new kv(e,n,this.Ye,this.je,r);return this.je=Rs(),this.Je=lg(),this.He=lg(),this.Ye=new Bt(et),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tn(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tn(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lg(){return new Bt(Oe.comparator)}function FI(){return new Bt(Oe.comparator)}const uG={asc:"ASCENDING",desc:"DESCENDING"},dG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fG={and:"AND",or:"OR"};class hG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y_(t,e){return t.useProto3Json||jv(e)?e:{value:e}}function uy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mG(t,e){return uy(t,e.toTimestamp())}function Pi(t){return ht(!!t,49232),Le.fromTimestamp((function(n){const r=Ko(n);return new at(r.seconds,r.nanos)})(t))}function dA(t,e){return v_(t,e).canonicalString()}function v_(t,e){const n=(function(a){return new Ct(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function QM(t){const e=Ct.fromString(t);return ht(t6(e),10190,{key:e.toString()}),e}function x_(t,e){return dA(t.databaseId,e.path)}function ow(t,e){const n=QM(e);if(n.get(1)!==t.databaseId.projectId)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(ZM(n))}function XM(t,e){return dA(t.databaseId,e)}function pG(t){const e=QM(t);return e.length===4?Ct.emptyPath():ZM(e)}function b_(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZM(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qI(t,e,n){return{name:x_(t,e),fields:n.value.mapValue.fields}}function gG(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Me(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(ht(p===void 0||typeof p=="string",58123),er.fromBase64String(p||"")):(ht(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),er.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(h){const p=h.code===void 0?de.UNKNOWN:GM(h.code);return new we(p,h.message||"")})(l);n=new WM(r,a,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=ow(t,r.document.name),s=Pi(r.document.updateTime),l=r.document.createTime?Pi(r.document.createTime):Le.min(),d=new Pr({mapValue:{fields:r.document.fields}}),f=ir.newFoundDocument(a,s,l,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Vg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=ow(t,r.document),s=r.readTime?Pi(r.readTime):Le.min(),l=ir.newNoDocument(a,s),d=r.removedTargetIds||[];n=new Vg([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=ow(t,r.document),s=r.removedTargetIds||[];n=new Vg([],s,a,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new iG(a,s),d=r.targetId;n=new KM(d,l)}}return n}function yG(t,e){let n;if(e instanceof Wh)n={update:qI(t,e.key,e.value)};else if(e instanceof lA)n={delete:x_(t,e.key)};else if(e instanceof il)n={update:qI(t,e.key,e.data),updateMask:jG(e.fieldMask)};else{if(!(e instanceof nG))return Me(16599,{Vt:e.type});n={verify:x_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const d=l.transform;if(d instanceof mh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ph)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof cy)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw Me(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:mG(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me(27497)})(t,e.precondition)),n}function vG(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(a,s){let l=a.updateTime?Pi(a.updateTime):Pi(s);return l.isEqual(Le.min())&&(l=Pi(s)),new JH(l,a.transformResults||[])})(n,e)))):[]}function xG(t,e){return{documents:[XM(t,e.path)]}}function bG(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XM(t,a);const s=(function(h){if(h.length!==0)return e6(ei.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:wu(x.field),direction:EG(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=y_(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function wG(t){let e=pG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ht(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const x=JM(g);return x instanceof ei&&CM(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((x=>(function(E){return new hh(_u(E.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let x;return x=typeof g=="object"?g.value:g,jv(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,w=g.values||[];return new oy(w,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,w=g.values||[];return new oy(w,x)})(n.endAt)),zH(e,a,l,s,d,"F",f,h)}function _G(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_u(n.unaryFilter.field);return xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=_u(n.unaryFilter.field);return xn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_u(n.unaryFilter.field);return xn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_u(n.unaryFilter.field);return xn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xn.create(_u(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((r=>JM(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function EG(t){return uG[t]}function AG(t){return dG[t]}function SG(t){return fG[t]}function wu(t){return{fieldPath:t.canonicalString()}}function _u(t){return Jn.fromServerFormat(t.fieldPath)}function e6(t){return t instanceof xn?(function(n){if(n.op==="=="){if(OI(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NAN"}};if(II(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OI(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NAN"}};if(II(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(n.field),op:AG(n.op),value:n.value}}})(t):t instanceof ei?(function(n){const r=n.getFilters().map((a=>e6(a)));return r.length===1?r[0]:{compositeFilter:{op:SG(n.op),filters:r}}})(t):Me(54877,{filter:t})}function jG(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function t6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r,a,s=Le.min(),l=Le.min(),d=er.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.yt=e}}function TG(t){const e=wG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.Cn=new IG}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Go.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class IG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Tn(Ct.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Tn(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n6=41943040;class Or{static withCacheSize(e){return new Or(e,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(n6,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qu(0)}static cr(){return new qu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="LruGarbageCollector",OG=1048576;function KI([t,e],[n,r]){const a=et(t,n);return a===0?et(e,r):a}class kG{constructor(e){this.Ir=e,this.buffer=new Tn(KI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(GI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ld(n)?Ee(GI,"Ignoring IndexedDB error during garbage collection: ",n):await od(n)}await this.Vr(3e5)}))}}class RG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Sv.ce);const r=new kG(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(HI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,l,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,l=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),xu()<=Je.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${a} in `+(d-l)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function DG(t,e){return new RG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.changes=new wc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&th(r.mutation,a,Xr.empty(),at.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const a=Gl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let l=Ff();return s.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Gl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,a){let s=Rs();const l=eh(),d=(function(){return eh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof il)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),th(p.mutation,h,p.mutation.getFieldMask(),at.now())):l.set(h.key,Xr.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>d.set(h,new LG(p,l.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=eh();let a=new Bt(((l,d)=>l-d)),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||Xr.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(a.get(d.batchId)||tt()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const l=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=UM();p.forEach((x=>{if(!s.has(x)){const w=qM(n.get(x),r.get(x));w!==null&&g.set(x,w),s=s.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return he.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return Oe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):he.resolve(Gl());let d=ch,f=s;return l.next((h=>he.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,tt()))).next((p=>({batchId:d,changes:LM(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next((r=>{let a=Ff();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let l=Ff();return this.indexManager.getCollectionParents(e,s).next((d=>he.forEach(d,(f=>{const h=(function(g,x){return new cd(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,x)=>{l=l.insert(g,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,ir.newInvalidDocument(p)))}));let d=Ff();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&th(p.mutation,h,Xr.empty(),at.now()),Cv(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Pi(a.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:TG(a.bundledQuery),readTime:Pi(a.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(){this.overlays=new Bt(Oe.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gl();return he.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const a=Gl(),s=n.length+1,l=new Oe(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new Bt(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Gl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Gl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=a)););return he.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new aG(n,r));let s=this.qr.get(n);s===void 0&&(s=tt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(){this.sessionToken=er.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.Qr=new Tn(Un.$r),this.Ur=new Tn(Un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Un(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Un(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Oe(new Ct([])),r=new Un(n,e),a=new Un(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Oe(new Ct([])),r=new Un(n,e),a=new Un(n,e+1);let s=tt();return this.Ur.forEachInRange([r,a],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Un(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Oe.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tn(Un.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new rG(s,n,r,a);this.mutationQueue.push(l);for(const d of a)this.Zr=this.Zr.add(new Un(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?tA:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Un(n,0),a=new Un(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(l=>{const d=this.Xr(l.Yr);s.push(d)})),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(et);return n.forEach((a=>{const s=new Un(a,0),l=new Un(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(d=>{r=r.add(d.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Oe.isDocumentKey(s)||(s=s.child(""));const l=new Un(new Oe(s),0);let d=new Tn(et);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),l),he.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,(a=>{const s=new Un(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Un(n,0),a=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():ir.newInvalidDocument(a))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=Rs();const l=n.path,d=new Oe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||yH(gH(p),r)<=0||(a.has(p.key)||Cv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Me(9500)}ii(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qG(this)}getSize(e){return he.resolve(this.size)}}class qG extends MG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.persistence=e,this.si=new wc((n=>aA(n)),iA),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new fA,this.targetCount=0,this.ai=qu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),he.waitFor(s).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((l=>{s.push(a.markPotentiallyOrphaned(e,l))})),he.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sv(0),this.li=!1,this.li=!0,this.hi=new $G,this.referenceDelegate=e(this),this.Pi=new HG(this),this.indexManager=new CG,this.remoteDocumentCache=(function(a){return new FG(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new NG(n),this.Ii=new zG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new BG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const a=new GG(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class GG extends xH{constructor(e){super(),this.currentSequenceNumber=e}}class hA{constructor(e){this.persistence=e,this.Ri=new fA,this.Vi=null}static mi(e){return new hA(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const a=Oe.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dy{constructor(e,n){this.persistence=e,this.pi=new wc((r=>_H(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=DG(this,n)}static mi(e,n){return new dy(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?he.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((d=>{d||(r++,s.removeEntry(l,Le.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lg(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=tt(),a=tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new mA(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return x7()?8:bH(cr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new KG;return this.Ss(e,n,l).next((d=>{if(s.result=d,this.Vs)return this.bs(e,n,l,d.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(xu()<=Je.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",bu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(xu()<=Je.DEBUG&&Ee("QueryEngine","Query:",bu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(xu()<=Je.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",bu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):he.resolve())}ys(e,n){if(DI(n))return he.resolve(null);let r=ki(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ly(n,null,"F"),r=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=tt(...s);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,l,f.readTime)?this.ys(e,ly(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return DI(n)||a.isEqual(Le.min())?he.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,a)?he.resolve(null):(xu()<=Je.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bu(n)),this.vs(e,l,n,pH(a,ch)).next((d=>d)))}))}Ds(e,n){let r=new Tn(DM(e));return n.forEach(((a,s)=>{Cv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return xu()<=Je.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",bu(n)),this.ps.getDocumentsMatchingQuery(e,n,Go.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="LocalStore",YG=3e8;class QG{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Bt(et),this.xs=new wc((s=>aA(s)),iA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function XG(t,e,n,r){return new QG(t,e,n,r)}async function a6(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],d=[];let f=tt();for(const h of a){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:d})))}))}))}function ZG(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,x=g.keys();let w=he.resolve();return x.forEach((E=>{w=w.next((()=>p.getEntry(f,E))).next((A=>{const S=h.docVersions.get(E);ht(S!==null,48541),A.version.compareTo(S)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=tt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function i6(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function JG(t,e){const n=Ve(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const x=a.get(g);if(!x)return;d.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let w=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(er.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),a=a.insert(g,w),(function(A,S,I){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=YG?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(x,w,p)&&d.push(n.Pi.updateTargetData(s,w))}));let f=Rs(),h=tt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(eK(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Le.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return he.waitFor(d).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=a,s)))}function eK(t,e,n){let r=tt(),a=tt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Rs();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):Ee(pA,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:a}}))}function tK(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nK(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,he.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new zo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function w_(t,e,n){const r=Ve(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!ld(l))throw l;Ee(pA,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function WI(t,e,n){const r=Ve(t);let a=Le.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const g=Ve(f),x=g.xs.get(p);return x!==void 0?he.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,l,ki(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:Le.min(),n?s:tt()))).next((d=>(rK(r,$H(e),d),{documents:d,Qs:s})))))}function rK(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class YI{constructor(){this.activeTargetIds=KH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aK{constructor(){this.Mo=new YI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="ConnectivityMonitor";class XI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(QI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(QI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg=null;function __(){return cg===null?cg=(function(){return 268435456+Math.round(2147483648*Math.random())})():cg++,"0x"+cg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="RestConnection",sK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===iy?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const l=__(),d=this.zo(e,n.toUriEncodedString());Ee(lw,`Sending RPC '${e}' ${l}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:h}=new URL(d),p=nl(h);return this.Jo(e,d,f,r,p).then((g=>(Ee(lw,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Vu(lw,`RPC '${e}' ${l} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,s,l){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=sK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="WebChannelConnection";class cK extends oK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const l=__();return new Promise(((d,f)=>{const h=new lM;h.setWithCredentials(!0),h.listenOnce(cM.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Mg.NO_ERROR:const g=h.getResponseJson();Ee(nr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),d(g);break;case Mg.TIMEOUT:Ee(nr,`RPC '${e}' ${l} timed out`),f(new we(de.DEADLINE_EXCEEDED,"Request time out"));break;case Mg.HTTP_ERROR:const x=h.getStatus();if(Ee(nr,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const A=(function(I){const U=I.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(U)>=0?U:de.UNKNOWN})(E.status);f(new we(A,E.message))}else f(new we(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new we(de.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ee(nr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(a);Ee(nr,`RPC '${e}' ${l} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=__(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=fM(),d=dM(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");Ee(nr,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=l.createWebChannel(p,f);this.I_(g);let x=!1,w=!1;const E=new lK({Yo:S=>{w?Ee(nr,`Not sending because RPC '${e}' stream ${a} is closed:`,S):(x||(Ee(nr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),Ee(nr,`RPC '${e}' stream ${a} sending:`,S),g.send(S))},Zo:()=>g.close()}),A=(S,I,U)=>{S.listen(I,(k=>{try{U(k)}catch(C){setTimeout((()=>{throw C}),0)}}))};return A(g,Bf.EventType.OPEN,(()=>{w||(Ee(nr,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),A(g,Bf.EventType.CLOSE,(()=>{w||(w=!0,Ee(nr,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),A(g,Bf.EventType.ERROR,(S=>{w||(w=!0,Vu(nr,`RPC '${e}' stream ${a} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new we(de.UNAVAILABLE,"The operation could not be completed")))})),A(g,Bf.EventType.MESSAGE,(S=>{var I;if(!w){const U=S.data[0];ht(!!U,16349);const k=U,C=(k==null?void 0:k.error)||((I=k[0])==null?void 0:I.error);if(C){Ee(nr,`RPC '${e}' stream ${a} received error:`,C);const P=C.status;let z=(function(T){const R=yn[T];if(R!==void 0)return GM(R)})(P),N=C.message;z===void 0&&(z=de.INTERNAL,N="Unknown error status: "+P+" with message "+C.message),w=!0,E.a_(new we(z,N)),g.close()}else Ee(nr,`RPC '${e}' stream ${a} received:`,U),E.u_(U)}})),A(d,uM.STAT_EVENT,(S=>{S.stat===u_.PROXY?Ee(nr,`RPC '${e}' stream ${a} detected buffering proxy`):S.stat===u_.NOPROXY&&Ee(nr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t){return new hG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="PersistentStream";class o6{constructor(e,n,r,a,s,l,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new we(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(ZI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(ZI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uK extends o6{constructor(e,n,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gG(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Le.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?Pi(l.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=b_(this.serializer),n.addTarget=(function(s,l){let d;const f=l.target;if(d=p_(f)?{documents:xG(s,f)}:{query:bG(s,f).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=YM(s,l.resumeToken);const h=y_(s,l.expectedCount);h!==null&&(d.expectedCount=h)}else if(l.snapshotVersion.compareTo(Le.min())>0){d.readTime=uy(s,l.snapshotVersion.toTimestamp());const h=y_(s,l.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=_G(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=b_(this.serializer),n.removeTarget=e,this.q_(n)}}class dK extends o6{constructor(e,n,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vG(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=b_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>yG(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{}class hK extends fK{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,v_(n,r),a,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(de.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,v_(n,r),a,l,d,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="RemoteStore";class pK{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{_c(this)&&(Ee(lc,"Restarting streams for network reachability change."),await(async function(f){const h=Ve(f);h.Ea.add(4),await Qh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Rv(h)})(this))}))})),this.Ra=new mK(r,a)}}async function Rv(t){if(_c(t))for(const e of t.da)await e(!0)}async function Qh(t){for(const e of t.da)await e(!1)}function l6(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xA(n)?vA(n):ud(n).O_()&&yA(n,e))}function gA(t,e){const n=Ve(t),r=ud(n);n.Ia.delete(e),r.O_()&&c6(n,e),n.Ia.size===0&&(r.O_()?r.L_():_c(n)&&n.Ra.set("Unknown"))}function yA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ud(t).Y_(e)}function c6(t,e){t.Va.Ue(e),ud(t).Z_(e)}function vA(t){t.Va=new cG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ud(t).start(),t.Ra.ua()}function xA(t){return _c(t)&&!ud(t).x_()&&t.Ia.size>0}function _c(t){return Ve(t).Ea.size===0}function u6(t){t.Va=void 0}async function gK(t){t.Ra.set("Online")}async function yK(t){t.Ia.forEach(((e,n)=>{yA(t,e)}))}async function vK(t,e){u6(t),xA(t)?(t.Ra.ha(e),vA(t)):t.Ra.set("Unknown")}async function xK(t,e,n){if(t.Ra.set("Online"),e instanceof WM&&e.state===2&&e.cause)try{await(async function(a,s){const l=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,l),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){Ee(lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fy(t,r)}else if(e instanceof Vg?t.Va.Ze(e):e instanceof KM?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await i6(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const d=s.Va.Tt(l);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(er.EMPTY_BYTE_STRING,p.snapshotVersion)),c6(s,f);const g=new zo(p.target,f,h,p.sequenceNumber);yA(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ee(lc,"Failed to raise snapshot:",r),await fy(t,r)}}async function fy(t,e,n){if(!ld(e))throw e;t.Ea.add(1),await Qh(t),t.Ra.set("Offline"),n||(n=()=>i6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(lc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rv(t)}))}function d6(t,e){return e().catch((n=>fy(t,n,e)))}async function Dv(t){const e=Ve(t),n=Qo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tA;for(;bK(e);)try{const a=await tK(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,wK(e,a)}catch(a){await fy(e,a)}f6(e)&&h6(e)}function bK(t){return _c(t)&&t.Ta.length<10}function wK(t,e){t.Ta.push(e);const n=Qo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function f6(t){return _c(t)&&!Qo(t).x_()&&t.Ta.length>0}function h6(t){Qo(t).start()}async function _K(t){Qo(t).ra()}async function EK(t){const e=Qo(t);for(const n of t.Ta)e.ea(n.mutations)}async function AK(t,e,n){const r=t.Ta.shift(),a=cA.from(r,e,n);await d6(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Dv(t)}async function SK(t,e){e&&Qo(t).X_&&await(async function(r,a){if((function(l){return sG(l)&&l!==de.ABORTED})(a.code)){const s=r.Ta.shift();Qo(r).B_(),await d6(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await Dv(r)}})(t,e),f6(t)&&h6(t)}async function JI(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),Ee(lc,"RemoteStore received new credentials");const r=_c(n);n.Ea.add(3),await Qh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rv(n)}async function jK(t,e){const n=Ve(t);e?(n.Ea.delete(2),await Rv(n)):e||(n.Ea.add(2),await Qh(n),n.Ra.set("Unknown"))}function ud(t){return t.ma||(t.ma=(function(n,r,a){const s=Ve(n);return s.sa(),new uK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:gK.bind(null,t),t_:yK.bind(null,t),r_:vK.bind(null,t),H_:xK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),xA(t)?vA(t):t.Ra.set("Unknown")):(await t.ma.stop(),u6(t))}))),t.ma}function Qo(t){return t.fa||(t.fa=(function(n,r,a){const s=Ve(n);return s.sa(),new dK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_K.bind(null,t),r_:SK.bind(null,t),ta:EK.bind(null,t),na:AK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Dv(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(lc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const l=Date.now()+r,d=new bA(e,n,l,a,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wA(t,e){if(Ps("AsyncQueue",`${e}: ${t}`),ld(t))return new we(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{static emptySet(e){return new Ru(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=Ff(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.ga=new Bt(Oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Hu{constructor(e,n,r,a,s,l,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,s){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new Hu(e,n,Ru.emptySet(n),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TK{constructor(){this.queries=tO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ve(n),s=a.queries;a.queries=tO(),s.forEach(((l,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new we(de.ABORTED,"Firestore shutting down"))}}function tO(){return new wc((t=>RM(t)),Tv)}async function m6(t,e){const n=Ve(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new NK,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const d=wA(l,`Initialization of query '${bu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&_A(n)}async function p6(t,e){const n=Ve(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CK(t,e){const n=Ve(t);let r=!1;for(const a of e){const s=a.query,l=n.queries.get(s);if(l){for(const d of l.Sa)d.Fa(a)&&(r=!0);l.wa=a}}r&&_A(n)}function IK(t,e,n){const r=Ve(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function _A(t){t.Ca.forEach((e=>{e.next()}))}var E_,nO;(nO=E_||(E_={})).Ma="default",nO.Cache="cache";class g6{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==E_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.key=e}}class v6{constructor(e){this.key=e}}class OK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=DM(e),this.tu=new Ru(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new eO,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const x=a.get(p),w=Cv(this.query,g)?g:null,E=!!x&&this.mutatedKeys.has(x.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;x&&w?x.data.isEqual(w.data)?E!==A&&(r.track({type:3,doc:w}),S=!0):this.su(x,w)||(r.track({type:2,doc:w}),S=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(d=!0)):!x&&w?(r.track({type:0,doc:w}),S=!0):x&&!w&&(r.track({type:1,doc:x}),S=!0,(f||h)&&(d=!0)),S&&(w?(l=l.add(w),s=A?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(w,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:S})}};return A(w)-A(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Hu(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new v6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new y6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const EA="SyncEngine";class kK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PK{constructor(e){this.key=e,this.hu=!1}}class RK{constructor(e,n,r,a,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new wc((d=>RM(d)),Tv),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Oe.comparator),this.Au=new Map,this.Ru=new fA,this.Vu={},this.mu=new Map,this.fu=qu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DK(t,e,n=!0){const r=A6(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await x6(r,e,n,!0),a}async function MK(t,e){const n=A6(t);await x6(n,e,!0,!1)}async function x6(t,e,n,r){const a=await nK(t.localStore,ki(e)),s=a.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await LK(t,e,s,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&l6(t.remoteStore,a),d}async function LK(t,e,n,r,a){t.pu=(g,x,w)=>(async function(A,S,I,U){let k=S.view.ru(I);k.Cs&&(k=await WI(A.localStore,S.query,!1).then((({documents:N})=>S.view.ru(N,k))));const C=U&&U.targetChanges.get(S.targetId),P=U&&U.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(k,A.isPrimaryClient,C,P);return aO(A,S.targetId,z.au),z.snapshot})(t,g,x,w);const s=await WI(t.localStore,e,!0),l=new OK(e,s.Qs),d=l.ru(s.documents),f=Yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=l.applyChanges(d,t.isPrimaryClient,f);aO(t,n,h.au);const p=new kK(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function UK(t,e,n){const r=Ve(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((l=>!Tv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await w_(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&gA(r.remoteStore,a.targetId),A_(r,a.targetId)})).catch(od)):(A_(r,a.targetId),await w_(r.localStore,a.targetId,!0))}async function zK(t,e){const n=Ve(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gA(n.remoteStore,r.targetId))}async function VK(t,e,n){const r=KK(t);try{const a=await(function(l,d){const f=Ve(l),h=at.now(),p=d.reduce(((w,E)=>w.add(E.key)),tt());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let E=Rs(),A=tt();return f.Ns.getEntries(w,p).next((S=>{E=S,E.forEach(((I,U)=>{U.isValidDocument()||(A=A.add(I))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,E))).next((S=>{g=S;const I=[];for(const U of d){const k=tG(U,g.get(U.key).overlayedDocument);k!=null&&I.push(new il(U.key,k,jM(k.value.mapValue),_a.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,I,d)})).next((S=>{x=S;const I=S.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(w,S.batchId,I)}))})).then((()=>({batchId:x.batchId,changes:LM(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,d,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new Bt(et)),h=h.insert(d,f),l.Vu[l.currentUser.toKey()]=h})(r,a.batchId,n),await Xh(r,a.changes),await Dv(r.remoteStore)}catch(a){const s=wA(a,"Failed to persist write");n.reject(s)}}async function b6(t,e){const n=Ve(t);try{const r=await JG(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const l=n.Au.get(s);l&&(ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?ht(l.hu,14607):a.removedDocuments.size>0&&(ht(l.hu,42227),l.hu=!1))})),await Xh(n,r,e)}catch(r){await od(r)}}function rO(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,l)=>{const d=l.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(l,d){const f=Ve(l);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(d)&&(h=!0)})),h&&_A(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $K(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let l=new Bt(Oe.comparator);l=l.insert(s,ir.newNoDocument(s,Le.min()));const d=tt().add(s),f=new kv(Le.min(),new Map,new Bt(et),l,d);await b6(r,f),r.du=r.du.remove(s),r.Au.delete(e),AA(r)}else await w_(r.localStore,e,!1).then((()=>A_(r,e,n))).catch(od)}async function BK(t,e){const n=Ve(t),r=e.batch.batchId;try{const a=await ZG(n.localStore,e);_6(n,r,null),w6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xh(n,a)}catch(a){await od(a)}}async function FK(t,e,n){const r=Ve(t);try{const a=await(function(l,d){const f=Ve(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(ht(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);_6(r,e,n),w6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xh(r,a)}catch(a){await od(a)}}function w6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _6(t,e,n){const r=Ve(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function A_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||E6(t,r)}))}function E6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(gA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),AA(t))}function aO(t,e,n){for(const r of n)r instanceof y6?(t.Ru.addReference(r.key,e),qK(t,r)):r instanceof v6?(Ee(EA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||E6(t,r.key)):Me(19791,{wu:r})}function qK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(EA,"New document in limbo: "+n),t.Eu.add(r),AA(t))}function AA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Oe(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new PK(n)),t.du=t.du.insert(n,r),l6(t.remoteStore,new zo(ki(sA(n.path)),r,"TargetPurposeLimboResolution",Sv.ce))}}async function Xh(t,e,n){const r=Ve(t),a=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{l.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=mA.As(f.targetId,h);s.push(g)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(f,h){const p=Ve(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>he.forEach(h,(x=>he.forEach(x.Es,(w=>p.persistence.referenceDelegate.addReference(g,x.targetId,w))).next((()=>he.forEach(x.ds,(w=>p.persistence.referenceDelegate.removeReference(g,x.targetId,w)))))))))}catch(g){if(!ld(g))throw g;Ee(pA,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const w=p.Ms.get(x),E=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(x,A)}}})(r.localStore,s))}async function HK(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){Ee(EA,"User change. New user:",e.toKey());const r=await a6(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new we(de.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xh(n,r.Ls)}}function GK(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let a=tt();const s=n.Iu.get(e);if(!s)return a;for(const l of s){const d=n.Tu.get(l);a=a.unionWith(d.view.nu)}return a}}function A6(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=b6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$K.bind(null,e),e.Pu.H_=CK.bind(null,e.eventManager),e.Pu.yu=IK.bind(null,e.eventManager),e}function KK(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FK.bind(null,e),e}class hy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XG(this.persistence,new WG,e.initialUser,this.serializer)}Cu(e){return new r6(hA.mi,this.serializer)}Du(e){return new aK}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hy.provider={build:()=>new hy};class WK extends hy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof dy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Or.withCacheSize(this.cacheSizeBytes):Or.DEFAULT;return new r6((r=>dy.mi(r,n)),this.serializer)}}class S_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HK.bind(null,this.syncEngine),await jK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TK})()}createDatastore(e){const n=Pv(e.databaseInfo.databaseId),r=(function(s){return new cK(s)})(e.databaseInfo);return(function(s,l,d,f){return new hK(s,l,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,l,d){return new pK(r,a,s,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>rO(this.syncEngine,n,0)),(function(){return XI.v()?new XI:new iK})())}createSyncEngine(e,n){return(function(a,s,l,d,f,h,p){const g=new RK(a,s,l,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const s=Ve(a);Ee(lc,"RemoteStore shutting down."),s.Ea.add(5),await Qh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}S_.provider={build:()=>new S_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="FirestoreClient";class YK{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=ar.UNAUTHENTICATED,this.clientId=eA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Ee(Xo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ee(Xo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function uw(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Xo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await a6(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function iO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QK(t);Ee(Xo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>JI(e.remoteStore,a))),t._onlineComponents=e}async function QK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Xo,"Using user provided OfflineComponentProvider");try{await uw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Vu("Error using user provided cache. Falling back to memory cache: "+n),await uw(t,new hy)}}else Ee(Xo,"Using default OfflineComponentProvider"),await uw(t,new WK(void 0));return t._offlineComponents}async function j6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Xo,"Using user provided OnlineComponentProvider"),await iO(t,t._uninitializedComponentsProvider._online)):(Ee(Xo,"Using default OnlineComponentProvider"),await iO(t,new S_))),t._onlineComponents}function XK(t){return j6(t).then((e=>e.syncEngine))}async function N6(t){const e=await j6(t),n=e.eventManager;return n.onListen=DK.bind(null,e.syncEngine),n.onUnlisten=UK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zK.bind(null,e.syncEngine),n}function ZK(t,e,n={}){const r=new Ns;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,h){const p=new S6({next:x=>{p.Nu(),l.enqueueAndForget((()=>p6(s,g)));const w=x.docs.has(d);!w&&x.fromCache?h.reject(new we(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?h.reject(new we(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new g6(sA(d.path),p,{includeMetadataChanges:!0,qa:!0});return m6(s,g)})(await N6(t),t.asyncQueue,e,n,r))),r.promise}function JK(t,e,n={}){const r=new Ns;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,h){const p=new S6({next:x=>{p.Nu(),l.enqueueAndForget((()=>p6(s,g))),x.fromCache&&f.source==="server"?h.reject(new we(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new g6(d,p,{includeMetadataChanges:!0,qa:!0});return m6(s,g)})(await N6(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="firestore.googleapis.com",oO=!0;class lO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C6,this.ssl=oO}else this.host=e.host,this.ssl=e.ssl??oO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OG)throw new we(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mv{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rH;switch(r.type){case"firstParty":return new oH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sO.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),sO.delete(n),r.terminate())})(this),Promise.resolve()}}function eW(t,e,n,r={}){var h;t=Ja(t,Mv);const a=nl(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(UE(`https://${d}`),zE("Firestore",!0)),s.host!==C6&&s.host!==d&&Vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:r};if(!rc(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=ar.MOCK_USER;else{p=b4(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new we(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ar(x)}t._authCredentials=new aH(new mM(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sl(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kh(n,sn._jsonSchema))return new sn(e,r||null,new Oe(Ct.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:bn("string",sn._jsonSchemaVersion),referencePath:bn("string")};class Fo extends sl{constructor(e,n,r){super(e,n,sA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Oe(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function it(t,e,...n){if(t=jt(t),pM("collection","path",e),t instanceof Mv){const r=Ct.fromString(e,...n);return wI(r),new Fo(t,null,r)}{if(!(t instanceof sn||t instanceof Fo))throw new we(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return wI(r),new Fo(t.firestore,null,r)}}function qe(t,e,...n){if(t=jt(t),arguments.length===1&&(e=eA.newId()),pM("doc","path",e),t instanceof Mv){const r=Ct.fromString(e,...n);return bI(r),new sn(t,null,new Oe(r))}{if(!(t instanceof sn||t instanceof Fo))throw new we(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return bI(r),new sn(t.firestore,t instanceof Fo?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="AsyncQueue";class uO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s6(this,"async_queue_retry"),this._c=()=>{const r=cw();r&&Ee(cO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ld(e))throw e;Ee(cO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",dO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=bA.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:dO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ec extends Mv{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new uO,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uO(e),this._firestoreClient=void 0,await e}}}function tW(t,e){const n=typeof t=="object"?t:BE(),r=typeof t=="string"?t:iy,a=bv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=y4("firestore");s&&eW(a,...s)}return a}function SA(t){if(t._terminated)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nW(t),t._firestoreClient}function nW(t){var r,a,s;const e=t._freezeSettings(),n=(function(d,f,h,p){return new SH(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,T6(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(er.fromBase64String(e))}catch(n){throw new we(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ba._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kh(e,ba._jsonSchema))return ba.fromBase64String(e.bytes)}}ba._jsonSchemaVersion="firestore/bytes/1.0",ba._jsonSchema={type:bn("string",ba._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(Kh(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:bn("string",Ri._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kh(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Di(e.vectorValues);throw new we(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:bn("string",Di._jsonSchemaVersion),vectorValues:bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=/^__.*__$/;class aW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new il(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wh(e,this.data,n,this.fieldTransforms)}}class I6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new il(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function O6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class jA{constructor(e,n,r,a,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return my(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O6(this.Ac)&&rW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pv(e)}Cc(e,n,r,a=!1){return new jA({Ac:e,methodName:n,Dc:r,path:Jn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zv(t){const e=t._freezeSettings(),n=Pv(t._databaseId);return new iW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k6(t,e,n,r,a,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);TA("Data must be an object, but it was:",l,r);const d=P6(r,l);let f,h;if(s.merge)f=new Xr(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const x=j_(e,g,n);if(!l.contains(x))throw new we(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);D6(p,x)||p.push(x)}f=new Xr(p),h=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=l.fieldTransforms;return new aW(new Pr(d),f,h)}class Vv extends Uv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vv}}class NA extends Uv{_toFieldTransform(e){return new XH(e.path,new mh)}isEqual(e){return e instanceof NA}}function sW(t,e,n,r){const a=t.Cc(1,e,n);TA("Data must be an object, but it was:",a,r);const s=[],l=Pr.empty();al(r,((f,h)=>{const p=CA(e,f,n);h=jt(h);const g=a.yc(p);if(h instanceof Vv)s.push(p);else{const x=Zh(h,g);x!=null&&(s.push(p),l.set(p,x))}}));const d=new Xr(s);return new I6(l,d,a.fieldTransforms)}function oW(t,e,n,r,a,s){const l=t.Cc(1,e,n),d=[j_(e,r,n)],f=[a];if(s.length%2!=0)throw new we(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(j_(e,s[x])),f.push(s[x+1]);const h=[],p=Pr.empty();for(let x=d.length-1;x>=0;--x)if(!D6(h,d[x])){const w=d[x];let E=f[x];E=jt(E);const A=l.yc(w);if(E instanceof Vv)h.push(w);else{const S=Zh(E,A);S!=null&&(h.push(w),p.set(w,S))}}const g=new Xr(h);return new I6(p,g,l.fieldTransforms)}function lW(t,e,n,r=!1){return Zh(n,t.Cc(r?4:3,e))}function Zh(t,e){if(R6(t=jt(t)))return TA("Unsupported field value:",e,t),P6(t,e);if(t instanceof Uv)return(function(r,a){if(!O6(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let l=0;for(const d of r){let f=Zh(d,a.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WH(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:uy(a.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uy(a.serializer,s)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ba)return{bytesValue:YM(a.serializer,r._byteString)};if(r instanceof sn){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dA(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Di)return(function(l,d){return{mapValue:{fields:{[AM]:{stringValue:SM},[sy]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return oA(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Av(r)}`)})(t,e)}function P6(t,e){const n={};return vM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(t,((r,a)=>{const s=Zh(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function R6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Ri||t instanceof ba||t instanceof sn||t instanceof Uv||t instanceof Di)}function TA(t,e,n){if(!R6(n)||!gM(n)){const r=Av(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function j_(t,e,n){if((e=jt(e))instanceof Lv)return e._internalPath;if(typeof e=="string")return CA(t,e);throw my("Field path arguments must be of type string or ",t,!1,void 0,n)}const cW=new RegExp("[~\\*/\\[\\]]");function CA(t,e,n){if(e.search(cW)>=0)throw my(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lv(...e.split("."))._internalPath}catch{throw my(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function my(t,e,n,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new we(de.INVALID_ARGUMENT,d+t+f)}function D6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($v("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uW extends M6{data(){return super.data()}}function $v(t,e){return typeof e=="string"?CA(t,e):e instanceof Lv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IA{}class OA extends IA{}function Dr(t,e,...n){let r=[];e instanceof IA&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof kA)).length,d=s.filter((f=>f instanceof Bv)).length;if(l>1||l>0&&d>0)throw new we(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Bv extends OA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bv(e,n,r)}_apply(e){const n=this._parse(e);return L6(e._query,n),new sl(e.firestore,e.converter,g_(e._query,n))}_parse(e){const n=zv(e.firestore);return(function(s,l,d,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new we(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){hO(g,p);const E=[];for(const A of g)E.push(fO(f,s,A));x={arrayValue:{values:E}}}else x=fO(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||hO(g,p),x=lW(d,l,g,p==="in"||p==="not-in");return xn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ds(t,e,n){const r=e,a=$v("where",t);return Bv._create(a,r,n)}class kA extends IA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let l=a;const d=s.getFlattenedFilters();for(const f of d)L6(l,f),l=g_(l,f)})(e._query,n),new sl(e.firestore,e.converter,g_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class PA extends OA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new PA(e,n)}_apply(e){const n=(function(a,s,l){if(a.startAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hh(s,l)})(e._query,this._field,this._direction);return new sl(e.firestore,e.converter,(function(a,s){const l=a.explicitOrderBy.concat([s]);return new cd(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Jh(t,e="asc"){const n=e,r=$v("orderBy",t);return PA._create(r,n)}class RA extends OA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new RA(e,n,r)}_apply(e){return new sl(e.firestore,e.converter,ly(e._query,this._limit,this._limitType))}}function Fv(t){return mH("limit",t),RA._create("limit",t,"F")}function fO(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new we(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PM(e)&&n.indexOf("/")!==-1)throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!Oe.isDocumentKey(r))throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CI(t,new Oe(r))}if(n instanceof sn)return CI(t,n._key);throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Av(n)}.`)}function hO(t,e){if(!Array.isArray(t)||t.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L6(t,e){const n=(function(a,s){for(const l of a)for(const d of l.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fW{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return al(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,a,s;const n=(s=(a=(r=e.fields)==null?void 0:r[sy].arrayValue)==null?void 0:a.values)==null?void 0:s.map((l=>an(l.doubleValue)));return new Di(n)}convertGeoPoint(e){return new Ri(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uh(e));default:return null}}convertTimestamp(e){const n=Ko(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);ht(t6(r),9688,{name:e});const a=new dh(r.get(1),r.get(3)),s=new Oe(r.popFirst(5));return a.isEqual(n)||Ps(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Hf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ql extends M6{constructor(e,n,r,a,s,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $g(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($v("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ql._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ql._jsonSchema={type:bn("string",Ql._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class $g extends Ql{data(e={}){return super.data(e)}}class Du{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Hf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new $g(this._firestore,this._userDataWriter,r.key,r,new Hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((d=>{const f=new $g(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new $g(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),p=l.indexOf(d.doc.key)),{type:hW(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t){t=Ja(t,sn);const e=Ja(t.firestore,Ec);return ZK(SA(e),t._key).then((n=>mW(e,t,n)))}Du._jsonSchemaVersion="firestore/querySnapshot/1.0",Du._jsonSchema={type:bn("string",Du._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};class z6 extends fW{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function $n(t){t=Ja(t,sl);const e=Ja(t.firestore,Ec),n=SA(e),r=new z6(e);return dW(t._query),JK(n,t._query).then((a=>new Du(e,r,t,a)))}function Qa(t,e,n){t=Ja(t,sn);const r=Ja(t.firestore,Ec),a=U6(t.converter,e,n);return qv(r,[k6(zv(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,_a.none())])}function vr(t,e,n,...r){t=Ja(t,sn);const a=Ja(t.firestore,Ec),s=zv(a);let l;return l=typeof(e=jt(e))=="string"||e instanceof Lv?oW(s,"updateDoc",t._key,e,n,r):sW(s,"updateDoc",t._key,e),qv(a,[l.toMutation(t._key,_a.exists(!0))])}function cc(t){return qv(Ja(t.firestore,Ec),[new lA(t._key,_a.none())])}function xr(t,e){const n=Ja(t.firestore,Ec),r=qe(t),a=U6(t.converter,e);return qv(n,[k6(zv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,_a.exists(!1))]).then((()=>r))}function qv(t,e){return(function(r,a){const s=new Ns;return r.asyncQueue.enqueueAndForget((async()=>VK(await XK(r),a,s))),s.promise})(SA(t),e)}function mW(t,e,n){const r=n.docs.get(e._key),a=new z6(t);return new Ql(t,a,e._key,r,new Hf(n.hasPendingWrites,n.fromCache),e.converter)}function or(){return new NA("serverTimestamp")}(function(e,n=!0){(function(a){sd=a})(bc),ac(new Ho("firestore",((r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),d=new Ec(new iH(r.getProvider("auth-internal")),new lH(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new we(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(h.options.projectId,p)})(l,a),l);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Ii(gI,yI,e),Ii(gI,yI,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="firebasestorage.googleapis.com",$6="storageBucket",pW=120*1e3,gW=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends Gi{constructor(e,n,r=0){super(dw(e),`Firebase Storage: ${n} (${dw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wt||(Wt={}));function dw(t){return"storage/"+t}function DA(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Wt.UNKNOWN,t)}function yW(t){return new Qt(Wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function vW(t){return new Qt(Wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Wt.UNAUTHENTICATED,t)}function bW(){return new Qt(Wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wW(t){return new Qt(Wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _W(){return new Qt(Wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EW(){return new Qt(Wt.CANCELED,"User canceled the upload/download.")}function AW(t){return new Qt(Wt.INVALID_URL,"Invalid URL '"+t+"'.")}function SW(t){return new Qt(Wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jW(){return new Qt(Wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$6+"' property when initializing the app?")}function NW(){return new Qt(Wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function TW(){return new Qt(Wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function CW(t){return new Qt(Wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function N_(t){return new Qt(Wt.INVALID_ARGUMENT,t)}function B6(){return new Qt(Wt.APP_DELETED,"The Firebase app was deleted.")}function IW(t){return new Qt(Wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nh(t,e){return new Qt(Wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function If(t){throw new Qt(Wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gr.makeFromUrl(e,n)}catch{return new gr(e,"")}if(r.path==="")return r;throw SW(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+a+l,"i"),f={bucket:1,path:3};function h(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},A=n===V6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",I=new RegExp(`^https?://${A}/${a}/${S}`,"i"),k=[{regex:d,indices:f,postModify:s},{regex:w,indices:E,postModify:h},{regex:I,indices:{bucket:1,path:2},postModify:h}];for(let C=0;C<k.length;C++){const P=k[C],z=P.regex.exec(e);if(z){const N=z[P.indices.bucket];let M=z[P.indices.path];M||(M=""),r=new gr(N,M),P.postModify(r);break}}if(r==null)throw AW(e);return r}}class OW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(t,e,n){let r=1,a=null,s=null,l=!1,d=0;function f(){return d===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){a=setTimeout(()=>{a=null,t(w,f())},S)}function x(){s&&clearTimeout(s)}function w(S,...I){if(h){x();return}if(S){x(),p.call(null,S,...I);return}if(f()||l){x(),p.call(null,S,...I);return}r<64&&(r*=2);let k;d===1?(d=2,k=0):k=(r+Math.random())*1e3,g(k)}let E=!1;function A(S){E||(E=!0,x(),!h&&(a!==null?(S||(d=2),clearTimeout(a),g(0)):S||(d=1)))}return g(0),s=setTimeout(()=>{l=!0,A(!0)},n),A}function PW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t){return t!==void 0}function DW(t){return typeof t=="object"&&!Array.isArray(t)}function MA(t){return typeof t=="string"||t instanceof String}function mO(t){return LA()&&t instanceof Blob}function LA(){return typeof Blob<"u"}function T_(t,e,n,r){if(r<e)throw N_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw N_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function F6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Xl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xl||(Xl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e,n,r,a,s,l,d,f,h,p,g,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new ug(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const d=s.getErrorCode()===Xl.NO_ERROR,f=s.getStatus();if(!d||MW(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Xl.ABORT;r(!1,new ug(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new ug(h,s))})},n=(r,a)=>{const s=this.resolve_,l=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());RW(f)?s(f):s()}catch(f){l(f)}else if(d!==null){const f=DA();f.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,f)):l(f)}else if(a.canceled){const f=this.appDelete_?B6():EW();l(f)}else{const f=_W();l(f)}};this.canceled_?n(!1,new ug(!1,null,!0)):this.backoffId_=kW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ug{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function UW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $W(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BW(t,e,n,r,a,s,l=!0,d=!1){const f=F6(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return VW(p,e),UW(p,n),zW(p,s),$W(p,r),new LW(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qW(...t){const e=FW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(LA())return new Blob(t);throw new Qt(Wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(t){if(typeof atob>"u")throw CW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fw{constructor(e,n){this.data=e,this.contentType=n||null}}function KW(t,e){switch(t){case Ti.RAW:return new fw(q6(e));case Ti.BASE64:case Ti.BASE64URL:return new fw(H6(t,e));case Ti.DATA_URL:return new fw(YW(e),QW(e))}throw DA()}function q6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,l=t.charCodeAt(++n);r=65536|(s&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function WW(t){let e;try{e=decodeURIComponent(t)}catch{throw nh(Ti.DATA_URL,"Malformed data URL.")}return q6(e)}function H6(t,e){switch(t){case Ti.BASE64:{const a=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(a||s)throw nh(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ti.BASE64URL:{const a=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(a||s)throw nh(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=GW(e)}catch(a){throw a.message.includes("polyfill")?a:nh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class G6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nh(Ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=XW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function YW(t){const e=new G6(t);return e.base64?H6(Ti.BASE64,e.rest):WW(e.rest)}function QW(t){return new G6(t).contentType}function XW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){let r=0,a="";mO(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(mO(this.data_)){const r=this.data_,a=HW(r,e,n);return a===null?null:new Lo(a)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Lo(r,!0)}}static getBlob(...e){if(LA()){const n=e.map(r=>r instanceof Lo?r.data_:r);return new Lo(qW.apply(null,n))}else{const n=e.map(l=>MA(l)?KW(Ti.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const a=new Uint8Array(r);let s=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)a[s++]=l[d]}),new Lo(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){let e;try{e=JSON.parse(t)}catch{return null}return DW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function JW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function K6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t,e){return e}class mr{constructor(e,n,r,a){this.server=e,this.local=n||e,this.writable=!!r,this.xform=a||eY}}let dg=null;function tY(t){return!MA(t)||t.length<2?t:K6(t)}function zA(){if(dg)return dg;const t=[];t.push(new mr("bucket")),t.push(new mr("generation")),t.push(new mr("metageneration")),t.push(new mr("name","fullPath",!0));function e(s,l){return tY(l)}const n=new mr("name");n.xform=e,t.push(n);function r(s,l){return l!==void 0?Number(l):l}const a=new mr("size");return a.xform=r,t.push(a),t.push(new mr("timeCreated")),t.push(new mr("updated")),t.push(new mr("md5Hash",null,!0)),t.push(new mr("cacheControl",null,!0)),t.push(new mr("contentDisposition",null,!0)),t.push(new mr("contentEncoding",null,!0)),t.push(new mr("contentLanguage",null,!0)),t.push(new mr("contentType",null,!0)),t.push(new mr("metadata","customMetadata",!0)),dg=t,dg}function nY(t,e){function n(){const r=t.bucket,a=t.fullPath,s=new gr(r,a);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function rY(t,e,n){const r={};r.type="file";const a=n.length;for(let s=0;s<a;s++){const l=n[s];r[l.local]=l.xform(r,e[l.server])}return nY(r,t),r}function W6(t,e,n){const r=UA(e);return r===null?null:rY(t,r,n)}function aY(t,e,n,r){const a=UA(e);if(a===null||!MA(a.downloadTokens))return null;const s=a.downloadTokens;if(s.length===0)return null;const l=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,g=t.fullPath,x="/b/"+l(p)+"/o/"+l(g),w=dd(x,n,r),E=F6({alt:"media",token:h});return w+E})[0]}function iY(t,e){const n={},r=e.length;for(let a=0;a<r;a++){const s=e[a];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="prefixes",gO="items";function sY(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[pO])for(const a of n[pO]){const s=a.replace(/\/$/,""),l=t._makeStorageReference(new gr(e,s));r.prefixes.push(l)}if(n[gO])for(const a of n[gO]){const s=t._makeStorageReference(new gr(e,a.name));r.items.push(s)}return r}function oY(t,e,n){const r=UA(n);return r===null?null:sY(t,e,r)}class em{constructor(e,n,r,a){this.url=e,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){if(!t)throw DA()}function Y6(t,e){function n(r,a){const s=W6(t,a,e);return VA(s!==null),s}return n}function lY(t,e){function n(r,a){const s=oY(t,e,a);return VA(s!==null),s}return n}function cY(t,e){function n(r,a){const s=W6(t,a,e);return VA(s!==null),aY(s,a,t.host,t._protocol)}return n}function $A(t){function e(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=bW():a=xW():n.getStatus()===402?a=vW(t.bucket):n.getStatus()===403?a=wW(t.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return e}function BA(t){const e=$A(t);function n(r,a){let s=e(r,a);return r.getStatus()===404&&(s=yW(t.path)),s.serverResponse=a.serverResponse,s}return n}function uY(t,e,n){const r=e.fullServerUrl(),a=dd(r,t.host,t._protocol),s="GET",l=t.maxOperationRetryTime,d=new em(a,s,Y6(t,n),l);return d.errorHandler=BA(e),d}function dY(t,e,n,r,a){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),a&&(s.maxResults=a);const l=e.bucketOnlyServerUrl(),d=dd(l,t.host,t._protocol),f="GET",h=t.maxOperationRetryTime,p=new em(d,f,lY(t,e.bucket),h);return p.urlParams=s,p.errorHandler=$A(e),p}function fY(t,e,n){const r=e.fullServerUrl(),a=dd(r,t.host,t._protocol),s="GET",l=t.maxOperationRetryTime,d=new em(a,s,cY(t,n),l);return d.errorHandler=BA(e),d}function hY(t,e){const n=e.fullServerUrl(),r=dd(n,t.host,t._protocol),a="DELETE",s=t.maxOperationRetryTime;function l(f,h){}const d=new em(r,a,l,s);return d.successCodes=[200,204],d.errorHandler=BA(e),d}function mY(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function pY(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=mY(null,e)),r}function gY(t,e,n,r,a){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let k="";for(let C=0;C<2;C++)k=k+Math.random().toString().slice(2);return k}const f=d();l["Content-Type"]="multipart/related; boundary="+f;const h=pY(e,r,a),p=iY(h,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,x=`\r
--`+f+"--",w=Lo.getBlob(g,r,x);if(w===null)throw NW();const E={name:h.fullPath},A=dd(s,t.host,t._protocol),S="POST",I=t.maxUploadRetryTime,U=new em(A,S,Y6(t,n),I);return U.urlParams=E,U.headers=l,U.body=w.uploadData(),U.errorHandler=$A(e),U}class yY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,a,s){if(this.sent_)throw If("cannot .send() more than once");if(nl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw If("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw If("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw If("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw If("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vY extends yY{initXhr(){this.xhr_.responseType="text"}}function tm(){return new vY}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this._service=e,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new uc(e,n)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K6(this._location.path)}get storage(){return this._service}get parent(){const e=ZW(this._location.path);if(e===null)return null;const n=new gr(this._location.bucket,e);return new uc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw IW(e)}}function xY(t,e,n){t._throwIfRoot("uploadBytes");const r=gY(t.storage,t._location,zA(),new Lo(e,!0),n);return t.storage.makeRequestWithTokens(r,tm).then(a=>({metadata:a,ref:t}))}function bY(t){const e={prefixes:[],items:[]};return Q6(t,e).then(()=>e)}async function Q6(t,e,n){const a=await wY(t,{pageToken:n});e.prefixes.push(...a.prefixes),e.items.push(...a.items),a.nextPageToken!=null&&await Q6(t,e,a.nextPageToken)}function wY(t,e){e!=null&&typeof e.maxResults=="number"&&T_("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=dY(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,tm)}function _Y(t){t._throwIfRoot("getMetadata");const e=uY(t.storage,t._location,zA());return t.storage.makeRequestWithTokens(e,tm)}function EY(t){t._throwIfRoot("getDownloadURL");const e=fY(t.storage,t._location,zA());return t.storage.makeRequestWithTokens(e,tm).then(n=>{if(n===null)throw TW();return n})}function AY(t){t._throwIfRoot("deleteObject");const e=hY(t.storage,t._location);return t.storage.makeRequestWithTokens(e,tm)}function SY(t,e){const n=JW(t._location.path,e),r=new gr(t._location.bucket,n);return new uc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(t){return/^[A-Za-z]+:\/\//.test(t)}function NY(t,e){return new uc(t,e)}function X6(t,e){if(t instanceof FA){const n=t;if(n._bucket==null)throw jW();const r=new uc(n,n._bucket);return e!=null?X6(r,e):r}else return e!==void 0?SY(t,e):t}function TY(t,e){if(e&&jY(e)){if(t instanceof FA)return NY(t,e);throw N_("To use ref(service, url), the first argument must be a Storage instance.")}else return X6(t,e)}function yO(t,e){const n=e==null?void 0:e[$6];return n==null?null:gr.makeFromBucketSpec(n,t)}function CY(t,e,n,r={}){t.host=`${e}:${n}`;const a=nl(e);a&&(UE(`https://${t.host}/b`),zE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:b4(s,t.app.options.projectId))}class FA{constructor(e,n,r,a,s,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=V6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pW,this._maxUploadRetryTime=gW,this._requests=new Set,a!=null?this._bucket=gr.makeFromBucketSpec(a,this._host):this._bucket=yO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=yO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uc(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new OW(B6());{const l=BW(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const vO="@firebase/storage",xO="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="storage";function J6(t,e,n){return t=jt(t),xY(t,e,n)}function IY(t){return t=jt(t),_Y(t)}function OY(t){return t=jt(t),bY(t)}function qA(t){return t=jt(t),EY(t)}function kY(t){return t=jt(t),AY(t)}function py(t,e){return t=jt(t),TY(t,e)}function PY(t=BE(),e){t=jt(t);const r=bv(t,Z6).getImmediate({identifier:e}),a=y4("storage");return a&&RY(r,...a),r}function RY(t,e,n,r={}){CY(t,e,n,r)}function DY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new FA(n,r,a,e,bc)}function MY(){ac(new Ho(Z6,DY,"PUBLIC").setMultipleInstances(!0)),Ii(vO,xO,""),Ii(vO,xO,"esm2020")}MY();const LY={apiKey:"AIzaSyCEEQBoSXPKiG0mEX_H6bA1aSn072FD_DA",authDomain:"gcse-a7ffe.firebaseapp.com",projectId:"gcse-a7ffe",storageBucket:"gcse-a7ffe.firebasestorage.app",messagingSenderId:"266952172762",appId:"1:266952172762:web:9ef234cf67a8ab32afb1e3"},HA=E4(LY),_e=sM(HA),be=tW(HA),yh=PY(HA),UY=new ys,ti=["testadmin@example.com","sami8051@gmail.com"],Xa=["sami8051@gmail.com"],rh={terms:"1.0",privacy:"1.0",educationalDisclaimer:"1.0"},e3=async t=>{try{const e=await Mr(qe(be,"users",t));if(e.exists()){const n=e.data();return n.hasConsented===!0&&n.consentVersion===rh.terms}return!1}catch(e){return console.error("Error checking consent:",e),!1}},Hv=async t=>{try{const e=await Mr(qe(be,"users",t));return e.exists()&&e.data().isAdmin===!0}catch(e){return console.error("Error checking admin status:",e),!1}},t3=async t=>{try{const e=await Mr(qe(be,"users",t));return e.exists()&&e.data().isTeacher===!0}catch(e){return console.error("Error checking teacher status:",e),!1}},n3=async(t,e,n,r,a,s,l,d="email")=>{try{const f=new Date;let h="unknown";try{h=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{console.warn("Could not fetch IP for consent log")}const p=navigator.userAgent,g={userId:t,email:e,ageGroup:n,consents:{termsAndPrivacy:{accepted:r,version:rh.terms,timestamp:f},educationalDisclaimer:{accepted:a,version:rh.educationalDisclaimer,timestamp:f},marketingOptIn:{accepted:l,timestamp:l?f:null}},metadata:{ipAddress:h,userAgent:p,country:"UK"},createdAt:f};return n==="13-15"&&(g.consents.parentalConfirmation={confirmed:s,timestamp:f}),await Qa(qe(be,"userConsents",t),{...g,signUpMethod:d,consentSourcePage:"signup-consent-v1"}),await Qa(qe(be,"users",t),{hasConsented:!0,consentVersion:rh.terms,ageGroup:n,signUpMethod:d,marketingOptIn:l,lastConsentUpdate:or()},{merge:!0}),console.log("Consent saved for user:",t),!0}catch(f){return console.error("Failed to save consent:",f),!1}},r3=async(t,e)=>{try{const n=qe(be,"users",t);return await vr(n,e),console.log("User consent updated for user:",t),!0}catch(n){return console.error("Failed to update user consent:",n),!1}},zY=async(t,e,n,r,a)=>{var s,l;try{await xr(it(be,"activityLogs"),{action:t,actionType:e,userId:((s=_e.currentUser)==null?void 0:s.uid)||"unknown",userEmail:((l=_e.currentUser)==null?void 0:l.email)||"unknown",targetType:n,targetId:r,details:a,timestamp:or()})}catch(d){console.error("Failed to log admin action",d)}},VY=async(t,e,n)=>{var r;try{await xr(it(be,"loginEvents"),{email:t,userId:((r=_e.currentUser)==null?void 0:r.uid)||"unknown",success:e,reason:n,timestamp:or()})}catch(a){console.error("Failed to log login event",a)}},a3=async()=>{try{return(await cq(_e,UY)).user}catch(t){throw console.error("Error signing in",t),t}},i3=async(t,e,n)=>{try{const r=await LF(_e,e,n);return await W4(r.user,{displayName:t}),r.user}catch(r){throw console.error("Error registering",r),r}},s3=async()=>{_e.currentUser&&await zF(_e.currentUser)},GA=async(t,e)=>{try{return await W4(t,e),!0}catch(n){throw console.error("Error updating profile",n),n}},$Y=async(t,e)=>{try{const n=py(yh,`profile_pictures/${t.uid}`);await J6(n,e);const r=await qA(n);return await GA(t,{photoURL:r}),r}catch(n){throw console.error("Error uploading profile picture",n),n}},KA=async(t,e)=>{try{return(await UF(_e,t,e)).user}catch(n){throw console.error("Error signing in with password",n),n}},fd=async()=>{try{await FF(_e)}catch(t){throw console.error("Error signing out",t),t}},o3=async(t,e,n,r)=>{try{const a={userId:t,...e,score:e.totalScore,date:at.now(),paperData:n,fullAnswers:r},s=new Promise((f,h)=>setTimeout(()=>h(new Error("Firestore save timed out")),1e4)),l=xr(it(be,"examResults"),a),d=await Promise.race([l,s]);return console.log("Document written with ID: ",d.id),d.id}catch(a){return console.error("Error adding document: ",a),null}},BY=async(t,e)=>{try{const n=qe(be,"examResults",t);await vr(n,{pdfUrl:e}),console.log("Updated document with PDF URL")}catch(n){console.error("Error updating PDF URL",n)}},gy=async t=>{try{const e=qe(be,"examResults",t);return await cc(e),console.log("Document deleted with ID: ",t),!0}catch(e){return console.error("Error deleting document: ",e),!1}},FY=async(t,e,n)=>{try{const r=py(yh,`exam-pdfs/${t}/${e}.pdf`);await J6(r,n);const a=await qA(r);return console.log("PDF Uploaded to:",a),a}catch(r){return console.error("Error uploading PDF",r),null}},WA=async t=>{console.time("fetchHistory");try{const e=Dr(it(be,"examResults"),Ds("userId","==",t)),r=(await $n(e)).docs.map(a=>({id:a.id,...a.data()}));return r.sort((a,s)=>{const l=d=>d?d.seconds?d.seconds*1e3:new Date(d).getTime():0;return l(s.date)-l(a.date)}),console.timeEnd("fetchHistory"),r.slice(0,20)}catch(e){return console.timeEnd("fetchHistory"),console.error("Error fetching history: ",e),[]}},l3=async(t,e,n,r)=>{try{return await xr(it(be,"labSessions"),{userId:t,method:e,text:n,feedback:r,date:at.now()}),!0}catch(a){return console.error("Error saving lab session:",a),!1}},c3=async t=>{var e;if(t)try{const n=qe(be,"users",t.uid);await Qa(n,{uid:t.uid,email:t.email,displayName:(t==null?void 0:t.displayName)||((e=t==null?void 0:t.email)==null?void 0:e.split("@")[0]),photoURL:t.photoURL,lastActive:at.now()},{merge:!0});const r=await Mr(n);if(r.exists()){const a=r.data();ti.includes(t.email)&&(!a.isAdmin||!a.isApproved)?await vr(n,{isAdmin:!0,isApproved:!0}):(a.isAdmin===void 0||a.isApproved===void 0)&&await vr(n,{isAdmin:a.isAdmin??!1,isApproved:a.isApproved??!1})}else{const a=ti.includes(t.email);await vr(n,{isAdmin:a,isApproved:a})}}catch(n){console.error("Error syncing user profile:",n)}},qY=async(t,e)=>{try{const n=qe(be,"users",t);return await vr(n,{isApproved:e}),!0}catch(n){return console.error("Error updating user status:",n),!1}},Ac=async()=>{try{return(await $n(it(be,"users"))).docs.map(e=>({...e.data(),id:e.id}))}catch(t){return console.error("Admin: Error fetching users",t),[]}},YA=async()=>{try{const t=Dr(it(be,"examResults"),Jh("date","desc"),Fv(100));return(await $n(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Admin: Error fetching exam results",t),[]}},u3=async(t,e)=>{try{const n=qe(be,"examResults",t);return await vr(n,e),!0}catch(n){return console.error("Admin: Error updating exam",n),!1}},d3=async t=>{try{await cc(qe(be,"users",t));const e=Dr(it(be,"examResults"),Ds("userId","==",t)),r=(await $n(e)).docs.map(a=>cc(a.ref));return await Promise.all(r),!0}catch(e){return console.error("Admin: Error deleting user data",e),!1}},QA=Object.freeze(Object.defineProperty({__proto__:null,ADMIN_EMAILS:ti,LEGAL_VERSIONS:rh,SUPER_ADMIN_EMAILS:Xa,auth:_e,checkIsAdmin:Hv,checkIsTeacher:t3,checkUserConsent:e3,db:be,deleteExamResult:gy,deleteUserData:d3,getAllExamResults:YA,getAllUsers:Ac,getUserHistory:WA,logAdminAction:zY,logInWithEmailAndPassword:KA,logLoginEvent:VY,logOut:fd,registerWithEmailAndPassword:i3,saveExamResult:o3,saveLabSession:l3,saveUserConsent:n3,sendVerification:s3,signInWithGoogle:a3,storage:yh,syncUserProfile:c3,updateExamResultData:u3,updateExamWithPdf:BY,updateUserConsent:r3,updateUserProfile:GA,updateUserStatus:qY,uploadExamPdf:FY,uploadProfilePicture:$Y},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),bO=t=>{const e=GY(t);return e.charAt(0).toUpperCase()+e.slice(1)},f3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),KY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:l,...d},f)=>b.createElement("svg",{ref:f,...WY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:f3("lucide",a),...!s&&!KY(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=b.forwardRef(({className:r,...a},s)=>b.createElement(YY,{ref:s,iconNode:e,className:f3(`lucide-${HY(bO(t))}`,`lucide-${t}`,r),...a}));return n.displayName=bO(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],yy=xe("activity",QY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ni=xe("arrow-left",XY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gv=xe("arrow-right",ZY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],hw=xe("arrow-up",JY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],h3=xe("award",eQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nQ=xe("ban",tQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],m3=xe("bell",rQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Bn=xe("book-open",aQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dc=xe("calendar",iQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],p3=xe("chart-column",sQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],lQ=xe("chart-pie",oQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XA=xe("check",cQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],g3=xe("chevron-down",uQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ZA=xe("chevron-left",dQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vh=xe("chevron-right",fQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],y3=xe("chevron-up",hQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gu=xe("circle-alert",mQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wi=xe("circle-check-big",pQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yQ=xe("circle-x",gQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kv=xe("clock",vQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],bQ=xe("cookie",xQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],JA=xe("crown",wQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eS=xe("download",_Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],AQ=xe("external-link",EQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],v3=xe("eye-off",SQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nm=xe("eye",jQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fc=xe("file-text",NQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],wO=xe("flag",TQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],fg=xe("folder",CQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],x3=xe("funnel",IQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Wv=xe("graduation-cap",OQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],PQ=xe("grid-3x3",kQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],DQ=xe("grip-vertical",RQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],LQ=xe("highlighter",MQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vy=xe("house",UQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],VQ=xe("image",zQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],C_=xe("info",$Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],FQ=xe("key",BQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],HQ=xe("layers",qQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tS=xe("layout-dashboard",GQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],WQ=xe("lightbulb",KQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],xy=xe("log-in",YQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ah=xe("lock",QQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hd=xe("log-out",XQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],b3=xe("mail",ZQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],eX=xe("map-pin",JQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nX=xe("menu",tX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],aX=xe("message-square",rX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],w3=xe("moon",iX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],oX=xe("panels-top-left",sX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Bg=xe("pen-tool",lX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yv=xe("pen",cX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nS=xe("plus",uX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],_3=xe("printer",dX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],hX=xe("quote",fX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rS=xe("refresh-cw",mX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],by=xe("save",pX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zr=xe("search",gX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aS=xe("settings",yX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],xX=xe("shield-alert",vX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],wX=xe("shield-off",bX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yi=xe("shield",_X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ea=xe("sparkles",EX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],E3=xe("sun",AX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],A3=xe("target",SX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],mw=xe("toggle-left",jX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],pw=xe("toggle-right",NX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Aa=xe("trash-2",TX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gw=xe("trending-up",CX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mi=xe("triangle-alert",IX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],kX=xe("type",OX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RX=xe("user-check",PX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],MX=xe("user-plus",DX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ku=xe("user",LX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sa=xe("users",UX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ri=xe("x",zX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$X=xe("zap",VX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],FX=xe("zoom-in",BX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],HX=xe("zoom-out",qX);var Gf=(t=>(t.PAPER_1="PAPER_1",t.PAPER_2="PAPER_2",t))(Gf||{});const GX="modulepreload",KX=function(t){return"/"+t},_O={},wy=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=l(n.map(h=>{if(h=KX(h),h in _O)return;_O[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":GX,p||(x.as="script"),x.crossOrigin="",x.href=h,f&&x.setAttribute("nonce",f),document.head.appendChild(x),p)return new Promise((w,E)=>{x.addEventListener("load",w),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return a.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};class xh{constructor(){console.log("GeminiService initialized (Backend Mode)")}async post(e,n){try{const{auth:r}=await wy(async()=>{const{auth:g}=await Promise.resolve().then(()=>QA);return{auth:g}},[]),a=r.currentUser;let s={"Content-Type":"application/json"};if(a){const g=await a.getIdToken();s.Authorization=`Bearer ${g}`}else console.warn(`Attempting to call ${e} without a user. This may fail if the endpoint is protected.`);const l=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";console.log(`[GeminiService Mode Check] Hostname: ${window.location.hostname}, isLocalhost: ${l}, ImportMetaProd: true`);const d=!l,h=`${d?"https://us-central1-gcse-a7ffe.cloudfunctions.net/api":"/api"}/${e}`;console.log(`[GeminiService] Calling ${d?"PRODUCTION":"DEV"} API: ${h}`);const p=await fetch(h,{method:"POST",headers:s,body:JSON.stringify(n)});if(p.status===401||p.status===403)throw new Error(`Authentication Error: ${p.statusText}. Please log in.`);if(!p.ok)throw new Error(`API Error: ${p.statusText}`);return await p.json()}catch(r){throw console.error(`Failed to call ${e}:`,r),r}}async generateExam(e,n="1K"){return this.post("generate-exam",{type:e,imageSize:n})}async markExam(e,n){return this.post("mark-exam",{paper:e,answers:n})}async generateModelAnswers(e){return(await this.post("model-answers",{paper:e})).text}async analyzeTextForMethods(e){return this.post("analyze-text",{text:e})}async evaluateWritingPractice(e,n){return this.post("evaluate-writing",{text:e,targetMethod:n})}async generatePracticeSet(e,n,r){return this.post("generate-practice-set",{topic:e,difficulty:n,numQuestions:r})}}const iS="/assets/logo-BcVET0cA.png",S3=({title:t,description:e})=>(b.useEffect(()=>{if(document.title=`${t} | GoGCSE`,e){let n=document.querySelector("meta[name='description']");n||(n=document.createElement("meta"),n.setAttribute("name","description"),document.head.appendChild(n)),n.setAttribute("content",e)}},[t,e]),null),WX=()=>{const t=Ft(),[e,n]=b.useState(!1),[r,a]=b.useState(""),[s,l]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(""),[g,x]=b.useState(null),[w,E]=b.useState(!1),[A,S]=b.useState({paper1Enabled:!0,paper2Enabled:!0,languageLabEnabled:!0});b.useEffect(()=>{const C=Hh(_e,async P=>{if(x(P),P){c3(P);try{if(ti.includes(P.email||"")){E(!0);return}const z=qe(be,"users",P.uid),N=await Mr(z);N.exists()&&N.data().isApproved?E(!0):E(!1)}catch(z){console.error("Error fetching approval",z),E(!1)}}else E(!1)});return()=>C()},[]),b.useEffect(()=>{(async()=>{try{const P=qe(be,"systemSettings","config"),z=await Mr(P);if(z.exists()){const N=z.data();N.featureFlags&&S({paper1Enabled:N.featureFlags.paper1Enabled??!0,paper2Enabled:N.featureFlags.paper2Enabled??!0,languageLabEnabled:N.featureFlags.languageLabEnabled??!0})}}catch(P){console.error("Failed to load feature flags",P)}})()},[]),b.useEffect(()=>{},[]);const I=async C=>{if(!g){t("/login");return}if(g&&!w){alert("Your account is pending approval. You cannot start an exam yet.");return}if(C===Gf.PAPER_1&&!A.paper1Enabled){alert("Paper 1 is currently disabled.");return}if(C===Gf.PAPER_2&&!A.paper2Enabled){alert("Paper 2 is currently disabled.");return}localStorage.getItem("gemini_api_key"),n(!0),a("Creating your unique exam...");try{const z=await new xh().generateExam(C,"1K");if(z.questions){const N=z.questions.flatMap(M=>M.images||[]);N.length>0&&(a("Preparing materials..."),await Promise.all(N.map(M=>new Promise(T=>{const R=new Image;R.onload=()=>T(!0),R.onerror=()=>T(!1),R.src=M}))))}t(`/exam/${C}`,{state:{examData:z}})}catch(P){console.error(P),alert("Failed to generate exam."),n(!1)}},U=()=>{if(!g){t("/login");return}if(!A.languageLabEnabled){alert("Language Lab is currently disabled.");return}t("/language-lab")},k=()=>{h.trim()&&(localStorage.setItem("gemini_api_key",h.trim()),l(!1),p(""),alert("API key saved!"))};return e?c.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-white",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-20 h-20 border-4 border-indigo-200 rounded-full animate-spin border-t-indigo-600"}),c.jsx(Ea,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-indigo-600",size:32})]}),c.jsx("p",{className:"text-gray-600 mt-8 text-lg",children:r})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-purple-50/30 overflow-y-auto overflow-x-hidden",children:[c.jsx(S3,{title:"Edexcel GCSE English Language Exam Simulator & Practice",description:"Sit realistic Edexcel GCSE English mock exams online. Get instant AI marking, feedback, and grade estimates. Perfect for Paper 1 & 2 revision."}),c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-4",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center bg-white/70 backdrop-blur-xl rounded-2xl px-6 py-3 shadow-lg shadow-purple-500/5 border border-white/50",children:[c.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>t("/"),children:[c.jsx("img",{src:iS,alt:"Logo",className:"w-9 h-9 rounded-xl shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-900 hidden sm:block",children:"Go GCSE"})]}),c.jsx("div",{className:"flex items-center gap-3",children:g?c.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-500/25 transition-all text-sm",children:[c.jsx(tS,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}):c.jsx("button",{onClick:()=>t("/login"),className:"px-5 py-2.5 bg-gray-900 text-white rounded-xl font-semibold hover:bg-gray-800 transition-all text-sm",children:"Sign In"})})]})}),c.jsx("section",{className:"pt-32 pb-20 px-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsxs("div",{className:"inline-flex mb-8 bg-amber-50 border border-amber-200 rounded-lg px-4 py-2 text-xs text-amber-800",children:[c.jsx("span",{className:"font-semibold",children:" Disclaimer:"}),c.jsx("span",{className:"ml-2",children:"This is an independent educational tool. Not affiliated with exam boards or educational authorities."})]}),c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-medium mb-8",children:[c.jsx($X,{size:14}),"Powered by AI"]}),c.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 mb-6 leading-tight tracking-tight",children:["Master Your",c.jsx("span",{className:"block bg-gradient-to-r from-purple-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent py-2",children:"English GCSE"})]}),c.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto mb-12 leading-relaxed",children:"Unlimited AI-generated mock exams with instant marking, grade predictions, and personalized feedback."}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[c.jsxs("button",{onClick:()=>f(!0),disabled:g&&!w,className:`group flex items-center gap-3 px-8 py-4 rounded-2xl font-bold text-lg transition-all ${g&&!w?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800 hover:shadow-xl hover:scale-[1.02]"}`,children:[g&&!w?"Approval Pending":"Start Mock Exam",(!g||w)&&c.jsx(Gv,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),c.jsxs("button",{onClick:U,disabled:!A.languageLabEnabled,className:`flex items-center gap-3 px-8 py-4 rounded-2xl font-bold text-lg border-2 transition-all ${A.languageLabEnabled?"border-gray-200 text-gray-700 hover:border-purple-300 hover:bg-purple-50":"border-gray-100 text-gray-300 cursor-not-allowed"}`,children:[c.jsx(Bg,{size:20}),"Language Lab"]})]})]})}),c.jsx("section",{className:"py-20 px-6",children:c.jsx("div",{className:"max-w-6xl mx-auto",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"group p-8 bg-white rounded-3xl border border-gray-100 hover:border-purple-200 hover:shadow-xl hover:shadow-purple-500/5 transition-all",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:c.jsx(Ea,{size:24,className:"text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"AI-Generated Papers"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Every exam is unique, crafted by advanced AI to match real Edexcel specifications."})]}),c.jsxs("div",{className:"group p-8 bg-white rounded-3xl border border-gray-100 hover:border-purple-200 hover:shadow-xl hover:shadow-purple-500/5 transition-all",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:c.jsx(A3,{size:24,className:"text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Instant Marking"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Get detailed feedback and model answers the moment you submit."})]}),c.jsxs("div",{className:"group p-8 bg-white rounded-3xl border border-gray-100 hover:border-purple-200 hover:shadow-xl hover:shadow-purple-500/5 transition-all",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:c.jsx(h3,{size:24,className:"text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Grade Predictions"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Track your progress with accurate grade estimates based on Edexcel boundaries."})]})]})})}),d&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"Choose Your Paper"}),c.jsx("p",{className:"text-gray-500",children:"Select the type of exam you want to practice."})]}),c.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>{I(Gf.PAPER_1),f(!1)},disabled:!A.paper1Enabled,className:`relative group p-6 rounded-2xl border-2 text-left transition-all ${A.paper1Enabled?"border-gray-100 hover:border-purple-600 hover:bg-purple-50 hover:shadow-xl":"border-gray-100 opacity-50 cursor-not-allowed"}`,children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:c.jsx(Bn,{size:24})}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Fiction & Imaginative Writing"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Paper 1  1 hour 45 mins"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"19th Century Fiction"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"Creative Writing"]})]})]}),c.jsxs("button",{onClick:()=>{I(Gf.PAPER_2),f(!1)},disabled:!A.paper2Enabled,className:`relative group p-6 rounded-2xl border-2 text-left transition-all ${A.paper2Enabled?"border-gray-100 hover:border-teal-600 hover:bg-teal-50 hover:shadow-xl":"border-gray-100 opacity-50 cursor-not-allowed"}`,children:[c.jsx("div",{className:"w-12 h-12 bg-teal-100 text-teal-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:c.jsx(fc,{size:24})}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Non-Fiction & Transactional"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Paper 2  2 hours 05 mins"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-teal-400 rounded-full"}),"20th/21st Century Texts"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-teal-400 rounded-full"}),"Persuasive Writing"]})]})]})]})]})}),s&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure API Key"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Enter your Gemini API key to generate exams."}),c.jsx("div",{className:"bg-purple-50 border border-purple-100 rounded-2xl p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-purple-800",children:["Get your key at ",c.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline font-semibold",children:"Google AI Studio"})]})}),c.jsx("input",{type:"password",value:h,onChange:C=>p(C.target.value),placeholder:"Paste API key...",className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl mb-6 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",onKeyDown:C=>C.key==="Enter"&&k()}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{l(!1),p("")},className:"flex-1 py-4 text-gray-600 font-semibold bg-gray-100 hover:bg-gray-200 rounded-2xl transition-colors",children:"Cancel"}),c.jsx("button",{onClick:k,className:"flex-1 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-2xl hover:shadow-lg transition-all",children:"Save Key"})]})]})})]})},YX=({sources:t=[],isOpen:e,onToggle:n})=>{var x;const[r,a]=b.useState(((x=t==null?void 0:t[0])==null?void 0:x.id)||"A"),[s,l]=b.useState(16),[d,f]=b.useState(1.8),[h,p]=b.useState(!1);b.useEffect(()=>{t&&t.length>0&&a(t[0].id)},[t]);const g=(t==null?void 0:t.find(w=>w.id===r))||(t==null?void 0:t[0]);return e?c.jsxs("div",{className:`fixed inset-y-0 left-0 z-40 w-full md:w-1/2 lg:w-[45%] bg-white shadow-2xl transform transition-transform duration-300 flex flex-col border-r border-gray-200 ${h?"bg-gray-900 text-yellow-50":""}`,children:[c.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${h?"border-gray-700 bg-gray-800":"border-gray-200 bg-edexcel-light"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:n,className:"md:hidden p-1 text-gray-600 hover:bg-black/10 rounded-full",children:c.jsx(ri,{size:20})}),c.jsxs("h2",{className:"font-bold text-lg text-edexcel-dark flex items-center gap-2",children:[c.jsx(HQ,{size:20}),c.jsx("span",{children:"SOURCE BOOKLET"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>l(w=>Math.max(12,w-2)),className:"p-1 hover:bg-black/10 rounded",title:"Decrease Font",children:c.jsx(HX,{size:18})}),c.jsx("button",{onClick:()=>l(w=>Math.min(24,w+2)),className:"p-1 hover:bg-black/10 rounded",title:"Increase Font",children:c.jsx(FX,{size:18})}),c.jsx("button",{onClick:()=>f(w=>w>=2.2?1.6:2.2),className:"p-1 hover:bg-black/10 rounded",title:"Toggle Line Height",children:c.jsx(kX,{size:18})}),c.jsx("button",{onClick:()=>p(!h),className:`p-1 rounded ${h?"bg-yellow-400 text-black":"hover:bg-black/10"}`,title:"High Contrast",children:c.jsx(LQ,{size:18})})]})]}),t&&t.length>1&&c.jsx("div",{className:"flex border-b border-gray-200",children:t.map(w=>c.jsxs("button",{onClick:()=>a(w.id),className:`flex-1 py-3 text-sm font-semibold border-b-2 transition-colors ${r===w.id?"border-edexcel-blue text-edexcel-blue bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} ${h?"bg-gray-800 border-gray-700 text-gray-300":""}`,children:["Source ",w.id]},w.id))}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 source-scroll",children:g?c.jsxs("article",{className:"max-w-2xl mx-auto ",style:{fontSize:`${s}px`,lineHeight:d},children:[c.jsxs("div",{className:`mb-8 p-4 rounded-lg text-sm italic border-l-4 no-print ${h?"bg-gray-800 border-gray-600 text-gray-300":"bg-gray-100 border-gray-400 text-gray-700"}`,children:[c.jsx("strong",{className:`block not-italic mb-1 text-lg ${h?"text-white":"text-gray-900"}`,children:g.title||`Source ${g.id}`}),c.jsxs("div",{className:"text-base font-serif mb-2",children:[g.author&&`By ${g.author}`," ",g.year&&`(${g.year})`]}),c.jsx("p",{className:`mt-2 ${h?"text-gray-400":"text-gray-600"}`,children:g.summary})]}),c.jsx("div",{className:"font-serif select-text relative",style:{textAlign:"justify",textJustify:"inter-word"},children:g.content.split(`
`).filter(w=>w.trim()!=="").map((w,E)=>c.jsx("div",{className:"mb-5",children:c.jsx("p",{className:"mb-0",children:w})},E))})]}):c.jsx("div",{className:"p-8 text-center text-gray-500",children:t.length===0?"Sources are generating...":"No active source selected."})})]}):null},QX=({paper:t,onFinish:e,onDiscard:n})=>{var $,ne,me,Y,oe;const[r,a]=b.useState(0),[s,l]=b.useState({}),[d,f]=b.useState(!0),[h,p]=b.useState(t.timeLimitMinutes*60),[g,x]=b.useState(!1),[w,E]=b.useState(!1),[A,S]=b.useState(!1),[I,U]=b.useState({});b.useEffect(()=>{const H=localStorage.getItem(`exam_draft_${t.id}`);if(H){const K=JSON.parse(H);l(K);const se={};t.questions.forEach(q=>{var re;q.optionalGroup&&((re=K[q.id])!=null&&re.text)&&(se[q.optionalGroup]=q.id)}),U(q=>({...q,...se}))}else{const K={};t.questions.forEach(se=>{K[se.id]={questionId:se.id,text:"",timestamp:Date.now(),isFlagged:!1}}),l(K)}},[t]),b.useEffect(()=>{const H=setInterval(()=>{p(K=>K<=0?(clearInterval(H),0):K-1)},1e3);return()=>clearInterval(H)},[]);const k=H=>{const K=Math.floor(H/3600),se=Math.floor(H%3600/60),q=H%60;return`${K}:${se.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},C=t.questions[r],P=!!C.optionalGroup,z=P?I[C.optionalGroup]:null,N=(H,K)=>{U(q=>({...q,[K]:H}));const se=t.questions.findIndex(q=>q.id===H);se!==-1&&a(se)},M=(($=s[C.id])==null?void 0:$.text)||"",T=H=>{const K={...s,[C.id]:{...s[C.id],text:H,timestamp:Date.now()}};C.optionalGroup&&U(se=>({...se,[C.optionalGroup]:C.id})),l(K),localStorage.setItem(`exam_draft_${t.id}`,JSON.stringify(K))},R=H=>{const K={...s,[C.id]:{...s[C.id],selectedImageIndex:H,timestamp:Date.now()}};l(K)},L=()=>{const H={...s,[C.id]:{...s[C.id],isFlagged:!s[C.id].isFlagged}};l(H),localStorage.setItem(`exam_draft_${t.id}`,JSON.stringify(H))},V=M.trim().split(/\s+/).filter(H=>H.length>0).length;return c.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden font-sans",children:[c.jsx(YX,{sources:t.sources,isOpen:d,onToggle:()=>f(!d)}),c.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${d?"md:ml-[45%] lg:ml-[45%]":""}`,children:[c.jsxs("div",{className:"bg-amber-50 border-b border-amber-200 px-4 lg:px-6 py-3 flex gap-2 items-start",children:[c.jsx(Mi,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-xs text-amber-800 font-medium",children:"This is a practice exam. Grades are AI-generated estimates and not official qualifications. Use for revision purposes only."})]}),c.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 lg:px-6 z-20 shadow-sm shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>f(!d),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${d?"bg-edexcel-dark text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(Bn,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:d?"Hide Sources":"Show Sources"})]}),c.jsx("button",{onClick:()=>S(!A),className:"lg:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-md",children:c.jsx(PQ,{size:20})}),c.jsxs("div",{className:"hidden lg:block",children:[c.jsx("h1",{className:"text-sm font-bold text-gray-800",children:t.title}),c.jsxs("span",{className:"text-xs text-gray-500",children:["Specimen 1EN0  ",t.timeLimitMinutes," mins"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:`flex items-center gap-2 font-mono text-lg font-bold ${h<300?"text-red-600 animate-pulse":"text-edexcel-dark"}`,children:[c.jsx(Kv,{size:20}),k(h)]}),c.jsxs("button",{onClick:()=>E(!0),className:"px-3 md:px-4 py-2 border border-red-200 text-red-600 hover:bg-red-50 rounded-md font-bold text-xs md:text-sm transition-all flex items-center gap-2",title:"Leave & Discard Progress",children:[c.jsx(hd,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Leave Exam"})]}),c.jsx("button",{onClick:()=>x(!0),className:"bg-edexcel-blue hover:bg-edexcel-dark text-white px-4 md:px-6 py-2 rounded-md font-bold text-xs md:text-sm shadow-sm transition-transform active:scale-95",children:"Finish & Submit"})]})]}),c.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[c.jsx("div",{className:`${A?"absolute inset-y-0 left-0 w-64 bg-white shadow-xl z-30 transform translate-x-0":"hidden lg:flex lg:w-20 lg:flex-col lg:items-center lg:border-r lg:bg-gray-50 lg:py-4"} transition-transform duration-200 overflow-y-auto`,children:c.jsxs("div",{className:"w-full px-4 lg:px-2 space-y-2 pb-20 pt-4 lg:pt-0",children:[c.jsxs("div",{className:"flex justify-between items-center lg:hidden mb-4 px-2",children:[c.jsx("h3",{className:"font-bold text-gray-500",children:"Questions"}),c.jsx("button",{onClick:()=>S(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:c.jsx(ri,{size:20,className:"text-gray-500"})})]}),t.questions.map((H,K)=>{var Pe,Nt;const se=s[H.id],q=K===r,re=(se==null?void 0:se.text.length)>5,pe=se==null?void 0:se.isFlagged,ye=H.optionalGroup&&(!((Pe=t.questions[K-1])!=null&&Pe.optionalGroup)||t.questions[K-1].optionalGroup!==H.optionalGroup);H.optionalGroup&&(!((Nt=t.questions[K+1])!=null&&Nt.optionalGroup)||(t.questions[K+1].optionalGroup,H.optionalGroup));const Ce=H.optionalGroup?I[H.optionalGroup]===H.id:!0,ke=H.optionalGroup&&I[H.optionalGroup]&&!Ce;return c.jsxs("div",{children:[ye&&c.jsx("div",{className:"text-[10px] text-center uppercase font-bold text-gray-400 mt-2 mb-1",children:"OR"}),c.jsxs("button",{onClick:()=>{a(K),S(!1),H.optionalGroup&&N(H.id,H.optionalGroup)},className:`w-full lg:w-12 lg:h-12 flex items-center lg:justify-center px-4 py-3 lg:p-0 rounded-lg text-left lg:text-center text-sm font-bold transition-all
                          ${q?"bg-edexcel-blue text-white shadow-md ring-2 ring-blue-300":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-100"}
                          ${pe?"ring-2 ring-orange-400":""}
                          ${re&&!q?"bg-blue-50 border-blue-200 text-edexcel-dark":""}
                          ${ke?"opacity-40 grayscale":""}
                        `,children:[c.jsx("span",{className:"lg:hidden mr-2",children:"Question"}),H.number,pe&&c.jsx(wO,{size:10,className:"ml-auto lg:absolute lg:top-1 lg:right-1 text-orange-500"})]})]},H.id)})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-3 md:p-4 lg:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[P&&c.jsxs("div",{className:"mb-6 bg-white p-4 rounded-lg shadow-sm border border-purple-200 flex flex-col sm:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Mi,{className:"text-purple-600",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Choice of Question"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["You must answer EITHER Question ",t.questions.filter(H=>H.optionalGroup===C.optionalGroup)[0].number," OR Question ",t.questions.filter(H=>H.optionalGroup===C.optionalGroup)[1].number,"."]})]})]}),c.jsx("div",{className:"flex gap-2",children:t.questions.filter(H=>H.optionalGroup===C.optionalGroup).map(H=>c.jsxs("button",{onClick:()=>N(H.id,H.optionalGroup),className:`px-4 py-2 rounded text-sm font-bold border ${I[H.optionalGroup]===H.id?"bg-purple-600 text-white border-purple-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:["Q",H.number]},H.id))})]}),c.jsxs("div",{className:`bg-white rounded-xl shadow-sm border transition-opacity duration-300 ${P&&z&&z!==C.id?"opacity-50 pointer-events-none grayscale":"opacity-100 border-gray-200"}`,children:[c.jsxs("div",{className:"p-4 md:p-6 lg:p-10 border-b border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2",children:[c.jsxs("span",{className:"bg-edexcel-dark text-white px-3 py-1 rounded text-xs md:text-sm font-bold shadow-sm",children:["Question ",C.number]}),P&&c.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Option"})]}),c.jsxs("div",{className:"text-xs md:text-sm font-medium text-gray-500",children:[C.marks," Marks  ",C.aos.join(", ")]})]}),c.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-gray-400 uppercase tracking-wide bg-gray-100 px-2 py-1 rounded",children:["Section ",C.section]})]}),C.sourceRef&&c.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-100 rounded-lg p-3 flex items-start gap-3",children:[c.jsx(Bn,{className:"text-edexcel-blue mt-0.5 shrink-0",size:18}),c.jsxs("div",{className:"text-xs md:text-sm text-edexcel-dark font-medium",children:["Refer to: ",C.sourceRef]})]}),c.jsx("h2",{className:"text-lg md:text-xl lg:text-2xl font-serif text-gray-900 leading-relaxed",children:C.text}),C.images&&C.images.length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsx("p",{className:"text-sm font-bold text-gray-500 mb-4 uppercase tracking-wider",children:"Select an image prompt:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.images.map((H,K)=>{var se,q;return c.jsxs("div",{onClick:()=>R(K),className:`relative group cursor-pointer rounded-lg overflow-hidden border-4 transition-all ${((se=s[C.id])==null?void 0:se.selectedImageIndex)===K?"border-edexcel-blue ring-4 ring-blue-100":"border-transparent hover:border-gray-300"}`,children:[c.jsx("img",{src:H,alt:`Prompt ${K+1}`,className:"w-full h-48 object-cover"}),c.jsxs("div",{className:"absolute top-2 left-2 bg-black/60 text-white px-2 py-1 rounded text-xs font-bold backdrop-blur-sm",children:["Option ",K+1]}),((q=s[C.id])==null?void 0:q.selectedImageIndex)===K&&c.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center backdrop-blur-[1px]",children:c.jsx(Wi,{className:"text-white drop-shadow-md",size:48})})]},K)})})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:M,onChange:H=>T(H.target.value),className:"w-full min-h-[400px] p-4 md:p-10 text-base md:text-lg leading-relaxed bg-white rounded-b-xl focus:bg-blue-50/30 outline-none resize-y font-serif",placeholder:P&&z!==C.id?"You have selected the other option.":"Start typing your answer here...",spellCheck:!1,disabled:P&&z!==C.id}),c.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-4 text-xs text-gray-400 font-sans pointer-events-none bg-white/80 p-2 rounded backdrop-blur",children:[c.jsxs("span",{className:(ne=s[C.id])!=null&&ne.text?"text-green-600 flex items-center gap-1":"opacity-0",children:[c.jsx(by,{size:12})," Saved"]}),c.jsxs("span",{children:[V," words ",C.wordCountTarget?`/ ~${C.wordCountTarget}`:""]})]})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-8",children:[c.jsxs("button",{disabled:r===0,onClick:()=>a(H=>H-1),className:"flex items-center gap-2 px-4 md:px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 transition-colors shadow-sm text-sm md:text-base",children:[c.jsx(ZA,{size:20})," ",c.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),c.jsxs("button",{onClick:L,className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded transition-colors ${(me=s[C.id])!=null&&me.isFlagged?"text-orange-600 bg-orange-50":"text-gray-500 hover:bg-gray-100"}`,children:[c.jsx(wO,{size:16,fill:(Y=s[C.id])!=null&&Y.isFlagged?"currentColor":"none"}),(oe=s[C.id])!=null&&oe.isFlagged?"Flagged":"Flag"]}),c.jsxs("button",{disabled:r===t.questions.length-1,onClick:()=>a(H=>H+1),className:"flex items-center gap-2 px-4 md:px-6 py-3 bg-edexcel-dark text-white rounded-lg font-medium hover:bg-gray-800 disabled:opacity-50 transition-colors shadow-sm text-sm md:text-base",children:[c.jsx("span",{className:"hidden sm:inline",children:"Next"})," ",c.jsx(vh,{size:20})]})]})]})})]})]}),g&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-8 shadow-2xl",children:[c.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900",children:"Finish Exam?"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["You are about to submit your assessment.",c.jsx("br",{}),"Note: Unanswered optional questions will be ignored."]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"text-gray-600",children:"Answered"}),c.jsxs("span",{className:"font-bold",children:[Object.values(s).filter(H=>H.text.trim().length>0).length," Questions"]})]}),c.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-edexcel-blue",style:{width:`${Object.values(s).filter(H=>H.text.trim().length>0).length/t.questions.length*100}%`}})})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-3 text-gray-700 font-medium bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Return"}),c.jsx("button",{onClick:()=>{localStorage.removeItem(`exam_draft_${t.id}`);const H=t.timeLimitMinutes*60-h;e(s,H)},className:"flex-1 py-3 bg-edexcel-blue text-white font-bold rounded-lg hover:bg-edexcel-dark shadow-lg transition-colors",children:"Submit Now"})]})]})}),w&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-8 shadow-2xl",children:[c.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-600 rounded-full flex items-center justify-center mb-6 mx-auto",children:c.jsx(Mi,{size:32})}),c.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900 text-center",children:"Discard Exam?"}),c.jsxs("p",{className:"text-gray-600 mb-8 text-center",children:["Are you sure you want to leave? All your progress and answers for this paper will be ",c.jsx("strong",{children:"permanently deleted"}),"."]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 text-gray-700 font-medium bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Stay & Continue"}),c.jsx("button",{onClick:()=>{localStorage.removeItem(`exam_draft_${t.id}`),n()},className:"flex-1 py-3 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 shadow-lg transition-colors",children:"Discard & Exit"})]})]})})]})},XX=()=>{var d;const t=ra(),e=Ft(),n=(d=t.state)==null?void 0:d.examData,[r,a]=b.useState(!1);if(!n)return c.jsx(Ss,{to:"/"});const s=async(f,h)=>{console.log("Starting handleFinishExam with answers:",f),a(!0);try{const p=new xh;console.log("Calling gemini.markExam...");const g=await p.markExam(n,f);console.log("gemini.markExam completed:",g),g.duration=h,console.log("Calling gemini.generateModelAnswers...");const x=await p.generateModelAnswers(n);if(console.log("gemini.generateModelAnswers completed"),g.generatedModelAnswers=x,_e.currentUser){const w=_e.currentUser.uid;console.log("Saving result to Firebase for user:",w);const E=await o3(w,g,n,f);if(E){console.log("Save to Firebase successful, ID:",E);try{const{PdfService:A}=await wy(async()=>{const{PdfService:C}=await import("./PdfService-VCq_MJee.js").then(P=>P.P);return{PdfService:C}},[]),S=A.generateExamPdf(g,n),{uploadExamPdf:I,updateExamWithPdf:U}=await wy(async()=>{const{uploadExamPdf:C,updateExamWithPdf:P}=await Promise.resolve().then(()=>QA);return{uploadExamPdf:C,updateExamWithPdf:P}},void 0),k=await I(w,E,S);k&&(await U(E,k),console.log("PDF linked to exam result successfully"))}catch(A){console.error("PDF Generation/Upload Failed:",A)}}else console.error("Failed to save exam result document")}else console.log("Skipping Firebase save: User not logged in");console.log("Navigating to /results..."),e("/results",{state:{examResult:g,examData:n,answers:f}})}catch(p){console.error("Marking failed DETAILS:",p);let g="Marking failed. Please try again.";p.message.includes("API key")&&(g="AI Marking unavailable: Missing API Key."),p.message.includes("generate content")&&(g="AI Service Error: Failed to generate report."),alert(`${g}

Technical Details: ${p.message||p}`),a(!1)}},l=()=>{e("/dashboard")};return r?c.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 text-center p-8",children:[c.jsx("div",{className:"animate-spin text-edexcel-blue mb-6",children:c.jsx(Ea,{size:48})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Grading Assessment"}),c.jsx("p",{className:"text-gray-500 max-w-md",children:"AI Examiner is marking your scripts against the Edexcel 1EN0 criteria..."})]}):c.jsx(QX,{paper:n,onFinish:s,onDiscard:l})};function j3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=j3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=j3(t))&&(r&&(r+=" "),r+=e);return r}var ZX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sS(t){if(typeof t!="string")return!1;var e=ZX;return e.includes(t)}var JX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eZ=new Set(JX);function N3(t){return typeof t!="string"?!1:eZ.has(t)}function T3(t){return typeof t=="string"&&t.startsWith("data-")}function br(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(N3(n)||T3(n))&&(e[n]=t[n]);return e}function hc(t){if(t==null)return null;if(b.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return br(e)}return typeof t=="object"&&!Array.isArray(t)?br(t):null}function ur(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(N3(n)||T3(n)||sS(n))&&(e[n]=t[n]);return e}function tZ(t){return t==null?null:b.isValidElement(t)?ur(t.props):typeof t=="object"&&!Array.isArray(t)?ur(t):null}var nZ=["children","width","height","viewBox","className","style","title","desc"];function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(null,arguments)}function rZ(t,e){if(t==null)return{};var n,r,a=aZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function aZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C3=b.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:l,style:d,title:f,desc:h}=t,p=rZ(t,nZ),g=s||{width:r,height:a,x:0,y:0},x=lt("recharts-surface",l);return b.createElement("svg",I_({},ur(p),{className:x,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),b.createElement("title",null,f),b.createElement("desc",null,h),n)}),iZ=["children","className"];function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(null,arguments)}function sZ(t,e){if(t==null)return{};var n,r,a=oZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function oZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yt=b.forwardRef((t,e)=>{var{children:n,className:r}=t,a=sZ(t,iZ),s=lt("recharts-layer",r);return b.createElement("g",O_({className:s},ur(a),{ref:e}),n)}),lZ=b.createContext(null);function Tt(t){return function(){return t}}const I3=Math.cos,_y=Math.sin,ai=Math.sqrt,Ey=Math.PI,Qv=2*Ey,k_=Math.PI,P_=2*k_,Bl=1e-6,cZ=P_-Bl;function O3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return O3;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class dZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?O3:uZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=r-e,h=a-n,p=l-e,g=d-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>Bl)if(!(Math.abs(g*f-h*p)>Bl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,E=a-d,A=f*f+h*h,S=w*w+E*E,I=Math.sqrt(A),U=Math.sqrt(x),k=s*Math.tan((k_-Math.acos((A+x-S)/(2*I*U)))/2),C=k/U,P=k/I;Math.abs(C-1)>Bl&&this._append`L${e+C*p},${n+C*g}`,this._append`A${s},${s},0,0,${+(g*w>p*E)},${this._x1=e+P*f},${this._y1=n+P*h}`}}arc(e,n,r,a,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),f=r*Math.sin(a),h=e+d,p=n+f,g=1^l,x=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Bl||Math.abs(this._y1-p)>Bl)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%P_+P_),x>cZ?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>Bl&&this._append`A${r},${r},0,${+(x>=k_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function oS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new dZ(e)}function lS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function k3(t){this._context=t}k3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xv(t){return new k3(t)}function P3(t){return t[0]}function R3(t){return t[1]}function D3(t,e){var n=Tt(!0),r=null,a=Xv,s=null,l=oS(d);t=typeof t=="function"?t:t===void 0?P3:Tt(t),e=typeof e=="function"?e:e===void 0?R3:Tt(e);function d(f){var h,p=(f=lS(f)).length,g,x=!1,w;for(r==null&&(s=a(w=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,h,f),+e(g,h,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Tt(!!f),d):n},d.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),d):a},d.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),d):r},d}function hg(t,e,n){var r=null,a=Tt(!0),s=null,l=Xv,d=null,f=oS(h);t=typeof t=="function"?t:t===void 0?P3:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?R3:Tt(+n);function h(g){var x,w,E,A=(g=lS(g)).length,S,I=!1,U,k=new Array(A),C=new Array(A);for(s==null&&(d=l(U=f())),x=0;x<=A;++x){if(!(x<A&&a(S=g[x],x,g))===I)if(I=!I)w=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=x-1;E>=w;--E)d.point(k[E],C[E]);d.lineEnd(),d.areaEnd()}I&&(k[x]=+t(S,x,g),C[x]=+e(S,x,g),d.point(r?+r(S,x,g):k[x],n?+n(S,x,g):C[x]))}if(U)return d=null,U+""||null}function p(){return D3().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Tt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Tt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Tt(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class M3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fZ(t){return new M3(t,!0)}function hZ(t){return new M3(t,!1)}const cS={draw(t,e){const n=ai(e/Ey);t.moveTo(n,0),t.arc(0,0,n,0,Qv)}},mZ={draw(t,e){const n=ai(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},L3=ai(1/3),pZ=L3*2,gZ={draw(t,e){const n=ai(e/pZ),r=n*L3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},yZ={draw(t,e){const n=ai(e),r=-n/2;t.rect(r,r,n,n)}},vZ=.8908130915292852,U3=_y(Ey/10)/_y(7*Ey/10),xZ=_y(Qv/10)*U3,bZ=-I3(Qv/10)*U3,wZ={draw(t,e){const n=ai(e*vZ),r=xZ*n,a=bZ*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const l=Qv*s/5,d=I3(l),f=_y(l);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*a,f*r+d*a)}t.closePath()}},yw=ai(3),_Z={draw(t,e){const n=-ai(e/(yw*3));t.moveTo(0,n*2),t.lineTo(-yw*n,-n),t.lineTo(yw*n,-n),t.closePath()}},ya=-.5,va=ai(3)/2,R_=1/ai(12),EZ=(R_/2+1)*3,AZ={draw(t,e){const n=ai(e/EZ),r=n/2,a=n*R_,s=r,l=n*R_+n,d=-s,f=l;t.moveTo(r,a),t.lineTo(s,l),t.lineTo(d,f),t.lineTo(ya*r-va*a,va*r+ya*a),t.lineTo(ya*s-va*l,va*s+ya*l),t.lineTo(ya*d-va*f,va*d+ya*f),t.lineTo(ya*r+va*a,ya*a-va*r),t.lineTo(ya*s+va*l,ya*l-va*s),t.lineTo(ya*d+va*f,ya*f-va*d),t.closePath()}};function SZ(t,e){let n=null,r=oS(a);t=typeof t=="function"?t:Tt(t||cS),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Ay(){}function Sy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function z3(t){this._context=t}z3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jZ(t){return new z3(t)}function V3(t){this._context=t}V3.prototype={areaStart:Ay,areaEnd:Ay,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NZ(t){return new V3(t)}function $3(t){this._context=t}$3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TZ(t){return new $3(t)}function B3(t){this._context=t}B3.prototype={areaStart:Ay,areaEnd:Ay,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function CZ(t){return new B3(t)}function EO(t){return t<0?-1:1}function AO(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),d=(s*a+l*r)/(r+a);return(EO(s)+EO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function SO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vw(t,e,n){var r=t._x0,a=t._y0,s=t._x1,l=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,a+d*e,s-d,l-d*n,s,l)}function jy(t){this._context=t}jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vw(this,this._t0,SO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vw(this,SO(this,n=AO(this,t,e)),n);break;default:vw(this,this._t0,n=AO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function F3(t){this._context=new q3(t)}(F3.prototype=Object.create(jy.prototype)).point=function(t,e){jy.prototype.point.call(this,e,t)};function q3(t){this._context=t}q3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function IZ(t){return new jy(t)}function OZ(t){return new F3(t)}function H3(t){this._context=t}H3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jO(t),a=jO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jO(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function kZ(t){return new H3(t)}function Zv(t,e){this._context=t,this._t=e}Zv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function PZ(t){return new Zv(t,.5)}function RZ(t){return new Zv(t,0)}function DZ(t){return new Zv(t,1)}function Wu(t,e){if((l=t.length)>1)for(var n=1,r,a,s=t[e[0]],l,d=s.length;n<l;++n)for(a=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function D_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function MZ(t,e){return t[e]}function LZ(t){const e=[];return e.key=t,e}function UZ(){var t=Tt([]),e=D_,n=Wu,r=MZ;function a(s){var l=Array.from(t.apply(this,arguments),LZ),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+r(g,l[d].key,h,s)]).data=g;for(d=0,p=lS(e(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Tt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?D_:typeof s=="function"?s:Tt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Wu,a):n},a}function zZ(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,l;a<s;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Wu(t,e)}}function VZ(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var l=0,d=0;l<a;++l)d+=t[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}Wu(t,e)}}function $Z(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,l;r<s;++r){for(var d=0,f=0,h=0;d<l;++d){for(var p=t[e[d]],g=p[r][1]||0,x=p[r-1][1]||0,w=(g-x)/2,E=0;E<d;++E){var A=t[e[E]],S=A[r][1]||0,I=A[r-1][1]||0;w+=S-I}f+=g,h+=w*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Wu(t,e)}}var xw={},bw={},NO;function BZ(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(bw)),bw}var ww={},TO;function G3(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ww)),ww}var _w={},CO;function uS(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(_w)),_w}var Ew={},Aw={},IO;function FZ(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Aw)),Aw}var OO;function dS(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FZ(),n=uS();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],l=a.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=a[d];h?g==="\\"&&d+1<l?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(Ew)),Ew}var kO;function fS(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BZ(),n=G3(),r=uS(),a=dS();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(xw)),xw}var Sw,PO;function qZ(){return PO||(PO=1,Sw=fS().get),Sw}var HZ=qZ();const mc=Hi(HZ);var Vn=t=>t===0?0:t>0?1:-1,Ta=t=>typeof t=="number"&&t!=+t,Ms=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ae=t=>(typeof t=="number"||t instanceof Number)&&!Ta(t),zi=t=>Ae(t)||typeof t=="string",GZ=0,bh=t=>{var e=++GZ;return"".concat(t||"").concat(e)},lr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&typeof e!="string")return r;var s;if(Ms(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Ta(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},K3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function ft(t,e,n){return Ae(t)&&Ae(e)?t+n*(e-t):e}function W3(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):mc(r,e))===n)}var Pt=t=>t===null||typeof t>"u",rm=t=>Pt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function KZ(t){return t!=null}function am(){}var WZ=["type","size","sizeType"];function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(null,arguments)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){YZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YZ(t,e,n){return(e=QZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QZ(t){var e=XZ(t,"string");return typeof e=="symbol"?e:e+""}function XZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZZ(t,e){if(t==null)return{};var n,r,a=JZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function JZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Y3={symbolCircle:cS,symbolCross:mZ,symbolDiamond:gZ,symbolSquare:yZ,symbolStar:wZ,symbolTriangle:_Z,symbolWye:AZ},eJ=Math.PI/180,tJ=t=>{var e="symbol".concat(rm(t));return Y3[e]||cS},nJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*eJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rJ=(t,e)=>{Y3["symbol".concat(rm(t))]=e},Q3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=ZZ(t,WZ),s=DO(DO({},a),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var d=()=>{var x=tJ(l),w=SZ().type(x).size(nJ(n,r,l)),E=w();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=ur(s);return Ae(h)&&Ae(p)&&Ae(n)?b.createElement("path",M_({},g,{className:lt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Q3.registerSymbol=rJ;var X3=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,hS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{sS(a)&&(r[a]=(s=>n[a](n,s)))}),r},aJ=(t,e,n)=>r=>(t(e,n,r),null),Jv=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];sS(a)&&typeof s=="function"&&(r||(r={}),r[a]=aJ(s,e,n))}),r};function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){sJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=lJ(t,"string");return typeof e=="symbol"?e:e+""}function lJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function En(t,e){var n=iJ({},t),r=e,a=Object.keys(e),s=a.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return s}var jw={},Nw={},LO;function cJ(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const l=n[s],d=r(l);a.has(d)||a.set(d,l)}return Array.from(a.values())}t.uniqBy=e})(Nw)),Nw}var Tw={},UO;function Z3(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Tw)),Tw}var Cw={},Iw={},Ow={},zO;function uJ(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Ow)),Ow}var VO;function mS(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Iw)),Iw}var kw={},$O;function dJ(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(kw)),kw}var BO;function fJ(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mS(),n=dJ();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(Cw)),Cw}var Pw={},Rw={},FO;function hJ(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fS();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Rw)),Rw}var Dw={},Mw={},Lw={},Uw={},qO;function J3(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Uw)),Uw}var zw={},HO;function e5(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(zw)),zw}var Vw={},GO;function t5(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Vw)),Vw}var KO;function mJ(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J3(),n=e5(),r=t5();function a(p,g,x){return typeof x!="function"?a(p,g,()=>{}):s(p,g,function w(E,A,S,I,U,k){const C=x(E,A,S,I,U,k);return C!==void 0?!!C:s(E,A,w,k)},new Map)}function s(p,g,x,w){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,x,w);case"function":return Object.keys(g).length>0?s(p,{...g},x,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,x,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,w);if(g instanceof Map)return d(p,g,x,w);if(g instanceof Set)return h(p,g,x,w);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let A=0;A<E.length;A++){const S=E[A];if(!n.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!x(p[S],g[S],S,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function d(p,g,x,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,A]of g.entries()){const S=p.get(E);if(x(S,A,E,p,g,w)===!1)return!1}return!0}function f(p,g,x,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let A=0;A<g.length;A++){const S=g[A];let I=!1;for(let U=0;U<p.length;U++){if(E.has(U))continue;const k=p[U];let C=!1;if(x(k,S,A,p,g,w)&&(C=!0),C){E.add(U),I=!0;break}}if(!I)return!1}return!0}function h(p,g,x,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,w):!1}t.isMatchWith=a,t.isSetMatch=h})(Lw)),Lw}var WO;function n5(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mJ();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Mw)),Mw}var $w={},Bw={},Fw={},YO;function pJ(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Fw)),Fw}var qw={},QO;function r5(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(qw)),qw}var Hw={},XO;function a5(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",w="[object Object]",E="[object Error]",A="[object DataView]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",U="[object Uint16Array]",k="[object Uint32Array]",C="[object BigUint64Array]",P="[object Int8Array]",z="[object Int16Array]",N="[object Int32Array]",M="[object BigInt64Array]",T="[object Float32Array]",R="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=C,t.booleanTag=a,t.dataViewTag=A,t.dateTag=d,t.errorTag=E,t.float32ArrayTag=T,t.float64ArrayTag=R,t.functionTag=g,t.int16ArrayTag=z,t.int32ArrayTag=N,t.int8ArrayTag=P,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=U,t.uint32ArrayTag=k,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=I})(Hw)),Hw}var Gw={},ZO;function gJ(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Gw)),Gw}var JO;function i5(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pJ(),n=r5(),r=a5(),a=e5(),s=gJ();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,w=new Map,E=void 0){const A=E==null?void 0:E(p,g,x,w);if(A!==void 0)return A;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const S=new Array(p.length);w.set(p,S);for(let I=0;I<p.length;I++)S[I]=d(p[I],I,x,w,E);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;w.set(p,S);for(const[I,U]of p)S.set(I,d(U,I,x,w,E));return S}if(p instanceof Set){const S=new Set;w.set(p,S);for(const I of p)S.add(d(I,void 0,x,w,E));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,S);for(let I=0;I<p.length;I++)S[I]=d(p[I],I,x,w,E);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,S),f(S,p,x,w,E),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return w.set(p,S),f(S,p,x,w,E),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return w.set(p,S),f(S,p,x,w,E),S}if(p instanceof Error){const S=new p.constructor;return w.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,x,w,E),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return w.set(p,S),f(S,p,x,w,E),S}if(p instanceof Number){const S=new Number(p.valueOf());return w.set(p,S),f(S,p,x,w,E),S}if(p instanceof String){const S=new String(p.valueOf());return w.set(p,S),f(S,p,x,w,E),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return w.set(p,S),f(S,p,x,w,E),S}return p}function f(p,g,x=p,w,E){const A=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<A.length;S++){const I=A[S],U=Object.getOwnPropertyDescriptor(p,I);(U==null||U.writable)&&(p[I]=d(g[I],I,x,w,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=d,t.copyProperties=f})(Bw)),Bw}var ek;function yJ(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})($w)),$w}var tk;function vJ(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n5(),n=yJ();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(Dw)),Dw}var Kw={},Ww={},Yw={},nk;function xJ(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i5(),n=a5();function r(a,s){return e.cloneDeepWith(a,(l,d,f,h)=>{const p=s==null?void 0:s(l,d,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Yw)),Yw}var rk;function bJ(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Ww)),Ww}var Qw={},Xw={},ak;function s5(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Xw)),Xw}var Zw={},ik;function wJ(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r5();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Zw)),Zw}var sk;function _J(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G3(),n=s5(),r=wJ(),a=dS();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Qw)),Qw}var ok;function EJ(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n5(),n=uS(),r=bJ(),a=fS(),s=_J();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(Kw)),Kw}var lk;function AJ(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z3(),n=hJ(),r=vJ(),a=EJ();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Pw)),Pw}var ck;function SJ(){return ck||(ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cJ(),n=Z3(),r=fJ(),a=AJ();function s(l,d=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(d)):[]}t.uniqBy=s})(jw)),jw}var Jw,uk;function jJ(){return uk||(uk=1,Jw=SJ().uniqBy),Jw}var NJ=jJ();const dk=Hi(NJ);function TJ(t,e,n){return e===!0?dk(t,n):typeof e=="function"?dk(t,e):t}var e1={exports:{}},t1={},n1={exports:{}},r1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk;function CJ(){if(fk)return r1;fk=1;var t=td();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(g,x){var w=x(),E=r({inst:{value:w,getSnapshot:x}}),A=E[0].inst,S=E[1];return s(function(){A.value=w,A.getSnapshot=x,f(A)&&S({inst:A})},[g,w,x]),a(function(){return f(A)&&S({inst:A}),g(function(){f(A)&&S({inst:A})})},[g]),l(w),w}function f(g){var x=g.getSnapshot;g=g.value;try{var w=x();return!n(g,w)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return r1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,r1}var hk;function IJ(){return hk||(hk=1,n1.exports=CJ()),n1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk;function OJ(){if(mk)return t1;mk=1;var t=td(),e=IJ();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return t1.useSyncExternalStoreWithSelector=function(h,p,g,x,w){var E=s(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=d(function(){function I(z){if(!U){if(U=!0,k=z,z=x(z),w!==void 0&&A.hasValue){var N=A.value;if(w(N,z))return C=N}return C=z}if(N=C,r(k,z))return N;var M=x(z);return w!==void 0&&w(N,M)?(k=z,N):(k=z,C=M)}var U=!1,k,C,P=g===void 0?null:g;return[function(){return I(p())},P===null?void 0:function(){return I(P())}]},[p,g,x,w]);var S=a(h,E[0],E[1]);return l(function(){A.hasValue=!0,A.value=S},[S]),f(S),S},t1}var pk;function kJ(){return pk||(pk=1,e1.exports=OJ()),e1.exports}var PJ=kJ(),pS=b.createContext(null),RJ=t=>t,Vt=()=>{var t=b.useContext(pS);return t?t.store.dispatch:RJ},Fg=()=>{},DJ=()=>Fg,MJ=(t,e)=>t===e;function Ne(t){var e=b.useContext(pS);return PJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:DJ,e?e.store.getState:Fg,e?e.store.getState:Fg,e?t:Fg,MJ)}function LJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function UJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function zJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var gk=t=>Array.isArray(t)?t:[t];function VJ(t){const e=Array.isArray(t[0])?t[0]:t;return zJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function $J(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var BJ=class{constructor(t){this.value=t}deref(){return this.value}},FJ=typeof WeakRef<"u"?WeakRef:BJ,qJ=0,yk=1;function mg(){return{s:qJ,v:void 0,o:null,p:null}}function o5(t,e={}){let n=mg();const{resultEqualityCheck:r}=e;let a,s=0;function l(){var g;let d=n;const{length:f}=arguments;for(let x=0,w=f;x<w;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=d.o;A===null&&(d.o=A=new WeakMap);const S=A.get(E);S===void 0?(d=mg(),A.set(E,d)):d=S}else{let A=d.p;A===null&&(d.p=A=new Map);const S=A.get(E);S===void 0?(d=mg(),A.set(E,d)):d=S}}const h=d;let p;if(d.s===yk)p=d.v;else if(p=t.apply(null,arguments),s++,r){const x=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;x!=null&&r(x,p)&&(p=x,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new FJ(p):p}return h.s=yk,h.v=p,p}return l.clearCache=()=>{n=mg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function HJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,l=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),LJ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:w=o5,argsMemoizeOptions:E=[]}=p,A=gk(x),S=gk(E),I=VJ(a),U=g(function(){return s++,h.apply(null,arguments)},...A),k=w(function(){l++;const P=$J(I,arguments);return d=U.apply(null,P),d},...S);return Object.assign(k,{resultFunc:h,memoizedResultFunc:U,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var J=HJ(o5),GJ=Object.assign((t,e=J)=>{UJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>GJ}),a1={},i1={},s1={},vk;function KJ(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const l=e(r),d=e(a);if(l===d&&l===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};t.compareValues=n})(s1)),s1}var o1={},l1={},xk;function l5(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(l1)),l1}var bk;function WJ(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=a})(o1)),o1}var wk;function YJ(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KJ(),n=WJ(),r=dS();function a(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const h=(w,E)=>{let A=w;for(let S=0;S<E.length&&A!=null;++S)A=A[E[S]];return A},p=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:h(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?h(E,w):typeof E=="object"?E[w]:E,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(E=>p(E,w))})).slice().sort((w,E)=>{for(let A=0;A<g.length;A++){const S=e.compareValues(w.criteria[A],E.criteria[A],d[A]);if(S!==0)return S}return 0}).map(w=>w.original)}t.orderBy=a})(i1)),i1}var c1={},_k;function QJ(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(n,0),a}t.flatten=e})(c1)),c1}var u1={},Ek;function c5(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s5(),n=mS(),r=J3(),a=t5();function s(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.eq(f[d],l):!1}t.isIterateeCall=s})(u1)),u1}var Ak;function XJ(){return Ak||(Ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YJ(),n=QJ(),r=c5();function a(s,...l){const d=l.length;return d>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=a})(a1)),a1}var d1,Sk;function ZJ(){return Sk||(Sk=1,d1=XJ().sortBy),d1}var JJ=ZJ();const e0=Hi(JJ);var u5=t=>t.legend.settings,eee=t=>t.legend.size,tee=t=>t.legend.payload;J([tee,u5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?e0(r,n):r});var pg=1;function nee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>pg||Math.abs(l.left-e.left)>pg||Math.abs(l.top-e.top)>pg||Math.abs(l.width-e.width)>pg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Xn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ree=typeof Symbol=="function"&&Symbol.observable||"@@observable",jk=ree,f1=()=>Math.random().toString(36).substring(7).split("").join("."),aee={INIT:`@@redux/INIT${f1()}`,REPLACE:`@@redux/REPLACE${f1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f1()}`},Ny=aee;function gS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function d5(t,e,n){if(typeof t!="function")throw new Error(Xn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xn(1));return n(d5)(t,e)}let r=t,a=e,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((S,I)=>{l.set(I,S)}))}function p(){if(f)throw new Error(Xn(3));return a}function g(S){if(typeof S!="function")throw new Error(Xn(4));if(f)throw new Error(Xn(5));let I=!0;h();const U=d++;return l.set(U,S),function(){if(I){if(f)throw new Error(Xn(6));I=!1,h(),l.delete(U),s=null}}}function x(S){if(!gS(S))throw new Error(Xn(7));if(typeof S.type>"u")throw new Error(Xn(8));if(typeof S.type!="string")throw new Error(Xn(17));if(f)throw new Error(Xn(9));try{f=!0,a=r(a,S)}finally{f=!1}return(s=l).forEach(U=>{U()}),S}function w(S){if(typeof S!="function")throw new Error(Xn(10));r=S,x({type:Ny.REPLACE})}function E(){const S=g;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Xn(11));function U(){const C=I;C.next&&C.next(p())}return U(),{unsubscribe:S(U)}},[jk](){return this}}}return x({type:Ny.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:w,[jk]:E}}function iee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ny.INIT})>"u")throw new Error(Xn(12));if(typeof n(void 0,{type:Ny.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xn(13))})}function f5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{iee(n)}catch(s){a=s}return function(l={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],w=l[g],E=x(w,d);if(typeof E>"u")throw d&&d.type,new Error(Xn(14));h[g]=E,f=f||E!==w}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Ty(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function see(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(Xn(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(l));return s=Ty(...d)(a.dispatch),{...a,dispatch:s}}}function h5(t){return gS(t)&&"type"in t&&typeof t.type=="string"}var m5=Symbol.for("immer-nothing"),Nk=Symbol.for("immer-draftable"),wr=Symbol.for("immer-state");function Ha(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Jr=Object,Yu=Jr.getPrototypeOf,Cy="constructor",t0="prototype",L_="configurable",Iy="enumerable",qg="writable",wh="value",Ls=t=>!!t&&!!t[wr];function Vi(t){var e;return t?p5(t)||n0(t)||!!t[Nk]||!!((e=t[Cy])!=null&&e[Nk])||r0(t)||a0(t):!1}var oee=Jr[t0][Cy].toString(),Tk=new WeakMap;function p5(t){if(!t||!yS(t))return!1;const e=Yu(t);if(e===null||e===Jr[t0])return!0;const n=Jr.hasOwnProperty.call(e,Cy)&&e[Cy];if(n===Object)return!0;if(!Eu(n))return!1;let r=Tk.get(n);return r===void 0&&(r=Function.toString.call(n),Tk.set(n,r)),r===oee}function im(t,e,n=!0){sm(t)===0?(n?Reflect.ownKeys(t):Jr.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function sm(t){const e=t[wr];return e?e.type_:n0(t)?1:r0(t)?2:a0(t)?3:0}var Ck=(t,e,n=sm(t))=>n===2?t.has(e):Jr[t0].hasOwnProperty.call(t,e),U_=(t,e,n=sm(t))=>n===2?t.get(e):t[e],Oy=(t,e,n,r=sm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function lee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var n0=Array.isArray,r0=t=>t instanceof Map,a0=t=>t instanceof Set,yS=t=>typeof t=="object",Eu=t=>typeof t=="function",h1=t=>typeof t=="boolean",gs=t=>t.copy_||t.base_,vS=t=>t.modified_?t.copy_:t.base_;function z_(t,e){if(r0(t))return new Map(t);if(a0(t))return new Set(t);if(n0(t))return Array[t0].slice.call(t);const n=p5(t);if(e===!0||e==="class_only"&&!n){const r=Jr.getOwnPropertyDescriptors(t);delete r[wr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],d=r[l];d[qg]===!1&&(d[qg]=!0,d[L_]=!0),(d.get||d.set)&&(r[l]={[L_]:!0,[qg]:!0,[Iy]:d[Iy],[wh]:t[l]})}return Jr.create(Yu(t),r)}else{const r=Yu(t);if(r!==null&&n)return{...t};const a=Jr.create(r);return Jr.assign(a,t)}}function xS(t,e=!1){return i0(t)||Ls(t)||(sm(t)>1&&Jr.defineProperties(t,{set:gg,add:gg,clear:gg,delete:gg}),Jr.freeze(t),e&&im(t,(n,r)=>{xS(r,!0)},!1)),t}function cee(){Ha(2)}var gg={[wh]:cee};function i0(t){return t===null||!yS(t)?!0:Jr.isFrozen(t)}var ky="MapSet",V_="Patches",g5={};function Qu(t){const e=g5[t];return e||Ha(0,t),e}var uee=t=>!!g5[t],_h,y5=()=>_h,dee=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:uee(ky)?Qu(ky):void 0});function Ik(t,e){e&&(t.patchPlugin_=Qu(V_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $_(t){B_(t),t.drafts_.forEach(fee),t.drafts_=null}function B_(t){t===_h&&(_h=t.parent_)}var Ok=t=>_h=dee(_h,t);function fee(t){const e=t[wr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[wr].modified_&&($_(e),Ha(4)),Vi(t)&&(t=Pk(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[wr].base_,t,e)}else t=Pk(e,n);return hee(e,t,!0),$_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==m5?t:void 0}function Pk(t,e){if(i0(e))return e;const n=e[wr];if(!n)return bS(e,t.handledSet_,t);if(!s0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);b5(n,t)}return n.copy_}function hee(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&xS(e,n)}function v5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var s0=(t,e)=>t.scope_===e,mee=[];function x5(t,e,n,r){const a=gs(t),s=t.type_;if(r!==void 0&&U_(a,r,s)===e){Oy(a,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;im(a,(f,h)=>{if(Ls(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=t.draftLocations_.get(e)??mee;for(const d of l)Oy(a,d,n,s)}function pee(t,e,n){t.callbacks_.push(function(a){var d;const s=e;if(!s||!s0(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const l=vS(s);x5(t,s.draft_??s,l,n),b5(s,a)})}function b5(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}v5(t)}}function gee(t,e,n){const{scope_:r}=t;if(Ls(n)){const a=n[wr];s0(a,r)&&a.callbacks_.push(function(){Hg(t);const l=vS(a);x5(t,n,l,e)})}else Vi(n)&&t.callbacks_.push(function(){const s=gs(t);U_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&bS(U_(t.copy_,e,t.type_),r.handledSet_,r)})}function bS(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ls(t)||e.has(t)||!Vi(t)||i0(t)||(e.add(t),im(t,(r,a)=>{if(Ls(a)){const s=a[wr];if(s0(s,n)){const l=vS(s);Oy(t,r,l,t.type_),v5(s)}}else Vi(a)&&bS(a,e,n)})),t}function yee(t,e){const n=n0(t),r={type_:n?1:0,scope_:e?e.scope_:y5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=wS;n&&(a=[r],s=Eh);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=l,[d,r]}var wS={get(t,e){if(e===wr)return t;const n=gs(t);if(!Ck(n,e,t.type_))return vee(t,n,e);const r=n[e];if(t.finalized_||!Vi(r))return r;if(r===m1(t.base_,e)){Hg(t);const a=t.type_===1?+e:e,s=q_(t.scope_,r,t,a);return t.copy_[a]=s}return r},has(t,e){return e in gs(t)},ownKeys(t){return Reflect.ownKeys(gs(t))},set(t,e,n){const r=w5(gs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=m1(gs(t),e),s=a==null?void 0:a[wr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(lee(n,a)&&(n!==void 0||Ck(t.base_,e,t.type_)))return!0;Hg(t),F_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),gee(t,e,n)),!0},deleteProperty(t,e){return Hg(t),m1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),F_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=gs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[qg]:!0,[L_]:t.type_!==1||e!=="length",[Iy]:r[Iy],[wh]:n[e]}},defineProperty(){Ha(11)},getPrototypeOf(t){return Yu(t.base_)},setPrototypeOf(){Ha(12)}},Eh={};im(wS,(t,e)=>{Eh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Eh.deleteProperty=function(t,e){return Eh.set.call(this,t,e,void 0)};Eh.set=function(t,e,n){return wS.set.call(this,t[0],e,n,t[0])};function m1(t,e){const n=t[wr];return(n?gs(n):t)[e]}function vee(t,e,n){var a;const r=w5(e,n);return r?wh in r?r[wh]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function w5(t,e){if(!(e in t))return;let n=Yu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Yu(n)}}function F_(t){t.modified_||(t.modified_=!0,t.parent_&&F_(t.parent_))}function Hg(t){t.copy_||(t.assigned_=new Map,t.copy_=z_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var xee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Eu(n)&&!Eu(r)){const l=r;r=n;const d=this;return function(h=l,...p){return d.produce(h,g=>r.call(this,g,...p))}}Eu(r)||Ha(6),a!==void 0&&!Eu(a)&&Ha(7);let s;if(Vi(n)){const l=Ok(this),d=q_(l,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?$_(l):B_(l)}return Ik(l,a),kk(s,l)}else if(!n||!yS(n)){if(s=r(n),s===void 0&&(s=n),s===m5&&(s=void 0),this.autoFreeze_&&xS(s,!0),a){const l=[],d=[];Qu(V_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:d}),a(l,d)}return s}else Ha(1,n)},this.produceWithPatches=(n,r)=>{if(Eu(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let a,s;return[this.produce(n,r,(d,f)=>{a=d,s=f}),a,s]},h1(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),h1(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),h1(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Vi(e)||Ha(8),Ls(e)&&(e=Za(e));const n=Ok(this),r=q_(n,e,void 0);return r[wr].isManual_=!0,B_(n),r}finishDraft(e,n){const r=e&&e[wr];(!r||!r.isManual_)&&Ha(9);const{scope_:a}=r;return Ik(a,n),kk(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Qu(V_).applyPatches_;return Ls(e)?a(e,n):this.produce(e,s=>a(s,n))}};function q_(t,e,n,r){const[a,s]=r0(e)?Qu(ky).proxyMap_(e,n):a0(e)?Qu(ky).proxySet_(e,n):yee(e,n);return((n==null?void 0:n.scope_)??y5()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?pee(n,s,r):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function Za(t){return Ls(t)||Ha(10,t),_5(t)}function _5(t){if(!Vi(t)||i0(t))return t;const e=t[wr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=z_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=z_(t,!0);return im(n,(a,s)=>{Oy(n,a,_5(s))},r),e&&(e.finalized_=!1),n}var bee=new xee,E5=bee.produce;function A5(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var wee=A5(),_ee=A5,Eee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ty:Ty.apply(null,arguments)};function Ca(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ea(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>h5(r)&&r.type===t,n}var S5=class Kf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kf.prototype)}static get[Symbol.species](){return Kf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Kf(...e[0].concat(this)):new Kf(...e.concat(this))}};function Rk(t){return Vi(t)?E5(t,()=>{}):t}function yg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Aee(t){return typeof t=="boolean"}var See=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let l=new S5;return n&&(Aee(n)?l.push(wee):l.push(_ee(n.extraArgument))),l},j5="RTK_autoBatch",Lt=()=>t=>({payload:t,meta:{[j5]:!0}}),Dk=t=>e=>{setTimeout(e,t)},N5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,l=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dk(10):t.type==="callback"?t.queueNotification:Dk(t.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),x=r.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[j5]),s=!a,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},jee=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new S5(t);return r&&a.push(N5(typeof r=="object"?r:void 0)),a};function Nee(t){const e=See(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(gS(n))d=f5(n);else throw new Error(ea(1));let f;typeof r=="function"?f=r(e):f=e();let h=Ty;a&&(h=Eee({trace:!1,...typeof a=="object"&&a}));const p=see(...f),g=jee(p);let x=typeof l=="function"?l(g):g();const w=h(...x);return d5(d,s,w)}function T5(t){const e={},n=[];let r;const a={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ea(28));if(d in e)throw new Error(ea(29));return e[d]=l,a},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return n.push({matcher:s,reducer:l}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function Tee(t){return typeof t=="function"}function Cee(t,e){let[n,r,a]=T5(e),s;if(Tee(t))s=()=>Rk(t());else{const d=Rk(t);s=()=>d}function l(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Ls(p)){const w=g(p,f);return w===void 0?p:w}else{if(Vi(p))return E5(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return l.getInitialState=s,l}var Iee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Oee=(t=21)=>{let e="",n=t;for(;n--;)e+=Iee[Math.random()*64|0];return e},kee=Symbol.for("rtk-slice-createasyncthunk");function Pee(t,e){return`${t}/${e}`}function Ree({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[kee];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(ea(11));const d=(typeof a.reducers=="function"?a.reducers(Mee()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,P){const z=typeof C=="string"?C:C.type;if(!z)throw new Error(ea(12));if(z in h.sliceCaseReducersByType)throw new Error(ea(13));return h.sliceCaseReducersByType[z]=P,p},addMatcher(C,P){return h.sliceMatchers.push({matcher:C,reducer:P}),p},exposeAction(C,P){return h.actionCreators[C]=P,p},exposeCaseReducer(C,P){return h.sliceCaseReducersByName[C]=P,p}};f.forEach(C=>{const P=d[C],z={reducerName:C,type:Pee(s,C),createNotation:typeof a.reducers=="function"};Uee(P)?Vee(z,P,p,e):Lee(z,P,p)});function g(){const[C={},P=[],z=void 0]=typeof a.extraReducers=="function"?T5(a.extraReducers):[a.extraReducers],N={...C,...h.sliceCaseReducersByType};return Cee(a.initialState,M=>{for(let T in N)M.addCase(T,N[T]);for(let T of h.sliceMatchers)M.addMatcher(T.matcher,T.reducer);for(let T of P)M.addMatcher(T.matcher,T.reducer);z&&M.addDefaultCase(z)})}const x=C=>C,w=new Map,E=new WeakMap;let A;function S(C,P){return A||(A=g()),A(C,P)}function I(){return A||(A=g()),A.getInitialState()}function U(C,P=!1){function z(M){let T=M[C];return typeof T>"u"&&P&&(T=yg(E,z,I)),T}function N(M=x){const T=yg(w,P,()=>new WeakMap);return yg(T,M,()=>{const R={};for(const[L,V]of Object.entries(a.selectors??{}))R[L]=Dee(V,M,()=>yg(E,M,I),P);return R})}return{reducerPath:C,getSelectors:N,get selectors(){return N(z)},selectSlice:z}}const k={name:s,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:I,...U(l),injectInto(C,{reducerPath:P,...z}={}){const N=P??l;return C.inject({reducerPath:N,reducer:S},z),{...k,...U(N,!0)}}};return k}}function Dee(t,e,n,r){function a(s,...l){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...l)}return a.unwrapped=t,a}var Lr=Ree();function Mee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Lee({type:t,reducerName:e,createNotation:n},r,a){let s,l;if("reducer"in r){if(n&&!zee(r))throw new Error(ea(17));s=r.reducer,l=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Ca(t,l):Ca(t))}function Uee(t){return t._reducerDefinitionType==="asyncThunk"}function zee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Vee({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ea(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=n,g=a(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||vg,pending:d||vg,rejected:f||vg,settled:h||vg})}function vg(){}var $ee="task",C5="listener",I5="completed",_S="cancelled",Bee=`task-${_S}`,Fee=`task-${I5}`,H_=`${C5}-${_S}`,qee=`${C5}-${I5}`,o0=class{constructor(t){Fb(this,"name","TaskAbortError");Fb(this,"message");this.code=t,this.message=`${$ee} ${_S} (reason: ${t})`}},ES=(t,e)=>{if(typeof t!="function")throw new TypeError(ea(32))},Py=()=>{},O5=(t,e=Py)=>(t.catch(e),t),k5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Jl=t=>{if(t.aborted){const{reason:e}=t;throw new o0(e)}};function P5(t,e){let n=Py;return new Promise((r,a)=>{const s=()=>a(new o0(t.reason));if(t.aborted){s();return}n=k5(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Py})}var Hee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof o0?"cancelled":"rejected",error:n}}finally{e==null||e()}},Ry=t=>e=>O5(P5(t,e).then(n=>(Jl(t),n))),R5=t=>{const e=Ry(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Mu}=Object,Mk={},l0="listenerMiddleware",Gee=(t,e)=>{const n=r=>k5(t,()=>Zl(r,t.reason));return(r,a)=>{ES(r);const s=new AbortController;n(s);const l=Hee(async()=>{Jl(t),Jl(s.signal);const d=await r({pause:Ry(s.signal),delay:R5(s.signal),signal:s.signal});return Jl(s.signal),d},()=>Zl(s,Fee));return a!=null&&a.autoJoin&&e.push(l.catch(Py)),{result:Ry(t)(l),cancel(){Zl(s,Bee)}}}},Kee=(t,e)=>{const n=async(r,a)=>{Jl(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await P5(e,Promise.race(d));return Jl(e),f}finally{s()}};return(r,a)=>O5(n(r,a))},D5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Ca(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ea(21));return ES(s),{predicate:a,type:e,effect:s}},M5=Mu(t=>{const{type:e,predicate:n,effect:r}=D5(t);return{id:Oee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ea(22))}}},{withTypes:()=>M5}),Lk=(t,e)=>{const{type:n,effect:r,predicate:a}=D5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},G_=t=>{t.pending.forEach(e=>{Zl(e,H_)})},Wee=(t,e)=>()=>{for(const n of e.keys())G_(n);t.clear()},Uk=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},L5=Mu(Ca(`${l0}/add`),{withTypes:()=>L5}),Yee=Ca(`${l0}/removeAll`),U5=Mu(Ca(`${l0}/remove`),{withTypes:()=>U5}),Qee=(...t)=>{console.error(`${l0}/error`,...t)},om=(t={})=>{const e=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},a=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:s,onError:l=Qee}=t;ES(l);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),E=>{w.unsubscribe(),E!=null&&E.cancelActive&&G_(w)}),f=w=>{const E=Lk(e,w)??M5(w);return d(E)};Mu(f,{withTypes:()=>f});const h=w=>{const E=Lk(e,w);return E&&(E.unsubscribe(),w.cancelActive&&G_(E)),!!E};Mu(h,{withTypes:()=>h});const p=async(w,E,A,S)=>{const I=new AbortController,U=Kee(f,I.signal),k=[];try{w.pending.add(I),r(w),await Promise.resolve(w.effect(E,Mu({},A,{getOriginalState:S,condition:(C,P)=>U(C,P).then(Boolean),take:U,delay:R5(I.signal),pause:Ry(I.signal),extra:s,signal:I.signal,fork:Gee(I.signal,k),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((C,P,z)=>{C!==I&&(Zl(C,H_),z.delete(C))})},cancel:()=>{Zl(I,H_),w.pending.delete(I)},throwIfCancelled:()=>{Jl(I.signal)}})))}catch(C){C instanceof o0||Uk(l,C,{raisedBy:"effect"})}finally{await Promise.all(k),Zl(I,qee),a(w),w.pending.delete(I)}},g=Wee(e,n);return{middleware:w=>E=>A=>{if(!h5(A))return E(A);if(L5.match(A))return f(A.payload);if(Yee.match(A)){g();return}if(U5.match(A))return h(A.payload);let S=w.getState();const I=()=>{if(S===Mk)throw new Error(ea(23));return S};let U;try{if(U=E(A),e.size>0){const k=w.getState(),C=Array.from(e.values());for(const P of C){let z=!1;try{z=P.predicate(A,k,S)}catch(N){z=!1,Uk(l,N,{raisedBy:"predicate"})}z&&p(P,A,w,I)}}}finally{S=Mk}return U},startListening:f,stopListening:h,clearListeners:g}};function ea(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Xee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},z5=Lr({name:"chartLayout",initialState:Xee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Zee,setLayout:Jee,setChartSize:ete,setScale:tte}=z5.actions,nte=z5.reducer;function V5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rte(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ite(t,"string");return typeof e=="symbol"?e:e+""}function ite(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vt(t,e,n){return Pt(t)||Pt(e)?n:zi(e)?mc(t,e,n):typeof e=="function"?e(t):n}var ste=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:l,layout:d}=e;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Ae(t[s]))return ju(ju({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Ae(t[l]))return ju(ju({},t),{},{[l]:t[l]+(a||0)})}return t},Qi=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",$5=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,s,l=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate));return a||l.push(e),s||l.push(n),l},B5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:w}=t;if(!l)return null;var E=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,A=a==="category"&&l.bandwidth?l.bandwidth()/E:0;if(A=w==="angleAxis"&&s&&s.length>=2?Vn(s[0]-s[1])*2*A:A,g||x){var S=(g||x||[]).map((I,U)=>{var k=r?r.indexOf(I):I;return{coordinate:l(k)+A,value:I,offset:A,index:U}});return S.filter(I=>!Ta(I.coordinate))}return f&&h?h.map((I,U)=>({coordinate:l(I)+A,value:I,index:U,offset:A})):l.ticks&&p!=null?l.ticks(p).map((I,U)=>({coordinate:l(I)+A,value:I,offset:A,index:U})):l.domain().map((I,U)=>({coordinate:l(I)+A,value:r?r[I]:I,index:U,offset:A}))},Vk=1e-4,ote=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-Vk,s=Math.max(r[0],r[1])+Vk,l=t(e[0]),d=t(e[n-1]);(l<a||l>s||d<a||d>s)&&t.domain([e[0],e[n-1]])}},lte=(t,e)=>{if(!e||e.length!==2||!Ae(e[0])||!Ae(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Ae(t[0])||t[0]<n)&&(a[0]=n),(!Ae(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},cte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,l=0;l<e;++l){var d=Ta(t[l][n][1])?t[l][n][0]:t[l][n][1];d>=0?(t[l][n][0]=a,t[l][n][1]=a+d,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+d,s=t[l][n][1])}},ute=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var l=Ta(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},dte={sign:cte,expand:zZ,none:Wu,silhouette:VZ,wiggle:$Z,positive:ute},fte=(t,e,n)=>{var r=dte[n],a=UZ().keys(e).value((s,l)=>Number(vt(s,l,0))).order(D_).offset(r);return a(t)};function F5(t){return t==null?void 0:String(t)}function Dy(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Pt(a[e.dataKey])){var d=W3(n,"value",a[e.dataKey]);if(d)return d.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=vt(a,Pt(l)?e.dataKey:l);return Pt(f)?null:e.scale(f)}var $k=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var d=vt(s,e.dataKey,e.scale.domain()[l]);return Pt(d)?null:e.scale(d)-a/2+r},hte=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},mte=t=>{var e=t.flat(2).filter(Ae);return[Math.min(...e),Math.max(...e)]},pte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],gte=(t,e,n)=>{if(t!=null)return pte(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:l}=s,d=l.reduce((f,h)=>{var p=V5(h,e,n),g=mte(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},Bk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zo=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=e0(e,p=>p.coordinate),s=1/0,l=1,d=a.length;l<d;l++){var f=a[l],h=a[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function qk(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return ju(ju({},e),{},{dataKey:n,payload:r,value:a,name:s})}function ol(t,e){if(t)return String(t);if(typeof e=="string")return e}var yte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},vte=(t,e)=>e==="centric"?t.angle:t.radius,qs=t=>t.layout.width,Hs=t=>t.layout.height,xte=t=>t.layout.scale,q5=t=>t.layout.margin,c0=J(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),u0=J(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),H5="data-recharts-item-index",G5="data-recharts-item-data-key",lm=60;function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bte(t,e,n){return(e=wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=_te(t,"string");return typeof e=="symbol"?e:e+""}function _te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ete=t=>t.brush.height;function Ate(t){var e=u0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:lm;return n+a}return n},0)}function Ste(t){var e=u0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:lm;return n+a}return n},0)}function jte(t){var e=c0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Nte(t){var e=c0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Cn=J([qs,Hs,q5,Ete,Ate,Ste,jte,Nte,u5,eee],(t,e,n,r,a,s,l,d,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+d},x=xg(xg({},g),p),w=x.bottom;x.bottom+=r,x=ste(x,f,h);var E=t-x.left-x.right,A=e-x.top-x.bottom;return xg(xg({brushBottom:w},x),{},{width:Math.max(E,0),height:Math.max(A,0)})}),Tte=J(Cn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),AS=J(qs,Hs,(t,e)=>({x:0,y:0,width:t,height:e})),Cte=b.createContext(null),Fn=()=>b.useContext(Cte)!=null,d0=t=>t.brush,f0=J([d0,Cn,q5],(t,e,n)=>({height:t.height,x:Ae(t.x)?t.x:e.left,y:Ae(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ae(t.width)?t.width:e.width})),p1={},g1={},y1={},Gk;function Ite(){return Gk||(Gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),A()};let x=null;const w=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},A=()=>{E(),l=void 0,d=null},S=()=>{p()},I=function(...U){if(a!=null&&a.aborted)return;l=this,d=U;const k=x==null;w(),f&&k&&p()};return I.schedule=w,I.cancel=A,I.flush=S,a==null||a.addEventListener("abort",A,{once:!0}),I}t.debounce=e})(y1)),y1}var Kk;function Ote(){return Kk||(Kk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ite();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...A){p=r.apply(this,A),g=null},a,{edges:h}),w=function(...A){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,A),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,A),p)},E=()=>(x.flush(),p);return w.cancel=x.cancel,w.flush=E,w}t.debounce=n})(g1)),g1}var Wk;function kte(){return Wk||(Wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ote();function n(r,a=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return e.debounce(r,a,{leading:l,maxWait:a,trailing:d})}t.throttle=n})(p1)),p1}var v1,Yk;function Pte(){return Yk||(Yk=1,v1=kte().throttle),v1}var Rte=Pte();const Dte=Hi(Rte);var My=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>a[l++]))}},K5=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:l}=n,d=Ms(r)?t:Number(r),f=Ms(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},Mte={width:0,height:0,overflow:"visible"},Lte={width:0,overflowX:"visible"},Ute={height:0,overflowY:"visible"},zte={},Vte=t=>{var{width:e,height:n}=t,r=Ms(e),a=Ms(n);return r&&a?Mte:r?Lte:a?Ute:zte};function $te(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function Rt(t){return Number.isFinite(t)}function $i(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(null,arguments)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=Fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=qte(t,"string");return typeof e=="symbol"?e:e+""}function qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W5=b.createContext({width:-1,height:-1});function Hte(t){return $i(t.width)&&$i(t.height)}function Y5(t){var{children:e,width:n,height:r}=t,a=b.useMemo(()=>({width:n,height:r}),[n,r]);return Hte(a)?b.createElement(W5.Provider,{value:a},e):null}var SS=()=>b.useContext(W5),Gte=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:w,style:E={}}=t,A=b.useRef(null),S=b.useRef();S.current=w,b.useImperativeHandle(e,()=>A.current);var[I,U]=b.useState({containerWidth:r.width,containerHeight:r.height}),k=b.useCallback((M,T)=>{U(R=>{var L=Math.round(M),V=Math.round(T);return R.containerWidth===L&&R.containerHeight===V?R:{containerWidth:L,containerHeight:V}})},[]);b.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return am;var M=V=>{var $,{width:ne,height:me}=V[0].contentRect;k(ne,me),($=S.current)===null||$===void 0||$.call(S,ne,me)};p>0&&(M=Dte(M,p,{trailing:!0,leading:!1}));var T=new ResizeObserver(M),{width:R,height:L}=A.current.getBoundingClientRect();return k(R,L),T.observe(A.current),()=>{T.disconnect()}},[k,p]);var{containerWidth:C,containerHeight:P}=I;My(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:N}=K5(C,P,{width:a,height:s,aspect:n,maxHeight:f});return My(z!=null&&z>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,N,a,s,l,d,n),b.createElement("div",{id:g?"".concat(g):void 0,className:lt("recharts-responsive-container",x),style:Xk(Xk({},E),{},{width:a,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:A},b.createElement("div",{style:Vte({width:a,height:s})},b.createElement(Y5,{width:z,height:N},h)))}),Au=b.forwardRef((t,e)=>{var n=SS();if($i(n.width)&&$i(n.height))return t.children;var{width:r,height:a}=$te({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=K5(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ae(s)&&Ae(l)?b.createElement(Y5,{width:s,height:l},t.children):b.createElement(Gte,K_({},t,{width:r,height:a,ref:e}))});function Q5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var h0=()=>{var t,e=Fn(),n=Ne(Tte),r=Ne(f0),a=(t=Ne(d0))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Kte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},X5=()=>{var t;return(t=Ne(Cn))!==null&&t!==void 0?t:Kte},Z5=()=>Ne(qs),J5=()=>Ne(Hs),Qe=t=>t.layout.layoutType,Sc=()=>Ne(Qe),Wte=()=>{var t=Sc();if(t==="horizontal"||t==="vertical")return t},Yte=()=>{var t=Sc();return t!==void 0},m0=t=>{var e=Vt(),n=Fn(),{width:r,height:a}=t,s=SS(),l=r,d=a;return s&&(l=s.width>0?s.width:r,d=s.height>0?s.height:a),b.useEffect(()=>{!n&&$i(l)&&$i(d)&&e(ete({width:l,height:d}))},[e,n,l,d]),null},eL=Symbol.for("immer-nothing"),Zk=Symbol.for("immer-draftable"),ta=Symbol.for("immer-state");function Ga(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ah=Object.getPrototypeOf;function Xu(t){return!!t&&!!t[ta]}function pc(t){var e;return t?tL(t)||Array.isArray(t)||!!t[Zk]||!!((e=t.constructor)!=null&&e[Zk])||cm(t)||g0(t):!1}var Qte=Object.prototype.constructor.toString(),Jk=new WeakMap;function tL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Jk.get(n);return r===void 0&&(r=Function.toString.call(n),Jk.set(n,r)),r===Qte}function Ly(t,e,n=!0){p0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function p0(t){const e=t[ta];return e?e.type_:Array.isArray(t)?1:cm(t)?2:g0(t)?3:0}function W_(t,e){return p0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function nL(t,e,n){const r=p0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Xte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function cm(t){return t instanceof Map}function g0(t){return t instanceof Set}function Fl(t){return t.copy_||t.base_}function Y_(t,e){if(cm(t))return new Map(t);if(g0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=tL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ta];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[l]})}return Object.create(Ah(t),r)}else{const r=Ah(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function jS(t,e=!1){return y0(t)||Xu(t)||!pc(t)||(p0(t)>1&&Object.defineProperties(t,{set:bg,add:bg,clear:bg,delete:bg}),Object.freeze(t),e&&Object.values(t).forEach(n=>jS(n,!0))),t}function Zte(){Ga(2)}var bg={value:Zte};function y0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Jte={};function gc(t){const e=Jte[t];return e||Ga(0,t),e}var Sh;function rL(){return Sh}function ene(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eP(t,e){e&&(gc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Q_(t){X_(t),t.drafts_.forEach(tne),t.drafts_=null}function X_(t){t===Sh&&(Sh=t.parent_)}function tP(t){return Sh=ene(Sh,t)}function tne(t){const e=t[ta];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ta].modified_&&(Q_(e),Ga(4)),pc(t)&&(t=Uy(e,t),e.parent_||zy(e,t)),e.patches_&&gc("Patches").generateReplacementPatches_(n[ta].base_,t,e.patches_,e.inversePatches_)):t=Uy(e,n,[]),Q_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==eL?t:void 0}function Uy(t,e,n){if(y0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[ta];if(!a)return Ly(e,(s,l)=>rP(t,a,e,s,l,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return zy(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,d=!1;a.type_===3&&(l=new Set(s),s.clear(),d=!0),Ly(l,(f,h)=>rP(t,a,s,f,h,n,d),r),zy(t,s,!1),n&&t.patches_&&gc("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function rP(t,e,n,r,a,s,l){if(a==null||typeof a!="object"&&!l)return;const d=y0(a);if(!(d&&!l)){if(Xu(a)){const f=s&&e&&e.type_!==3&&!W_(e.assigned_,r)?s.concat(r):void 0,h=Uy(t,a,f);if(nL(n,r,h),Xu(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(pc(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;Uy(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(cm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&zy(t,a)}}}function zy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jS(e,n)}function nne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:rL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=NS;n&&(a=[r],s=jh);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=l,d}var NS={get(t,e){if(e===ta)return t;const n=Fl(t);if(!W_(n,e))return rne(t,n,e);const r=n[e];return t.finalized_||!pc(r)?r:r===x1(t.base_,e)?(b1(t),t.copy_[e]=J_(r,t)):r},has(t,e){return e in Fl(t)},ownKeys(t){return Reflect.ownKeys(Fl(t))},set(t,e,n){const r=aL(Fl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=x1(Fl(t),e),s=a==null?void 0:a[ta];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Xte(n,a)&&(n!==void 0||W_(t.base_,e)))return!0;b1(t),Z_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return x1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,b1(t),Z_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ga(11)},getPrototypeOf(t){return Ah(t.base_)},setPrototypeOf(){Ga(12)}},jh={};Ly(NS,(t,e)=>{jh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jh.deleteProperty=function(t,e){return jh.set.call(this,t,e,void 0)};jh.set=function(t,e,n){return NS.set.call(this,t[0],e,n,t[0])};function x1(t,e){const n=t[ta];return(n?Fl(n):t)[e]}function rne(t,e,n){var a;const r=aL(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function aL(t,e){if(!(e in t))return;let n=Ah(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ah(n)}}function Z_(t){t.modified_||(t.modified_=!0,t.parent_&&Z_(t.parent_))}function b1(t){t.copy_||(t.copy_=Y_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ane=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Ga(6),r!==void 0&&typeof r!="function"&&Ga(7);let a;if(pc(e)){const s=tP(this),l=J_(e,void 0);let d=!0;try{a=n(l),d=!1}finally{d?Q_(s):X_(s)}return eP(s,r),nP(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===eL&&(a=void 0),this.autoFreeze_&&jS(a,!0),r){const s=[],l=[];gc("Patches").generateReplacementPatches_(e,a,s,l),r(s,l)}return a}else Ga(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...d)=>this.produceWithPatches(l,f=>e(f,...d));let r,a;return[this.produce(e,n,(l,d)=>{r=l,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){pc(t)||Ga(8),Xu(t)&&(t=ine(t));const e=tP(this),n=J_(t,void 0);return n[ta].isManual_=!0,X_(e),n}finishDraft(t,e){const n=t&&t[ta];(!n||!n.isManual_)&&Ga(9);const{scope_:r}=n;return eP(r,e),nP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=gc("Patches").applyPatches_;return Xu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function J_(t,e){const n=cm(t)?gc("MapSet").proxyMap_(t,e):g0(t)?gc("MapSet").proxySet_(t,e):nne(t,e);return(e?e.scope_:rL()).drafts_.push(n),n}function ine(t){return Xu(t)||Ga(10,t),iL(t)}function iL(t){if(!pc(t)||y0(t))return t;const e=t[ta];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Y_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Y_(t,!0);return Ly(n,(a,s)=>{nL(n,a,iL(s))},r),e&&(e.finalized_=!1),n}var sne=new ane;sne.produce;var one={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},sL=Lr({name:"legend",initialState:one,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Lt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Za(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:Lt()},removeLegendPayload:{reducer(t,e){var n=Za(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Lt()}}}),{setLegendSize:Kye,setLegendSettings:Wye,addLegendPayload:oL,replaceLegendPayload:lL,removeLegendPayload:cL}=sL.actions,lne=sL.reducer;function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cne(t,e,n){return(e=une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function une(t){var e=dne(t,"string");return typeof e=="symbol"?e:e+""}function dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fne(t){return Array.isArray(t)&&zi(t[0])&&zi(t[1])?t.join(" ~ "):t}var hne=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,w=()=>{if(s&&s.length){var P={padding:0,margin:0},z=(d?e0(s,d):s).map((N,M)=>{if(N.type==="none")return null;var T=N.formatter||l||fne,{value:R,name:L}=N,V=R,$=L;if(T){var ne=T(R,L,N,M,s);if(Array.isArray(ne))[V,$]=ne;else if(ne!=null)V=ne;else return null}var me=w1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:me},zi($)?b.createElement("span",{className:"recharts-tooltip-item-name"},$):null,zi($)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},V),b.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:P},z)}return null},E=w1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=w1({margin:0},a),S=!Pt(p),I=S?p:"",U=lt("recharts-default-tooltip",f),k=lt("recharts-tooltip-label",h);S&&g&&s!==void 0&&s!==null&&(I=g(p,s));var C=x?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",eE({className:U,style:E},C),b.createElement("p",{className:k,style:A},b.isValidElement(I)?I:"".concat(I)),w())},Of="recharts-tooltip-wrapper",mne={visibility:"hidden"};function pne(t){var{coordinate:e,translateX:n,translateY:r}=t;return lt(Of,{["".concat(Of,"-right")]:Ae(n)&&e&&Ae(e.x)&&n>=e.x,["".concat(Of,"-left")]:Ae(n)&&e&&Ae(e.x)&&n<e.x,["".concat(Of,"-bottom")]:Ae(r)&&e&&Ae(e.y)&&r>=e.y,["".concat(Of,"-top")]:Ae(r)&&e&&Ae(e.y)&&r<e.y})}function iP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Ae(s[r]))return s[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return l[r]?p:g;var x=f[r];if(x==null)return 0;if(l[r]){var w=p,E=x;return w<E?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var A=g+d,S=x+h;return A>S?Math.max(p,x):Math.max(g,x)}function gne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:d,viewBox:f}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=iP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=iP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=gne({translateX:p,translateY:g,useTranslate3d:d})):h=mne,{cssProperties:h,cssClasses:pne({translateX:p,translateY:g,coordinate:n})}}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){tE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tE(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=xne(t,"string");return typeof e=="symbol"?e:e+""}function xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bne extends b.PureComponent{constructor(){super(...arguments),tE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:w,wrapperStyle:E,lastBoundingBox:A,innerRef:S,hasPortalFromProps:I}=this.props,{cssClasses:U,cssProperties:k}=yne({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:x,viewBox:w}),C=I?{}:wg(wg({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),P=wg(wg({},C),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},E);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:P,ref:S},s)}}var wne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ll={devToolsEnabled:!1,isSsr:wne()},uL=()=>{var t;return(t=Ne(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(null,arguments)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return(e=Ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Ane(t,"string");return typeof e=="symbol"?e:e+""}function Ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cP={curveBasisClosed:NZ,curveBasisOpen:TZ,curveBasis:jZ,curveBumpX:fZ,curveBumpY:hZ,curveLinearClosed:CZ,curveLinear:Xv,curveMonotoneX:IZ,curveMonotoneY:OZ,curveNatural:kZ,curveStep:PZ,curveStepAfter:DZ,curveStepBefore:RZ},Vy=t=>Rt(t.x)&&Rt(t.y),uP=t=>t.base!=null&&Vy(t.base)&&Vy(t),kf=t=>t.x,Pf=t=>t.y,Sne=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(rm(t));return(n==="curveMonotone"||n==="curveBump")&&e?cP["".concat(n).concat(e==="vertical"?"Y":"X")]:cP[n]||Xv},jne=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,l=Sne(e,a),d=s?n.filter(Vy):n,f;if(Array.isArray(r)){var h=n.map((w,E)=>lP(lP({},w),{},{base:r[E]}));a==="vertical"?f=hg().y(Pf).x1(kf).x0(w=>w.base.x):f=hg().x(kf).y1(Pf).y0(w=>w.base.y);var p=f.defined(uP).curve(l),g=s?h.filter(uP):h;return p(g)}a==="vertical"&&Ae(r)?f=hg().y(Pf).x1(kf).x0(r):Ae(r)?f=hg().x(kf).y1(Pf).y0(r):f=D3().x(kf).y(Pf);var x=f.defined(Vy).curve(l);return x(d)},Lu=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?jne(t):r;return b.createElement("path",nE({},br(t),hS(t),{className:lt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},Nne=["x","y","top","left","width","height","className"];function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(null,arguments)}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){Cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e,n){return(e=Ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ine(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kne(t,e){if(t==null)return{};var n,r,a=Pne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rne=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Dne=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:l=0,className:d}=t,f=kne(t,Nne),h=Tne({x:e,y:n,top:r,left:a,width:s,height:l},f);return!Ae(e)||!Ae(n)||!Ae(s)||!Ae(l)||!Ae(r)||!Ae(a)?null:b.createElement("path",rE({},ur(h),{className:lt("recharts-cross",d),d:Rne(e,n,s,l,r,a)}))};function Mne(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){Lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lne(t,e,n){return(e=Une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Une(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),dL=(t,e,n)=>t.map(r=>"".concat(Vne(r)," ").concat(e,"ms ").concat(n)).join(","),$ne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Nh=(t,e)=>Object.keys(e).reduce((n,r)=>hP(hP({},n),{},{[r]:t(r,e[r])}),{});function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return(e=Fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fne(t){var e=qne(t,"string");return typeof e=="symbol"?e:e+""}function qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $y=(t,e,n)=>t+(e-t)*n,aE=t=>{var{from:e,to:n}=t;return e!==n},fL=(t,e,n)=>{var r=Nh((a,s)=>{if(aE(s)){var[l,d]=t(s.from,s.to,s.velocity);return Nn(Nn({},s),{},{from:l,velocity:d})}return s},e);return n<1?Nh((a,s)=>aE(s)?Nn(Nn({},s),{},{velocity:$y(s.velocity,r[a].velocity,n),from:$y(s.from,r[a].from,n)}):s,e):fL(t,r,n-1)};function Hne(t,e,n,r,a,s){var l,d=r.reduce((x,w)=>Nn(Nn({},x),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>Nh((x,w)=>w.from,d),h=()=>!Object.values(d).filter(aE).length,p=null,g=x=>{l||(l=x);var w=x-l,E=w/n.dt;d=fL(n,d,E),a(Nn(Nn(Nn({},t),e),f())),l=x,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function Gne(t,e,n,r,a,s,l){var d=null,f=a.reduce((g,x)=>Nn(Nn({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,w=Nh((A,S)=>$y(...S,n(x)),f);if(s(Nn(Nn(Nn({},t),e),w)),x<1)d=l.setTimeout(p);else{var E=Nh((A,S)=>$y(...S,n(1)),f);s(Nn(Nn(Nn({},t),e),E))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const Kne=(t,e,n,r,a,s)=>{var l=$ne(t,e);return n==null?()=>(a(Nn(Nn({},t),e)),()=>{}):n.isStepper===!0?Hne(t,e,n,l,a,s):Gne(t,e,n,r,l,a,s)};var By=1e-4,hL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],mL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),pP=(t,e)=>n=>{var r=hL(t,e);return mL(r,n)},Wne=(t,e)=>n=>{var r=hL(t,e),a=[...r.map((s,l)=>s*l).slice(1),0];return mL(a,n)},Yne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},Qne=(t,e,n,r)=>{var a=pP(t,n),s=pP(e,r),l=Wne(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var w=a(g)-p,E=l(g);if(Math.abs(w-p)<By||E<By)return s(g);g=d(g-w/E)}return s(g)};return f.isStepper=!1,f},gP=function(){return Qne(...Yne(...arguments))},Xne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(l,d,f)=>{var h=-(l-d)*n,p=f*r,g=f+(h-p)*a/1e3,x=f*a/1e3+l;return Math.abs(x-d)<By&&Math.abs(g)<By?[d,0]:[x,g]};return s.isStepper=!0,s.dt=a,s},Zne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gP(t);case"spring":return Xne();default:if(t.split("(")[0]==="cubic-bezier")return gP(t)}return typeof t=="function"?t:null};function Jne(t){var e,n=()=>null,r=!1,a=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,h),f);return}s(f),a=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class ere{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function tre(){return Jne(new ere)}var nre=b.createContext(tre);function rre(t,e){var n=b.useContext(nre);return b.useMemo(()=>e??n(t),[t,e,n])}var are={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yP={t:0},_1={t:1};function md(t){var e=En(t,are),{isActive:n,canBegin:r,duration:a,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!ll.isSsr:n,g=rre(e.animationId,e.animationManager),[x,w]=b.useState(p?yP:_1),E=b.useRef(null);return b.useEffect(()=>{p||w(_1)},[p]),b.useEffect(()=>{if(!p||!r)return am;var A=Kne(yP,_1,Zne(s),a,w,g.getTimeoutController()),S=()=>{E.current=A()};return g.start([f,l,S,a,d]),()=>{g.stop(),E.current&&E.current(),d()}},[p,r,a,s,l,f,d,g]),h(x.t)}function pd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(bh(e)),r=b.useRef(t);return r.current!==t&&(n.current=bh(e),r.current=t),n.current}var ire=["radius"],sre=["radius"];function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ore(t,e,n){return(e=lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lre(t){var e=cre(t,"string");return typeof e=="symbol"?e:e+""}function cre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy.apply(null,arguments)}function bP(t,e){if(t==null)return{};var n,r,a=ure(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ure(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wP=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=a[g]>s?s:a[g];h="M".concat(t,",").concat(e+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*p[1])),h+="L ".concat(t+n,",").concat(e+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var w=Math.min(s,a);h="M ".concat(t,",").concat(e+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(e,`
            L `).concat(t+n-d*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*w,`
            L `).concat(t+n,",").concat(e+r-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(e+r,`
            L `).concat(t+d*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*w," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},_P={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pL=t=>{var e=En(t,_P),n=b.useRef(null),[r,a]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&a(oe)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:A}=e,S=b.useRef(d),I=b.useRef(f),U=b.useRef(s),k=b.useRef(l),C=b.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),P=pd(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var z=lt("recharts-rectangle",p);if(!A){var N=ur(e),{radius:M}=N,T=bP(N,ire);return b.createElement("path",Fy({},T,{radius:typeof h=="number"?h:void 0,className:z,d:wP(s,l,d,f,h)}))}var R=S.current,L=I.current,V=U.current,$=k.current,ne="0px ".concat(r===-1?1:r,"px"),me="".concat(r,"px 0px"),Y=dL(["strokeDasharray"],x,typeof g=="string"?g:_P.animationEasing);return b.createElement(md,{animationId:P,key:P,canBegin:r>0,duration:x,easing:g,isActive:A,begin:w},oe=>{var H=ft(R,d,oe),K=ft(L,f,oe),se=ft(V,s,oe),q=ft($,l,oe);n.current&&(S.current=H,I.current=K,U.current=se,k.current=q);var re;E?oe>0?re={transition:Y,strokeDasharray:me}:re={strokeDasharray:ne}:re={strokeDasharray:me};var pe=ur(e),{radius:ye}=pe,Ce=bP(pe,sre);return b.createElement("path",Fy({},Ce,{radius:typeof h=="number"?h:void 0,className:z,d:wP(se,q,H,K,h),ref:n,style:xP(xP({},re),e.style)}))})};function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dre(t,e,n){return(e=fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qy=Math.PI/180,mre=t=>t*180/Math.PI,wn=(t,e,n,r)=>({x:t+Math.cos(-qy*r)*n,y:e+Math.sin(-qy*r)*n}),gL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},pre=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},gre=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,l=pre({x:n,y:r},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var d=(n-a)/l,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:l,angle:mre(f),angleInRadian:f}},yre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},vre=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(a,s);return t+l*360},xre=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=gre({x:n,y:r},e),{innerRadius:l,outerRadius:d}=e;if(a<l||a>d||a===0)return null;var{startAngle:f,endAngle:h}=yre(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?AP(AP({},e),{},{radius:a,angle:vre(p,e)}):null};function yL(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,l=wn(e,n,r,a),d=wn(e,n,r,s);return{points:[l,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(null,arguments)}var bre=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},_g=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=t,h=d*(l?1:-1)+r,p=Math.asin(d/h)/qy,g=f?a:a+s*p,x=wn(e,n,h,g),w=wn(e,n,r,g),E=f?a-s*p:a,A=wn(e,n,h*Math.cos(p*qy),E);return{center:x,circleTangency:w,lineTangency:A,theta:p}},vL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:l}=t,d=bre(s,l),f=s+d,h=wn(e,n,a,s),p=wn(e,n,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=wn(e,n,r,s),w=wn(e,n,r,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},wre=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=Vn(h-f),{circleTangency:g,lineTangency:x,theta:w}=_g({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:E,lineTangency:A,theta:S}=_g({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),I=d?Math.abs(f-h):Math.abs(f-h)-w-S;if(I<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vL({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var U="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:C,theta:P}=_g({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:z,lineTangency:N,theta:M}=_g({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),T=d?Math.abs(f-h):Math.abs(f-h)-P-M;if(T<0&&s===0)return"".concat(U,"L").concat(e,",").concat(n,"Z");U+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(p>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else U+="L".concat(e,",").concat(n,"Z");return U},_re={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xL=t=>{var e=En(t,_re),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<a||h===p)return null;var x=lt("recharts-sector",g),w=s-a,E=lr(l,w,0,!0),A;return E>0&&Math.abs(h-p)<360?A=wre({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):A=vL({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),b.createElement("path",iE({},ur(e),{className:x,d:A}))};function Ere(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(X3(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:l,angle:d}=e,f=wn(r,a,s,d),h=wn(r,a,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return yL(e)}}var E1={},A1={},S1={},SP;function Are(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(S1)),S1}var jP;function Sre(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Are();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(A1)),A1}var NP;function jre(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c5(),n=Sre();function r(a,s,l){l&&typeof l!="number"&&e.isIterateeCall(a,s,l)&&(s=l=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),l=l===void 0?a<s?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=l;return f}t.range=r})(E1)),E1}var j1,TP;function Nre(){return TP||(TP=1,j1=jre().range),j1}var Tre=Nre();const bL=Hi(Tre);function qo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TS(t){let e,n,r;t.length!==2?(e=qo,n=(d,f)=>qo(t(d),f),r=(d,f)=>t(d)-f):(e=t===qo||t===Cre?t:Ire,n=t,r=t);function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:a,center:l,right:s}}function Ire(){return 0}function wL(t){return t===null?NaN:+t}function*Ore(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const kre=TS(qo),um=kre.right;TS(wL).center;class CP extends Map{constructor(e,n=Dre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(IP(this,e))}has(e){return super.has(IP(this,e))}set(e,n){return super.set(Pre(this,e),n)}delete(e){return super.delete(Rre(this,e))}}function IP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Pre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Rre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Dre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Mre(t=qo){if(t===qo)return _L;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _L(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Lre=Math.sqrt(50),Ure=Math.sqrt(10),zre=Math.sqrt(2);function Hy(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),l=s>=Lre?10:s>=Ure?5:s>=zre?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/l,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*l,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?Hy(t,e,n*2):[d,f,h]}function sE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,l]=r?Hy(e,t,n):Hy(t,e,n);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(a+h)/-l;else for(let h=0;h<d;++h)f[h]=(a+h)*l;return f}function oE(t,e,n){return e=+e,t=+t,n=+n,Hy(t,e,n)[2]}function lE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?oE(e,t,n):oE(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function OP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function kP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function EL(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?_L:Mre(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/f+x)),E=Math.min(r,Math.floor(e+(f-h)*g/f+x));EL(t,e,w,E,a)}const s=t[e];let l=n,d=r;for(Rf(t,n,e),a(t[r],s)>0&&Rf(t,n,r);l<d;){for(Rf(t,l,d),++l,--d;a(t[l],s)<0;)++l;for(;a(t[d],s)>0;)--d}a(t[n],s)===0?Rf(t,n,d):(++d,Rf(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Rf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Vre(t,e,n){if(t=Float64Array.from(Ore(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return kP(t);if(e>=1)return OP(t);var r,a=(r-1)*e,s=Math.floor(a),l=OP(EL(t,s).subarray(0,s+1)),d=kP(t.subarray(s+1));return l+(d-l)*(a-s)}}function $re(t,e,n=wL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),l=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return l+(d-l)*(a-s)}}function Bre(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function ka(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cE=Symbol("implicit");function CS(){var t=new CP,e=[],n=[],r=cE;function a(s){let l=t.get(s);if(l===void 0){if(r!==cE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new CP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return CS(e,n).unknown(r)},ka.apply(a,arguments),a}function IS(){var t=CS().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,l,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,w=a<r,E=w?a:r,A=w?r:a;s=(A-E)/Math.max(1,x-f+h*2),d&&(s=Math.floor(s)),E+=(A-E-s*(x-f))*p,l=s*(1-f),d&&(E=Math.round(E),l=Math.round(l));var S=Bre(x).map(function(I){return E+s*I});return n(w?S.reverse():S)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(x){return arguments.length?(d=!!x,g()):d},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return IS(e(),[r,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},ka.apply(g(),arguments)}function AL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return AL(e())},t}function Fre(){return AL(IS.apply(null,arguments).paddingInner(1))}function OS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function SL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dm(){}var Th=.7,Gy=1/Th,Uu="\\s*([+-]?\\d+)\\s*",Ch="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qre=/^#([0-9a-f]{3,8})$/,Hre=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),Gre=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),Kre=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${Ch}\\)$`),Wre=new RegExp(`^rgba\\(${Li},${Li},${Li},${Ch}\\)$`),Yre=new RegExp(`^hsl\\(${Ch},${Li},${Li}\\)$`),Qre=new RegExp(`^hsla\\(${Ch},${Li},${Li},${Ch}\\)$`),PP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OS(dm,Ih,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RP,formatHex:RP,formatHex8:Xre,formatHsl:Zre,formatRgb:DP,toString:DP});function RP(){return this.rgb().formatHex()}function Xre(){return this.rgb().formatHex8()}function Zre(){return jL(this).formatHsl()}function DP(){return this.rgb().formatRgb()}function Ih(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?MP(e):n===3?new Rr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Eg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Eg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Hre.exec(t))?new Rr(e[1],e[2],e[3],1):(e=Gre.exec(t))?new Rr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kre.exec(t))?Eg(e[1],e[2],e[3],e[4]):(e=Wre.exec(t))?Eg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yre.exec(t))?zP(e[1],e[2]/100,e[3]/100,1):(e=Qre.exec(t))?zP(e[1],e[2]/100,e[3]/100,e[4]):PP.hasOwnProperty(t)?MP(PP[t]):t==="transparent"?new Rr(NaN,NaN,NaN,0):null}function MP(t){return new Rr(t>>16&255,t>>8&255,t&255,1)}function Eg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rr(t,e,n,r)}function Jre(t){return t instanceof dm||(t=Ih(t)),t?(t=t.rgb(),new Rr(t.r,t.g,t.b,t.opacity)):new Rr}function uE(t,e,n,r){return arguments.length===1?Jre(t):new Rr(t,e,n,r??1)}function Rr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}OS(Rr,uE,SL(dm,{brighter(t){return t=t==null?Gy:Math.pow(Gy,t),new Rr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Th:Math.pow(Th,t),new Rr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rr(ec(this.r),ec(this.g),ec(this.b),Ky(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LP,formatHex:LP,formatHex8:eae,formatRgb:UP,toString:UP}));function LP(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}`}function eae(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}${Kl((isNaN(this.opacity)?1:this.opacity)*255)}`}function UP(){const t=Ky(this.opacity);return`${t===1?"rgb(":"rgba("}${ec(this.r)}, ${ec(this.g)}, ${ec(this.b)}${t===1?")":`, ${t})`}`}function Ky(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ec(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kl(t){return t=ec(t),(t<16?"0":"")+t.toString(16)}function zP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ka(t,e,n,r)}function jL(t){if(t instanceof Ka)return new Ka(t.h,t.s,t.l,t.opacity);if(t instanceof dm||(t=Ih(t)),!t)return new Ka;if(t instanceof Ka)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,d=s-a,f=(s+a)/2;return d?(e===s?l=(n-r)/d+(n<r)*6:n===s?l=(r-e)/d+2:l=(e-n)/d+4,d/=f<.5?s+a:2-s-a,l*=60):d=f>0&&f<1?0:l,new Ka(l,d,f,t.opacity)}function tae(t,e,n,r){return arguments.length===1?jL(t):new Ka(t,e,n,r??1)}function Ka(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}OS(Ka,tae,SL(dm,{brighter(t){return t=t==null?Gy:Math.pow(Gy,t),new Ka(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Th:Math.pow(Th,t),new Ka(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Rr(N1(t>=240?t-240:t+120,a,r),N1(t,a,r),N1(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ka(VP(this.h),Ag(this.s),Ag(this.l),Ky(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ky(this.opacity);return`${t===1?"hsl(":"hsla("}${VP(this.h)}, ${Ag(this.s)*100}%, ${Ag(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VP(t){return t=(t||0)%360,t<0?t+360:t}function Ag(t){return Math.max(0,Math.min(1,t||0))}function N1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const kS=t=>()=>t;function nae(t,e){return function(n){return t+n*e}}function rae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function aae(t){return(t=+t)==1?NL:function(e,n){return n-e?rae(e,n,t):kS(isNaN(e)?n:e)}}function NL(t,e){var n=e-t;return n?nae(t,n):kS(isNaN(t)?e:t)}const $P=(function t(e){var n=aae(e);function r(a,s){var l=n((a=uE(a)).r,(s=uE(s)).r),d=n(a.g,s.g),f=n(a.b,s.b),h=NL(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function iae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function sae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)a[l]=gd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(d){for(l=0;l<r;++l)s[l]=a[l](d);return s}}function lae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Wy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function cae(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=gd(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var dE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T1=new RegExp(dE.source,"g");function uae(t){return function(){return t}}function dae(t){return function(e){return t(e)+""}}function fae(t,e){var n=dE.lastIndex=T1.lastIndex=0,r,a,s,l=-1,d=[],f=[];for(t=t+"",e=e+"";(r=dE.exec(t))&&(a=T1.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(a=a[0])?d[l]?d[l]+=a:d[++l]=a:(d[++l]=null,f.push({i:l,x:Wy(r,a)})),n=T1.lastIndex;return n<e.length&&(s=e.slice(n),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?dae(f[0].x):uae(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function gd(t,e){var n=typeof e,r;return e==null||n==="boolean"?kS(e):(n==="number"?Wy:n==="string"?(r=Ih(e))?(e=r,$P):fae:e instanceof Ih?$P:e instanceof Date?lae:sae(e)?iae:Array.isArray(e)?oae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cae:Wy)(t,e)}function PS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function hae(t,e){e===void 0&&(e=t,t=gd);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[d](l-d)}}function mae(t){return function(){return t}}function Yy(t){return+t}var BP=[0,1];function yr(t){return t}function fE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:mae(isNaN(e)?NaN:.5)}function pae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function gae(t,e,n){var r=t[0],a=t[1],s=e[0],l=e[1];return a<r?(r=fE(a,r),s=n(l,s)):(r=fE(r,a),s=n(s,l)),function(d){return s(r(d))}}function yae(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=fE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(d){var f=um(t,d,1,r)-1;return s[f](a[f](d))}}function fm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v0(){var t=BP,e=BP,n=gd,r,a,s,l=yr,d,f,h;function p(){var x=Math.min(t.length,e.length);return l!==yr&&(l=pae(t[0],t[x-1])),d=x>2?yae:gae,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?s:(f||(f=d(t.map(r),e,n)))(r(l(x)))}return g.invert=function(x){return l(a((h||(h=d(e,t.map(r),Wy)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Yy),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=PS,p()},g.clamp=function(x){return arguments.length?(l=x?!0:yr,p()):l!==yr},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,w){return r=x,a=w,p()}}function RS(){return v0()(yr,yr)}function vae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Zu(t){return t=Qy(Math.abs(t)),t?t[1]:NaN}function xae(t,e){return function(n,r){for(var a=n.length,s=[],l=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(a-=d,a+d)),!((f+=d+1)>r));)d=t[l=(l+1)%t.length];return s.reverse().join(e)}}function bae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var wae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oh(t){if(!(e=wae.exec(t)))throw new Error("invalid format: "+t);var e;return new DS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oh.prototype=DS.prototype;function DS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}DS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _ae(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var TL;function Eae(t,e){var n=Qy(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(TL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Qy(t,Math.max(0,e+s-1))[0]}function FP(t,e){var n=Qy(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const qP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FP(t*100,e),r:FP,s:Eae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HP(t){return t}var GP=Array.prototype.map,KP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Aae(t){var e=t.grouping===void 0||t.thousands===void 0?HP:xae(GP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?HP:bae(GP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Oh(g);var x=g.fill,w=g.align,E=g.sign,A=g.symbol,S=g.zero,I=g.width,U=g.comma,k=g.precision,C=g.trim,P=g.type;P==="n"?(U=!0,P="g"):qP[P]||(k===void 0&&(k=12),C=!0,P="g"),(S||x==="0"&&w==="=")&&(S=!0,x="0",w="=");var z=A==="$"?n:A==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",N=A==="$"?r:/[%p]/.test(P)?l:"",M=qP[P],T=/[defgprs%]/.test(P);k=k===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function R(L){var V=z,$=N,ne,me,Y;if(P==="c")$=M(L)+$,L="";else{L=+L;var oe=L<0||1/L<0;if(L=isNaN(L)?f:M(Math.abs(L),k),C&&(L=_ae(L)),oe&&+L==0&&E!=="+"&&(oe=!1),V=(oe?E==="("?E:d:E==="-"||E==="("?"":E)+V,$=(P==="s"?KP[8+TL/3]:"")+$+(oe&&E==="("?")":""),T){for(ne=-1,me=L.length;++ne<me;)if(Y=L.charCodeAt(ne),48>Y||Y>57){$=(Y===46?a+L.slice(ne+1):L.slice(ne))+$,L=L.slice(0,ne);break}}}U&&!S&&(L=e(L,1/0));var H=V.length+L.length+$.length,K=H<I?new Array(I-H+1).join(x):"";switch(U&&S&&(L=e(K+L,K.length?I-$.length:1/0),K=""),w){case"<":L=V+L+$+K;break;case"=":L=V+K+L+$;break;case"^":L=K.slice(0,H=K.length>>1)+V+L+$+K.slice(H);break;default:L=K+V+L+$;break}return s(L)}return R.toString=function(){return g+""},R}function p(g,x){var w=h((g=Oh(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Zu(x)/3)))*3,A=Math.pow(10,-E),S=KP[8+E/3];return function(I){return w(A*I)+S}}return{format:h,formatPrefix:p}}var Sg,MS,CL;Sae({thousands:",",grouping:[3],currency:["$",""]});function Sae(t){return Sg=Aae(t),MS=Sg.format,CL=Sg.formatPrefix,Sg}function jae(t){return Math.max(0,-Zu(Math.abs(t)))}function Nae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(e)/3)))*3-Zu(Math.abs(t)))}function Tae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zu(e)-Zu(t))+1}function IL(t,e,n,r){var a=lE(t,e,n),s;switch(r=Oh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Nae(a,l))&&(r.precision=s),CL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Tae(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=jae(a))&&(r.precision=s-(r.type==="%")*2);break}}return MS(r)}function cl(t){var e=t.domain;return t.ticks=function(n){var r=e();return sE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return IL(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,l=r[a],d=r[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=oE(l,d,n),h===f)return r[a]=l,r[s]=d,e(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function OL(){var t=RS();return t.copy=function(){return fm(t,OL())},ka.apply(t,arguments),cl(t)}function kL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Yy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return kL(t).unknown(e)},t=arguments.length?Array.from(t,Yy):[0,1],cl(n)}function PL(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],l;return s<a&&(l=n,n=r,r=l,l=a,a=s,s=l),t[n]=e.floor(a),t[r]=e.ceil(s),t}function WP(t){return Math.log(t)}function YP(t){return Math.exp(t)}function Cae(t){return-Math.log(-t)}function Iae(t){return-Math.exp(-t)}function Oae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kae(t){return t===10?Oae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Pae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function QP(t){return(e,n)=>-t(-e,n)}function LS(t){const e=t(WP,YP),n=e.domain;let r=10,a,s;function l(){return a=Pae(r),s=kae(r),n()[0]<0?(a=QP(a),s=QP(s),t(Cae,Iae)):t(WP,YP),e}return e.base=function(d){return arguments.length?(r=+d,l()):r},e.domain=function(d){return arguments.length?(n(d),l()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=a(h),w=a(p),E,A;const S=d==null?10:+d;let I=[];if(!(r%1)&&w-x<S){if(x=Math.floor(x),w=Math.ceil(w),h>0){for(;x<=w;++x)for(E=1;E<r;++E)if(A=x<0?E/s(-x):E*s(x),!(A<h)){if(A>p)break;I.push(A)}}else for(;x<=w;++x)for(E=r-1;E>=1;--E)if(A=x>0?E/s(-x):E*s(x),!(A<h)){if(A>p)break;I.push(A)}I.length*2<S&&(I=sE(h,p,S))}else I=sE(x,w,Math.min(w-x,S)).map(s);return g?I.reverse():I},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Oh(f)).precision==null&&(f.trim=!0),f=MS(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(PL(n(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function RL(){const t=LS(v0()).domain([1,10]);return t.copy=()=>fm(t,RL()).base(t.base()),ka.apply(t,arguments),t}function XP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ZP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function US(t){var e=1,n=t(XP(e),ZP(e));return n.constant=function(r){return arguments.length?t(XP(e=+r),ZP(e)):e},cl(n)}function DL(){var t=US(v0());return t.copy=function(){return fm(t,DL()).constant(t.constant())},ka.apply(t,arguments)}function JP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Rae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Dae(t){return t<0?-t*t:t*t}function zS(t){var e=t(yr,yr),n=1;function r(){return n===1?t(yr,yr):n===.5?t(Rae,Dae):t(JP(n),JP(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},cl(e)}function VS(){var t=zS(v0());return t.copy=function(){return fm(t,VS()).exponent(t.exponent())},ka.apply(t,arguments),t}function Mae(){return VS.apply(null,arguments).exponent(.5)}function eR(t){return Math.sign(t)*t*t}function Lae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ML(){var t=RS(),e=[0,1],n=!1,r;function a(s){var l=Lae(t(s));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(s){return t.invert(eR(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Yy)).map(eR)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return ML(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ka.apply(a,arguments),cl(a)}function LL(){var t=[],e=[],n=[],r;function a(){var l=0,d=Math.max(1,e.length);for(n=new Array(d-1);++l<d;)n[l-1]=$re(t,l/d);return s}function s(l){return l==null||isNaN(l=+l)?r:e[um(n,l)]}return s.invertExtent=function(l){var d=e.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let d of l)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(qo),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return LL().domain(t).range(e).unknown(r)},ka.apply(s,arguments)}function UL(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[um(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},l.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,d()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return UL().domain([t,e]).range(a).unknown(s)},ka.apply(cl(l),arguments)}function zL(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[um(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return zL().domain(t).range(e).unknown(n)},ka.apply(a,arguments)}const C1=new Date,I1=new Date;function In(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),d=a.ceil(s);return s-l<d-s?l:d},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<l);return f},a.filter=s=>In(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;e(l,-1),!s(l););else for(;--d>=0;)for(;e(l,1),!s(l););}),n&&(a.count=(s,l)=>(C1.setTime(+s),I1.setTime(+l),t(C1),t(I1),Math.floor(n(C1,I1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?l=>r(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Xy=In(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?In(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Xy);Xy.range;const _s=1e3,wa=_s*60,Es=wa*60,Us=Es*24,$S=Us*7,tR=Us*30,O1=Us*365,Wl=In(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getUTCSeconds());Wl.range;const BS=In(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_s)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getMinutes());BS.range;const FS=In(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getUTCMinutes());FS.range;const qS=In(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_s-t.getMinutes()*wa)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getHours());qS.range;const HS=In(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCHours());HS.range;const hm=In(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wa)/Us,t=>t.getDate()-1);hm.range;const x0=In(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>t.getUTCDate()-1);x0.range;const VL=In(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>Math.floor(t/Us));VL.range;function jc(t){return In(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*wa)/$S)}const b0=jc(0),Zy=jc(1),Uae=jc(2),zae=jc(3),Ju=jc(4),Vae=jc(5),$ae=jc(6);b0.range;Zy.range;Uae.range;zae.range;Ju.range;Vae.range;$ae.range;function Nc(t){return In(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/$S)}const w0=Nc(0),Jy=Nc(1),Bae=Nc(2),Fae=Nc(3),ed=Nc(4),qae=Nc(5),Hae=Nc(6);w0.range;Jy.range;Bae.range;Fae.range;ed.range;qae.range;Hae.range;const GS=In(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());GS.range;const KS=In(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());KS.range;const zs=In(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:In(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});zs.range;const Vs=In(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:In(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vs.range;function $L(t,e,n,r,a,s){const l=[[Wl,1,_s],[Wl,5,5*_s],[Wl,15,15*_s],[Wl,30,30*_s],[s,1,wa],[s,5,5*wa],[s,15,15*wa],[s,30,30*wa],[a,1,Es],[a,3,3*Es],[a,6,6*Es],[a,12,12*Es],[r,1,Us],[r,2,2*Us],[n,1,$S],[e,1,tR],[e,3,3*tR],[t,1,O1]];function d(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:f(h,p,g),E=w?w.range(h,+p+1):[];return x?E.reverse():E}function f(h,p,g){const x=Math.abs(p-h)/g,w=TS(([,,S])=>S).right(l,x);if(w===l.length)return t.every(lE(h/O1,p/O1,g));if(w===0)return Xy.every(Math.max(lE(h,p,g),1));const[E,A]=l[x/l[w-1][2]<l[w][2]/x?w-1:w];return E.every(A)}return[d,f]}const[Gae,Kae]=$L(Vs,KS,w0,VL,HS,FS),[Wae,Yae]=$L(zs,GS,b0,hm,qS,BS);function k1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function P1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Df(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Qae(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,l=t.shortDays,d=t.months,f=t.shortMonths,h=Mf(a),p=Lf(a),g=Mf(s),x=Lf(s),w=Mf(l),E=Lf(l),A=Mf(d),S=Lf(d),I=Mf(f),U=Lf(f),k={a:oe,A:H,b:K,B:se,c:null,d:oR,e:oR,f:xie,g:Cie,G:Oie,H:gie,I:yie,j:vie,L:BL,m:bie,M:wie,p:q,q:re,Q:uR,s:dR,S:_ie,u:Eie,U:Aie,V:Sie,w:jie,W:Nie,x:null,X:null,y:Tie,Y:Iie,Z:kie,"%":cR},C={a:pe,A:ye,b:Ce,B:ke,c:null,d:lR,e:lR,f:Mie,g:Gie,G:Wie,H:Pie,I:Rie,j:Die,L:qL,m:Lie,M:Uie,p:Pe,q:Nt,Q:uR,s:dR,S:zie,u:Vie,U:$ie,V:Bie,w:Fie,W:qie,x:null,X:null,y:Hie,Y:Kie,Z:Yie,"%":cR},P={a:R,A:L,b:V,B:$,c:ne,d:iR,e:iR,f:fie,g:aR,G:rR,H:sR,I:sR,j:lie,L:die,m:oie,M:cie,p:T,q:sie,Q:mie,s:pie,S:uie,u:tie,U:nie,V:rie,w:eie,W:aie,x:me,X:Y,y:aR,Y:rR,Z:iie,"%":hie};k.x=z(n,k),k.X=z(r,k),k.c=z(e,k),C.x=z(n,C),C.X=z(r,C),C.c=z(e,C);function z(ce,Ue){return function(He){var ge=[],Xt=-1,Ke=0,An=ce.length,Zt,Ur,Qs;for(He instanceof Date||(He=new Date(+He));++Xt<An;)ce.charCodeAt(Xt)===37&&(ge.push(ce.slice(Ke,Xt)),(Ur=nR[Zt=ce.charAt(++Xt)])!=null?Zt=ce.charAt(++Xt):Ur=Zt==="e"?" ":"0",(Qs=Ue[Zt])&&(Zt=Qs(He,Ur)),ge.push(Zt),Ke=Xt+1);return ge.push(ce.slice(Ke,Xt)),ge.join("")}}function N(ce,Ue){return function(He){var ge=Df(1900,void 0,1),Xt=M(ge,ce,He+="",0),Ke,An;if(Xt!=He.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ue&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ke=P1(Df(ge.y,0,1)),An=Ke.getUTCDay(),Ke=An>4||An===0?Jy.ceil(Ke):Jy(Ke),Ke=x0.offset(Ke,(ge.V-1)*7),ge.y=Ke.getUTCFullYear(),ge.m=Ke.getUTCMonth(),ge.d=Ke.getUTCDate()+(ge.w+6)%7):(Ke=k1(Df(ge.y,0,1)),An=Ke.getDay(),Ke=An>4||An===0?Zy.ceil(Ke):Zy(Ke),Ke=hm.offset(Ke,(ge.V-1)*7),ge.y=Ke.getFullYear(),ge.m=Ke.getMonth(),ge.d=Ke.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),An="Z"in ge?P1(Df(ge.y,0,1)).getUTCDay():k1(Df(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(An+5)%7:ge.w+ge.U*7-(An+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,P1(ge)):k1(ge)}}function M(ce,Ue,He,ge){for(var Xt=0,Ke=Ue.length,An=He.length,Zt,Ur;Xt<Ke;){if(ge>=An)return-1;if(Zt=Ue.charCodeAt(Xt++),Zt===37){if(Zt=Ue.charAt(Xt++),Ur=P[Zt in nR?Ue.charAt(Xt++):Zt],!Ur||(ge=Ur(ce,He,ge))<0)return-1}else if(Zt!=He.charCodeAt(ge++))return-1}return ge}function T(ce,Ue,He){var ge=h.exec(Ue.slice(He));return ge?(ce.p=p.get(ge[0].toLowerCase()),He+ge[0].length):-1}function R(ce,Ue,He){var ge=w.exec(Ue.slice(He));return ge?(ce.w=E.get(ge[0].toLowerCase()),He+ge[0].length):-1}function L(ce,Ue,He){var ge=g.exec(Ue.slice(He));return ge?(ce.w=x.get(ge[0].toLowerCase()),He+ge[0].length):-1}function V(ce,Ue,He){var ge=I.exec(Ue.slice(He));return ge?(ce.m=U.get(ge[0].toLowerCase()),He+ge[0].length):-1}function $(ce,Ue,He){var ge=A.exec(Ue.slice(He));return ge?(ce.m=S.get(ge[0].toLowerCase()),He+ge[0].length):-1}function ne(ce,Ue,He){return M(ce,e,Ue,He)}function me(ce,Ue,He){return M(ce,n,Ue,He)}function Y(ce,Ue,He){return M(ce,r,Ue,He)}function oe(ce){return l[ce.getDay()]}function H(ce){return s[ce.getDay()]}function K(ce){return f[ce.getMonth()]}function se(ce){return d[ce.getMonth()]}function q(ce){return a[+(ce.getHours()>=12)]}function re(ce){return 1+~~(ce.getMonth()/3)}function pe(ce){return l[ce.getUTCDay()]}function ye(ce){return s[ce.getUTCDay()]}function Ce(ce){return f[ce.getUTCMonth()]}function ke(ce){return d[ce.getUTCMonth()]}function Pe(ce){return a[+(ce.getUTCHours()>=12)]}function Nt(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ue=z(ce+="",k);return Ue.toString=function(){return ce},Ue},parse:function(ce){var Ue=N(ce+="",!1);return Ue.toString=function(){return ce},Ue},utcFormat:function(ce){var Ue=z(ce+="",C);return Ue.toString=function(){return ce},Ue},utcParse:function(ce){var Ue=N(ce+="",!0);return Ue.toString=function(){return ce},Ue}}}var nR={"-":"",_:" ",0:"0"},qn=/^\s*\d+/,Xae=/^%/,Zae=/[\\^$*+?|[\]().{}]/g;function ct(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function Jae(t){return t.replace(Zae,"\\$&")}function Mf(t){return new RegExp("^(?:"+t.map(Jae).join("|")+")","i")}function Lf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function eie(t,e,n){var r=qn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tie(t,e,n){var r=qn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function aie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rR(t,e,n){var r=qn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function aR(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function iie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sie(t,e,n){var r=qn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function oie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function iR(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lie(t,e,n){var r=qn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sR(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uie(t,e,n){var r=qn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function die(t,e,n){var r=qn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fie(t,e,n){var r=qn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hie(t,e,n){var r=Xae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mie(t,e,n){var r=qn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pie(t,e,n){var r=qn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function oR(t,e){return ct(t.getDate(),e,2)}function gie(t,e){return ct(t.getHours(),e,2)}function yie(t,e){return ct(t.getHours()%12||12,e,2)}function vie(t,e){return ct(1+hm.count(zs(t),t),e,3)}function BL(t,e){return ct(t.getMilliseconds(),e,3)}function xie(t,e){return BL(t,e)+"000"}function bie(t,e){return ct(t.getMonth()+1,e,2)}function wie(t,e){return ct(t.getMinutes(),e,2)}function _ie(t,e){return ct(t.getSeconds(),e,2)}function Eie(t){var e=t.getDay();return e===0?7:e}function Aie(t,e){return ct(b0.count(zs(t)-1,t),e,2)}function FL(t){var e=t.getDay();return e>=4||e===0?Ju(t):Ju.ceil(t)}function Sie(t,e){return t=FL(t),ct(Ju.count(zs(t),t)+(zs(t).getDay()===4),e,2)}function jie(t){return t.getDay()}function Nie(t,e){return ct(Zy.count(zs(t)-1,t),e,2)}function Tie(t,e){return ct(t.getFullYear()%100,e,2)}function Cie(t,e){return t=FL(t),ct(t.getFullYear()%100,e,2)}function Iie(t,e){return ct(t.getFullYear()%1e4,e,4)}function Oie(t,e){var n=t.getDay();return t=n>=4||n===0?Ju(t):Ju.ceil(t),ct(t.getFullYear()%1e4,e,4)}function kie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ct(e/60|0,"0",2)+ct(e%60,"0",2)}function lR(t,e){return ct(t.getUTCDate(),e,2)}function Pie(t,e){return ct(t.getUTCHours(),e,2)}function Rie(t,e){return ct(t.getUTCHours()%12||12,e,2)}function Die(t,e){return ct(1+x0.count(Vs(t),t),e,3)}function qL(t,e){return ct(t.getUTCMilliseconds(),e,3)}function Mie(t,e){return qL(t,e)+"000"}function Lie(t,e){return ct(t.getUTCMonth()+1,e,2)}function Uie(t,e){return ct(t.getUTCMinutes(),e,2)}function zie(t,e){return ct(t.getUTCSeconds(),e,2)}function Vie(t){var e=t.getUTCDay();return e===0?7:e}function $ie(t,e){return ct(w0.count(Vs(t)-1,t),e,2)}function HL(t){var e=t.getUTCDay();return e>=4||e===0?ed(t):ed.ceil(t)}function Bie(t,e){return t=HL(t),ct(ed.count(Vs(t),t)+(Vs(t).getUTCDay()===4),e,2)}function Fie(t){return t.getUTCDay()}function qie(t,e){return ct(Jy.count(Vs(t)-1,t),e,2)}function Hie(t,e){return ct(t.getUTCFullYear()%100,e,2)}function Gie(t,e){return t=HL(t),ct(t.getUTCFullYear()%100,e,2)}function Kie(t,e){return ct(t.getUTCFullYear()%1e4,e,4)}function Wie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ed(t):ed.ceil(t),ct(t.getUTCFullYear()%1e4,e,4)}function Yie(){return"+0000"}function cR(){return"%"}function uR(t){return+t}function dR(t){return Math.floor(+t/1e3)}var pu,GL,KL;Qie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qie(t){return pu=Qae(t),GL=pu.format,pu.parse,KL=pu.utcFormat,pu.utcParse,pu}function Xie(t){return new Date(t)}function Zie(t){return t instanceof Date?+t:+new Date(+t)}function WS(t,e,n,r,a,s,l,d,f,h){var p=RS(),g=p.invert,x=p.domain,w=h(".%L"),E=h(":%S"),A=h("%I:%M"),S=h("%I %p"),I=h("%a %d"),U=h("%b %d"),k=h("%B"),C=h("%Y");function P(z){return(f(z)<z?w:d(z)<z?E:l(z)<z?A:s(z)<z?S:r(z)<z?a(z)<z?I:U:n(z)<z?k:C)(z)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?x(Array.from(z,Zie)):x().map(Xie)},p.ticks=function(z){var N=x();return t(N[0],N[N.length-1],z??10)},p.tickFormat=function(z,N){return N==null?P:h(N)},p.nice=function(z){var N=x();return(!z||typeof z.range!="function")&&(z=e(N[0],N[N.length-1],z??10)),z?x(PL(N,z)):p},p.copy=function(){return fm(p,WS(t,e,n,r,a,s,l,d,f,h))},p}function Jie(){return ka.apply(WS(Wae,Yae,zs,GS,b0,hm,qS,BS,Wl,GL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ese(){return ka.apply(WS(Gae,Kae,Vs,KS,w0,x0,HS,FS,Wl,KL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _0(){var t=0,e=1,n,r,a,s,l=yr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(x){var w,E;return arguments.length?([w,E]=x,l=g(w,E),h):[l(0),l(1)]}}return h.range=p(gd),h.rangeRound=p(PS),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function ul(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WL(){var t=cl(_0()(yr));return t.copy=function(){return ul(t,WL())},Gs.apply(t,arguments)}function YL(){var t=LS(_0()).domain([1,10]);return t.copy=function(){return ul(t,YL()).base(t.base())},Gs.apply(t,arguments)}function QL(){var t=US(_0());return t.copy=function(){return ul(t,QL()).constant(t.constant())},Gs.apply(t,arguments)}function YS(){var t=zS(_0());return t.copy=function(){return ul(t,YS()).exponent(t.exponent())},Gs.apply(t,arguments)}function tse(){return YS.apply(null,arguments).exponent(.5)}function XL(){var t=[],e=yr;function n(r){if(r!=null&&!isNaN(r=+r))return e((um(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(qo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>Vre(t,s/r))},n.copy=function(){return XL(e).domain(t)},Gs.apply(n,arguments)}function E0(){var t=0,e=.5,n=1,r=1,a,s,l,d,f,h=yr,p,g=!1,x;function w(A){return isNaN(A=+A)?x:(A=.5+((A=+p(A))-s)*(r*A<r*s?d:f),h(g?Math.max(0,Math.min(1,A)):A))}w.domain=function(A){return arguments.length?([t,e,n]=A,a=p(t=+t),s=p(e=+e),l=p(n=+n),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),r=s<a?-1:1,w):[t,e,n]},w.clamp=function(A){return arguments.length?(g=!!A,w):g},w.interpolator=function(A){return arguments.length?(h=A,w):h};function E(A){return function(S){var I,U,k;return arguments.length?([I,U,k]=S,h=hae(A,[I,U,k]),w):[h(0),h(.5),h(1)]}}return w.range=E(gd),w.rangeRound=E(PS),w.unknown=function(A){return arguments.length?(x=A,w):x},function(A){return p=A,a=A(t),s=A(e),l=A(n),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),r=s<a?-1:1,w}}function ZL(){var t=cl(E0()(yr));return t.copy=function(){return ul(t,ZL())},Gs.apply(t,arguments)}function JL(){var t=LS(E0()).domain([.1,1,10]);return t.copy=function(){return ul(t,JL()).base(t.base())},Gs.apply(t,arguments)}function eU(){var t=US(E0());return t.copy=function(){return ul(t,eU()).constant(t.constant())},Gs.apply(t,arguments)}function QS(){var t=zS(E0());return t.copy=function(){return ul(t,QS()).exponent(t.exponent())},Gs.apply(t,arguments)}function nse(){return QS.apply(null,arguments).exponent(.5)}const Wf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:IS,scaleDiverging:ZL,scaleDivergingLog:JL,scaleDivergingPow:QS,scaleDivergingSqrt:nse,scaleDivergingSymlog:eU,scaleIdentity:kL,scaleImplicit:cE,scaleLinear:OL,scaleLog:RL,scaleOrdinal:CS,scalePoint:Fre,scalePow:VS,scaleQuantile:LL,scaleQuantize:UL,scaleRadial:ML,scaleSequential:WL,scaleSequentialLog:YL,scaleSequentialPow:YS,scaleSequentialQuantile:XL,scaleSequentialSqrt:tse,scaleSequentialSymlog:QL,scaleSqrt:Mae,scaleSymlog:DL,scaleThreshold:zL,scaleTime:Jie,scaleUtc:ese,tickFormat:IL},Symbol.toStringTag,{value:"Module"}));var dl=t=>t.chartData,XS=J([dl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),mm=(t,e,n,r)=>r?XS(t):dl(t);function Jo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Rt(e)&&Rt(n))return!0}return!1}function fR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function tU(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(Rt(n))a=n;else if(typeof n=="function")return;if(Rt(r))s=r;else if(typeof r=="function")return;var l=[a,s];if(Jo(l))return l}}function rse(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Jo(r))return fR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,l,d;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Ae(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&Bk.test(a)){var f=Bk.exec(a);if(f==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ae(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&Fk.test(s)){var p=Fk.exec(s);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var x=[l,d];if(Jo(x))return e==null?x:fR(x,e,n)}}}var yd=1e9,ase={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},JS,Ut=!0,Ia="[DecimalError] ",tc=Ia+"Invalid argument: ",ZS=Ia+"Exponent out of range: ",vd=Math.floor,ql=Math.pow,ise=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qr,zn=1e7,kt=7,nU=9007199254740991,ev=vd(nU/kt),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(t){return Ts(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,n=e.constructor;return St(Ts(e,new n(t),0,1),n.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return _n(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qr))throw Error(Ia+"NaN");if(n.s<1)throw Error(Ia+(n.s?"NaN":"-Infinity"));return n.eq(Qr)?new r(0):(Ut=!1,e=Ts(kh(n,s),kh(t,s),s),Ut=!0,St(e,a))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iU(e,t):rU(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Ia+"NaN");return n.s?(Ut=!1,e=Ts(n,t,0,1).times(t),Ut=!0,n.minus(e)):St(new r(n),a)};Se.naturalExponential=Se.exp=function(){return aU(this)};Se.naturalLogarithm=Se.ln=function(){return kh(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rU(e,t):iU(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tc+t);if(e=_n(a)+1,r=a.d.length-1,n=r*kt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Se.squareRoot=Se.sqrt=function(){var t,e,n,r,a,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Ia+"NaN")}for(t=_n(d),Ut=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Ci(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=vd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=l=n+3;;)if(s=r,r=s.plus(Ts(d,s,l+2)).times(.5),Ci(s.d).slice(0,l)===(e=Ci(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(St(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;l+=4}return Ut=!0,St(r,n)};Se.times=Se.mul=function(t){var e,n,r,a,s,l,d,f,h,p=this,g=p.constructor,x=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=w.length,f<h&&(s=x,x=w,w=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)d=s[a]+w[r]*x[a-r-1]+e,s[a--]=d%zn|0,e=d/zn|0;s[a]=(s[a]+e)%zn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ut?St(t,g.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Bi(t,0,yd),e===void 0?e=r.rounding:Bi(e,0,8),St(n,t+_n(n)+1,e))};Se.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=yc(r,!0):(Bi(t,0,yd),e===void 0?e=a.rounding:Bi(e,0,8),r=St(new a(r),t+1,e),n=yc(r,!0,t+1)),n};Se.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?yc(a):(Bi(t,0,yd),e===void 0?e=s.rounding:Bi(e,0,8),r=St(new s(a),t+_n(a)+1,e),n=yc(r.abs(),!1,t+_n(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return St(new e(t),_n(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,n,r,a,s,l,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(Qr);if(d=new f(d),!d.s){if(t.s<1)throw Error(Ia+"Infinity");return d}if(d.eq(Qr))return d;if(r=f.precision,t.eq(Qr))return St(d,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=d.s,l){if((n=p<0?-p:p)<=nU){for(a=new f(Qr),e=Math.ceil(r/kt+4),Ut=!1;n%2&&(a=a.times(d),mR(a.d,e)),n=vd(n/2),n!==0;)d=d.times(d),mR(d.d,e);return Ut=!0,t.s<0?new f(Qr).div(a):St(a,r)}}else if(s<0)throw Error(Ia+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Ut=!1,a=t.times(kh(d,r+h)),Ut=!0,a=aU(a),a.s=s,a};Se.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=_n(a),r=yc(a,n<=s.toExpNeg||n>=s.toExpPos)):(Bi(t,1,yd),e===void 0?e=s.rounding:Bi(e,0,8),a=St(new s(a),t,e),n=_n(a),r=yc(a,t<=n||n<=s.toExpNeg,t)),r};Se.toSignificantDigits=Se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Bi(t,1,yd),e===void 0?e=r.rounding:Bi(e,0,8)),St(new r(n),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_n(t),n=t.constructor;return yc(t,e<=n.toExpNeg||e>=n.toExpPos)};function rU(t,e){var n,r,a,s,l,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ut?St(e,g):e;if(f=t.d,h=e.d,l=t.e,a=e.e,f=f.slice(),s=l-a,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,a=l,d=f.length),l=Math.ceil(g/kt),d=l>d?l+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/zn|0,f[s]%=zn;for(n&&(f.unshift(n),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,Ut?St(e,g):e}function Bi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tc+t)}function Ci(t){var e,n,r,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)r=t[e]+"",n=kt-r.length,n&&(s+=ko(n)),s+=r;l=t[e],r=l+"",n=kt-r.length,n&&(s+=ko(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ts=(function(){function t(r,a){var s,l=0,d=r.length;for(r=r.slice();d--;)s=r[d]*a+l,r[d]=s%zn|0,l=s/zn|0;return l&&r.unshift(l),r}function e(r,a,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=a[d]){f=r[d]>a[d]?1:-1;break}return f}function n(r,a,s){for(var l=0;s--;)r[s]-=l,l=r[s]<a[s]?1:0,r[s]=l*zn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,l){var d,f,h,p,g,x,w,E,A,S,I,U,k,C,P,z,N,M,T=r.constructor,R=r.s==a.s?1:-1,L=r.d,V=a.d;if(!r.s)return new T(r);if(!a.s)throw Error(Ia+"Division by zero");for(f=r.e-a.e,N=V.length,P=L.length,w=new T(R),E=w.d=[],h=0;V[h]==(L[h]||0);)++h;if(V[h]>(L[h]||0)&&--f,s==null?U=s=T.precision:l?U=s+(_n(r)-_n(a))+1:U=s,U<0)return new T(0);if(U=U/kt+2|0,h=0,N==1)for(p=0,V=V[0],U++;(h<P||p)&&U--;h++)k=p*zn+(L[h]||0),E[h]=k/V|0,p=k%V|0;else{for(p=zn/(V[0]+1)|0,p>1&&(V=t(V,p),L=t(L,p),N=V.length,P=L.length),C=N,A=L.slice(0,N),S=A.length;S<N;)A[S++]=0;M=V.slice(),M.unshift(0),z=V[0],V[1]>=zn/2&&++z;do p=0,d=e(V,A,N,S),d<0?(I=A[0],N!=S&&(I=I*zn+(A[1]||0)),p=I/z|0,p>1?(p>=zn&&(p=zn-1),g=t(V,p),x=g.length,S=A.length,d=e(g,A,x,S),d==1&&(p--,n(g,N<x?M:V,x))):(p==0&&(d=p=1),g=V.slice()),x=g.length,x<S&&g.unshift(0),n(A,g,S),d==-1&&(S=A.length,d=e(V,A,N,S),d<1&&(p++,n(A,N<S?M:V,S))),S=A.length):d===0&&(p++,A=[0]),E[h++]=p,d&&A[0]?A[S++]=L[C]||0:(A=[L[C]],S=1);while((C++<P||A[0]!==void 0)&&U--)}return E[0]||E.shift(),w.e=f,St(w,l?s+_n(w)+1:s)}})();function aU(t,e){var n,r,a,s,l,d,f=0,h=0,p=t.constructor,g=p.precision;if(_n(t)>16)throw Error(ZS+_n(t));if(!t.s)return new p(Qr);for(Ut=!1,d=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(ql(2,h))/Math.LN10*2+5|0,d+=r,n=a=s=new p(Qr),p.precision=d;;){if(a=St(a.times(t),d),n=n.times(++f),l=s.plus(Ts(a,n,d)),Ci(l.d).slice(0,d)===Ci(s.d).slice(0,d)){for(;h--;)s=St(s.times(s),d);return p.precision=g,e==null?(Ut=!0,St(s,g)):s}s=l}}function _n(t){for(var e=t.e*kt,n=t.d[0];n>=10;n/=10)e++;return e}function R1(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(Ia+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function ko(t){for(var e="";t--;)e+="0";return e}function kh(t,e){var n,r,a,s,l,d,f,h,p,g=1,x=10,w=t,E=w.d,A=w.constructor,S=A.precision;if(w.s<1)throw Error(Ia+(w.s?"NaN":"-Infinity"));if(w.eq(Qr))return new A(0);if(e==null?(Ut=!1,h=S):h=e,w.eq(10))return e==null&&(Ut=!0),R1(A,h);if(h+=x,A.precision=h,n=Ci(E),r=n.charAt(0),s=_n(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Ci(w.d),r=n.charAt(0),g++;s=_n(w),r>1?(w=new A("0."+n),s++):w=new A(r+"."+n.slice(1))}else return f=R1(A,h+2,S).times(s+""),w=kh(new A(r+"."+n.slice(1)),h-x).plus(f),A.precision=S,e==null?(Ut=!0,St(w,S)):w;for(d=l=w=Ts(w.minus(Qr),w.plus(Qr),h),p=St(w.times(w),h),a=3;;){if(l=St(l.times(p),h),f=d.plus(Ts(l,new A(a),h)),Ci(f.d).slice(0,h)===Ci(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(R1(A,h+2,S).times(s+""))),d=Ts(d,new A(g),h),A.precision=S,e==null?(Ut=!0,St(d,S)):d;d=f,a+=2}}function hR(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=vd(n/kt),t.d=[],r=(n+1)%kt,n<0&&(r+=kt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=kt;r<a;)t.d.push(+e.slice(r,r+=kt));e=e.slice(r),r=kt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>ev||t.e<-ev))throw Error(ZS+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,a,s,l,d,f,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=kt,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/kt),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=kt,a=r-kt+l}if(n!==void 0&&(s=ql(10,l-a-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?a>0?h/ql(10,l-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=_n(t),g.length=1,e=e-s-1,g[0]=ql(10,(kt-e%kt)%kt),t.e=vd(-e/kt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ql(10,kt-r),g[p]=a>0?(h/ql(10,l-a)%ql(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==zn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=zn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Ut&&(t.e>ev||t.e<-ev))throw Error(ZS+_n(t));return t}function iU(t,e){var n,r,a,s,l,d,f,h,p,g,x=t.constructor,w=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Ut?St(e,w):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,d=g.length):(n=g,r=h,d=f.length),a=Math.max(Math.ceil(w/kt),d)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=zn-1;--f[s],f[a]+=zn}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Ut?St(e,w):e):new x(0)}function yc(t,e,n){var r,a=_n(t),s=Ci(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+ko(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ko(-a-1)+s,n&&(r=n-l)>0&&(s+=ko(r))):a>=l?(s+=ko(a+1-l),n&&(r=n-a-1)>0&&(s=s+"."+ko(r))):((r=a+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(s+="."),s+=ko(r))),t.s<0?"-"+s:s}function mR(t,e){if(t.length>e)return t.length=e,!0}function sU(t){var e,n,r;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(tc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return hR(l,s.toString())}else if(typeof s!="string")throw Error(tc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,ise.test(s))hR(l,s);else throw Error(tc+s)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=sU,a.config=a.set=sse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function sse(t){if(!t||typeof t!="object")throw Error(Ia+"Object expected");var e,n,r,a=["precision",1,yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(vd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(tc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tc+n+": "+r);return this}var JS=sU(ase);Qr=new JS(1);const yt=JS;var ose=t=>t,oU={},lU=t=>t===oU,pR=t=>function e(){return arguments.length===0||arguments.length===1&&lU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},cU=(t,e)=>t===1?e:pR(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(l=>l!==oU).length;return s>=t?e(...r):cU(t-s,pR(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var h=r.map(p=>lU(p)?d.shift():p);return e(...h,...d)}))}),lse=t=>cU(t.length,t),hE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},cse=lse((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),use=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ose;var a=n.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((d,f)=>f(d),s(...arguments))}},mE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function uU(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function dU(t,e,n){for(var r=new yt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var fU=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},hU=(t,e,n)=>{if(t.lte(0))return new yt(0);var r=uU(t.toNumber()),a=new yt(10).pow(r),s=t.div(a),l=r!==1?.05:.1,d=new yt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=d.mul(a);return e?new yt(f.toNumber()):new yt(Math.ceil(f.toNumber()))},dse=(t,e,n)=>{var r=new yt(1),a=new yt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new yt(10).pow(uU(t)-1),a=new yt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new yt(Math.floor(t)))}else t===0?a=new yt(Math.floor((e-1)/2)):n||(a=new yt(Math.floor(t)));var l=Math.floor((e-1)/2),d=use(cse(f=>a.add(new yt(f-l).mul(r)).toNumber()),hE);return d(0,e)},mU=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var l=hU(new yt(n).sub(e).div(r-1),a,s),d;e<=0&&n>=0?d=new yt(0):(d=new yt(e).add(n).div(2),d=d.sub(new yt(d).mod(l)));var f=Math.ceil(d.sub(e).div(l).toNumber()),h=Math.ceil(new yt(n).sub(d).div(l).toNumber()),p=f+h+1;return p>r?mU(e,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new yt(f).mul(l)),tickMax:d.add(new yt(h).mul(l))})},fse=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[d,f]=fU([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...hE(0,a-1).map(()=>1/0)]:[...hE(0,a-1).map(()=>-1/0),f];return n>r?mE(h):h}if(d===f)return dse(d,a,s);var{step:p,tickMin:g,tickMax:x}=mU(d,f,l,s,0),w=dU(g,x.add(new yt(.1).mul(p)),p);return n>r?mE(w):w},hse=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=fU([r,a]);if(l===-1/0||d===1/0)return[r,a];if(l===d)return[l];var f=Math.max(n,2),h=hU(new yt(d).sub(l).div(f-1),s,0),p=[...dU(new yt(l),new yt(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>a?mE(p):p},pU=t=>t.rootProps.maxBarSize,mse=t=>t.rootProps.barGap,gU=t=>t.rootProps.barCategoryGap,pse=t=>t.rootProps.barSize,pm=t=>t.rootProps.stackOffset,yU=t=>t.rootProps.reverseStackOrder,ej=t=>t.options.chartName,tj=t=>t.rootProps.syncId,vU=t=>t.rootProps.syncMethod,nj=t=>t.options.eventEmitter,gse=t=>t.rootProps.baseValue,on={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},A0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},yse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:vs.reversed,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:vs.type,unit:void 0},vse={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:Wr.type,unit:void 0},xse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bse={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:"category",unit:void 0},rj=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?xse:yse,aj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?bse:vse,S0=t=>t.polarOptions,ij=J([qs,Hs,Cn],gL),xU=J([S0,ij],(t,e)=>{if(t!=null)return lr(t.innerRadius,e,0)}),bU=J([S0,ij],(t,e)=>{if(t!=null)return lr(t.outerRadius,e,e*.8)}),wse=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},wU=J([S0],wse);J([rj,wU],A0);var _U=J([ij,xU,bU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});J([aj,_U],A0);var EU=J([Qe,S0,xU,bU,qs,Hs],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=e;return{cx:lr(l,a,a/2),cy:lr(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),$t=(t,e)=>e,gm=(t,e,n)=>n;function j0(t){return t==null?void 0:t.id}function AU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,l=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=j0(d);h.forEach((g,x)=>{var w=s==null||a?x:String(vt(g,s,null)),E=vt(g,d.dataKey,0),A;l.has(w)?A=l.get(w):A={},Object.assign(A,{[p]:E}),l.set(w,A)})}}),Array.from(l.values())}function N0(t){return t.stackId!=null&&t.dataKey!=null}var T0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function C0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function _se(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var On=t=>{var e=Qe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},xd=t=>t.tooltip.settings.axisId;function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ese(t,e,n){return(e=Ase(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ase(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pE=[0,"auto"],Mn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},SU=(t,e)=>t.cartesianAxis.xAxis[e],Ks=(t,e)=>{var n=SU(t,e);return n??Mn},Ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lm},jU=(t,e)=>t.cartesianAxis.yAxis[e],Ws=(t,e)=>{var n=jU(t,e);return n??Ln},jse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sj=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??jse},qt=(t,e,n)=>{switch(e){case"xAxis":return Ks(t,n);case"yAxis":return Ws(t,n);case"zAxis":return sj(t,n);case"angleAxis":return rj(t,n);case"radiusAxis":return aj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Nse=(t,e,n)=>{switch(e){case"xAxis":return Ks(t,n);case"yAxis":return Ws(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ym=(t,e,n)=>{switch(e){case"xAxis":return Ks(t,n);case"yAxis":return Ws(t,n);case"angleAxis":return rj(t,n);case"radiusAxis":return aj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},NU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function oj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var vm=t=>t.graphicalItems.cartesianItems,Tse=J([$t,gm],oj),lj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),xm=J([vm,qt,Tse],lj,{memoizeOptions:{resultEqualityCheck:C0}}),TU=J([xm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(N0)),CU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Cse=J([xm],CU),cj=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ise=J([xm],cj,{memoizeOptions:{resultEqualityCheck:C0}}),uj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},dj=J([Ise,mm],uj),fj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:vt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:vt(a,r)}))):t.map(r=>({value:r})),I0=J([dj,qt,xm],fj);function IU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Gg(t){if(zi(t)||t instanceof Date){var e=Number(t);if(Rt(e))return e}}function yR(t){if(Array.isArray(t)){var e=[Gg(t[0]),Gg(t[1])];return Jo(e)?e:void 0}var n=Gg(t);if(n!=null)return[n,n]}function $s(t){return t.map(Gg).filter(KZ)}function Ose(t,e,n){return!n||typeof e!="number"||Ta(e)?[]:n.length?$s(n.flatMap(r=>{var a=vt(t,r.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Rt(s)||!Rt(l)))return[e-s,e+l]})):[]}var kn=t=>{var e=On(t),n=xd(t);return ym(t,e,n)},bm=J([kn],t=>t==null?void 0:t.dataKey),kse=J([TU,mm,kn],AU),OU=(t,e,n,r)=>{var a={},s=e.reduce((l,d)=>(d.stackId==null||(l[d.stackId]==null&&(l[d.stackId]=[]),l[d.stackId].push(d)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=r?[...f].reverse():f,p=h.map(j0);return[d,{stackedData:fte(t,p,n),graphicalItems:h}]}))},Ph=J([kse,TU,pm,yU],OU),kU=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=gte(t,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Pse=J([qt],t=>t.allowDataOverflow),hj=t=>{var e;if(t==null||!("domain"in t))return pE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=$s(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:pE},mj=J([qt],hj),pj=J([mj,Pse],tU),Rse=J([Ph,dl,$t,pj],kU,{memoizeOptions:{resultEqualityCheck:T0}}),O0=t=>t.errorBars,Dse=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>IU(n,r)),nv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},gj=(t,e,n,r,a)=>{var s,l;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(I=>IU(a,I)),x=vt(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=Ose(d,x,g);if(w.length>=2){var E=Math.min(...w),A=Math.max(...w);(s==null||E<s)&&(s=E),(l==null||A>l)&&(l=A)}var S=yR(x);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=yR(vt(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Rt(s)&&Rt(l))return[s,l]},Mse=J([dj,qt,Cse,O0,$t],gj,{memoizeOptions:{resultEqualityCheck:T0}});function Lse(t){var{value:e}=t;if(zi(e)||e instanceof Date)return e}var Use=(t,e,n)=>{var r=t.map(Lse).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&K3(r))?bL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},PU=t=>t.referenceElements.dots,bd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),zse=J([PU,$t,gm],bd),RU=t=>t.referenceElements.areas,Vse=J([RU,$t,gm],bd),DU=t=>t.referenceElements.lines,$se=J([DU,$t,gm],bd),MU=(t,e)=>{var n=$s(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Bse=J(zse,$t,MU),LU=(t,e)=>{var n=$s(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Fse=J([Vse,$t],LU);function qse(t){var e;if(t.x!=null)return $s([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:$s(n)}function Hse(t){var e;if(t.y!=null)return $s([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:$s(n)}var UU=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?qse(r):Hse(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gse=J([$se,$t],UU),Kse=J(Bse,Gse,Fse,(t,e,n)=>nv(t,n,e)),yj=(t,e,n,r,a,s,l,d)=>{if(n!=null)return n;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?nv(r,s,a):nv(s,a);return rse(e,h,t.allowDataOverflow)},Wse=J([qt,mj,pj,Rse,Mse,Kse,Qe,$t],yj,{memoizeOptions:{resultEqualityCheck:T0}}),Yse=[0,1],vj=(t,e,n,r,a,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=t,h=Qi(e,s);if(h&&d==null){var p;return bL(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?Use(r,t,h):a==="expand"?Yse:l}},xj=J([qt,Qe,dj,I0,pm,$t,Wse],vj),zU=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(rm(s));return d in Wf?d:"point"}}},wd=J([qt,Qe,NU,ej,$t],zU);function Qse(t){if(t!=null){if(t in Wf)return Wf[t]();var e="scale".concat(rm(t));if(e in Wf)return Wf[e]()}}function bj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=Qse(e);if(a!=null){var s=a.domain(n).range(r);return ote(s),s}}}var wj=(t,e,n)=>{var r=hj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Jo(t))return fse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Jo(t))return hse(t,e.tickCount,e.allowDecimals)}},_j=J([xj,ym,wd],wj),Ej=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Jo(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],l=e[1],d=n[n.length-1];return[Math.min(a,s),Math.max(l,d)]}return e},Xse=J([qt,xj,_j,$t],Ej),Zse=J(I0,qt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from($s(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/a}}),VU=J(Zse,Qe,gU,Cn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!Rt(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var l=lr(n,t*s),d=t*s/2;return d-l-(d-l)/s*l}return 0}),Jse=(t,e)=>{var n=Ks(t,e);return n==null||typeof n.padding!="string"?0:VU(t,"xAxis",e,n.padding)},eoe=(t,e)=>{var n=Ws(t,e);return n==null||typeof n.padding!="string"?0:VU(t,"yAxis",e,n.padding)},toe=J(Ks,Jse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),noe=J(Ws,eoe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),roe=J([Cn,toe,f0,d0,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),aoe=J([Cn,Qe,noe,f0,d0,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:l}=a;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),wm=(t,e,n,r)=>{var a;switch(e){case"xAxis":return roe(t,n,r);case"yAxis":return aoe(t,n,r);case"zAxis":return(a=sj(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return wU(t);case"radiusAxis":return _U(t,n);default:return}},$U=J([qt,wm],A0),_d=J([qt,wd,Xse,$U],bj);J([xm,O0,$t],Dse);function BU(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var k0=(t,e)=>e,P0=(t,e,n)=>n,ioe=J(c0,k0,P0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(BU)),soe=J(u0,k0,P0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(BU)),FU=(t,e)=>({width:t.width,height:e.height}),ooe=(t,e)=>{var n=typeof e.width=="number"?e.width:lm;return{width:n,height:t.height}},qU=J(Cn,Ks,FU),loe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},coe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},uoe=J(Hs,Cn,ioe,k0,P0,(t,e,n,r,a)=>{var s={},l;return n.forEach(d=>{var f=FU(e,d);l==null&&(l=loe(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),doe=J(qs,Cn,soe,k0,P0,(t,e,n,r,a)=>{var s={},l;return n.forEach(d=>{var f=ooe(e,d);l==null&&(l=coe(e,r,t));var h=r==="left"&&!a||r==="right"&&a;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),foe=(t,e)=>{var n=Ks(t,e);if(n!=null)return uoe(t,n.orientation,n.mirror)},hoe=J([Cn,Ks,foe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),moe=(t,e)=>{var n=Ws(t,e);if(n!=null)return doe(t,n.orientation,n.mirror)},poe=J([Cn,Ws,moe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),HU=J(Cn,Ws,(t,e)=>{var n=typeof e.width=="number"?e.width:lm;return{width:n,height:t.height}}),vR=(t,e,n)=>{switch(e){case"xAxis":return qU(t,n).width;case"yAxis":return HU(t,n).height;default:return}},GU=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=n,d=Qi(t,r),f=e.map(h=>h.value);if(l&&d&&s==="category"&&a&&K3(f))return f}},Aj=J([Qe,I0,qt,$t],GU),KU=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,l=Qi(t,r);if(l&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},Sj=J([Qe,I0,ym,$t],KU),xR=J([Qe,Nse,wd,_d,Aj,Sj,wm,_j,$t],(t,e,n,r,a,s,l,d,f)=>{if(e!=null){var h=Qi(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}}),goe=(t,e,n,r,a,s,l,d,f)=>{if(!(e==null||r==null)){var h=Qi(t,f),{type:p,ticks:g,tickCount:x}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/w:0;E=f==="angleAxis"&&s!=null&&s.length>=2?Vn(s[0]-s[1])*2*E:E;var A=g||a;if(A){var S=A.map((I,U)=>{var k=l?l.indexOf(I):I;return{index:U,coordinate:r(k)+E,value:I,offset:E}});return S.filter(I=>Rt(I.coordinate))}return h&&d?d.map((I,U)=>({coordinate:r(I)+E,value:I,index:U,offset:E})).filter(I=>Rt(I.coordinate)):r.ticks?r.ticks(x).map(I=>({coordinate:r(I)+E,value:I,offset:E})):r.domain().map((I,U)=>({coordinate:r(I)+E,value:l?l[I]:I,index:U,offset:E}))}},WU=J([Qe,ym,wd,_d,_j,wm,Aj,Sj,$t],goe),yoe=(t,e,n,r,a,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=Qi(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Vn(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},Fi=J([Qe,ym,_d,wm,Aj,Sj,$t],yoe),qi=J(qt,_d,(t,e)=>{if(!(t==null||e==null))return tv(tv({},t),{},{scale:e})}),voe=J([qt,wd,xj,$U],bj);J((t,e,n)=>sj(t,n),voe,(t,e)=>{if(!(t==null||e==null))return tv(tv({},t),{},{scale:e})});var xoe=J([Qe,c0,u0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),YU=t=>t.options.defaultTooltipEventType,QU=t=>t.options.validateTooltipEventTypes;function XU(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function jj(t,e){var n=YU(t),r=QU(t);return XU(e,n,r)}function boe(t){return Ne(e=>jj(e,t))}var ZU=(t,e)=>{var n,r=Number(e);if(!(Ta(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},woe=t=>t.tooltip.settings,Uo={active:!1,index:null,dataKey:void 0,coordinate:void 0},_oe={itemInteraction:{click:Uo,hover:Uo},axisInteraction:{click:Uo,hover:Uo},keyboardInteraction:Uo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},JU=Lr({name:"tooltip",initialState:_oe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Lt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Za(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:Lt()},removeTooltipEntrySettings:{reducer(t,e){var n=Za(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Lt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Eoe,replaceTooltipEntrySettings:Aoe,removeTooltipEntrySettings:Soe,setTooltipSettingsState:joe,setActiveMouseOverItemIndex:ez,mouseLeaveItem:Noe,mouseLeaveChart:tz,setActiveClickItemIndex:Toe,setMouseOverAxisIndex:nz,setMouseClickAxisIndex:Coe,setSyncInteraction:gE,setKeyboardInteraction:yE}=JU.actions,Ioe=JU.reducer;function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){Ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ooe(t,e,n){return(e=koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Poe(t,"string");return typeof e=="symbol"?e:e+""}function Poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Doe(t){return t.index!=null}var rz=(t,e,n,r)=>{if(e==null)return Uo;var a=Roe(t,e,n);if(a==null)return Uo;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Doe(a)){if(s)return jg(jg({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return jg(jg({},Uo),{},{coordinate:a.coordinate})};function Moe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Loe(t,e){var n=Moe(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),l=Math.max(r,a);return n>=s&&n<=l}function Uoe(t,e,n){if(n==null||e==null)return!0;var r=vt(t,e);return r==null||!Jo(n)?!0:Loe(r,n)}var Nj=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!Rt(s))return a;var l=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(l,Math.min(s,d)),h=e[f];return h==null||Uoe(h,n,r)?String(f):null},az=(t,e,n,r,a,s,l,d)=>{if(!(s==null||d==null)){var f=l[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=a==null?void 0:a[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},iz=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},_m=t=>t.options.tooltipPayloadSearcher,Ed=t=>t.tooltip;function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zoe(t,e,n){return(e=Voe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Voe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Boe(t,e){return t??e}var sz=(t,e,n,r,a,s,l)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,w)=>{var E,{dataDefinedOnItem:A,settings:S}=w,I=Boe(A,d),U=Array.isArray(I)?V5(I,h,p):I,k=(E=S==null?void 0:S.dataKey)!==null&&E!==void 0?E:r,C=S==null?void 0:S.nameKey,P;if(r&&Array.isArray(U)&&!Array.isArray(U[0])&&l==="axis"?P=W3(U,r,a):P=s(U,e,f,C),Array.isArray(P))P.forEach(N=>{var M=_R(_R({},S),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});x.push(qk({tooltipEntrySettings:M,dataKey:N.dataKey,payload:N.payload,value:vt(N.payload,N.dataKey),name:N.name}))});else{var z;x.push(qk({tooltipEntrySettings:S,dataKey:k,payload:P,value:vt(P,k),name:(z=vt(P,C))!==null&&z!==void 0?z:S==null?void 0:S.name}))}return x},g)}},Tj=J([kn,Qe,NU,ej,On],zU),Foe=J([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),qoe=J([On,xd],oj),Em=J([Foe,kn,qoe],lj,{memoizeOptions:{resultEqualityCheck:C0}}),Hoe=J([Em],t=>t.filter(N0)),Goe=J([Em],cj,{memoizeOptions:{resultEqualityCheck:C0}}),Ad=J([Goe,dl],uj),Koe=J([Hoe,dl,kn],AU),Cj=J([Ad,kn,Em],fj),oz=J([kn],hj),Woe=J([kn],t=>t.allowDataOverflow),lz=J([oz,Woe],tU),Yoe=J([Em],t=>t.filter(N0)),Qoe=J([Koe,Yoe,pm,yU],OU),Xoe=J([Qoe,dl,On,lz],kU),Zoe=J([Em],CU),Joe=J([Ad,kn,Zoe,O0,On],gj,{memoizeOptions:{resultEqualityCheck:T0}}),ele=J([PU,On,xd],bd),tle=J([ele,On],MU),nle=J([RU,On,xd],bd),rle=J([nle,On],LU),ale=J([DU,On,xd],bd),ile=J([ale,On],UU),sle=J([tle,ile,rle],nv),ole=J([kn,oz,lz,Xoe,Joe,sle,Qe,On],yj),Am=J([kn,Qe,Ad,Cj,pm,On,ole],vj),lle=J([Am,kn,Tj],wj),cle=J([kn,Am,lle,On],Ej),cz=t=>{var e=On(t),n=xd(t),r=!1;return wm(t,e,n,r)},uz=J([kn,cz],A0),dz=J([kn,Tj,cle,uz],bj),ule=J([Qe,Cj,kn,On],GU),dle=J([Qe,Cj,kn,On],KU),fle=(t,e,n,r,a,s,l,d)=>{if(e){var{type:f}=e,h=Qi(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Vn(a[0]-a[1])*2*g:g,h&&l?l.map((x,w)=>({coordinate:r(x)+g,value:x,index:w,offset:g})):r.domain().map((x,w)=>({coordinate:r(x)+g,value:s?s[x]:x,index:w,offset:g}))}}},Ys=J([Qe,kn,Tj,dz,cz,ule,dle,On],fle),Ij=J([YU,QU,woe],(t,e,n)=>XU(n.shared,t,e)),fz=t=>t.tooltip.settings.trigger,Oj=t=>t.tooltip.settings.defaultIndex,R0=J([Ed,Ij,fz,Oj],rz),el=J([R0,Ad,bm,Am],Nj),hz=J([Ys,el],ZU),mz=J([R0],t=>{if(t)return t.dataKey}),pz=J([Ed,Ij,fz,Oj],iz),hle=J([qs,Hs,Qe,Cn,Ys,Oj,pz,_m],az),mle=J([R0,hle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),ple=J([R0],t=>t.active),gle=J([pz,el,dl,bm,hz,_m,Ij],sz),yle=J([gle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vle(t,e,n){return(e=xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xle(t){var e=ble(t,"string");return typeof e=="symbol"?e:e+""}function ble(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wle=()=>Ne(kn),_le=()=>{var t=wle(),e=Ne(Ys),n=Ne(dz);return Zo(!t||!n?void 0:AR(AR({},t),{},{scale:n}),e)};function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Sle(t,"string");return typeof e=="symbol"?e:e+""}function Sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jle=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},Nle=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:l}=r;return gu(gu(gu({},r),wn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,{angle:f}=r;return gu(gu(gu({},r),wn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Tle(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var gz=(t,e,n,r,a)=>{var s,l=-1,d=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(Vn(p-h)!==Vn(g-p)){var w=[];if(Vn(g-p)===Vn(a[1]-a[0])){x=g;var E=p+a[1]-a[0];w[0]=Math.min(E,(E+h)/2),w[1]=Math.max(E,(E+h)/2)}else{x=h;var A=g+a[1]-a[0];w[0]=Math.min(p,(A+p)/2),w[1]=Math.max(p,(A+p)/2)}var S=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){({index:l}=n[f]);break}}else{var I=Math.min(h,g),U=Math.max(h,g);if(t>(I+p)/2&&t<=(U+p)/2){({index:l}=n[f]);break}}}else if(e){for(var k=0;k<d;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<d-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===d-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:l}=e[k]);break}}return l},yz=()=>Ne(ej),kj=(t,e)=>e,vz=(t,e,n)=>n,Pj=(t,e,n,r)=>r,Cle=J(Ys,t=>e0(t,e=>e.coordinate)),Rj=J([Ed,kj,vz,Pj],rz),Dj=J([Rj,Ad,bm,Am],Nj),Ile=(t,e,n)=>{if(e!=null){var r=Ed(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},xz=J([Ed,kj,vz,Pj],iz),rv=J([qs,Hs,Qe,Cn,Ys,Pj,xz,_m],az),Ole=J([Rj,rv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),bz=J([Ys,Dj],ZU),kle=J([xz,Dj,dl,bm,bz,_m,kj],sz),Ple=J([Rj,Dj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Rle=(t,e,n,r,a,s,l)=>{if(!(!t||!n||!r||!a)&&Tle(t,l)){var d=yte(t,e),f=gz(d,s,a,n,r),h=jle(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Dle=(t,e,n,r,a,s,l)=>{if(!(!t||!r||!a||!s||!n)){var d=xre(t,n);if(d){var f=vte(d,e),h=gz(f,l,s,r,a),p=Nle(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},Mle=(t,e,n,r,a,s,l,d)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?Rle(t,e,r,a,s,l,d):Dle(t,e,n,r,a,s,l)},Lle=J(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Ule=J(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(on)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:_se}});function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zle(t,e,n){return(e=Vle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=$le(t,"string");return typeof e=="symbol"?e:e+""}function $le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ble={},Fle={zIndexMap:Object.values(on).reduce((t,e)=>NR(NR({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Ble)},qle=new Set(Object.values(on));function Hle(t){return qle.has(t)}var wz=Lr({name:"zIndex",initialState:Fle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Lt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Hle(n)&&delete t.zIndexMap[n])},prepare:Lt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:Lt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Lt()}}}),{registerZIndexPortal:Gle,unregisterZIndexPortal:Kle,registerZIndexPortalId:Wle,unregisterZIndexPortalId:Yle}=wz.actions,Qle=wz.reducer;function _r(t){var{zIndex:e,children:n}=t,r=Yte(),a=r&&e!==void 0&&e!==0,s=Fn(),l=Vt();b.useLayoutEffect(()=>a?(l(Gle({zIndex:e})),()=>{l(Kle({zIndex:e}))}):am,[l,e,a]);var d=Ne(h=>Lle(h,e,s));if(!a)return n;if(!d)return null;var f=document.getElementById(d);return f?f4.createPortal(n,f):null}function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xle(t,e,n){return(e=Zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zle(t){var e=Jle(t,"string");return typeof e=="symbol"?e:e+""}function Jle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ece(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return b.isValidElement(e)?b.cloneElement(e,r):b.createElement(n,r)}function tce(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,w=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,A,S;if(p==="ScatterChart")E=g,A=Dne,S=on.cursorLine;else if(p==="BarChart")E=Mne(d,g,s,l),A=pL,S=on.cursorRectangle;else if(d==="radial"&&X3(g)){var{cx:I,cy:U,radius:k,startAngle:C,endAngle:P}=yL(g);E={cx:I,cy:U,startAngle:C,endAngle:P,innerRadius:k,outerRadius:k},A=xL,S=on.cursorLine}else E={points:Ere(d,g,s)},A=Lu,S=on.cursorLine;var z=typeof f=="object"&&"className"in f?f.className:void 0,N=Ng(Ng(Ng(Ng({stroke:"#ccc",pointerEvents:"none"},s),E),hc(f)),{},{payload:x,payloadIndex:w,className:lt("recharts-tooltip-cursor",z)});return b.createElement(_r,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},b.createElement(ece,{cursor:f,cursorComp:A,cursorProps:N}))}function nce(t){var e=_le(),n=X5(),r=Sc(),a=yz();return e==null||n==null||r==null||a==null?null:b.createElement(tce,vE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var _z=b.createContext(null),rce=()=>b.useContext(_z),D1={exports:{}},CR;function ace(){return CR||(CR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,g||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],w]:f._events[E].push(w):(f._events[E]=w,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,w=g.length,E=new Array(w);x<w;x++)E[x]=g[x].fn;return E},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,x,w,E){var A=n?n+h:h;if(!this._events[A])return!1;var S=this._events[A],I=arguments.length,U,k;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),I){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,x),!0;case 5:return S.fn.call(S.context,p,g,x,w),!0;case 6:return S.fn.call(S.context,p,g,x,w,E),!0}for(k=1,U=new Array(I-1);k<I;k++)U[k-1]=arguments[k];S.fn.apply(S.context,U)}else{var C=S.length,P;for(k=0;k<C;k++)switch(S[k].once&&this.removeListener(h,S[k].fn,void 0,!0),I){case 1:S[k].fn.call(S[k].context);break;case 2:S[k].fn.call(S[k].context,p);break;case 3:S[k].fn.call(S[k].context,p,g);break;case 4:S[k].fn.call(S[k].context,p,g,x);break;default:if(!U)for(P=1,U=new Array(I-1);P<I;P++)U[P-1]=arguments[P];S[k].fn.apply(S[k].context,U)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,x){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return l(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!x||E.once)&&(!g||E.context===g)&&l(this,w);else{for(var A=0,S=[],I=E.length;A<I;A++)(E[A].fn!==p||x&&!E[A].once||g&&E[A].context!==g)&&S.push(E[A]);S.length?this._events[w]=S.length===1?S[0]:S:l(this,w)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(D1)),D1.exports}var ice=ace();const sce=Hi(ice);var Rh=new sce,xE="recharts.syncEvent.tooltip",IR="recharts.syncEvent.brush";function D0(t,e){if(e){var n=Number.parseInt(e,10);if(!Ta(n))return t==null?void 0:t[n]}}var oce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Ez=Lr({name:"options",initialState:oce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lce=Ez.reducer,{createEventEmitter:cce}=Ez.actions;function uce(t){return t.tooltip.syncInteraction}var dce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Az=Lr({name:"chartData",initialState:dce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:OR,setDataStartEndIndexes:fce,setComputedData:Yye}=Az.actions,hce=Az.reducer,mce=["x","y"];function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e,n){return(e=gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=yce(t,"string");return typeof e=="symbol"?e:e+""}function yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vce(t,e){if(t==null)return{};var n,r,a=xce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bce(){var t=Ne(tj),e=Ne(nj),n=Vt(),r=Ne(vU),a=Ne(Ys),s=Sc(),l=h0(),d=Ne(f=>f.rootProps.className);b.useEffect(()=>{if(t==null)return am;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(l&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:E,y:A}=w,S=vce(w,mce),{x:I,y:U,width:k,height:C}=p.payload.sourceViewBox,P=yu(yu({},S),{},{x:l.x+(k?(E-I)/k:0)*l.width,y:l.y+(C?(A-U)/C:0)*l.height});n(yu(yu({},p),{},{payload:yu(yu({},p.payload),{},{coordinate:P})}))}else n(p);return}if(a!=null){var z;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},M=r(a,N);z=a[M]}else r==="value"&&(z=a.find(Y=>String(Y.value)===p.payload.label));var{coordinate:T}=p.payload;if(z==null||p.payload.active===!1||T==null||l==null){n(gE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:R,y:L}=T,V=Math.min(R,l.x+l.width),$=Math.min(L,l.y+l.height),ne={x:s==="horizontal"?z.coordinate:V,y:s==="horizontal"?$:z.coordinate},me=gE({active:p.payload.active,coordinate:ne,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(me)}}};return Rh.on(xE,f),()=>{Rh.off(xE,f)}},[d,n,e,t,r,a,s,l])}function wce(){var t=Ne(tj),e=Ne(nj),n=Vt();b.useEffect(()=>{if(t==null)return am;var r=(a,s,l)=>{e!==l&&t===a&&n(fce(s))};return Rh.on(IR,r),()=>{Rh.off(IR,r)}},[n,e,t])}function _ce(){var t=Vt();b.useEffect(()=>{t(cce())},[t]),bce(),wce()}function Ece(t,e,n,r,a,s){var l=Ne(w=>Ile(w,t,e)),d=Ne(nj),f=Ne(tj),h=Ne(vU),p=Ne(uce),g=p==null?void 0:p.active,x=h0();b.useEffect(()=>{if(!g&&f!=null&&d!=null){var w=gE({active:s,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x});Rh.emit(xE,f,w,d)}},[g,n,l,a,r,d,f,h,s,x])}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function RR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){Ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e,n){return(e=Sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=jce(t,"string");return typeof e=="symbol"?e:e+""}function jce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nce(t){return t.dataKey}function Tce(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(hne,e)}var DR=[],Cce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ll.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Su(t){var e,n,r=En(t,Cce),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:w,reverseDirection:E,useTranslate3d:A,wrapperStyle:S,cursor:I,shared:U,trigger:k,defaultIndex:C,portal:P,axisId:z}=r,N=Vt(),M=typeof C=="number"?String(C):C;b.useEffect(()=>{N(joe({shared:U,trigger:k,axisId:z,active:a,defaultIndex:M}))},[N,U,k,z,a,M]);var T=h0(),R=uL(),L=boe(U),{activeIndex:V,isActive:$}=(e=Ne(Pe=>Ple(Pe,L,k,M)))!==null&&e!==void 0?e:{},ne=Ne(Pe=>kle(Pe,L,k,M)),me=Ne(Pe=>bz(Pe,L,k,M)),Y=Ne(Pe=>Ole(Pe,L,k,M)),oe=ne,H=rce(),K=(n=a??$)!==null&&n!==void 0?n:!1,[se,q]=nee([oe,K]),re=L==="axis"?me:void 0;Ece(L,k,Y,re,V,K);var pe=P??H;if(pe==null||T==null||L==null)return null;var ye=oe??DR;K||(ye=DR),h&&ye.length&&(ye=TJ(ye.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||r.includeHidden)),x,Nce));var Ce=ye.length>0,ke=b.createElement(bne,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:K,coordinate:Y,hasPayload:Ce,offset:g,position:w,reverseDirection:E,useTranslate3d:A,viewBox:T,wrapperStyle:S,lastBoundingBox:se,innerRef:q,hasPortalFromProps:!!P},Tce(f,RR(RR({},r),{},{payload:ye,label:re,active:K,activeIndex:V,coordinate:Y,accessibilityLayer:R})));return b.createElement(b.Fragment,null,f4.createPortal(ke,pe),K&&b.createElement(nce,{cursor:I,tooltipEventType:L,coordinate:Y,payload:ye,index:V}))}var Sm=t=>null;Sm.displayName="Cell";function Ice(t,e,n){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=kce(t,"string");return typeof e=="symbol"?e:e+""}function kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Pce{constructor(e){Ice(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return(e=Mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mce(t){var e=Lce(t,"string");return typeof e=="symbol"?e:e+""}function Lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uce={cacheSize:2e3,enableCache:!0},Sz=Rce({},Uce),LR=new Pce(Sz.cacheSize),zce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UR="recharts_measurement_span";function Vce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(d)}var zR=(t,e)=>{try{var n=document.getElementById(UR);n||(n=document.createElement("span"),n.setAttribute("id",UR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ih=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ll.isSsr)return{width:0,height:0};if(!Sz.enableCache)return zR(e,n);var r=Vce(e,n),a=LR.get(r);if(a)return a;var s=zR(e,n);return LR.set(r,s),s},VR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$R=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$ce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fce=Object.keys(jz),Nu="NaN";function qce(t,e){return t*jz[e]}class Ir{static parse(e){var n,[,r,a]=(n=Bce.exec(e))!==null&&n!==void 0?n:[];return new Ir(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ta(e)&&(this.unit=""),n!==""&&!$ce.test(n)&&(this.num=NaN,this.unit=""),Fce.includes(n)&&(this.num=qce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ta(this.num)}}function Nz(t){if(t.includes(Nu))return Nu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=VR.exec(e))!==null&&n!==void 0?n:[],l=Ir.parse(r??""),d=Ir.parse(s??""),f=a==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Nu;e=e.replace(VR,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=$R.exec(e))!==null&&h!==void 0?h:[],w=Ir.parse(p??""),E=Ir.parse(x??""),A=g==="+"?w.add(E):w.subtract(E);if(A.isNaN())return Nu;e=e.replace($R,A.toString())}return e}var BR=/\(([^()]*)\)/;function Hce(t){for(var e=t,n;(n=BR.exec(e))!=null;){var[,r]=n;e=e.replace(BR,Nz(r))}return e}function Gce(t){var e=t.replace(/\s+/g,"");return e=Hce(e),e=Nz(e),e}function Kce(t){try{return Gce(t)}catch{return Nu}}function M1(t){var e=Kce(t.slice(5,-1));return e===Nu?"":e}var Wce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Yce=["dx","dy","angle","className","breakAll"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function FR(t,e){if(t==null)return{};var n,r,a=Qce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tz=/[ \f\n\r\t\v\u2028\u2029]+/,Cz=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];Pt(e)||(n?a=e.toString().split(""):a=e.toString().split(Tz));var s=a.map(d=>({word:d,width:ih(d,r).width})),l=n?0:ih("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Xce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Iz=(t,e,n,r)=>t.reduce((a,s)=>{var{word:l,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(l),f.width+=d+n;else{var h={words:[l],width:d};a.push(h)}return a},[]),Oz=t=>t.reduce((e,n)=>e.width>n.width?e:n),Zce="",qR=(t,e,n,r,a,s,l,d)=>{var f=t.slice(0,e),h=Cz({breakAll:n,style:r,children:f+Zce});if(!h)return[!1,[]];var p=Iz(h.wordsWithComputedWidth,s,l,d),g=p.length>a||Oz(p).width>Number(s);return[g,p]},Jce=(t,e,n,r,a)=>{var{maxLines:s,children:l,style:d,breakAll:f}=t,h=Ae(s),p=String(l),g=Iz(e,r,n,a);if(!h||a)return g;var x=g.length>s||Oz(g).width>Number(r);if(!x)return g;for(var w=0,E=p.length-1,A=0,S;w<=E&&A<=p.length-1;){var I=Math.floor((w+E)/2),U=I-1,[k,C]=qR(p,U,f,d,s,r,n,a),[P]=qR(p,I,f,d,s,r,n,a);if(!k&&!P&&(w=I+1),k&&P&&(E=I-1),!k&&P){S=C;break}A++}return S||g},HR=t=>{var e=Pt(t)?[]:t.toString().split(Tz);return[{words:e,width:void 0}]},eue=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:l}=t;if((e||n)&&!ll.isSsr){var d,f,h=Cz({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return HR(r);return Jce({breakAll:s,children:r,maxLines:l,style:a},d,f,e,!!n)}return HR(r)},kz="#808080",tue={angle:0,breakAll:!1,capHeight:"0.71em",fill:kz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},M0=b.forwardRef((t,e)=>{var n=En(t,tue),{x:r,y:a,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=FR(n,Wce),x=b.useMemo(()=>eue({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:E,angle:A,className:S,breakAll:I}=g,U=FR(g,Yce);if(!zi(r)||!zi(a)||x.length===0)return null;var k=Number(r)+(Ae(w)?w:0),C=Number(a)+(Ae(E)?E:0);if(!Rt(k)||!Rt(C))return null;var P;switch(p){case"start":P=M1("calc(".concat(l,")"));break;case"middle":P=M1("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:P=M1("calc(".concat(x.length-1," * -").concat(s,")"));break}var z=[];if(f){var N=x[0].width,{width:M}=g;z.push("scale(".concat(Ae(M)&&Ae(N)?M/N:1,")"))}return A&&z.push("rotate(".concat(A,", ").concat(k,", ").concat(C,")")),z.length&&(U.transform=z.join(" ")),b.createElement("text",bE({},ur(U),{ref:e,x:k,y:C,className:lt("recharts-text",S),textAnchor:h,fill:d.includes("url")?kz:d}),x.map((T,R)=>{var L=T.words.join(I?"":" ");return b.createElement("tspan",{x:k,dy:R===0?P:s,key:"".concat(L,"-").concat(R)},L)}))});M0.displayName="Text";var nue=["labelRef"];function rue(t,e){if(t==null)return{};var n,r,a=aue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function aue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=oue(t,"string");return typeof e=="symbol"?e:e+""}function oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(null,arguments)}var Pz=b.createContext(null),lue=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l,children:d}=t,f=b.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l}),[e,n,r,a,s,l]);return b.createElement(Pz.Provider,{value:f},d)},Rz=()=>{var t=b.useContext(Pz),e=h0();return t||Q5(e)},cue=b.createContext(null),uue=()=>{var t=b.useContext(cue),e=Ne(EU);return t||e},due=t=>{var{value:e,formatter:n}=t,r=Pt(t.children)?e:t.children;return typeof n=="function"?n(r):r},Mj=t=>t!=null&&typeof t=="function",fue=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},hue=(t,e,n,r,a)=>{var{offset:s,className:l}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:w}=a,E=(h+p)/2,A=fue(g,x),S=A>=0?1:-1,I,U;switch(e){case"insideStart":I=g+S*s,U=w;break;case"insideEnd":I=x-S*s,U=!w;break;case"end":I=x+S*s,U=w;break;default:throw new Error("Unsupported position ".concat(e))}U=A<=0?U:!U;var k=wn(d,f,E,I),C=wn(d,f,E,I+(U?1:-1)*359),P="M".concat(k.x,",").concat(k.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(U?0:1,`,
    `).concat(C.x,",").concat(C.y),z=Pt(t.id)?bh("recharts-radial-line-"):t.id;return b.createElement("text",xs({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:z,d:P})),b.createElement("textPath",{xlinkHref:"#".concat(z)},n))},mue=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=wn(r,a,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+l)/2,{x:w,y:E}=wn(r,a,x,h);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},wE=t=>"cx"in t&&Ae(t.cx),pue=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!wE(n)&&(s=n);var{x:l,y:d,upperWidth:f,lowerWidth:h,height:p}=e,g=l,x=l+(f-h)/2,w=(g+x)/2,E=(f+h)/2,A=g+f/2,S=p>=0?1:-1,I=S*r,U=S>0?"end":"start",k=S>0?"start":"end",C=f>=0?1:-1,P=C*r,z=C>0?"end":"start",N=C>0?"start":"end";if(a==="top"){var M={x:g+f/2,y:d-I,textAnchor:"middle",verticalAnchor:U};return rn(rn({},M),s?{height:Math.max(d-s.y,0),width:f}:{})}if(a==="bottom"){var T={x:x+h/2,y:d+p+I,textAnchor:"middle",verticalAnchor:k};return rn(rn({},T),s?{height:Math.max(s.y+s.height-(d+p),0),width:h}:{})}if(a==="left"){var R={x:w-P,y:d+p/2,textAnchor:z,verticalAnchor:"middle"};return rn(rn({},R),s?{width:Math.max(R.x-s.x,0),height:p}:{})}if(a==="right"){var L={x:w+E+P,y:d+p/2,textAnchor:N,verticalAnchor:"middle"};return rn(rn({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:p}:{})}var V=s?{width:E,height:p}:{};return a==="insideLeft"?rn({x:w+P,y:d+p/2,textAnchor:N,verticalAnchor:"middle"},V):a==="insideRight"?rn({x:w+E-P,y:d+p/2,textAnchor:z,verticalAnchor:"middle"},V):a==="insideTop"?rn({x:g+f/2,y:d+I,textAnchor:"middle",verticalAnchor:k},V):a==="insideBottom"?rn({x:x+h/2,y:d+p-I,textAnchor:"middle",verticalAnchor:U},V):a==="insideTopLeft"?rn({x:g+P,y:d+I,textAnchor:N,verticalAnchor:k},V):a==="insideTopRight"?rn({x:g+f-P,y:d+I,textAnchor:z,verticalAnchor:k},V):a==="insideBottomLeft"?rn({x:x+P,y:d+p-I,textAnchor:N,verticalAnchor:U},V):a==="insideBottomRight"?rn({x:x+h-P,y:d+p-I,textAnchor:z,verticalAnchor:U},V):a&&typeof a=="object"&&(Ae(a.x)||Ms(a.x))&&(Ae(a.y)||Ms(a.y))?rn({x:l+lr(a.x,E),y:d+lr(a.y,p),textAnchor:"end",verticalAnchor:"end"},V):rn({x:A,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},V)},gue={angle:0,offset:5,zIndex:on.label,position:"middle",textBreakAll:!1};function Po(t){var e=En(t,gue),{viewBox:n,position:r,value:a,children:s,content:l,className:d="",textBreakAll:f,labelRef:h}=e,p=uue(),g=Rz(),x=r==="center"?g:p??g,w,E,A;if(n==null?w=x:wE(n)?w=n:w=Q5(n),!w||Pt(a)&&Pt(s)&&!b.isValidElement(l)&&typeof l!="function")return null;var S=rn(rn({},e),{},{viewBox:w});if(b.isValidElement(l)){var{labelRef:I}=S,U=rue(S,nue);return b.cloneElement(l,U)}if(typeof l=="function"){if(E=b.createElement(l,S),b.isValidElement(E))return E}else E=due(e);var k=ur(e);if(wE(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return hue(e,r,E,k,w);A=mue(w,e.offset,e.position)}else A=pue(e,w);return b.createElement(_r,{zIndex:e.zIndex},b.createElement(M0,xs({ref:h,className:lt("recharts-label",d)},k,A,{textAnchor:Xce(k.textAnchor)?k.textAnchor:A.textAnchor,breakAll:f}),E))}Po.displayName="Label";var yue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(Po,xs({key:"label-implicit"},r)):zi(t)?b.createElement(Po,xs({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===Po?b.cloneElement(t,rn({key:"label-implicit"},r)):b.createElement(Po,xs({key:"label-implicit",content:t},r)):Mj(t)?b.createElement(Po,xs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(Po,xs({},t,{key:"label-implicit"},r)):null};function vue(t){var{label:e,labelRef:n}=t,r=Rz();return yue(e,r,n)||null}var L1={},U1={},KR;function xue(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(U1)),U1}var z1={},WR;function bue(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(z1)),z1}var YR;function wue(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xue(),n=bue(),r=mS();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(L1)),L1}var V1,QR;function _ue(){return QR||(QR=1,V1=wue().last),V1}var Eue=_ue();const Aue=Hi(Eue);var Sue=["valueAccessor"],jue=["dataKey","clockWise","id","textBreakAll","zIndex"];function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}function XR(t,e){if(t==null)return{};var n,r,a=Nue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Nue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tue=t=>Array.isArray(t.value)?Aue(t.value):t.value,Dz=b.createContext(void 0),Lj=Dz.Provider,Mz=b.createContext(void 0),Cue=Mz.Provider;function Iue(){return b.useContext(Dz)}function Oue(){return b.useContext(Mz)}function Kg(t){var{valueAccessor:e=Tue}=t,n=XR(t,Sue),{dataKey:r,clockWise:a,id:s,textBreakAll:l,zIndex:d}=n,f=XR(n,jue),h=Iue(),p=Oue(),g=h||p;return!g||!g.length?null:b.createElement(_r,{zIndex:d??on.label},b.createElement(Yt,{className:"recharts-label-list"},g.map((x,w)=>{var E,A=Pt(r)?e(x,w):vt(x&&x.payload,r),S=Pt(s)?{}:{id:"".concat(s,"-").concat(w)};return b.createElement(Po,av({key:"label-".concat(w)},ur(x),f,S,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:A,textBreakAll:l,viewBox:x.viewBox,index:w,zIndex:0}))})))}Kg.displayName="LabelList";function L0(t){var{label:e}=t;return e?e===!0?b.createElement(Kg,{key:"labelList-implicit"}):b.isValidElement(e)||Mj(e)?b.createElement(Kg,{key:"labelList-implicit",content:e}):typeof e=="object"?b.createElement(Kg,av({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}var Lz=t=>{var{cx:e,cy:n,r,className:a}=t,s=lt("recharts-dot",a);return Ae(e)&&Ae(n)&&Ae(r)?b.createElement("circle",_E({},br(t),hS(t),{className:s,cx:e,cy:n,r})):null},Uz=t=>t.graphicalItems.polarItems,kue=J([$t,gm],oj),U0=J([Uz,qt,kue],lj),Pue=J([U0],cj),z0=J([Pue,XS],uj),Rue=J([z0,qt,U0],fj);J([z0,qt,U0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,l=vt(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:vt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var ZR=()=>{},Due=J([z0,qt,U0,O0,$t],gj),Mue=J([qt,mj,pj,ZR,Due,ZR,Qe,$t],yj),zz=J([qt,Qe,z0,Rue,pm,$t,Mue],vj),Lue=J([zz,qt,wd],wj);J([qt,zz,Lue,$t],Ej);var Uue={radiusAxis:{},angleAxis:{}},Vz=Lr({name:"polarAxis",initialState:Uue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Qye,removeRadiusAxis:Xye,addAngleAxis:Zye,removeAngleAxis:Jye}=Vz.actions,zue=Vz.reducer;function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){Vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vue(t,e,n){return(e=$ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ue(t){var e=Bue(t,"string");return typeof e=="symbol"?e:e+""}function Bue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fue=(t,e)=>e,Uj=J([Uz,Fue],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),que=[],zj=(t,e,n)=>(n==null?void 0:n.length)===0?que:n,$z=J([XS,Uj,zj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>eD(eD({},e.presentationProps),s.props))),a!=null)return a}}),Hue=J([$z,Uj,zj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,l=vt(r,e.nameKey,e.name),d;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:ol(l,e.dataKey),color:d,payload:r,type:e.legendType}})}),Gue=J([$z,Uj,zj,Cn],(t,e,n,r)=>{if(!(e==null||t==null))return Kde({offset:r,pieSettings:e,displayedData:t,cells:n})}),$1={exports:{}},Et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tD;function Kue(){if(tD)return Et;tD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(A){if(typeof A=="object"&&A!==null){var S=A.$$typeof;switch(S){case t:switch(A=A.type,A){case n:case a:case r:case f:case h:case x:return A;default:switch(A=A&&A.$$typeof,A){case l:case d:case g:case p:return A;case s:return A;default:return S}}case e:return S}}}return Et.ContextConsumer=s,Et.ContextProvider=l,Et.Element=t,Et.ForwardRef=d,Et.Fragment=n,Et.Lazy=g,Et.Memo=p,Et.Portal=e,Et.Profiler=a,Et.StrictMode=r,Et.Suspense=f,Et.SuspenseList=h,Et.isContextConsumer=function(A){return E(A)===s},Et.isContextProvider=function(A){return E(A)===l},Et.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},Et.isForwardRef=function(A){return E(A)===d},Et.isFragment=function(A){return E(A)===n},Et.isLazy=function(A){return E(A)===g},Et.isMemo=function(A){return E(A)===p},Et.isPortal=function(A){return E(A)===e},Et.isProfiler=function(A){return E(A)===a},Et.isStrictMode=function(A){return E(A)===r},Et.isSuspense=function(A){return E(A)===f},Et.isSuspenseList=function(A){return E(A)===h},Et.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===a||A===r||A===f||A===h||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===p||A.$$typeof===l||A.$$typeof===s||A.$$typeof===d||A.$$typeof===w||A.getModuleId!==void 0)},Et.typeOf=E,Et}var nD;function Wue(){return nD||(nD=1,$1.exports=Kue()),$1.exports}var Yue=Wue(),rD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",aD=null,B1=null,Bz=t=>{if(t===aD&&Array.isArray(B1))return B1;var e=[];return b.Children.forEach(t,n=>{Pt(n)||(Yue.isFragment(n)?e=e.concat(Bz(n.props.children)):e.push(n))}),B1=e,aD=t,e};function Vj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>rD(a)):r=[rD(e)],Bz(t).forEach(a=>{var s=mc(a,"type.displayName")||mc(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var $j=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,F1={},iD;function Que(){return iD||(iD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(F1)),F1}var q1,sD;function Xue(){return sD||(sD=1,q1=Que().isPlainObject),q1}var Zue=Xue();const Jue=Hi(Zue);function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return(e=tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return typeof e=="symbol"?e:e+""}function nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(null,arguments)}var cD=(t,e,n,r,a)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+a),l+="L ".concat(t+n-s/2-r,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},rde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ade=t=>{var e=En(t,rde),{x:n,y:r,upperWidth:a,lowerWidth:s,height:l,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=b.useRef(null),[w,E]=b.useState(-1),A=b.useRef(a),S=b.useRef(s),I=b.useRef(l),U=b.useRef(n),k=b.useRef(r),C=pd(t,"trapezoid-");if(b.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ne=x.current.getTotalLength();ne&&E(ne)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var P=lt("recharts-trapezoid",d);if(!g)return b.createElement("g",null,b.createElement("path",iv({},ur(e),{className:P,d:cD(n,r,a,s,l)})));var z=A.current,N=S.current,M=I.current,T=U.current,R=k.current,L="0px ".concat(w===-1?1:w,"px"),V="".concat(w,"px 0px"),$=dL(["strokeDasharray"],h,f);return b.createElement(md,{animationId:C,key:C,canBegin:w>0,duration:h,easing:f,isActive:g,begin:p},ne=>{var me=ft(z,a,ne),Y=ft(N,s,ne),oe=ft(M,l,ne),H=ft(T,n,ne),K=ft(R,r,ne);x.current&&(A.current=me,S.current=Y,I.current=oe,U.current=H,k.current=K);var se=ne>0?{transition:$,strokeDasharray:V}:{strokeDasharray:L};return b.createElement("path",iv({},ur(e),{className:P,d:cD(H,K,me,Y,oe),ref:x,style:lD(lD({},se),e.style)}))})},ide=["option","shapeType","propTransformer","activeClassName"];function sde(t,e){if(t==null)return{};var n,r,a=ode(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ode(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e,n){return(e=cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dde(t,e){return sv(sv({},e),t)}function fde(t,e){return t==="symbols"}function dD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return b.createElement(pL,n);case"trapezoid":return b.createElement(ade,n);case"sector":return b.createElement(xL,n);case"symbols":if(fde(e))return b.createElement(Q3,n);break;case"curve":return b.createElement(Lu,n);default:return null}}function hde(t){return b.isValidElement(t)?t.props:t}function Bj(t){var{option:e,shapeType:n,propTransformer:r=dde,activeClassName:a="recharts-active-shape"}=t,s=sde(t,ide),l;if(b.isValidElement(e))l=b.cloneElement(e,sv(sv({},s),hde(e)));else if(typeof e=="function")l=e(s);else if(Jue(e)&&typeof e!="boolean"){var d=r(e,s);l=b.createElement(dD,{shapeType:n,elementProps:d})}else{var f=s;l=b.createElement(dD,{shapeType:n,elementProps:f})}return s.isActive?b.createElement(Yt,{className:a},l):l}var Fj=(t,e)=>{var n=Vt();return(r,a)=>s=>{t==null||t(r,a,s),n(ez({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},qj=t=>{var e=Vt();return(n,r)=>a=>{t==null||t(n,r,a),e(Noe())}},Hj=(t,e)=>{var n=Vt();return(r,a)=>s=>{t==null||t(r,a,s),n(Toe({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function V0(t){var{tooltipEntrySettings:e}=t,n=Vt(),r=Fn(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(Eoe(e)):a.current!==e&&n(Aoe({prev:a.current,next:e})),a.current=e)},[e,n,r]),b.useLayoutEffect(()=>()=>{a.current&&(n(Soe(a.current)),a.current=null)},[n]),null}function Gj(t){var{legendPayload:e}=t,n=Vt(),r=Fn(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(oL(e)):a.current!==e&&n(lL({prev:a.current,next:e})),a.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{a.current&&(n(cL(a.current)),a.current=null)},[n]),null}function mde(t){var{legendPayload:e}=t,n=Vt(),r=Ne(Qe),a=b.useRef(null);return b.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(oL(e)):a.current!==e&&n(lL({prev:a.current,next:e})),a.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{a.current&&(n(cL(a.current)),a.current=null)},[n]),null}var H1,pde=()=>{var[t]=b.useState(()=>bh("uid-"));return t},gde=(H1=v9.useId)!==null&&H1!==void 0?H1:pde;function Fz(t,e){var n=gde();return e||(t?"".concat(t,"-").concat(n):n)}var yde=b.createContext(void 0),$0=t=>{var{id:e,type:n,children:r}=t,a=Fz("recharts-".concat(n),e);return b.createElement(yde.Provider,{value:a},r(a))},vde={cartesianItems:[],polarItems:[]},qz=Lr({name:"graphicalItems",initialState:vde,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Lt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Za(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:Lt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Za(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Lt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Lt()},removePolarGraphicalItem:{reducer(t,e){var n=Za(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Lt()}}}),{addCartesianGraphicalItem:xde,replaceCartesianGraphicalItem:bde,removeCartesianGraphicalItem:wde,addPolarGraphicalItem:_de,removePolarGraphicalItem:Ede}=qz.actions,Ade=qz.reducer,Sde=t=>{var e=Vt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(xde(t)):n.current!==t&&e(bde({prev:n.current,next:t})),n.current=t},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(e(wde(n.current)),n.current=null)},[e]),null},Kj=b.memo(Sde);function jde(t){var e=Vt();return b.useLayoutEffect(()=>(e(_de(t)),()=>{e(Ede(t))}),[e,t]),null}var Nde=["key"],Tde=["onMouseEnter","onClick","onMouseLeave"],Cde=["id"],Ide=["id"];function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){Ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ode(t,e,n){return(e=kde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kde(t){var e=Pde(t,"string");return typeof e=="symbol"?e:e+""}function Pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(null,arguments)}function B0(t,e){if(t==null)return{};var n,r,a=Rde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Rde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dde(t){var e=b.useMemo(()=>Vj(t.children,Sm),[t.children]),n=Ne(r=>Hue(r,t.id,e));return n==null?null:b.createElement(mde,{legendPayload:n})}var Mde=b.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:ol(d,e),hide:f,type:h,color:l,unit:""}};return b.createElement(V0,{tooltipEntrySettings:p})}),Lde=(t,e)=>t>e?"start":t<e?"end":"middle",Ude=(t,e,n)=>lr(typeof e=="function"?e(t):e,n,n*.8),zde=(t,e,n)=>{var{top:r,left:a,width:s,height:l}=e,d=gL(s,l),f=a+lr(t.cx,s,s/2),h=r+lr(t.cy,l,l/2),p=lr(t.innerRadius,d,0),g=Ude(n,t.outerRadius,d),x=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},Vde=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function $de(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Bde=(t,e)=>{if(b.isValidElement(t))return b.cloneElement(t,e);if(typeof t=="function")return t(e);var n=lt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=B0(e,Nde);return b.createElement(Lu,tl({},a,{type:"linear",className:n}))},Fde=(t,e,n)=>{if(b.isValidElement(t))return b.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),b.isValidElement(r)))return r;var a=lt("recharts-pie-label-text",$de(t));return b.createElement(M0,tl({},e,{alignmentBaseline:"middle",className:a}),r)};function qde(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:l}=n;if(!r||!a||!e)return null;var d=br(n),f=hc(a),h=hc(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((x,w)=>{var E=(x.startAngle+x.endAngle)/2,A=wn(x.cx,x.cy,x.outerRadius+p,E),S=Kt(Kt(Kt(Kt({},d),x),{},{stroke:"none"},f),{},{index:w,textAnchor:Lde(A.x,x.cx)},A),I=Kt(Kt(Kt(Kt({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:w,points:[wn(x.cx,x.cy,x.outerRadius,E),A],key:"line"});return b.createElement(_r,{zIndex:on.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},b.createElement(Yt,null,s&&Bde(s,I),Fde(a,S,vt(x,l))))});return b.createElement(Yt,{className:"recharts-pie-labels"},g)}function Hde(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?b.createElement(L0,{label:a}):b.createElement(qde,{sectors:e,props:n,showLabels:r})}function Gde(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s}=t,l=Ne(el),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,p=B0(a,Tde),g=Fj(d,a.dataKey),x=qj(h),w=Hj(f,a.dataKey);return e==null||e.length===0?null:b.createElement(b.Fragment,null,e.map((E,A)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var S=String(A)===l,I=l?r:null,U=n&&S?n:I,k=Kt(Kt({},E),{},{stroke:E.stroke,tabIndex:-1,[H5]:A,[G5]:a.dataKey});return b.createElement(Yt,tl({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},Jv(p,E,A),{onMouseEnter:g(E,A),onMouseLeave:x(E,A),onClick:w(E,A)}),b.createElement(Bj,tl({option:s??U,shapeType:"sector",isActive:S},k)))}))}function Kde(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),w=Vde(d,f),E=Math.abs(w),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(z=>vt(z,h,0)!==0).length,I=(E>=360?S:S-1)*A,U=E-S*x-I,k=r.reduce((z,N)=>{var M=vt(N,h,0);return z+(Ae(M)?M:0)},0),C;if(k>0){var P;C=r.map((z,N)=>{var M=vt(z,h,0),T=vt(z,p,N),R=zde(n,s,z),L=(Ae(M)?M:0)/k,V,$=Kt(Kt({},z),a&&a[N]&&a[N].props);N?V=P.endAngle+Vn(w)*A*(M!==0?1:0):V=d;var ne=V+Vn(w)*((M!==0?x:0)+L*U),me=(V+ne)/2,Y=(R.innerRadius+R.outerRadius)/2,oe=[{name:T,value:M,payload:$,dataKey:h,type:g}],H=wn(R.cx,R.cy,Y,me);return P=Kt(Kt(Kt(Kt({},n.presentationProps),{},{percent:L,cornerRadius:typeof l=="string"?parseFloat(l):l,name:T,tooltipPayload:oe,midAngle:me,middleRadius:Y,tooltipPosition:H},$),R),{},{value:M,startAngle:V,endAngle:ne,payload:$,paddingAngle:Vn(w)*A}),P})}return C}function Wde(t){var{showLabels:e,sectors:n,children:r}=t,a=b.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return b.createElement(Cue,{value:e?a:void 0},r)}function Yde(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=pd(e,"recharts-pie-"),w=n.current,[E,A]=b.useState(!1),S=b.useCallback(()=>{typeof g=="function"&&g(),A(!1)},[g]),I=b.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return b.createElement(Wde,{showLabels:!E,sectors:r},b.createElement(md,{animationId:x,begin:s,duration:l,isActive:a,easing:d,onAnimationStart:I,onAnimationEnd:S,key:x},U=>{var k=[],C=r&&r[0],P=C==null?void 0:C.startAngle;return r==null||r.forEach((z,N)=>{var M=w&&w[N],T=N>0?mc(z,"paddingAngle",0):0;if(M){var R=ft(M.endAngle-M.startAngle,z.endAngle-z.startAngle,U),L=Kt(Kt({},z),{},{startAngle:P+T,endAngle:P+R+T});k.push(L),P=L.endAngle}else{var{endAngle:V,startAngle:$}=z,ne=ft(0,V-$,U),me=Kt(Kt({},z),{},{startAngle:P+T,endAngle:P+ne+T});k.push(me),P=me.endAngle}}),n.current=k,b.createElement(Yt,null,b.createElement(Gde,{sectors:k,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape}))}),b.createElement(Hde,{showLabels:!E,sectors:r,props:e}),e.children)}var Qde={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ll.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:on.area};function Xde(t){var{id:e}=t,n=B0(t,Cde),{hide:r,className:a,rootTabIndex:s}=t,l=b.useMemo(()=>Vj(t.children,Sm),[t.children]),d=Ne(p=>Gue(p,e,l)),f=b.useRef(null),h=lt("recharts-pie",a);return r||d==null?(f.current=null,b.createElement(Yt,{tabIndex:s,className:h})):b.createElement(_r,{zIndex:t.zIndex},b.createElement(Mde,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),b.createElement(Yt,{tabIndex:s,className:h},b.createElement(Yde,{props:Kt(Kt({},n),{},{sectors:d}),previousSectorsRef:f})))}function Hz(t){var e=En(t,Qde),{id:n}=e,r=B0(e,Ide),a=br(r);return b.createElement($0,{id:n,type:"pie"},s=>b.createElement(b.Fragment,null,b.createElement(jde,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),b.createElement(Dde,tl({},r,{id:s})),b.createElement(Xde,tl({},r,{id:s}))))}Hz.displayName="Pie";var Zde=["points"];function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function G1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){Jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jde(t,e,n){return(e=efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return typeof e=="symbol"?e:e+""}function tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(null,arguments)}function nfe(t,e){if(t==null)return{};var n,r,a=rfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function rfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function afe(t){var{option:e,dotProps:n,className:r}=t;if(b.isValidElement(e))return b.cloneElement(e,n);if(typeof e=="function")return e(n);var a=lt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,d=nfe(s,Zde);return b.createElement(Lz,ov({},d,{className:a}))}function ife(t,e){return t==null?!1:e?!0:t.length===1}function Gz(t){var{points:e,dot:n,className:r,dotClassName:a,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=on.scatter}=t;if(!ife(e,n))return null;var p=$j(n),g=tZ(n),x=e.map((E,A)=>{var S,I,U=G1(G1(G1({r:3},l),g),{},{index:A,cx:(S=E.x)!==null&&S!==void 0?S:void 0,cy:(I=E.y)!==null&&I!==void 0?I:void 0,dataKey:s,value:E.value,payload:E.payload,points:e});return b.createElement(afe,{key:"dot-".concat(A),option:n,dotProps:U,className:a})}),w={};return d&&f!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),b.createElement(_r,{zIndex:h},b.createElement(Yt,ov({className:r},w),x))}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sfe(t,e,n){return(e=ofe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ofe(t){var e=lfe(t,"string");return typeof e=="symbol"?e:e+""}function lfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cfe={xAxis:{},yAxis:{},zAxis:{}},Kz=Lr({name:"cartesianAxis",initialState:cfe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Lt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Lt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Lt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Lt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Lt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Lt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Lt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Lt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Lt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=pD(pD({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:ufe,replaceXAxis:dfe,removeXAxis:ffe,addYAxis:hfe,replaceYAxis:mfe,removeYAxis:pfe,addZAxis:eve,replaceZAxis:tve,removeZAxis:nve,updateYAxisWidth:gfe}=Kz.actions,yfe=Kz.reducer,vfe=J([Cn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),xfe=J([vfe,qs,Hs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),F0=()=>Ne(xfe),bfe=()=>Ne(yle);function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function K1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e,n){return(e=_fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _fe(t){var e=Efe(t,"string");return typeof e=="symbol"?e:e+""}function Efe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Afe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:s,clipPath:l}=t;if(a===!1||e.x==null||e.y==null)return null;var d={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=K1(K1(K1({},d),hc(a)),hS(a)),h;return b.isValidElement(a)?h=b.cloneElement(a,f):typeof a=="function"?h=a(f):h=b.createElement(Lz,f),b.createElement(Yt,{className:"recharts-active-dot",clipPath:l},h)};function EE(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a,clipPath:s,zIndex:l=on.activeDot}=t,d=Ne(el),f=bfe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return Pt(h)?null:b.createElement(_r,{zIndex:l},b.createElement(Afe,{point:h,childIndex:Number(d),mainColor:n,dataKey:a,activeDot:r,clipPath:s}))}var Sfe="Invariant failed";function jfe(t,e){throw new Error(Sfe)}var Nfe=["x","y"];function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(null,arguments)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){Tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tfe(t,e,n){return(e=Cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cfe(t){var e=Ife(t,"string");return typeof e=="symbol"?e:e+""}function Ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ofe(t,e){if(t==null)return{};var n,r,a=kfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pfe(t,e){var{x:n,y:r}=t,a=Ofe(t,Nfe),s="".concat(n),l=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||a.height),p=parseInt(h,10),g="".concat(e.width||a.width),x=parseInt(g,10);return Uf(Uf(Uf(Uf(Uf({},e),a),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function lv(t){return b.createElement(Bj,AE({shapeType:"rectangle",propTransformer:Pfe,activeClassName:"recharts-active-bar"},t))}var Rfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Ae(e))return e;var s=Ae(r)||Pt(r);return s?e(r,a):(s||jfe(),n)}},Dfe={},Wz=Lr({name:"errorBars",initialState:Dfe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:rve,replaceErrorBar:ave,removeErrorBar:ive}=Wz.actions,Mfe=Wz.reducer,Lfe=["children"];function Ufe(t,e){if(t==null)return{};var n,r,a=zfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$fe=b.createContext(Vfe);function Yz(t){var{children:e}=t,n=Ufe(t,Lfe);return b.createElement($fe.Provider,{value:n},e)}function q0(t,e){var n,r,a=Ne(h=>Ks(h,t)),s=Ne(h=>Ws(h,e)),l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Mn.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Ln.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function Wj(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=F0(),{needClipX:s,needClipY:l,needClip:d}=q0(e,n);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}function Bfe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Rt(t.zIndex)?t.zIndex:e}var W1={exports:{}},Y1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vD;function Ffe(){if(vD)return Y1;vD=1;var t=td();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,d=t.useDebugValue;return Y1.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function S(P){if(!I){if(I=!0,U=P,P=g(P),x!==void 0&&E.hasValue){var z=E.value;if(x(z,P))return k=z}return k=P}if(z=k,n(U,P))return z;var N=g(P);return x!==void 0&&x(z,N)?(U=P,z):(U=P,k=N)}var I=!1,U,k,C=p===void 0?null:p;return[function(){return S(h())},C===null?void 0:function(){return S(C())}]},[h,p,g,x]);var A=r(f,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},Y1}var xD;function qfe(){return xD||(xD=1,W1.exports=Ffe()),W1.exports}qfe();function Hfe(t){t()}function Gfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Hfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var bD={notify(){},get:()=>[]};function Kfe(t,e){let n,r=bD,a=0,s=!1;function l(A){p();const S=r.subscribe(A);let I=!1;return()=>{I||(I=!0,S(),g())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){a++,n||(n=t.subscribe(f),r=Gfe())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=bD)}function x(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const E={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>r};return E}var Wfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yfe=Wfe(),Qfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Xfe=Qfe(),Zfe=()=>Yfe||Xfe?b.useLayoutEffect:b.useEffect,Jfe=Zfe();function wD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ehe(t,e){if(wD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!wD(t[n[a]],e[n[a]]))return!1;return!0}var Q1=Symbol.for("react-redux-context"),X1=typeof globalThis<"u"?globalThis:{};function the(){if(!b.createContext)return{};const t=X1[Q1]??(X1[Q1]=new Map);let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var nhe=the();function rhe(t){const{children:e,context:n,serverState:r,store:a}=t,s=b.useMemo(()=>{const f=Kfe(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),l=b.useMemo(()=>a.getState(),[a]);Jfe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=n||nhe;return b.createElement(d.Provider,{value:s},e)}var ahe=rhe,ihe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function she(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function jm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(ihe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!ehe(t[r],e[r]))return!1}else if(!she(t[r],e[r]))return!1;return!0}var ohe=["onMouseEnter","onMouseLeave","onClick"],lhe=["value","background","tooltipPosition"],che=["id"],uhe=["onMouseEnter","onClick","onMouseLeave"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(null,arguments)}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dhe(t,e,n){return(e=fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=hhe(t,"string");return typeof e=="symbol"?e:e+""}function hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cv(t,e){if(t==null)return{};var n,r,a=mhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function mhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var phe=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:ol(n,e),payload:t}]},ghe=b.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:l,unit:d,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:ol(s,e),hide:l,type:f,color:a,unit:d}};return b.createElement(V0,{tooltipEntrySettings:h})});function yhe(t){var e=Ne(el),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=cv(s,ohe),p=Fj(l,r),g=qj(d),x=Hj(f,r);if(!a||n==null)return null;var w=hc(a);return b.createElement(_r,{zIndex:Bfe(a,on.barBackground)},n.map((E,A)=>{var{value:S,background:I,tooltipPosition:U}=E,k=cv(E,lhe);if(!I)return null;var C=p(E,A),P=g(E,A),z=x(E,A),N=pr(pr(pr(pr(pr({option:a,isActive:String(A)===e},k),{},{fill:"#eee"},I),w),Jv(h,E,A)),{},{onMouseEnter:C,onMouseLeave:P,onClick:z,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return b.createElement(lv,Bs({key:"background-bar-".concat(A)},N))}))}function vhe(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return pr(pr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return b.createElement(Lj,{value:e?a:void 0},n)}function xhe(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:l}=t,d=Ne(el),f=Ne(mz),h=n&&String(s)===d&&(f==null||l===f),p=h?n:e;return h?b.createElement(_r,{zIndex:on.activeBar},b.createElement(lv,Bs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:l}))):b.createElement(lv,Bs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function bhe(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return b.createElement(lv,Bs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function whe(t){var e,{data:n,props:r}=t,a=(e=br(r))!==null&&e!==void 0?e:{},{id:s}=a,l=cv(a,che),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,w=cv(r,uhe),E=Fj(p,f),A=qj(x),S=Hj(g,f);return n?b.createElement(b.Fragment,null,n.map((I,U)=>b.createElement(Yt,Bs({key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(U),className:"recharts-bar-rectangle"},Jv(w,I,U),{onMouseEnter:E(I,U),onMouseLeave:A(I,U),onClick:S(I,U)}),h?b.createElement(xhe,{shape:d,activeBar:h,baseProps:l,entry:I,index:U,dataKey:f}):b.createElement(bhe,{shape:d,baseProps:l,entry:I,index:U,dataKey:f})))):null}function _he(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=pd(e,"recharts-bar-"),[w,E]=b.useState(!1),A=!w,S=b.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),I=b.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return b.createElement(vhe,{showLabels:A,rects:r},b.createElement(md,{animationId:x,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:S,onAnimationStart:I,key:x},U=>{var k=U===1?r:r==null?void 0:r.map((C,P)=>{var z=g&&g[P];if(z)return pr(pr({},C),{},{x:ft(z.x,C.x,U),y:ft(z.y,C.y,U),width:ft(z.width,C.width,U),height:ft(z.height,C.height,U)});if(a==="horizontal"){var N=ft(0,C.height,U),M=ft(C.stackedBarStart,C.y,U);return pr(pr({},C),{},{y:M,height:N})}var T=ft(0,C.width,U),R=ft(C.stackedBarStart,C.x,U);return pr(pr({},C),{},{width:T,x:R})});return U>0&&(n.current=k??null),k==null?null:b.createElement(Yt,null,b.createElement(whe,{props:e,data:k}))}),b.createElement(L0,{label:e.label}),e.children)}function Ehe(t){var e=b.useRef(null);return b.createElement(_he,{previousRectanglesRef:e,props:t})}var Qz=0,Ahe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:vt(t,e)}};class She extends b.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=lt("recharts-bar",a),g=h;return b.createElement(Yt,{className:p,id:h},d&&b.createElement("defs",null,b.createElement(Wj,{clipPathId:g,xAxisId:s,yAxisId:l})),b.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},b.createElement(yhe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),b.createElement(Ehe,this.props)))}}var jhe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Qz,xAxisId:0,yAxisId:0,zIndex:on.bar};function Nhe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=q0(e,n),x=Sc(),w=Fn(),E=Vj(t.children,Sm),A=Ne(U=>tme(U,e,n,w,t.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var S,I=A==null?void 0:A[0];return I==null||I.height==null||I.width==null?S=0:S=x==="vertical"?I.height/2:I.width/2,b.createElement(Yz,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:Ahe,errorBarOffset:S},b.createElement(She,Bs({},t,{layout:x,needClip:g,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function The(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:w,parentViewBox:E,dataStartIndex:A}=t,S=e==="horizontal"?d:l,I=p?S.scale.domain():null,U=hte({numericAxis:S}),k=S.scale(U);return g.map((C,P)=>{var z,N,M,T,R,L;p?z=lte(p[P+A],I):(z=vt(C,n),Array.isArray(z)||(z=[U,z]));var V=Rfe(r,Qz)(z[1],P);if(e==="horizontal"){var $,[ne,me]=[d.scale(z[0]),d.scale(z[1])];N=$k({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:C,index:P}),M=($=me??ne)!==null&&$!==void 0?$:void 0,T=a.size;var Y=ne-me;if(R=Ta(Y)?0:Y,L={x:N,y:x.top,width:T,height:x.height},Math.abs(V)>0&&Math.abs(R)<Math.abs(V)){var oe=Vn(R||V)*(Math.abs(V)-Math.abs(R));M-=oe,R+=oe}}else{var[H,K]=[l.scale(z[0]),l.scale(z[1])];if(N=H,M=$k({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:C,index:P}),T=K-H,R=a.size,L={x:x.left,y:M,width:x.width,height:R},Math.abs(V)>0&&Math.abs(T)<Math.abs(V)){var se=Vn(T||V)*(Math.abs(V)-Math.abs(T));T+=se}}if(N==null||M==null||T==null||R==null)return null;var q=pr(pr({},C),{},{stackedBarStart:k,x:N,y:M,width:T,height:R,value:p?z:z[1],payload:C,background:L,tooltipPosition:{x:N+T/2,y:M+R/2},parentViewBox:E},w&&w[P]&&w[P].props);return q}).filter(Boolean)}function Che(t){var e=En(t,jhe),n=Fn();return b.createElement($0,{id:e.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(Gj,{legendPayload:phe(e)}),b.createElement(ghe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),b.createElement(Kj,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:F5(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),b.createElement(_r,{zIndex:e.zIndex},b.createElement(Nhe,Bs({},e,{id:r})))))}var uv=b.memo(Che,jm);uv.displayName="Bar";function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){Ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ihe(t,e,n){return(e=Ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=khe(t,"string");return typeof e=="symbol"?e:e+""}function khe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Phe=(t,e)=>e,Rhe=(t,e,n)=>n,Dhe=(t,e,n,r)=>r,Mhe=(t,e,n,r,a)=>a,Nm=J([vm,Mhe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Lhe=J([Nm],t=>t==null?void 0:t.maxBarSize),Uhe=(t,e,n,r,a,s)=>s,AD=(t,e,n)=>{var r=n??t;if(!Pt(r))return lr(r,e,0)},zhe=J([Qe,vm,Phe,Rhe,Dhe],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Vhe=(t,e,n,r)=>{var a=Qe(t);return a==="horizontal"?Ph(t,"yAxis",n,r):Ph(t,"xAxis",e,r)},$he=(t,e,n)=>{var r=Qe(t);return r==="horizontal"?vR(t,"xAxis",e):vR(t,"yAxis",n)},Bhe=(t,e,n)=>{var r={},a=t.filter(N0),s=t.filter(h=>h.stackId==null),l=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(l).map(h=>{var[p,g]=h,x=g.map(E=>E.dataKey),w=AD(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=AD(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},Fhe=J([zhe,pse,$he],Bhe),qhe=(t,e,n,r,a)=>{var s,l,d=Nm(t,e,n,r,a);if(d!=null){var f=Qe(t),h=pU(t),{maxBarSize:p}=d,g=Pt(p)?h:p,x,w;return f==="horizontal"?(x=qi(t,"xAxis",e,r),w=Fi(t,"xAxis",e,r)):(x=qi(t,"yAxis",n,r),w=Fi(t,"yAxis",n,r)),(s=(l=Zo(x,w,!0))!==null&&l!==void 0?l:g)!==null&&s!==void 0?s:0}},Xz=(t,e,n,r)=>{var a=Qe(t),s,l;return a==="horizontal"?(s=qi(t,"xAxis",e,r),l=Fi(t,"xAxis",e,r)):(s=qi(t,"yAxis",n,r),l=Fi(t,"yAxis",n,r)),Zo(s,l)};function Hhe(t,e,n,r,a){var s=r.length;if(!(s<1)){var l=lr(t,n,0,!0),d,f=[];if(Rt(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((I,U)=>I+(U.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var x=(n-g)/2>>0,w={offset:x-l,size:0};d=r.reduce((I,U)=>{var k,C={stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:w.offset+w.size+l,size:h?p:(k=U.barSize)!==null&&k!==void 0?k:0}},P=[...I,C];return w=P[P.length-1].position,P},f)}else{var E=lr(e,n,0,!0);n-2*E-(s-1)*l<=0&&(l=0);var A=(n-2*E-(s-1)*l)/s;A>1&&(A>>=0);var S=Rt(a)?Math.min(A,a):A;d=r.reduce((I,U,k)=>[...I,{stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:E+(A+l)*k+(A-S)/2,size:S}}],f)}return d}}var Ghe=(t,e,n,r,a,s,l)=>{var d=Pt(l)?e:l,f=Hhe(n,r,a!==s?a:s,t,d);return a!==s&&f!=null&&(f=f.map(h=>Tg(Tg({},h),{},{position:Tg(Tg({},h.position),{},{offset:h.position.offset-a/2})}))),f},Khe=J([Fhe,pU,mse,gU,qhe,Xz,Lhe],Ghe),Whe=(t,e,n,r)=>qi(t,"xAxis",e,r),Yhe=(t,e,n,r)=>qi(t,"yAxis",n,r),Qhe=(t,e,n,r)=>Fi(t,"xAxis",e,r),Xhe=(t,e,n,r)=>Fi(t,"yAxis",n,r),Zhe=J([Khe,Nm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Jhe=(t,e)=>{var n=j0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===n)}}}},eme=J([Vhe,Nm],Jhe),tme=J([Cn,AS,Whe,Yhe,Qhe,Xhe,Zhe,Qe,mm,Xz,eme,Nm,Uhe],(t,e,n,r,a,s,l,d,f,h,p,g,x)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:A}=f;if(!(g==null||l==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:S}=g,I;if(S!=null&&S.length>0?I=S:I=w==null?void 0:w.slice(E,A+1),I!=null)return The({layout:d,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:I,offset:t,cells:x,dataStartIndex:E})}}),Zz=t=>{var{chartData:e}=t,n=Vt(),r=Fn();return b.useEffect(()=>r?()=>{}:(n(OR(e)),()=>{n(OR(void 0))}),[e,n,r]),null},SD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Jz=Lr({name:"brush",initialState:SD,reducers:{setBrushSettings(t,e){return e.payload==null?SD:e.payload}}}),{setBrushSettings:sve}=Jz.actions,nme=Jz.reducer;function rme(t,e,n){return(e=ame(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ame(t){var e=ime(t,"string");return typeof e=="symbol"?e:e+""}function ime(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Yj{static create(e){return new Yj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}rme(Yj,"EPS",1e-4);function sme(t){return(t%180+180)%180}var ome=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=sme(a),l=s*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},lme={dots:[],areas:[],lines:[]},e8=Lr({name:"referenceElements",initialState:lme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Za(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Za(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Za(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ove,removeDot:lve,addArea:cve,removeArea:uve,addLine:dve,removeLine:fve}=e8.actions,cme=e8.reducer,ume=b.createContext(void 0),dme=t=>{var{children:e}=t,[n]=b.useState("".concat(bh("recharts"),"-clip")),r=F0();if(r==null)return null;var{x:a,y:s,width:l,height:d}=r;return b.createElement(ume.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:a,y:s,height:d,width:l}))),e)};function t8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function fme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ome(r,n)}function hme(t,e,n){var r=n==="width",{x:a,y:s,width:l,height:d}=t;return e===1?{start:r?a:s,end:r?a+l:s+d}:{start:r?a+l:s+d,end:r?a:s}}function dv(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function mme(t,e){return t8(t,e+1)}function pme(t,e,n,r,a){for(var s=(r||[]).slice(),{start:l,end:d}=e,f=0,h=1,p=l,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:t8(r,h)};var A=f,S,I=()=>(S===void 0&&(S=n(E,A)),S),U=E.coordinate,k=f===0||dv(t,U,I,p,d);k||(f=0,p=l,h+=1),k&&(p=U+t*(I()/2+a),f+=h)},x;h<=s.length;)if(x=g(),x)return x.v;return[]}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e,n){return(e=yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yme(t){var e=vme(t,"string");return typeof e=="symbol"?e:e+""}function vme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xme(t,e,n,r,a){for(var s=(r||[]).slice(),l=s.length,{start:d}=e,{end:f}=e,h=function(x){var w=s[x],E,A=()=>(E===void 0&&(E=n(w,x)),E);if(x===l-1){var S=t*(w.coordinate+t*A()/2-f);s[x]=w=rr(rr({},w),{},{tickCoord:S>0?w.coordinate-S*t:w.coordinate})}else s[x]=w=rr(rr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var I=dv(t,w.tickCoord,A,d,f);I&&(f=w.tickCoord-t*(A()/2+a),s[x]=rr(rr({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function bme(t,e,n,r,a,s){var l=(r||[]).slice(),d=l.length,{start:f,end:h}=e;if(s){var p=r[d-1],g=n(p,d-1),x=t*(p.coordinate+t*g/2-h);if(l[d-1]=p=rr(rr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var w=dv(t,p.tickCoord,()=>g,f,h);w&&(h=p.tickCoord-t*(g/2+a),l[d-1]=rr(rr({},p),{},{isShow:!0}))}}for(var E=s?d-1:d,A=function(U){var k=l[U],C,P=()=>(C===void 0&&(C=n(k,U)),C);if(U===0){var z=t*(k.coordinate-t*P()/2-f);l[U]=k=rr(rr({},k),{},{tickCoord:z<0?k.coordinate-z*t:k.coordinate})}else l[U]=k=rr(rr({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var N=dv(t,k.tickCoord,P,f,h);N&&(f=k.tickCoord+t*(P()/2+a),l[U]=rr(rr({},k),{},{isShow:!0}))}},S=0;S<E;S++)A(S);return l}function Qj(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(Ae(f)||ll.isSsr){var x;return(x=mme(a,Ae(f)?f:0))!==null&&x!==void 0?x:[]}var w=[],E=d==="top"||d==="bottom"?"width":"height",A=p&&E==="width"?ih(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(k,C)=>{var P=typeof h=="function"?h(k.value,C):k.value;return E==="width"?fme(ih(P,{fontSize:e,letterSpacing:n}),A,g):ih(P,{fontSize:e,letterSpacing:n})[E]},I=a.length>=2?Vn(a[1].coordinate-a[0].coordinate):1,U=hme(s,I,E);return f==="equidistantPreserveStart"?pme(I,U,S,a,l):(f==="preserveStart"||f==="preserveStartEnd"?w=bme(I,U,S,a,l,f==="preserveStartEnd"):w=xme(I,U,S,a,l),w.filter(k=>k.isShow))}var wme=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=a+s,h=l+f+d+(n?r:0);return Math.round(h)}return 0},_me=["axisLine","width","height","className","hide","ticks","axisType"];function Eme(t,e){if(t==null)return{};var n,r,a=Ame(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ame(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(null,arguments)}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){Sme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sme(t,e,n){return(e=jme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jme(t){var e=Nme(t,"string");return typeof e=="symbol"?e:e+""}function Nme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:on.axis};function Tme(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=vn(vn(vn({},f),br(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=vn(vn({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=vn(vn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return b.createElement("line",vc({},h,{className:lt("recharts-cartesian-axis-line",mc(d,"className"))}))}function Cme(t,e,n,r,a,s,l,d,f){var h,p,g,x,w,E,A=d?-1:1,S=t.tickSize||l,I=Ae(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,x=n+ +!d*a,g=x-A*S,E=g-A*f,w=I;break;case"left":g=x=t.coordinate,p=e+ +!d*r,h=p-A*S,w=h-A*f,E=I;break;case"right":g=x=t.coordinate,p=e+ +d*r,h=p+A*S,w=h+A*f,E=I;break;default:h=p=t.coordinate,x=n+ +d*a,g=x+A*S,E=g+A*f,w=I;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:w,y:E}}}function Ime(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Ome(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function kme(t){var{option:e,tickProps:n,value:r}=t,a,s=lt(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))a=b.cloneElement(e,vn(vn({},n),{},{className:s}));else if(typeof e=="function")a=e(vn(vn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=lt(l,e==null?void 0:e.className)),a=b.createElement(M0,vc({},n,{className:l}),r)}return a}var Pme=b.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:w,width:E,height:A,tickSize:S,tickMargin:I,fontSize:U,letterSpacing:k,getTicksConfig:C,events:P,axisType:z}=t,N=Qj(vn(vn({},C),{},{ticks:n}),U,k),M=Ime(p,g),T=Ome(p,g),R=br(C),L=hc(r),V={};typeof a=="object"&&(V=a);var $=vn(vn({},R),{},{fill:"none"},V),ne=N.map(oe=>vn({entry:oe},Cme(oe,x,w,E,A,p,S,g,I))),me=ne.map(oe=>{var{entry:H,line:K}=oe;return b.createElement(Yt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},a&&b.createElement("line",vc({},$,K,{className:lt("recharts-cartesian-axis-tick-line",mc(a,"className"))})))}),Y=ne.map((oe,H)=>{var{entry:K,tick:se}=oe,q=vn(vn(vn(vn({textAnchor:M,verticalAnchor:T},R),{},{stroke:"none",fill:s},L),se),{},{index:H,payload:K,visibleTicksCount:N.length,tickFormatter:l,padding:f},h);return b.createElement(Yt,vc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Jv(P,K,H)),r&&b.createElement(kme,{option:r,tickProps:q,value:"".concat(typeof l=="function"?l(K.value,H):K.value).concat(d||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},Y.length>0&&b.createElement(_r,{zIndex:on.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},Y)),me.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},me))}),Rme=b.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:l,ticks:d,axisType:f}=t,h=Eme(t,_me),[p,g]=b.useState(""),[x,w]=b.useState(""),E=b.useRef(null);b.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return wme({ticks:E.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=b.useCallback(S=>{if(S){var I=S.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=I;var U=I[0];if(U){var k=window.getComputedStyle(U),C=k.fontSize,P=k.letterSpacing;(C!==p||P!==x)&&(g(C),w(P))}}},[p,x]);return l||r!=null&&r<=0||a!=null&&a<=0?null:b.createElement(_r,{zIndex:t.zIndex},b.createElement(Yt,{className:lt("recharts-cartesian-axis",s)},b.createElement(Tme,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:br(t)}),b.createElement(Pme,{ref:A,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),b.createElement(lue,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},b.createElement(vue,{label:t.label,labelRef:t.labelRef}),t.children)))}),Xj=b.forwardRef((t,e)=>{var n=En(t,Cs);return b.createElement(Rme,vc({},n,{ref:e}))});Xj.displayName="CartesianAxis";var Dme=["x1","y1","x2","y2","key"],Mme=["offset"],Lme=["xAxisId","yAxisId"],Ume=["xAxisId","yAxisId"];function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){zme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zme(t,e,n){return(e=Vme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vme(t){var e=$me(t,"string");return typeof e=="symbol"?e:e+""}function $me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(null,arguments)}function fv(t,e){if(t==null)return{};var n,r,a=Bme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Bme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:l,ry:d}=t;return b.createElement("rect",{x:r,y:a,ry:d,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function n8(t){var{option:e,lineItemProps:n}=t,r;if(b.isValidElement(e))r=b.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:s,y1:l,x2:d,y2:f,key:h}=n,p=fv(n,Dme),g=(a=br(p))!==null&&a!==void 0?a:{},{offset:x}=g,w=fv(g,Mme);r=b.createElement("line",Yl({},w,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return r}function qme(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,d=fv(t,Lme),f=a.map((h,p)=>{var g=sr(sr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return b.createElement(n8,{key:"line-".concat(p),option:r,lineItemProps:g})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Hme(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,d=fv(t,Ume),f=a.map((h,p)=>{var g=sr(sr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return b.createElement(n8,{option:r,lineItemProps:g,key:"line-".concat(p)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Gme(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+l-g:h[x+1]-g;if(E<=0)return null;var A=x%e.length;return b.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:E,width:s,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Kme(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:l,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+l-g:h[x+1]-g;if(E<=0)return null;var A=x%n.length;return b.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:E,height:d,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Wme=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return $5(Qj(sr(sr(sr({},Cs),n),{},{ticks:B5(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},Yme=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return $5(Qj(sr(sr(sr({},Cs),n),{},{ticks:B5(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},Qme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:on.grid};function Yf(t){var e=Z5(),n=J5(),r=X5(),a=sr(sr({},En(t,Qme)),{},{x:Ae(t.x)?t.x:r.left,y:Ae(t.y)?t.y:r.top,width:Ae(t.width)?t.width:r.width,height:Ae(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:w}=a,E=Fn(),A=Ne(T=>xR(T,"xAxis",s,E)),S=Ne(T=>xR(T,"yAxis",l,E));if(!$i(h)||!$i(p)||!Ae(d)||!Ae(f))return null;var I=a.verticalCoordinatesGenerator||Wme,U=a.horizontalCoordinatesGenerator||Yme,{horizontalPoints:k,verticalPoints:C}=a;if((!k||!k.length)&&typeof U=="function"){var P=x&&x.length,z=U({yAxis:S?sr(sr({},S),{},{ticks:P?x:S.ticks}):void 0,width:e??h,height:n??p,offset:r},P?!0:g);My(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(k=z)}if((!C||!C.length)&&typeof I=="function"){var N=w&&w.length,M=I({xAxis:A?sr(sr({},A),{},{ticks:N?w:A.ticks}):void 0,width:e??h,height:n??p,offset:r},N?!0:g);My(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}return b.createElement(_r,{zIndex:a.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Fme,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),b.createElement(Gme,Yl({},a,{horizontalPoints:k})),b.createElement(Kme,Yl({},a,{verticalPoints:C})),b.createElement(qme,Yl({},a,{offset:r,horizontalPoints:k,xAxis:A,yAxis:S})),b.createElement(Hme,Yl({},a,{offset:r,verticalPoints:C,xAxis:A,yAxis:S}))))}Yf.displayName="CartesianGrid";var r8=(t,e,n,r)=>qi(t,"xAxis",e,r),a8=(t,e,n,r)=>Fi(t,"xAxis",e,r),i8=(t,e,n,r)=>qi(t,"yAxis",n,r),s8=(t,e,n,r)=>Fi(t,"yAxis",n,r),Xme=J([Qe,r8,i8,a8,s8],(t,e,n,r,a)=>Qi(t,"xAxis")?Zo(e,r,!1):Zo(n,a,!1)),Zme=(t,e,n,r,a)=>a;function Jme(t){return t.type==="line"}var epe=J([vm,Zme],(t,e)=>t.filter(Jme).find(n=>n.id===e)),tpe=J([Qe,r8,i8,a8,s8,epe,Xme,mm],(t,e,n,r,a,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:x}=s,w;if(x!=null&&x.length>0?w=x:w=f==null?void 0:f.slice(h,p+1),w!=null)return wpe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:w})}});function o8(t){var e=hc(t),n=3,r=2;if(e!=null){var{r:a,strokeWidth:s}=e,l=Number(a),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(d)||d<0)&&(d=r),{r:l,strokeWidth:d}}return{r:n,strokeWidth:r}}var npe=["id"],rpe=["type","layout","connectNulls","needClip","shape"],ape=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(null,arguments)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){ipe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ipe(t,e,n){return(e=spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=ope(t,"string");return typeof e=="symbol"?e:e+""}function ope(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zj(t,e){if(t==null)return{};var n,r,a=lpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cpe=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:ol(n,e),payload:t}]},upe=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:ol(l,e),hide:d,type:h,color:r,unit:f}};return b.createElement(V0,{tooltipEntrySettings:p})}),l8=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function dpe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var fpe=(t,e,n)=>{var r=n.reduce((g,x)=>g+x);if(!r)return l8(e,t);for(var a=Math.floor(t/r),s=t%r,l=e-t,d=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>s){d=[...n.slice(0,f),s-h];break}var p=d.length%2===0?[0,l]:[l];return[...dpe(n,a),...d,...p].map(g=>"".concat(g,"px")).join(", ")};function hpe(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:s,needClip:l}=r,{id:d}=r,f=Zj(r,npe),h=br(f);return b.createElement(Gz,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function mpe(t){var{showLabels:e,children:n,points:r}=t,a=b.useMemo(()=>r==null?void 0:r.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ni(Ni({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(Lj,{value:e?a:void 0},n)}function ID(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:s}=t,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=Zj(s,rpe),x=Ni(Ni({},ur(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:d,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return b.createElement(b.Fragment,null,(r==null?void 0:r.length)>1&&b.createElement(Bj,Dh({shapeType:"curve",option:p},x,{pathRef:n})),b.createElement(hpe,{points:r,clipPathId:e,props:s}))}function ppe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function gpe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:x,width:w,height:E,onAnimationEnd:A,onAnimationStart:S}=n,I=a.current,U=pd(l,"recharts-line-"),k=b.useRef(U),[C,P]=b.useState(!1),z=!C,N=b.useCallback(()=>{typeof A=="function"&&A(),P(!1)},[A]),M=b.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),T=ppe(r.current),R=b.useRef(0);k.current!==U&&(R.current=s.current,k.current=U);var L=R.current;return b.createElement(mpe,{points:l,showLabels:z},n.children,b.createElement(md,{animationId:U,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:N,onAnimationStart:M,key:U},V=>{var $=ft(L,T+L,V),ne=Math.min($,T),me;if(f)if(d){var Y="".concat(d).split(/[,\s]+/gim).map(K=>parseFloat(K));me=fpe(ne,T,Y)}else me=l8(T,ne);else me=d==null?void 0:String(d);if(V>0&&T>0&&(a.current=l,s.current=Math.max(s.current,ne)),I){var oe=I.length/l.length,H=V===1?l:l.map((K,se)=>{var q=Math.floor(se*oe);if(I[q]){var re=I[q];return Ni(Ni({},K),{},{x:ft(re.x,K.x,V),y:ft(re.y,K.y,V)})}return x?Ni(Ni({},K),{},{x:ft(w*2,K.x,V),y:ft(E/2,K.y,V)}):Ni(Ni({},K),{},{x:K.x,y:K.y})});return a.current=H,b.createElement(ID,{props:n,points:H,clipPathId:e,pathRef:r,strokeDasharray:me})}return b.createElement(ID,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:me})}),b.createElement(L0,{label:n.label}))}function ype(t){var{clipPathId:e,props:n}=t,r=b.useRef(null),a=b.useRef(0),s=b.useRef(null);return b.createElement(gpe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:s})}var vpe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:vt(t.payload,e)}};class xpe extends b.Component{render(){var{hide:e,dot:n,points:r,className:a,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:g,needClip:x,zIndex:w}=this.props;if(e)return null;var E=lt("recharts-line",a),A=g,{r:S,strokeWidth:I}=o8(n),U=$j(n),k=S*2+I,C=x?"url(#clipPath-".concat(U?"":"dots-").concat(A,")"):void 0;return b.createElement(_r,{zIndex:w},b.createElement(Yt,{className:E},x&&b.createElement("defs",null,b.createElement(Wj,{clipPathId:A,xAxisId:s,yAxisId:l}),!U&&b.createElement("clipPath",{id:"clipPath-dots-".concat(A)},b.createElement("rect",{x:f-k/2,y:d-k/2,width:h+k,height:p+k}))),b.createElement(Yz,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:vpe,errorBarOffset:0},b.createElement(ype,{props:this.props,clipPathId:A}))),b.createElement(EE,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var c8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:on.line,type:"linear"};function bpe(t){var e=En(t,c8),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:x,xAxisId:w,yAxisId:E,id:A}=e,S=Zj(e,ape),{needClip:I}=q0(w,E),U=F0(),k=Sc(),C=Fn(),P=Ne(R=>tpe(R,w,E,C,A));if(k!=="horizontal"&&k!=="vertical"||P==null||U==null)return null;var{height:z,width:N,x:M,y:T}=U;return b.createElement(xpe,Dh({},S,{id:A,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:x,xAxisId:w,yAxisId:E,points:P,layout:k,height:z,width:N,left:M,top:T,needClip:I}))}function wpe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=t;return f.map((h,p)=>{var g=vt(h,l);if(e==="horizontal"){var x=Dy({axis:n,ticks:a,bandSize:d,entry:h,index:p}),w=Pt(g)?null:r.scale(g);return{x,y:w,value:g,payload:h}}var E=Pt(g)?null:n.scale(g),A=Dy({axis:r,ticks:s,bandSize:d,entry:h,index:p});return E==null||A==null?null:{x:E,y:A,value:g,payload:h}}).filter(Boolean)}function _pe(t){var e=En(t,c8),n=Fn();return b.createElement($0,{id:e.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(Gj,{legendPayload:cpe(e)}),b.createElement(upe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),b.createElement(Kj,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),b.createElement(bpe,Dh({},e,{id:r}))))}var u8=b.memo(_pe,jm);u8.displayName="Line";var d8=(t,e,n,r)=>qi(t,"xAxis",e,r),f8=(t,e,n,r)=>Fi(t,"xAxis",e,r),h8=(t,e,n,r)=>qi(t,"yAxis",n,r),m8=(t,e,n,r)=>Fi(t,"yAxis",n,r),Epe=J([Qe,d8,h8,f8,m8],(t,e,n,r,a)=>Qi(t,"xAxis")?Zo(e,r,!1):Zo(n,a,!1)),Ape=(t,e,n,r,a)=>a,p8=J([vm,Ape],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),Spe=(t,e,n,r,a)=>{var s,l=p8(t,e,n,r,a);if(l!=null){var d=Qe(t),f=Qi(d,"xAxis"),h;if(f?h=Ph(t,"yAxis",n,r):h=Ph(t,"xAxis",e,r),h!=null){var{stackId:p}=l,g=j0(l);if(!(p==null||g==null)){var x=(s=h[p])===null||s===void 0?void 0:s.stackedData;return x==null?void 0:x.find(w=>w.key===g)}}}},jpe=J([Qe,d8,h8,f8,m8,Spe,mm,Epe,p8,gse],(t,e,n,r,a,s,l,d,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:x}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||a==null||r.length===0||a.length===0||d==null)){var{data:w}=f,E;if(w&&w.length>0?E=w:E=p==null?void 0:p.slice(g,x+1),E!=null)return Hpe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:g,areaSettings:f,stackedData:s,displayedData:E,chartBaseValue:h,bandSize:d})}}),Npe=["id"],Tpe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(null,arguments)}function g8(t,e){if(t==null)return{};var n,r,a=Cpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){Ipe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ipe(t,e,n){return(e=Ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ope(t){var e=kpe(t,"string");return typeof e=="symbol"?e:e+""}function kpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hv(t,e){return t&&t!=="none"?t:e}var Ppe=t=>{var{dataKey:e,name:n,stroke:r,fill:a,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:hv(r,a),value:ol(n,e),payload:t}]},Rpe=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:ol(l,e),hide:d,type:h,color:hv(r,s),unit:f}};return b.createElement(V0,{tooltipEntrySettings:p})});function Dpe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:a,dot:s,dataKey:l}=r,d=br(r);return b.createElement(Gz,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:d,needClip:a,clipPathId:e})}function Mpe(t){var{showLabels:e,children:n,points:r}=t,a=r.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Tu(Tu({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return b.createElement(Lj,{value:e?a:void 0},n)}function kD(t){var{points:e,baseLine:n,needClip:r,clipPathId:a,props:s}=t,{layout:l,type:d,stroke:f,connectNulls:h,isRange:p}=s,{id:g}=s,x=g8(s,Npe),w=br(x),E=ur(x);return b.createElement(b.Fragment,null,(e==null?void 0:e.length)>1&&b.createElement(Yt,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},b.createElement(Lu,nc({},E,{id:g,points:e,connectNulls:h,type:d,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&b.createElement(Lu,nc({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&b.createElement(Lu,nc({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:n}))),b.createElement(Dpe,{points:e,props:x,clipPathId:a}))}function Lpe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,s=r[0].y,l=r[r.length-1].y;if(!Rt(s)||!Rt(l))return null;var d=e*Math.abs(s-l),f=Math.max(...r.map(h=>h.x||0));return Ae(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.x||0),f)),Ae(f)?b.createElement("rect",{x:0,y:s<l?s:s-d,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}function Upe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,s=r[0].x,l=r[r.length-1].x;if(!Rt(s)||!Rt(l))return null;var d=e*Math.abs(s-l),f=Math.max(...r.map(h=>h.y||0));return Ae(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.y||0),f)),Ae(f)?b.createElement("rect",{x:s<l?s:s-d,y:0,width:d,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function zpe(t){var{alpha:e,layout:n,points:r,baseLine:a,strokeWidth:s}=t;return n==="vertical"?b.createElement(Lpe,{alpha:e,points:r,baseLine:a,strokeWidth:s}):b.createElement(Upe,{alpha:e,points:r,baseLine:a,strokeWidth:s})}function Vpe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s}=t,{points:l,baseLine:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:x,onAnimationEnd:w}=r,E=b.useMemo(()=>({points:l,baseLine:d}),[l,d]),A=pd(E,"recharts-area-"),S=Wte(),[I,U]=b.useState(!1),k=!I,C=b.useCallback(()=>{typeof w=="function"&&w(),U(!1)},[w]),P=b.useCallback(()=>{typeof x=="function"&&x(),U(!0)},[x]);if(S==null)return null;var z=a.current,N=s.current;return b.createElement(Mpe,{showLabels:k,points:l},r.children,b.createElement(md,{animationId:A,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:C,onAnimationStart:P,key:A},M=>{if(z){var T=z.length/l.length,R=M===1?l:l.map((V,$)=>{var ne=Math.floor($*T);if(z[ne]){var me=z[ne];return Tu(Tu({},V),{},{x:ft(me.x,V.x,M),y:ft(me.y,V.y,M)})}return V}),L;return Ae(d)?L=ft(N,d,M):Pt(d)||Ta(d)?L=ft(N,0,M):L=d.map((V,$)=>{var ne=Math.floor($*T);if(Array.isArray(N)&&N[ne]){var me=N[ne];return Tu(Tu({},V),{},{x:ft(me.x,V.x,M),y:ft(me.y,V.y,M)})}return V}),M>0&&(a.current=R,s.current=L),b.createElement(kD,{points:R,baseLine:L,needClip:e,clipPathId:n,props:r})}return M>0&&(a.current=l,s.current=d),b.createElement(Yt,null,f&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(zpe,{alpha:M,points:l,baseLine:d,layout:S,strokeWidth:r.strokeWidth}))),b.createElement(Yt,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(kD,{points:l,baseLine:d,needClip:e,clipPathId:n,props:r})))}),b.createElement(L0,{label:r.label}))}function $pe(t){var{needClip:e,clipPathId:n,props:r}=t,a=b.useRef(null),s=b.useRef();return b.createElement(Vpe,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s})}class Bpe extends b.PureComponent{render(){var{hide:e,dot:n,points:r,className:a,top:s,left:l,needClip:d,xAxisId:f,yAxisId:h,width:p,height:g,id:x,baseLine:w,zIndex:E}=this.props;if(e)return null;var A=lt("recharts-area",a),S=x,{r:I,strokeWidth:U}=o8(n),k=$j(n),C=I*2+U,P=d?"url(#clipPath-".concat(k?"":"dots-").concat(S,")"):void 0;return b.createElement(_r,{zIndex:E},b.createElement(Yt,{className:A},d&&b.createElement("defs",null,b.createElement(Wj,{clipPathId:S,xAxisId:f,yAxisId:h}),!k&&b.createElement("clipPath",{id:"clipPath-dots-".concat(S)},b.createElement("rect",{x:l-C/2,y:s-C/2,width:p+C,height:g+C}))),b.createElement($pe,{needClip:d,clipPathId:S,props:this.props})),b.createElement(EE,{points:r,mainColor:hv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(w)&&b.createElement(EE,{points:w,mainColor:hv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var y8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:on.area};function Fpe(t){var e,n=En(t,y8),{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:x,legendType:w,stroke:E,xAxisId:A,yAxisId:S}=n,I=g8(n,Tpe),U=Sc(),k=yz(),{needClip:C}=q0(A,S),P=Fn(),{points:z,isRange:N,baseLine:M}=(e=Ne(ne=>jpe(ne,A,S,P,t.id)))!==null&&e!==void 0?e:{},T=F0();if(U!=="horizontal"&&U!=="vertical"||T==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:R,width:L,x:V,y:$}=T;return!z||!z.length?null:b.createElement(Bpe,nc({},I,{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:M,connectNulls:d,dot:f,fill:h,fillOpacity:p,height:R,hide:g,layout:U,isAnimationActive:x==="auto"?!ll.isSsr:x,isRange:N,legendType:w,needClip:C,points:z,stroke:E,width:L,left:V,top:$,xAxisId:A,yAxisId:S}))}var qpe=(t,e,n,r,a)=>{var s=n??e;if(Ae(s))return s;var l=t==="horizontal"?a:r,d=l.scale.domain();if(l.type==="number"){var f=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]};function Hpe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:a,layout:s,chartBaseValue:l,xAxis:d,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:x,bandSize:w}=t,E=a&&a.length,A=qpe(s,l,n,d,f),S=s==="horizontal",I=!1,U=h.map((C,P)=>{var z;E?z=a[p+P]:(z=vt(C,r),Array.isArray(z)?I=!0:z=[A,z]);var N=z[1]==null||E&&!e&&vt(C,r)==null;return S?{x:Dy({axis:d,ticks:g,bandSize:w,entry:C,index:P}),y:N?null:f.scale(z[1]),value:z,payload:C}:{x:N?null:d.scale(z[1]),y:Dy({axis:f,ticks:x,bandSize:w,entry:C,index:P}),value:z,payload:C}}),k;return E||I?k=U.map(C=>{var P=Array.isArray(C.value)?C.value[0]:null;return S?{x:C.x,y:P!=null&&C.y!=null?f.scale(P):null,payload:C.payload}:{x:P!=null?d.scale(P):null,y:C.y,payload:C.payload}}):k=S?f.scale(A):d.scale(A),{points:U,baseLine:k,isRange:I}}function Gpe(t){var e=En(t,y8),n=Fn();return b.createElement($0,{id:e.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(Gj,{legendPayload:Ppe(e)}),b.createElement(Rpe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),b.createElement(Kj,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:F5(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),b.createElement(Fpe,nc({},e,{id:r}))))}var v8=b.memo(Gpe,jm);v8.displayName="Area";var Kpe=["domain","range"],Wpe=["domain","range"];function PD(t,e){if(t==null)return{};var n,r,a=Ype(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ype(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function x8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=PD(t,Kpe),{domain:s,range:l}=e,d=PD(e,Wpe);return!RD(n,s)||!RD(r,l)?!1:jm(a,d)}var Qpe=["dangerouslySetInnerHTML","ticks"],Xpe=["id"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function DD(t,e){if(t==null)return{};var n,r,a=Zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jpe(t){var e=Vt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(ufe(t)):n.current!==t&&e(dfe({prev:n.current,next:t})),n.current=t},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(ffe(n.current)),n.current=null)},[e]),null}var ege=t=>{var{xAxisId:e,className:n}=t,r=Ne(AS),a=Fn(),s="xAxis",l=Ne(S=>_d(S,s,e,a)),d=Ne(S=>WU(S,s,e,a)),f=Ne(S=>qU(S,e)),h=Ne(S=>hoe(S,e)),p=Ne(S=>SU(S,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,w=DD(t,Qpe),{id:E}=p,A=DD(p,Xpe);return b.createElement(Xj,SE({},w,A,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:lt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d,axisType:s}))},tge={allowDataOverflow:Mn.allowDataOverflow,allowDecimals:Mn.allowDecimals,allowDuplicatedCategory:Mn.allowDuplicatedCategory,angle:Mn.angle,axisLine:Cs.axisLine,height:Mn.height,hide:!1,includeHidden:Mn.includeHidden,interval:Mn.interval,minTickGap:Mn.minTickGap,mirror:Mn.mirror,orientation:Mn.orientation,padding:Mn.padding,reversed:Mn.reversed,scale:Mn.scale,tick:Mn.tick,tickCount:Mn.tickCount,tickLine:Cs.tickLine,tickSize:Cs.tickSize,type:Mn.type,xAxisId:0},nge=t=>{var e=En(t,tge);return b.createElement(b.Fragment,null,b.createElement(Jpe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),b.createElement(ege,e))},Cu=b.memo(nge,x8);Cu.displayName="XAxis";var rge=["dangerouslySetInnerHTML","ticks"],age=["id"];function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}function MD(t,e){if(t==null)return{};var n,r,a=ige(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ige(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sge(t){var e=Vt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(hfe(t)):n.current!==t&&e(mfe({prev:n.current,next:t})),n.current=t},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(pfe(n.current)),n.current=null)},[e]),null}var oge=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=b.useRef(null),l=b.useRef(null),d=Ne(AS),f=Fn(),h=Vt(),p="yAxis",g=Ne(P=>_d(P,p,e,f)),x=Ne(P=>HU(P,e)),w=Ne(P=>poe(P,e)),E=Ne(P=>WU(P,p,e,f)),A=Ne(P=>jU(P,e));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!x||Mj(a)||b.isValidElement(a)||A==null)){var P=s.current;if(P){var z=P.getCalculatedWidth();Math.round(x.width)!==Math.round(z)&&h(gfe({id:e,width:z}))}}},[E,x,h,a,e,r,A]),x==null||w==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:I}=t,U=MD(t,rge),{id:k}=A,C=MD(A,age);return b.createElement(Xj,jE({},U,C,{ref:s,labelRef:l,scale:g,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:lt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:E,axisType:p}))},lge={allowDataOverflow:Ln.allowDataOverflow,allowDecimals:Ln.allowDecimals,allowDuplicatedCategory:Ln.allowDuplicatedCategory,angle:Ln.angle,axisLine:Cs.axisLine,hide:!1,includeHidden:Ln.includeHidden,interval:Ln.interval,minTickGap:Ln.minTickGap,mirror:Ln.mirror,orientation:Ln.orientation,padding:Ln.padding,reversed:Ln.reversed,scale:Ln.scale,tick:Ln.tick,tickCount:Ln.tickCount,tickLine:Cs.tickLine,tickSize:Cs.tickSize,type:Ln.type,width:Ln.width,yAxisId:0},cge=t=>{var e=En(t,lge);return b.createElement(b.Fragment,null,b.createElement(sge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),b.createElement(oge,e))},Iu=b.memo(cge,x8);Iu.displayName="YAxis";var uge=(t,e)=>e,Jj=J([uge,Qe,EU,On,uz,Ys,Cle,Cn],Mle),eN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},b8=Ca("mouseClick"),w8=om();w8.startListening({actionCreator:b8,effect:(t,e)=>{var n=t.payload,r=Jj(e.getState(),eN(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Coe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var NE=Ca("mouseMove"),_8=om(),Cg=null;_8.startListening({actionCreator:NE,effect:(t,e)=>{var n=t.payload;Cg!==null&&cancelAnimationFrame(Cg);var r=eN(n);Cg=requestAnimationFrame(()=>{var a=e.getState(),s=jj(a,a.tooltip.settings.shared);if(s==="axis"){var l=Jj(a,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(nz({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(tz())}Cg=null})}});var LD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},E8=Lr({name:"rootProps",initialState:LD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:LD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),dge=E8.reducer,{updateOptions:fge}=E8.actions,A8=Lr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:hge}=A8.actions,mge=A8.reducer,S8=Ca("keyDown"),j8=Ca("focus"),tN=om();tN.startListening({actionCreator:S8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Nj(a,Ad(n),bm(n),Am(n)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=Ys(n);if(s==="Enter"){var h=rv(n,"axis","hover",String(a.index));e.dispatch(yE({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var p=xoe(n),g=p==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,w=d+x*g;if(!(f==null||w>=f.length||w<0)){var E=rv(n,"axis","hover",String(w));e.dispatch(yE({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});tN.startListening({actionCreator:j8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",l=rv(n,"axis","hover",String(s));e.dispatch(yE({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var xa=Ca("externalEvent"),N8=om(),Z1=new Map;N8.startListening({actionCreator:xa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=Z1.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:mle(d),activeDataKey:mz(d),activeIndex:el(d),activeLabel:hz(d),activeTooltipIndex:el(d),isTooltipActive:ple(d)};n(f,r)}finally{Z1.delete(a)}});Z1.set(a,l)}}});var pge=J([Ed],t=>t.tooltipItemPayloads),gge=J([pge,_m,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var l=e(s,n);return l}}}),T8=Ca("touchMove"),C8=om();C8.startListening({actionCreator:T8,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=jj(r,r.tooltip.settings.shared);if(a==="axis"){var s=Jj(r,eN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(nz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(H5),p=(l=f.getAttribute(G5))!==null&&l!==void 0?l:void 0,g=gge(e.getState(),h,p);e.dispatch(ez({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var yge=f5({brush:nme,cartesianAxis:yfe,chartData:hce,errorBars:Mfe,graphicalItems:Ade,layout:nte,legend:lne,options:lce,polarAxis:zue,polarOptions:mge,referenceElements:cme,rootProps:dge,tooltip:Ioe,zIndex:Qle}),vge=function(e){return Nee({reducer:yge,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([w8.middleware,_8.middleware,tN.middleware,N8.middleware,C8.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(N5({type:"raf"}))},devTools:ll.devToolsEnabled})};function I8(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Fn(),s=b.useRef(null);if(a)return n;s.current==null&&(s.current=vge(e));var l=pS;return b.createElement(ahe,{context:l,store:s.current},n)}function xge(t){var{layout:e,margin:n}=t,r=Vt(),a=Fn();return b.useEffect(()=>{a||(r(Jee(e)),r(Zee(n)))},[r,a,e,n]),null}var O8=b.memo(xge,jm);function k8(t){var e=Vt();return b.useEffect(()=>{e(fge(t))},[e,t]),null}function UD(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=Fz("".concat(r).concat(e)),s=Vt();return b.useLayoutEffect(()=>(s(Wle({zIndex:e,elementId:a,isPanorama:n})),()=>{s(Yle({zIndex:e,isPanorama:n}))}),[s,e,a,n]),b.createElement("g",{id:a})}function zD(t){var{children:e,isPanorama:n}=t,r=Ne(Ule);if(!r||r.length===0)return e;var a=r.filter(l=>l<0),s=r.filter(l=>l>0);return b.createElement(b.Fragment,null,a.map(l=>b.createElement(UD,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>b.createElement(UD,{key:l,zIndex:l,isPanorama:n})))}var bge=["children"];function wge(t,e){if(t==null)return{};var n,r,a=_ge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}var Ege={width:"100%",height:"100%",display:"block"},Age=b.forwardRef((t,e)=>{var n=Z5(),r=J5(),a=uL();if(!$i(n)||!$i(r))return null;var{children:s,otherAttributes:l,title:d,desc:f}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),b.createElement(C3,mv({},l,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Ege,ref:e}),s)}),Sge=t=>{var{children:e}=t,n=Ne(f0);if(!n)return null;var{width:r,height:a,y:s,x:l}=n;return b.createElement(C3,{width:r,height:a,x:l,y:s},e)},VD=b.forwardRef((t,e)=>{var{children:n}=t,r=wge(t,bge),a=Fn();return a?b.createElement(Sge,null,b.createElement(zD,{isPanorama:!0},n)):b.createElement(Age,mv({ref:e},r),b.createElement(zD,{isPanorama:!1},n))});function jge(){var t=Vt(),[e,n]=b.useState(null),r=Ne(xte);return b.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Rt(s)&&s!==r&&t(tte(s))}},[e,t,r]),n}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){Tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e,n){return(e=Cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cge(t){var e=Ige(t,"string");return typeof e=="symbol"?e:e+""}function Ige(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(null,arguments)}var Oge=()=>(_ce(),null);function pv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var kge=b.forwardRef((t,e)=>{var n,r,a=b.useRef(null),[s,l]=b.useState({containerWidth:pv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:pv((r=t.style)===null||r===void 0?void 0:r.height)}),d=b.useCallback((h,p)=>{l(g=>{var x=Math.round(h),w=Math.round(p);return g.containerWidth===x&&g.containerHeight===w?g:{containerWidth:x,containerHeight:w}})},[]),f=b.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var x=E=>{var{width:A,height:S}=E[0].contentRect;d(A,S)},w=new ResizeObserver(x);w.observe(h),a.current=w}},[e,d]);return b.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),b.createElement(b.Fragment,null,b.createElement(m0,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",xc({ref:f},t)))}),Pge=b.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=b.useState({containerWidth:pv(n),containerHeight:pv(r)}),l=b.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),d=b.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[e,l]);return b.createElement(b.Fragment,null,b.createElement(m0,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",xc({ref:d},t)))}),Rge=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return b.createElement(b.Fragment,null,b.createElement(m0,{width:n,height:r}),b.createElement("div",xc({ref:e},t)))}),Dge=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ms(n)||Ms(r)?b.createElement(Pge,xc({},t,{ref:e})):b.createElement(Rge,xc({},t,{ref:e}))});function Mge(t){return t===!0?kge:Dge}var Lge=b.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:w,onTouchMove:E,onTouchStart:A,style:S,width:I,responsive:U,dispatchTouchEvents:k=!0}=t,C=b.useRef(null),P=Vt(),[z,N]=b.useState(null),[M,T]=b.useState(null),R=jge(),L=SS(),V=(L==null?void 0:L.width)>0?L.width:I,$=(L==null?void 0:L.height)>0?L.height:a,ne=b.useCallback(ce=>{R(ce),typeof e=="function"&&e(ce),N(ce),T(ce),ce!=null&&(C.current=ce)},[R,e,N,T]),me=b.useCallback(ce=>{P(b8(ce)),P(xa({handler:s,reactEvent:ce}))},[P,s]),Y=b.useCallback(ce=>{P(NE(ce)),P(xa({handler:h,reactEvent:ce}))},[P,h]),oe=b.useCallback(ce=>{P(tz()),P(xa({handler:p,reactEvent:ce}))},[P,p]),H=b.useCallback(ce=>{P(NE(ce)),P(xa({handler:g,reactEvent:ce}))},[P,g]),K=b.useCallback(()=>{P(j8())},[P]),se=b.useCallback(ce=>{P(S8(ce.key))},[P]),q=b.useCallback(ce=>{P(xa({handler:l,reactEvent:ce}))},[P,l]),re=b.useCallback(ce=>{P(xa({handler:d,reactEvent:ce}))},[P,d]),pe=b.useCallback(ce=>{P(xa({handler:f,reactEvent:ce}))},[P,f]),ye=b.useCallback(ce=>{P(xa({handler:x,reactEvent:ce}))},[P,x]),Ce=b.useCallback(ce=>{P(xa({handler:A,reactEvent:ce}))},[P,A]),ke=b.useCallback(ce=>{k&&P(T8(ce)),P(xa({handler:E,reactEvent:ce}))},[P,k,E]),Pe=b.useCallback(ce=>{P(xa({handler:w,reactEvent:ce}))},[P,w]),Nt=Mge(U);return b.createElement(_z.Provider,{value:z},b.createElement(lZ.Provider,{value:M},b.createElement(Nt,{width:V??(S==null?void 0:S.width),height:$??(S==null?void 0:S.height),className:lt("recharts-wrapper",r),style:Nge({position:"relative",cursor:"default",width:V,height:$},S),onClick:me,onContextMenu:q,onDoubleClick:re,onFocus:K,onKeyDown:se,onMouseDown:pe,onMouseEnter:Y,onMouseLeave:oe,onMouseMove:H,onMouseUp:ye,onTouchEnd:Pe,onTouchMove:ke,onTouchStart:Ce,ref:ne},b.createElement(Oge,null),n)))}),Uge=["width","height","responsive","children","className","style","compact","title","desc"];function zge(t,e){if(t==null)return{};var n,r,a=Vge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Vge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var P8=b.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:l,style:d,compact:f,title:h,desc:p}=t,g=zge(t,Uge),x=br(g);return f?b.createElement(b.Fragment,null,b.createElement(m0,{width:n,height:r}),b.createElement(VD,{otherAttributes:x,title:h,desc:p},s)):b.createElement(Lge,{className:l,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(VD,{otherAttributes:x,title:h,desc:p,ref:e},b.createElement(dme,null,s)))});function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(null,arguments)}var $ge={top:5,right:5,bottom:5,left:5},Bge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$ge,reverseStackOrder:!1,syncMethod:"index",responsive:!1},nN=b.forwardRef(function(e,n){var r,a=En(e.categoricalChartProps,Bge),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(I8,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},b.createElement(Zz,{chartData:h.data}),b.createElement(O8,{layout:a.layout,margin:a.margin}),b.createElement(k8,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(P8,TE({},a,{ref:n})))}),Fge=["axis"],qge=b.forwardRef((t,e)=>b.createElement(nN,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fge,tooltipPayloadSearcher:D0,categoricalChartProps:t,ref:e})),Hge=["axis","item"],CE=b.forwardRef((t,e)=>b.createElement(nN,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hge,tooltipPayloadSearcher:D0,categoricalChartProps:t,ref:e}));function Gge(t){var e=Vt();return b.useEffect(()=>{e(hge(t))},[e,t]),null}var Kge=["layout"];function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(null,arguments)}function Wge(t,e){if(t==null)return{};var n,r,a=Yge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Yge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qge={top:5,right:5,bottom:5,left:5},Xge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Qge,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Zge=b.forwardRef(function(e,n){var r,a=En(e.categoricalChartProps,Xge),{layout:s}=a,l=Wge(a,Kge),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return b.createElement(I8,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},b.createElement(Zz,{chartData:a.data}),b.createElement(O8,{layout:s,margin:a.margin}),b.createElement(k8,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(Gge,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),b.createElement(P8,IE({},l,{ref:n})))}),Jge=["item"],eye={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},tye=b.forwardRef((t,e)=>{var n=En(t,eye);return b.createElement(Zge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Jge,tooltipPayloadSearcher:D0,categoricalChartProps:n,ref:e})}),nye=["axis"],rye=b.forwardRef((t,e)=>b.createElement(nN,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nye,tooltipPayloadSearcher:D0,categoricalChartProps:t,ref:e}));const aye=({result:t,paper:e,answers:n,onDownloadModelAnswers:r,onHome:a})=>{var k;const[s,l]=b.useState(new Set),[d,f]=b.useState(""),[h,p]=b.useState(!1),[g,x]=b.useState(!1);b.useEffect(()=>{const C=(t.questionResults||t.breakdown||[]).map(P=>P.questionId);l(new Set(C))},[t]);const w=C=>{const P=new Set(s);P.has(C)?P.delete(C):P.add(C),l(P)},E=C=>{if(C){const P=(t.questionResults||[]).map(z=>z.questionId);l(new Set(P))}else l(new Set)},A=C=>{const P=document.getElementById(`q-${C}`);P&&(P.scrollIntoView({behavior:"smooth",block:"start"}),f(C),p(!1))},S=C=>{const P=C.currentTarget.scrollTop;x(P>500)},I=()=>{const C=document.getElementById("results-scroll-container");C&&C.scrollTo({top:0,behavior:"smooth"})},U=[{name:"AO1",value:0},{name:"AO2",value:0},{name:"AO3",value:0},{name:"AO4",value:0},{name:"AO5",value:0},{name:"AO6",value:0}];return(t.questionResults||t.breakdown||[]).forEach(C=>{C.aos&&Object.entries(C.aos).forEach(([P,z])=>{const N=parseInt(P.replace("AO",""))-1;U[N]&&(U[N].value+=z||0)})}),c.jsxs("div",{id:"results-scroll-container",onScroll:S,className:"h-screen overflow-y-auto bg-gray-50 font-sans print:bg-white print:p-0 flex flex-col print:h-auto print:overflow-visible scroll-smooth",children:[c.jsxs("nav",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 px-4 md:px-8 py-3 md:py-4 flex justify-between items-center shadow-sm print:hidden",children:[c.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[c.jsx("button",{onClick:()=>p(!0),className:"lg:hidden p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-md",children:c.jsx(nX,{size:24})}),c.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-600 hover:text-edexcel-blue font-medium transition-colors",children:[c.jsx(vy,{size:20})," ",c.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),c.jsx("div",{className:"h-6 w-px bg-gray-300 hidden sm:block"}),c.jsxs("h1",{className:"text-sm md:text-lg font-bold text-gray-800 truncate max-w-[150px] sm:max-w-md",children:["Results: ",(e==null?void 0:e.title)||`Exam Result - ${new Date((k=t.date)!=null&&k.toDate?t.date.toDate():t.date).toLocaleDateString()}`]})]}),c.jsx("div",{className:"flex gap-2 md:gap-3",children:c.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-edexcel-dark text-white px-3 py-2 rounded-lg font-bold hover:bg-gray-800 transition-colors shadow-sm text-xs md:text-sm",children:[c.jsx(_3,{size:16})," ",c.jsx("span",{className:"hidden sm:inline",children:"Print PDF"}),c.jsx("span",{className:"sm:hidden",children:"PDF"})]})})]}),c.jsxs("div",{className:"flex flex-1 max-w-[1400px] mx-auto w-full relative",children:[h&&c.jsxs("div",{className:"fixed inset-0 z-50 flex lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>p(!1)}),c.jsxs("aside",{className:"relative w-72 bg-white h-full shadow-2xl p-4 overflow-y-auto animate-in slide-in-from-left duration-200 flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-4",children:[c.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Question Map"}),c.jsx("button",{onClick:()=>p(!1),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:c.jsx(ri,{size:20})})]}),c.jsx("div",{className:"space-y-2 flex-1",children:(t.questionResults||t.breakdown||[]).map(C=>c.jsxs("button",{onClick:()=>A(C.questionId),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors flex justify-between items-center ${d===C.questionId?"bg-blue-50 text-edexcel-blue border border-blue-100":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-transparent"}`,children:[c.jsxs("span",{className:"truncate font-semibold",children:["Q",C.questionId]}),c.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${C.score===C.maxScore?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:[C.score,"/",C.maxScore]})]},C.questionId))}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[c.jsx("button",{onClick:()=>{E(!0),p(!1)},className:"block w-full text-left py-2 text-sm text-blue-600 font-bold hover:underline",children:"Expand All"}),c.jsx("button",{onClick:()=>{E(!1),p(!1)},className:"block w-full text-left py-2 text-sm text-gray-500 font-medium hover:underline",children:"Collapse All"})]})]})]}),c.jsx("aside",{className:"hidden lg:block w-72 sticky top-0 h-screen p-6 border-r border-gray-200 mr-4 bg-gray-50/50 backdrop-blur-sm z-30 overflow-hidden",children:c.jsxs("div",{className:"pt-4",children:[c.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Question Navigator"}),c.jsx("div",{className:"space-y-1 mb-8",children:(t.questionResults||t.breakdown||[]).map(C=>c.jsxs("button",{onClick:()=>A(C.questionId),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors flex justify-between items-center group ${d===C.questionId?"bg-blue-50 text-edexcel-blue":"text-gray-600 hover:bg-gray-100"}`,children:[c.jsxs("span",{className:"truncate",children:["Question ",C.questionId]}),c.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded ${C.score===C.maxScore?"bg-green-100 text-green-700":"bg-gray-200 text-gray-500 group-hover:bg-gray-300"}`,children:[C.score,"/",C.maxScore]})]},C.questionId))}),c.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:()=>E(!0),className:"block w-full text-left text-xs text-blue-600 font-bold mb-3 hover:underline",children:"Expand All Cards"}),c.jsx("button",{onClick:()=>E(!1),className:"block w-full text-left text-xs text-gray-500 font-medium hover:underline",children:"Collapse All Cards"})]})]})}),c.jsxs("main",{className:"flex-1 p-3 md:p-8 lg:p-12 print:p-0 print:w-full min-w-0",children:[c.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-xl p-4 md:p-6 mb-6 md:mb-8 flex gap-4 items-start print:hidden",children:[c.jsx(Gu,{size:24,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-amber-900 text-sm md:text-base mb-2",children:" Important Disclaimer"}),c.jsxs("ul",{className:"text-amber-800 text-xs md:text-sm space-y-1 leading-relaxed",children:[c.jsx("li",{children:" AI-generated results may contain errors. Always verify with your teacher or official textbooks."}),c.jsx("li",{children:" These grades are estimates only and not official qualifications."}),c.jsx("li",{children:" GoGCSE is independent and not affiliated with exam boards or educational authorities."}),c.jsx("li",{children:" Use this tool for practice and revision purposes only."})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-8 shadow-sm border border-gray-200 mb-6 md:mb-10 print:shadow-none print:border-none print:p-0 print:mb-8 break-inside-avoid",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6 md:gap-8",children:[c.jsxs("div",{className:"flex-1 w-full",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 print:mb-0",children:[c.jsx("span",{className:"px-3 py-1 bg-edexcel-blue text-white text-[10px] md:text-xs font-bold uppercase rounded-full print:hidden",children:"Official Simulation"}),c.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-gray-900",children:"Performance Summary"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 my-6 md:my-8 print:grid-cols-4",children:[c.jsxs("div",{className:"bg-blue-50 p-4 md:p-5 rounded-xl border border-blue-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-blue-600 font-bold uppercase tracking-wider mb-1",children:"Estimated Grade"}),c.jsx("span",{className:"text-3xl md:text-4xl font-extrabold text-edexcel-blue",children:t.gradeEstimate})]}),c.jsxs("div",{className:"bg-gray-50 p-4 md:p-5 rounded-xl border border-gray-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Total Marks"}),c.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:[t.totalScore," ",c.jsxs("span",{className:"text-sm md:text-lg text-gray-400 font-normal",children:["/ ",t.maxScore]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 md:p-5 rounded-xl border border-gray-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Reading"}),c.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-800",children:(t.questionResults||t.breakdown||[]).filter(C=>C.questionId.length<2||parseInt(C.questionId)<=4||(e==null?void 0:e.type)==="PAPER_2"&&parseInt(C.questionId)<=6).reduce((C,P)=>C+P.score,0)})]}),c.jsxs("div",{className:"bg-gray-50 p-4 md:p-5 rounded-xl border border-gray-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Writing"}),c.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-800",children:(t.questionResults||t.breakdown||[]).filter(C=>parseInt(C.questionId)>=5||C.questionId.includes("7")).reduce((C,P)=>C+P.score,0)})]})]}),c.jsx("div",{className:"pl-4 md:pl-6 py-2 border-l-4 border-edexcel-blue bg-gray-50 rounded-r-lg print:bg-white print:pl-0 print:border-l-0",children:c.jsxs("p",{className:"text-gray-700 text-sm md:text-lg italic leading-relaxed",children:['"',t.overallFeedback,'"']})})]}),c.jsxs("div",{className:"w-full md:w-64 h-48 print:hidden flex-shrink-0 hidden md:block",children:[c.jsx(Au,{width:"100%",height:"100%",children:c.jsxs(CE,{data:U.filter(C=>C.value>0),children:[c.jsx(Cu,{dataKey:"name",fontSize:10,tickLine:!1,axisLine:!1}),c.jsx(Iu,{hide:!0}),c.jsx(Su,{cursor:{fill:"#f3f4f6"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(uv,{dataKey:"value",fill:"#005f87",radius:[4,4,0,0]})]})}),c.jsx("p",{className:"text-center text-xs text-gray-400 mt-2 font-medium",children:"AO Performance Breakdown"})]})]}),c.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-xl p-4 md:p-6 mb-6 md:mb-8 flex gap-4 items-start print:hidden",children:[c.jsx(Gu,{size:24,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-amber-900 text-sm md:text-base mb-1",children:" Important: AI-Generated Results"}),c.jsx("p",{className:"text-amber-800 text-xs md:text-sm leading-relaxed",children:"AI can make mistakes. Always check with your teacher or official textbooks. This is not an official grade."})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6 print:hidden",children:[c.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Detailed Analysis"}),c.jsxs("div",{className:"flex gap-2 text-xs md:text-sm lg:hidden",children:[c.jsx("button",{onClick:()=>E(!0),className:"text-blue-600 font-bold hover:bg-blue-50 px-3 py-1 rounded transition-colors",children:"Expand All"}),c.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:bg-gray-100 px-3 py-1 rounded transition-colors",children:"Collapse"})]})]}),c.jsx("div",{className:"space-y-6 md:space-y-12 print:space-y-16 pb-20",children:(t.questionResults||t.breakdown||[]).map(C=>{var T,R;const P=(T=e==null?void 0:e.questions)==null?void 0:T.find(L=>L.id===C.questionId),z=n[C.questionId],N=C.studentAnswer||(z==null?void 0:z.text),M=s.has(C.questionId);return C?c.jsxs("div",{id:`q-${C.questionId}`,className:`bg-white rounded-xl shadow-sm border transition-all duration-300 print:shadow-none print:border-none print:block break-inside-avoid
                    ${M?"border-gray-300 shadow-md ring-1 ring-black/5":"border-gray-200"}`,children:[c.jsxs("div",{onClick:()=>w(C.questionId),className:"cursor-pointer bg-gray-50 p-4 md:p-6 border-b border-gray-200 flex justify-between items-start hover:bg-gray-100 transition-colors print:bg-white print:border-b-2 print:border-black print:px-0",children:[c.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[c.jsx("div",{className:"bg-white p-2 rounded-md shadow-sm border border-gray-200 text-gray-400 print:hidden hidden sm:block",children:c.jsx(DQ,{size:20})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsxs("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:["Question ",C.questionId]}),c.jsxs("span",{className:"text-xs md:text-sm px-2 py-0.5 bg-gray-200 text-gray-700 rounded-md font-medium print:bg-transparent print:p-0 border border-gray-300 print:border-none",children:[C.score," / ",C.maxScore," Marks"]})]}),c.jsxs("div",{className:"text-xs md:text-sm text-gray-500 font-mono",children:["Assessing: ",Object.keys(C.aos).join(", ")]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[C.level>0&&c.jsxs("div",{className:"text-right hidden sm:block",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:"Level"}),c.jsx("div",{className:"text-xl font-bold text-edexcel-blue",children:C.level})]}),c.jsx("button",{className:"text-gray-400 print:hidden p-1 md:p-2 hover:bg-gray-200 rounded-full transition-colors",children:M?c.jsx(y3,{size:20}):c.jsx(g3,{size:20})})]})]}),(M||typeof window<"u"&&window.matchMedia("print").matches)&&c.jsxs("div",{className:"p-4 md:p-6 lg:p-10 space-y-8 md:space-y-10 print:px-0 print:block",children:[c.jsxs("div",{className:"prose max-w-none text-gray-800",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Question"}),c.jsx("p",{className:"text-base md:text-lg font-serif font-medium leading-relaxed border-l-4 border-gray-300 pl-4",children:(P==null?void 0:P.text)||c.jsx("span",{className:"text-gray-400 italic",children:"(Question text not available for this result)"})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Marks Awarded"}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs md:text-sm",children:[Object.entries(C.aos).map(([L,V])=>c.jsxs("div",{className:"bg-gray-50 border border-gray-200 px-3 py-1 rounded font-mono",children:[c.jsxs("span",{className:"font-bold text-gray-700",children:[L,":"]})," ",V]},L)),c.jsxs("div",{className:"ml-auto font-bold text-gray-900 bg-gray-100 px-3 py-1 rounded",children:["Total: ",C.score," / ",C.maxScore]})]})]}),c.jsxs("div",{children:[(P==null?void 0:P.images)&&c.jsx("div",{className:"max-w-md rounded-lg overflow-hidden border border-gray-200 shadow-sm mb-6",children:c.jsx("img",{src:P.images[typeof(z==null?void 0:z.selectedImageIndex)=="number"?z.selectedImageIndex:0],alt:"Prompt Image",className:"w-full h-auto object-cover max-h-64"})}),c.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:["Your Answer ",c.jsx("span",{className:"text-gray-300",children:"|"})," ",N?N.split(/\s+/).length:0," words"]}),c.jsx("div",{className:"w-full bg-blue-50/30 border border-blue-100 rounded-lg p-4 md:p-6 lg:p-8 font-serif text-gray-800 text-sm md:text-base leading-relaxed whitespace-pre-wrap break-words h-auto overflow-visible",children:N||c.jsx("span",{className:"text-gray-400 italic",children:"(No answer text available for this result)"})})]}),c.jsxs("div",{className:"pt-2",children:[c.jsx("h4",{className:"text-xs font-bold text-green-700 uppercase tracking-wider mb-2 bg-green-50 w-fit px-2 py-1 rounded border border-green-100",children:"Model Answer / Suggested Response"}),c.jsx("div",{className:"w-full bg-green-50/20 border border-green-100 rounded-lg p-4 md:p-6 lg:p-8 font-serif text-gray-800 text-sm md:text-base leading-relaxed whitespace-pre-wrap break-words h-auto overflow-visible",children:(R=C.modelAnswer)==null?void 0:R.replace(/^(Prompt \d:|Option \d:|Image \d:)\s*/i,"")})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Examiner Feedback"}),c.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 md:p-6 border border-yellow-100 text-gray-800 text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:C.feedback})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Detailed Comparison"}),c.jsx("div",{className:"grid md:grid-cols-2 gap-3 md:gap-4",children:C.comparisonPoints.map((L,V)=>c.jsxs("div",{className:"flex items-start gap-3 text-xs md:text-sm p-3 rounded bg-gray-50 border border-gray-100",children:[c.jsxs("div",{className:"mt-0.5 shrink-0",children:[L.type==="strength"&&c.jsx(Wi,{className:"text-green-600",size:16}),L.type==="weakness"&&c.jsx(yQ,{className:"text-red-500",size:16}),L.type==="missing"&&c.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-orange-400 flex items-center justify-center text-[10px] font-bold text-orange-500",children:"M"}),L.type==="improvement"&&c.jsx(hw,{className:"text-blue-500",size:16})]}),c.jsx("span",{className:"text-gray-700 leading-relaxed",children:L.text})]},V))})]})]})]},C.questionId):null})}),(e==null?void 0:e.sources)&&e.sources.length>0&&c.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:p-8 print:shadow-none print:border-none print:px-0 print:block break-inside-avoid",children:[c.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-6",children:"Source Materials"}),c.jsx("div",{className:"space-y-8",children:e.sources.map(C=>c.jsxs("div",{className:"prose max-w-none",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 border-b border-gray-100 pb-2 mb-4",children:["Source ",C.id,": ",C.title," ",c.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["by ",C.author," (",C.year,")"]})]}),c.jsx("div",{className:"font-serif p-6 bg-gray-50 rounded-lg text-gray-800 leading-relaxed whitespace-pre-wrap border border-gray-100 print:bg-white print:border-none print:p-0 text-justify",children:C.content})]},C.id))})]}),c.jsx("div",{className:"mt-12 text-center print:hidden pb-12",children:c.jsxs("button",{onClick:I,className:"inline-flex items-center gap-2 text-gray-500 hover:text-edexcel-blue font-medium transition-colors p-4 bg-white rounded-full shadow-sm border border-gray-200",children:[c.jsx(hw,{size:20})," Back to Top"]})})]}),c.jsx("button",{onClick:I,className:`fixed bottom-6 right-6 z-50 p-3 bg-edexcel-blue text-white rounded-full shadow-xl hover:bg-edexcel-dark transition-all duration-300 md:hidden ${g?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:c.jsx(hw,{size:24})})]})]})},iye=()=>{const t=ra(),e=Ft(),{examResult:n,examData:r,answers:a={}}=t.state||{};if(!n)return c.jsx(Ss,{to:"/"});const s=()=>{if(!(n!=null&&n.generatedModelAnswers)||!r)return;const l=document.createElement("a"),d=new Blob([n.generatedModelAnswers],{type:"text/markdown"});l.href=URL.createObjectURL(d),l.download=`Model_Answers_${r.type}_${Date.now()}.md`,document.body.appendChild(l),l.click()};return c.jsx(aye,{result:n,paper:r,answers:a,onDownloadModelAnswers:s,onHome:()=>e("/")})},sye=()=>{const t=Ft(),[e,n]=b.useState(""),[r,a]=b.useState(""),[s,l]=b.useState(""),[d,f]=b.useState(!1),[h,p]=b.useState(""),[g,x]=b.useState(""),[w,E]=b.useState(!1),[A,S]=b.useState(""),[I,U]=b.useState("UK"),[k,C]=b.useState(!1),[P,z]=b.useState(!1),[N,M]=b.useState(!1),[T,R]=b.useState(!1),[L,V]=b.useState(!1),$=A==="13-15",ne=A==="under13",me=()=>!(!A||ne||!k||!P||!N||$&&!T||!e||!r||!s),Y=async()=>{E(!0);try{const H=await a3(),K=await e3(H.uid);t(K?"/dashboard":"/legal-consent")}catch(H){console.error("Google Sign-In Failure:",H),p(`Failed to sign in with Google. ${H.message||""}`)}finally{E(!1)}},oe=async H=>{H.preventDefault(),p(""),x(""),E(!0);try{if(d){if(!me()){p("Please complete all required fields and checkboxes."),E(!1);return}const K=await i3(e,r,s);await n3(K.uid,r,A,k,P,T,L,"email"),await r3(K.uid,{aiDisclaimerAccepted:!0,aiConsentTimestamp:new Date().toISOString()}),await s3(),x("Account created! Please check your email for verification."),setTimeout(()=>t("/dashboard"),3e3)}else await KA(r,s),t("/dashboard")}catch(K){K.code==="auth/email-already-in-use"?p("Email is already in use."):K.code==="auth/wrong-password"||K.code==="auth/user-not-found"||K.code==="auth/invalid-credential"?p("Invalid email or password."):K.code==="auth/weak-password"?p("Password is too weak (minimum 6 characters)."):p("Authentication failed. Please try again."),console.error(K)}finally{E(!1)}};return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 py-8 px-4 font-sans",children:[c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg relative overflow-hidden",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("img",{src:iS,alt:"Logo",className:"w-20 h-20 rounded-2xl shadow-lg mx-auto mb-4"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:d?"Create Account":"Welcome Back"}),c.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:d?"Start your GCSE English practice today.":"Sign in to access your dashboard."})]}),d&&c.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-100 rounded-xl p-4 text-sm text-blue-900",children:[c.jsxs("div",{className:"flex items-center gap-2 font-bold mb-2 text-blue-800",children:[c.jsx(C_,{size:16}),c.jsx("span",{children:"Before you start:"})]}),c.jsxs("ul",{className:"space-y-1 ml-1 list-disc list-inside opacity-90 text-xs sm:text-sm",children:[c.jsxs("li",{children:["This is a ",c.jsx("strong",{children:"practice platform only"}),"."]}),c.jsxs("li",{children:["We are ",c.jsx("strong",{children:"not"})," an exam board or awarding body."]}),c.jsxs("li",{children:["Results are ",c.jsx("strong",{children:"estimates"})," and not official grades."]}),c.jsxs("li",{children:["AI marking is automated and ",c.jsx("strong",{children:"may be inaccurate"}),"."]})]})]}),h&&c.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-start gap-2",children:[c.jsx(Mi,{size:18,className:"flex-shrink-0 mt-0.5"}),h]}),g&&c.jsxs("div",{className:"mb-4 p-3 bg-green-50 text-green-600 text-sm rounded-lg border border-green-100 flex items-start gap-2",children:[c.jsx(Wi,{size:18,className:"flex-shrink-0 mt-0.5"}),g]}),c.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[c.jsxs("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wider",children:["Age Group ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:A,onChange:H=>S(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all bg-white text-sm",required:!0,children:[c.jsx("option",{value:"",children:"Select Age"}),c.jsx("option",{value:"under13",children:"Under 13"}),c.jsx("option",{value:"13-15",children:"13-15 years"}),c.jsx("option",{value:"16-17",children:"16-17 years"}),c.jsx("option",{value:"18+",children:"18+ / Adult"}),c.jsx("option",{value:"parent",children:"Parent"}),c.jsx("option",{value:"teacher",children:"Teacher"})]})]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[c.jsxs("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wider",children:["Country ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:I,onChange:H=>U(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all bg-white text-sm",required:!0,children:[c.jsx("option",{value:"UK",children:"United Kingdom"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]}),ne&&c.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl text-amber-800 text-sm flex items-start gap-3",children:[c.jsx(Yi,{size:20,className:"mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Age Restriction"}),c.jsx("br",{}),"You must be at least 13 years old to create an account. Please ask a parent to help you."]})]}),!ne&&A&&c.jsx("input",{type:"text",placeholder:"Full Name",value:e,onChange:H=>n(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all text-sm",required:!0})]}),(!d||d&&A&&!ne)&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"email",placeholder:"Email address",value:r,onChange:H=>a(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all text-sm",required:!0}),c.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:H=>l(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#003764] focus:ring-2 focus:ring-[#003764]/20 outline-none transition-all text-sm",required:!0})]}),d&&A&&!ne&&c.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-100",children:[c.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider",children:"Required Consents"}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[c.jsx("input",{type:"checkbox",checked:k,onChange:H=>C(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-900 leading-snug",children:["I agree to the"," ",c.jsx(Yr,{to:"/terms",target:"_blank",className:"text-[#003764] font-medium hover:underline",children:"Terms"})," ","and"," ",c.jsx(Yr,{to:"/privacy",target:"_blank",className:"text-[#003764] font-medium hover:underline",children:"Privacy Policy"}),".",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[c.jsx("input",{type:"checkbox",checked:P,onChange:H=>z(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-900 leading-snug",children:["I understand GoGCSE is for ",c.jsx("strong",{children:"practice only"})," and does not provide official grades or qualifications.",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group bg-amber-50/50 p-3 rounded-lg border border-amber-200",children:[c.jsx("input",{type:"checkbox",checked:N,onChange:H=>M(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsxs("span",{className:"text-xs sm:text-sm text-amber-900 group-hover:text-amber-950 leading-snug font-medium",children:["I agree that AI-generated content may occasionally contain errors. I will verify important information with official textbooks or my teacher.",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),$&&c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group bg-blue-50/50 p-2 rounded-lg border border-blue-100",children:[c.jsx("input",{type:"checkbox",checked:T,onChange:H=>R(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsxs("span",{className:"text-xs sm:text-sm text-blue-800 font-medium leading-snug",children:["My parent/guardian knows I am using this site and has given permission.",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group pt-2 opacity-80 hover:opacity-100",children:[c.jsx("input",{type:"checkbox",checked:L,onChange:H=>V(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-[#003764] focus:ring-[#003764]"}),c.jsx("span",{className:"text-xs text-gray-500 group-hover:text-gray-700 leading-snug",children:"(Optional) Send me study tips and updates."})]})]}),(!d||d&&!ne)&&c.jsxs("div",{className:"pt-2",children:[d&&A&&c.jsx("p",{className:"text-xs text-center text-gray-500 mb-3 italic",children:"All three consent checkboxes are required to create your account."}),c.jsx("button",{type:"submit",disabled:w||d&&!me(),className:"w-full py-3 px-4 rounded-xl transition-all font-bold flex items-center justify-center gap-2 shadow-sm hover:shadow-md",style:{backgroundColor:w||d&&!me()?"#e5e7eb":"#003764",color:w||d&&!me()?"#9ca3af":"#ffffff",cursor:w||d&&!me()?"not-allowed":"pointer"},children:w?c.jsx("span",{className:"animate-pulse",children:"Processing..."}):c.jsxs(c.Fragment,{children:[d?c.jsx(MX,{size:18}):c.jsx(xy,{size:18}),d?"Create Account":"Sign In"]})})]})]}),!d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative my-6",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-widest",children:c.jsx("span",{className:"px-2 bg-white text-gray-400",children:"Or"})})]}),c.jsxs("button",{onClick:Y,disabled:w,className:"w-full py-3 px-4 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 disabled:opacity-50 transition-colors flex items-center justify-center gap-3 text-gray-700 font-bold text-sm",children:[c.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-4 h-4"}),"Sign in with Google"]})]}),c.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600 border-t border-gray-100 pt-6",children:[d?"Already have an account?":"Don't have an account?"," ",c.jsx("button",{onClick:()=>{f(!d),p(""),S(""),C(!1),z(!1),M(!1)},className:"text-[#003764] hover:text-[#007fa3] font-bold hover:underline",children:d?"Sign In":"Sign Up"})]}),c.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-x-4 gap-y-2 text-xs text-gray-400",children:[c.jsx(Yr,{to:"/terms",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Terms"}),c.jsx(Yr,{to:"/privacy",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Privacy"}),c.jsx(Yr,{to:"/cookies",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Cookies"}),c.jsx(Yr,{to:"/child-privacy",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Child Safety"})]})]}),c.jsx("p",{className:"text-[10px] text-gray-500 mt-4 text-center max-w-md px-4 leading-relaxed",children:"GoGCSE is not affiliated with Pearson Edexcel, AQA, or any examination board. All trademarks belong to their respective owners."})]})},R8="/assets/profile_icon-CK7ltl4l.png",oye=({isOpen:t,onClose:e,user:n})=>{const r=Ft(),[a,s]=b.useState(!1),[l,d]=b.useState(n.displayName||""),[f,h]=b.useState(!1),[p,g]=b.useState(!1),x=Mh.useRef(null);if(b.useEffect(()=>{d(n.displayName||"")},[n,t]),!t)return null;const w=async S=>{if(S.target.files&&S.target.files[0]){g(!0);try{const I=S.target.files[0],U=await wy(()=>Promise.resolve().then(()=>QA),void 0).then(k=>k.uploadProfilePicture(n,I));window.location.reload()}catch(I){console.error("Failed to upload image",I),alert("Failed to upload profile picture.")}finally{g(!1)}}},E=async()=>{if(l.trim()){h(!0);try{await GA(n,{displayName:l}),s(!1),window.location.reload()}catch(S){console.error("Failed to update profile",S),alert("Failed to update profile.")}finally{h(!1)}}},A=async()=>{await fd(),r("/login")};return c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[c.jsxs("div",{className:"bg-edexcel-blue p-6 flex justify-between items-start",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Profile Details"}),c.jsx("button",{onClick:e,className:"text-white/80 hover:text-white hover:bg-white/10 p-1 rounded-full transition-colors",children:c.jsx(ri,{size:20})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex flex-col items-center mb-6 -mt-12 group relative",children:[c.jsxs("div",{className:"bg-white p-2 rounded-full shadow-md cursor-pointer relative",onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},children:[c.jsx("img",{src:n.photoURL||R8,alt:"Profile",className:"w-20 h-20 rounded-full bg-slate-100 object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"Change"})}),p&&c.jsx("div",{className:"absolute inset-0 bg-white/80 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-edexcel-blue border-t-transparent rounded-full"})})]}),c.jsx("input",{type:"file",ref:x,onChange:w,accept:"image/*",className:"hidden"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"Full Name"}),c.jsx("div",{className:"flex items-center gap-2",children:a?c.jsx("input",{type:"text",value:l,onChange:S=>d(S.target.value),className:"flex-1 px-3 py-2 border border-edexcel-teal rounded-lg focus:ring-2 focus:ring-edexcel-teal/20 outline-none font-bold text-gray-900",autoFocus:!0}):c.jsxs("div",{className:"flex-1 font-bold text-gray-900 text-lg flex items-center gap-2",children:[n.displayName||"No Name Set",c.jsx("button",{onClick:()=>s(!0),className:"text-gray-400 hover:text-edexcel-blue transition-colors",children:c.jsx(Yv,{size:14})})]})})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"Email Address"}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx(b3,{size:16,className:"text-gray-400"}),c.jsx("span",{children:n.email})]})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"Member Since"}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx(dc,{size:16,className:"text-gray-400"}),c.jsx("span",{children:n.metadata.creationTime?new Date(n.metadata.creationTime).toLocaleDateString():"Unknown"})]})]})]}),c.jsx("div",{className:"mt-8 flex gap-3",children:a?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg font-bold text-gray-600 hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:E,disabled:f,className:"flex-1 py-2 px-4 bg-edexcel-teal text-white rounded-lg font-bold hover:bg-teal-700 transition-colors flex items-center justify-center gap-2",children:f?"Saving...":c.jsxs(c.Fragment,{children:[c.jsx(XA,{size:18})," Save Changes"]})})]}):c.jsxs("button",{onClick:A,className:"w-full py-2 px-4 border border-red-100 text-red-600 bg-red-50 rounded-lg font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[c.jsx(hd,{size:18})," Sign Out"]})})]})]})})},lye=()=>{const[t,e]=b.useState(_e.currentUser),[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(!1),[f,h]=b.useState([]),[p,g]=b.useState(new Set),[x,w]=b.useState(null),E=Ft();b.useEffect(()=>{const z=_e.onAuthStateChanged(N=>{e(N),N?(A(N.uid),S()):s(!1)});return()=>z()},[]);const A=async z=>{const N=await WA(z);r(N),s(!1)},S=async()=>{try{const z=at.now(),N=Dr(it(be,"announcements")),T=(await $n(N)).docs.map(R=>({id:R.id,...R.data()})).filter(R=>R.active===!0).sort((R,L)=>{var V,$;return(((V=L.createdAt)==null?void 0:V.seconds)||0)-((($=R.createdAt)==null?void 0:$.seconds)||0)}).filter(R=>!(R.startDate&&R.startDate.seconds>z.seconds||R.endDate&&R.endDate.seconds<z.seconds));h(T)}catch(z){console.error("Failed to fetch announcements",z)}},I=z=>{g(N=>new Set(N).add(z))},U=async(z,N,M="this exam")=>{N.stopPropagation(),w({isOpen:!0,examId:z,examTitle:M})},k=async()=>{if(!x)return;await gy(x.examId)&&r(N=>N.filter(M=>M.id!==x.examId)),w(null)},C=z=>{switch(z){case"info":return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:C_};case"success":return{bg:"bg-emerald-50 border-emerald-200",text:"text-emerald-800",icon:Wi};case"warning":return{bg:"bg-amber-50 border-amber-200",text:"text-amber-800",icon:Mi};case"error":return{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:Gu};default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:C_}}},P=f.filter(z=>!p.has(z.id));return c.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[c.jsx(S3,{title:"Student Dashboard",description:"Track your Edexcel GCSE English mock exam progress and view detailed grade reports."}),c.jsxs("nav",{className:"bg-white border-b border-gray-200 py-4 px-6 md:px-12 flex flex-col md:flex-row md:justify-between md:items-center gap-4 sticky top-0 z-10",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>E("/"),children:[c.jsx("img",{src:iS,alt:"Logo",className:"w-10 h-10 rounded-lg shadow-sm"}),c.jsx("span",{className:"font-bold text-lg text-gray-800",children:"Go GCSE"})]})}),c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-end",children:[(t==null?void 0:t.email)&&ti.includes(t.email)&&c.jsxs("button",{onClick:()=>E("/admin"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-sm font-bold rounded-lg shadow-md hover:shadow-lg hover:from-purple-700 hover:to-indigo-700 transition-all",children:[c.jsx(Yi,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Admin Panel"})]}),c.jsxs("div",{onClick:()=>d(!0),className:"flex items-center gap-2 text-sm font-bold text-gray-800 bg-white border border-gray-100 pl-1 pr-3 py-1 rounded-full shadow-sm cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("img",{src:(t==null?void 0:t.photoURL)||R8,alt:"Profile",className:"w-8 h-8 rounded-full border border-indigo-100 object-cover"}),c.jsx("span",{className:"hidden sm:inline",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]})]})]}),c.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[c.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-lg p-4 mb-8 flex gap-3",children:[c.jsx("span",{className:"text-blue-600 font-bold flex-shrink-0",children:"i"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Important Notice"}),c.jsx("p",{children:"All exam results and grades shown here are AI-generated estimates for practice purposes only. They are not official qualifications. Always verify your learning with your teacher."})]})]}),P.length>0&&c.jsx("div",{className:"space-y-3 mb-6",children:P.map(z=>{const N=C(z.type),M=N.icon;return c.jsxs("div",{className:`p-4 rounded-xl border ${N.bg} flex items-start gap-3`,children:[c.jsx(M,{size:20,className:N.text}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:`font-bold ${N.text}`,children:z.title}),c.jsx("p",{className:`text-sm ${N.text} opacity-80`,children:z.message})]}),c.jsx("button",{onClick:()=>I(z.id),className:`p-1 rounded hover:bg-white/50 ${N.text}`,children:c.jsx(ri,{size:16})})]},z.id)})}),c.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:justify-between sm:items-end gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Progress"}),c.jsx("p",{className:"text-gray-500 mt-1",children:"Track your mock exams and improvement over time."})]}),c.jsx("button",{onClick:()=>E("/"),className:"w-full sm:w-auto bg-gray-900 text-white px-6 py-2.5 rounded-lg font-bold hover:bg-gray-800 transition-colors shadow-lg shadow-gray-200",children:"New Mock Exam"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-purple-600",children:[c.jsx(Bn,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Exams Taken"})]}),c.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:n.length})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-teal-600",children:[c.jsx(h3,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Average Score"})]}),c.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:n.length>0?Math.round(n.reduce((z,N)=>z+(N.score||0),0)/n.length):"-"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-blue-600",children:[c.jsx(Kv,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Study Time"})]}),c.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:(()=>{const z=n.reduce((T,R)=>T+(R.duration||0),0),N=Math.floor(z/3600),M=Math.floor(z%3600/60);return N===0&&M===0?"0m":N===0?`${M}m`:`${N}h ${M}m`})()})]}),c.jsxs("div",{onClick:()=>E("/student/classroom"),className:"bg-white p-6 rounded-2xl shadow-sm border border-indigo-100 cursor-pointer hover:shadow-md hover:border-indigo-300 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-indigo-600",children:[c.jsx(Bn,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide group-hover:underline",children:"My Classroom"})]}),c.jsx("div",{className:"text-gray-500 text-sm",children:"Join classes & view assignments"}),c.jsxs("div",{className:"mt-4 text-indigo-700 font-bold flex items-center gap-1 text-sm",children:["Go to Class ",c.jsx(vh,{size:16})]})]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Exam History"}),a?c.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading history..."}):n.length===0?c.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border border-gray-100 border-dashed",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:c.jsx(Bn,{size:32})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"No exams taken yet"}),c.jsx("p",{className:"text-gray-500 mb-6 max-w-sm mx-auto",children:"Complete your first mock exam to see your detailed analysis and grade here."}),c.jsx("button",{onClick:()=>E("/"),className:"text-edexcel-blue font-bold hover:underline",children:"Start an Exam Now"})]}):c.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:n.map((z,N)=>{var M;return c.jsxs("div",{onClick:()=>E("/results",{state:{examResult:{...z,questionResults:z.questionResults||z.breakdown||[],overallFeedback:z.overallFeedback||z.feedback||"",gradeEstimate:z.gradeEstimate||"N/A"},examData:z.paperData||null,answers:z.fullAnswers||{}}}),className:"flex items-center p-6 border-b border-gray-50 last:border-0 hover:bg-gray-50 transition-colors cursor-pointer",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 ${z.paperType==="PAPER_1"?"bg-purple-100 text-purple-600":"bg-teal-100 text-teal-600"}`,children:c.jsx("span",{className:"font-bold text-xs",children:z.paperType==="PAPER_1"?"P1":"P2"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:z.paperType==="PAPER_1"?"Fiction & Imaginative Writing":"Non-Fiction & Transactional"}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(M=z.date)!=null&&M.toDate?new Date(z.date.toDate()).toLocaleDateString():"Unknown Date",c.jsx("span",{className:"text-gray-300",children:""}),z.score," Marks"]})]}),c.jsxs("div",{className:"text-right flex items-center gap-4",children:[c.jsxs("button",{className:"inline-flex items-center text-edexcel-blue font-bold hover:text-edexcel-teal transition-colors",children:["View Result ",c.jsx(vh,{size:16,className:"ml-1"})]}),z.pdfUrl&&c.jsxs("a",{href:z.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-4 inline-flex items-center text-green-600 font-bold hover:text-green-800 transition-colors text-sm",onClick:T=>T.stopPropagation(),children:[c.jsx(_3,{size:16,className:"mr-1"})," Download PDF"]}),c.jsx("button",{onClick:T=>U(z.id,T,z.paperType==="PAPER_1"?"Fiction & Imaginative Writing":"Non-Fiction & Transactional"),className:"ml-4 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",title:"Delete Exam",children:c.jsx(Aa,{size:18})})]})]},z.id||N)})})]}),x&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>w(null),children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",onClick:z=>z.stopPropagation(),children:[c.jsxs("div",{className:"bg-red-50 p-6 flex items-center gap-4 border-b border-red-100",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Mi,{className:"text-red-600",size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Exam Result"}),c.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone"})]})]}),c.jsx("div",{className:"p-6",children:c.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to permanently delete ",c.jsxs("span",{className:"font-semibold",children:['"',x.examTitle,'"']}),"? This will remove all associated scores, feedback, and reports."]})}),c.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[c.jsx("button",{onClick:()=>w(null),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:k,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(Aa,{size:18}),"Delete Exam"]})]})]})}),t&&c.jsx(oye,{isOpen:l,onClose:()=>d(!1),user:t})]})},zf=({children:t})=>{const[e,n]=b.useState(null),[r,a]=b.useState(!0),[s,l]=b.useState(!1),[d,f]=b.useState(!1);return b.useEffect(()=>{const h=Hh(_e,async p=>{if(n(p),p)try{if(ti.includes(p.email||"")){l(!0),f(!0),a(!1);return}const g=qe(be,"users",p.uid),x=await Mr(g);if(x.exists()){const w=x.data();l(!!w.isApproved),f(!!w.hasConsented)}else l(!1),f(!1)}catch(g){console.error("Error fetching user status",g),l(!1),f(!1)}a(!1)});return()=>h()},[]),r?c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 gap-3",children:[c.jsx(Ea,{className:"animate-spin text-edexcel-blue",size:32}),c.jsx("p",{className:"text-gray-500 animate-pulse text-sm font-medium",children:"Verifying access..."})]}):e?s?c.jsx(c.Fragment,{children:t}):d?c.jsx(Ss,{to:"/pending-approval",replace:!0}):c.jsx(Ss,{to:"/legal-consent",replace:!0}):c.jsx(Ss,{to:"/login",replace:!0})},vu={techniques:{title:"Language Techniques",description:"Master the literary and rhetorical devices used by writers to create meaning and effect.",items:[{name:"Metaphor",definition:'A direct comparison stating one thing IS another, without using "like" or "as".',example:'"Life is a journey with many winding roads."',literarySource:"Common in Shakespeare and Romantic poetry",examTip:"Always explain the effectwhat does the comparison suggest about the subject?",level:"foundation"},{name:"Simile",definition:'A comparison using "like" or "as" to show similarity between two different things.',example:'"Her smile was like sunshine breaking through clouds."',literarySource:"Dickens uses extended similes in Great Expectations",examTip:"Identify what quality is being compared and why the writer chose that image.",level:"foundation"},{name:"Personification",definition:"Giving human qualities, emotions, or actions to non-human things or abstract concepts.",example:'"The wind whispered secrets through the trees."',literarySource:`Shelley's "Ozymandias" personifies the desert`,examTip:"Consider why the writer wants readers to see the object as alive or conscious.",level:"foundation"},{name:"Alliteration",definition:"Repetition of the same consonant sound at the beginning of nearby words.",example:'"Peter Piper picked a peck of pickled peppers."',literarySource:"Anglo-Saxon poetry like Beowulf relies heavily on alliteration",examTip:"Link the sound to the moodharsh sounds for tension, soft sounds for calm.",level:"foundation"},{name:"Pathetic Fallacy",definition:"Using weather or nature to reflect the emotional state of characters or the mood of a scene.",example:'"The storm raged as her anger reached its peak."',literarySource:"Bront uses storms in Wuthering Heights to mirror passion",examTip:"This is a specific type of personificationalways link weather to emotion.",level:"intermediate"},{name:"Onomatopoeia",definition:"Words that phonetically imitate the sound they describe.",example:'"The bees buzzed lazily around the hive."',literarySource:"War poetry uses onomatopoeia for battlefield sounds",examTip:"Explain how the sound word creates a sensory, immersive experience.",level:"foundation"},{name:"Oxymoron",definition:"Two contradictory terms placed together to create a paradoxical effect.",example:'"The silence was deafening."',literarySource:'Romeo and Juliet: "loving hate" and "heavy lightness"',examTip:"Show how the contradiction reveals complexity or tension in meaning.",level:"intermediate"},{name:"Hyperbole",definition:"Deliberate and obvious exaggeration for emphasis or dramatic effect.",example:`"I've told you a million times!"`,literarySource:"Common in satirical writing and comedy",examTip:"Consider whether it creates humour, emphasises emotion, or makes a point.",level:"foundation"},{name:"Sibilance",definition:'Repetition of "s", "sh", "z" sounds to create a hissing effect.',example:'"The snake slithered silently through the shadows."',literarySource:"Often used to create menacing or secretive atmospheres",examTip:"Link sibilance to the moodoften sinister, seductive, or soothing.",level:"intermediate"},{name:"Juxtaposition",definition:"Placing two contrasting elements side by side to highlight their differences.",example:'"It was the best of times, it was the worst of times."',literarySource:"Dickens' A Tale of Two Cities opening",examTip:"Explain what the contrast reveals about themes or characters.",level:"intermediate"},{name:"Anaphora",definition:"Repetition of a word or phrase at the beginning of successive clauses or sentences.",example:'"We shall fight on the beaches, we shall fight on the landing grounds, we shall fight..."',literarySource:`Churchill's WWII speeches; Martin Luther King's "I Have a Dream"`,examTip:"Shows emphasis and builds rhetorical powergreat for speeches.",level:"advanced"},{name:"Epistrophe",definition:"Repetition of a word or phrase at the END of successive clauses.",example:'"See no evil, hear no evil, speak no evil."',literarySource:`Lincoln's Gettysburg Address: "of the people, by the people, for the people"`,examTip:"Creates rhythm and reinforces a key concept at clause endings.",level:"advanced"},{name:"Tricolon",definition:'A series of three parallel elements (the "rule of three") for emphasis and rhythm.',example:'"Veni, vidi, vici" (I came, I saw, I conquered)',literarySource:"Used extensively in political rhetoric and advertising",examTip:"Three elements feel complete and memorableidentify why these three.",level:"intermediate"},{name:"Asyndeton",definition:"Omitting conjunctions between words or clauses to create pace and urgency.",example:'"I came, I saw, I conquered."',literarySource:"Caesar's famous quote demonstrates power through brevity",examTip:"Creates speed and directnessoften shows confidence or urgency.",level:"advanced"},{name:"Polysyndeton",definition:"Using many conjunctions (and, or, but) in quick succession for effect.",example:'"And the rain fell and the wind blew and the night grew darker."',literarySource:"Biblical prose and Hemingway's writing style",examTip:"Slows pace, suggests overwhelming accumulation or relentlessness.",level:"advanced"},{name:"Chiasmus",definition:"A reversal of grammatical structures in successive phrases (AB, BA pattern).",example:'"Ask not what your country can do for you, ask what you can do for your country."',literarySource:"JFK's inaugural address; common in Shakespeare",examTip:"The reversal creates balance and makes ideas memorable.",level:"advanced"},{name:"Antithesis",definition:"Contrasting ideas expressed in balanced, parallel grammatical structures.",example:'"To err is human; to forgive, divine."',literarySource:`Pope's "Essay on Criticism"; Milton's Paradise Lost`,examTip:"Different from juxtapositionantithesis requires parallel structure.",level:"advanced"},{name:"Euphemism",definition:"A milder or indirect word substituted for one considered harsh or blunt.",example:'"He passed away" instead of "He died"',literarySource:"Political and corporate language often uses euphemisms",examTip:"Consider what is being hidden or softened, and why.",level:"intermediate"},{name:"Litotes",definition:"Understatement using double negatives or negating the opposite.",example:`"She's not unattractive" (meaning she is attractive)`,literarySource:"Common in British humour and Old English poetry",examTip:"Often creates irony or understated emphasis.",level:"advanced"},{name:"Synecdoche",definition:"A part represents the whole, or the whole represents a part.",example:'"All hands on deck!" (hands = sailors)',literarySource:'Shakespeare: "lend me your ears" (ears = attention)',examTip:"Identify what part/whole relationship exists and its effect.",level:"advanced"},{name:"Metonymy",definition:"Substituting the name of something with something closely associated.",example:'"The Crown" for the monarchy; "Wall Street" for finance',literarySource:"Common in journalism and political writing",examTip:"Different from synecdochemetonymy is association, not part/whole.",level:"advanced"},{name:"Zeugma",definition:"A figure of speech where one word (usually a verb or adjective) applies to multiple words in different senses.",example:'"She lowered her standards and her neckline."',literarySource:`Pope's "The Rape of the Lock" and Dickens use zeugma for wit`,examTip:"Creates surprising connections or humouroften used for satirical effect.",level:"advanced"},{name:"Anadiplosis",definition:"Repetition of the last word of one clause at the beginning of the next clause.",example:'"Fear leads to anger. Anger leads to hate. Hate leads to suffering."',literarySource:"Yoda in Star Wars; also found in biblical and classical texts",examTip:"Creates a chain of logic or escalationshows cause and effect.",level:"advanced"},{name:"Enjambment",definition:"In poetry, continuing a sentence beyond the end of a line without pause.",example:'"I wandered lonely as a cloud / That floats on high..."',literarySource:`Wordsworth's "Daffodils" uses enjambment throughout`,examTip:"Creates flow, urgency, or highlights the word at line breaks.",level:"intermediate"},{name:"Caesura",definition:"A strong pause within a line of poetry, often marked by punctuation.",example:'"To be, or not to be. || That is the question."',literarySource:"Shakespeare uses caesura for dramatic emphasis",examTip:"The pause creates emphasiswhat comes before/after the break?",level:"intermediate"}]},grammar:{title:"Grammar Essentials",description:"Essential grammatical knowledge for accurate writing and language analysis.",items:[{name:"Simple Sentence",definition:"A sentence containing one independent clause with a subject and verb.",example:'"The dog barked."',examTip:"Simple sentences create impact through directness and clarity.",level:"foundation"},{name:"Compound Sentence",definition:"Two independent clauses joined by a coordinating conjunction (FANBOYS: for, and, nor, but, or, yet, so).",example:'"I wanted to go, but the weather was terrible."',examTip:"Shows equal importance between two connected ideas.",level:"foundation"},{name:"Complex Sentence",definition:"An independent clause joined with one or more dependent clauses using subordinating conjunctions.",example:'"Although it was raining, we went for a walk."',examTip:"The main clause holds the key idea; subordinate clauses add detail.",level:"foundation"},{name:"Minor Sentence",definition:"A sentence fragment used deliberately for effect, lacking subject or verb.",example:'"Silence. Complete, utter silence."',examTip:"Creates drama, emphasis, or mimics natural speech patterns.",level:"intermediate"},{name:"Active Voice",definition:"The subject performs the action of the verb directly.",example:'"The cat chased the mouse."',examTip:"Active voice is direct and engagingpreferred in most writing.",level:"foundation"},{name:"Passive Voice",definition:'The subject receives the action; the doer may be omitted or follow "by".',example:'"The mouse was chased by the cat."',examTip:"Creates formality, shifts focus to receiver, or obscures responsibility.",level:"intermediate"},{name:"First Person Narrative",definition:`Using "I" to tell the story from the narrator's perspective.`,example:'"I walked into the room and immediately sensed danger."',examTip:"Creates intimacy and subjectivitywe see only what the narrator knows.",level:"foundation"},{name:"Third Person Limited",definition:`Using "he/she/they" but limited to one character's thoughts and perceptions.`,example:'"She wondered what he was thinking as he stared out the window."',examTip:"Balances intimacy with objectivitycommon in modern fiction.",level:"intermediate"},{name:"Third Person Omniscient",definition:"An all-knowing narrator who can access any character's thoughts.",example:`"John didn't know that Mary had already left, but we know she was miles away."`,examTip:"Allows dramatic irony and broader perspective on events.",level:"intermediate"},{name:"Present Tense",definition:"Action happening now; creates immediacy and tension.",example:'"I walk through the door. The room is empty."',examTip:"Creates immediacycommon in modern literary fiction for tension.",level:"foundation"},{name:"Past Tense",definition:"Action that has already happened; traditional narrative tense.",example:'"I walked through the door. The room was empty."',examTip:"The default for most storytellingfeels natural and established.",level:"foundation"},{name:"Imperative Mood",definition:'Commands or instructions; verb at the start, often with implied "you".',example:'"Stop right there!" "Consider the evidence."',examTip:"Creates authority, urgency, or direct reader engagement.",level:"intermediate"},{name:"Interrogative",definition:"Questions used to engage the reader or create uncertainty.",example:'"What would you do in this situation?"',examTip:"Rhetorical questions don't need answersthey make readers think.",level:"foundation"},{name:"Modal Verbs",definition:"Verbs expressing possibility, necessity, or obligation (can, could, may, might, must, shall, should, will, would).",example:'"You should consider the consequences."',examTip:"Different modals show different levels of certainty or obligation.",level:"intermediate"},{name:"Noun Phrase",definition:"A group of words centred on a noun, providing more detail.",example:'"The old, weathered wooden door"',examTip:"Extended noun phrases add detail and create vivid imagery.",level:"intermediate"}]},writing:{title:"Writing Skills",description:"Techniques for crafting effective creative and transactional writing.",items:[{name:"Hook Opening",definition:"Starting with something attention-grabbing to immediately engage the reader.",example:'"The day I died was the most interesting day of my life."',examTip:"Start with action, dialogue, a question, or a striking statement.",level:"foundation"},{name:"In Medias Res",definition:"Beginning a narrative in the middle of the action, rather than from the start.",example:"Starting a story with a chase scene, then explaining how it began later.",examTip:"Creates immediate tension and curiosityavoid too much backstory.",level:"intermediate"},{name:"Cyclical Structure",definition:"Ending where you began, creating a sense of completeness or irony.",example:"Starting and ending with the same image or phrase, but with changed meaning.",examTip:"Shows development or changethe same words mean something different by the end.",level:"intermediate"},{name:"Foreshadowing",definition:"Hints or clues about what will happen later in the narrative.",example:'"Little did she know that this would be the last peaceful morning."',examTip:"Creates tension and makes readers feel clever when the prediction pays off.",level:"intermediate"},{name:"Flashback",definition:"Interrupting the narrative to show events from the past.",example:'"As she touched the old photograph, memories flooded back..."',examTip:"Use sparingly and signal clearlydon't confuse the reader.",level:"intermediate"},{name:"Show Don't Tell",definition:"Demonstrating emotions or situations through action and detail rather than stating them.",example:'"His hands trembled as he reached for the door" instead of "He was nervous."',examTip:"Let readers infer emotions from physical details and actions.",level:"foundation"},{name:"Sensory Description",definition:"Using all five senses (sight, sound, smell, taste, touch) to create vivid scenes.",example:'"The acrid smoke stung her eyes; somewhere, glass shattered."',examTip:"Go beyond sightsound, smell, and touch create immersive writing.",level:"foundation"},{name:"Pathetic Fallacy in Writing",definition:"Using setting and weather to reflect character emotions or story mood.",example:"A storm brewing as conflict increases; sunshine as hope returns.",examTip:"Avoid clichsfind fresh ways to mirror emotion in environment.",level:"intermediate"},{name:"Dialogue",definition:"Speech between characters that reveals personality and advances plot.",example:`"I never said I was sorry." She turned away. "Maybe that's the problem."`,examTip:"Each character should sound distinct. Use dialogue tags sparingly.",level:"foundation"},{name:"Paragraph for Effect",definition:"Using paragraph length deliberatelyshort for impact, long for description.",example:'A single-word paragraph: "Silence." after a long descriptive paragraph.',examTip:"Vary paragraph length. Short paragraphs create drama and pace.",level:"intermediate"},{name:"Rhetorical Questions",definition:"Questions that don't expect an answer, used to engage or persuade.",example:'"How many more lives must be lost before we act?"',examTip:"Powerful in speeches and articlesmake the reader think.",level:"foundation"},{name:"Direct Address",definition:'Speaking directly to the reader using "you" to create engagement.',example:`"You might think this doesn't affect you. Think again."`,examTip:"Creates connection and makes arguments feel personal and urgent.",level:"foundation"},{name:"Statistics & Evidence",definition:"Using facts, figures, and research to support arguments.",example:'"According to recent studies, 73% of teenagers..."',literarySource:"Essential for Article, Speech, and Letter writing",examTip:"Even in exams, you can create plausible statistics for effect.",level:"foundation"},{name:"Anecdote",definition:"A short personal story used to illustrate a point or engage readers.",example:'"Last summer, I witnessed something that changed my perspective forever..."',examTip:"Makes abstract arguments concrete and relatable.",level:"intermediate"},{name:"Counter-Argument",definition:"Acknowledging opposing views before refuting them.",example:'"Some argue that... However, this ignores the fact that..."',examTip:"Shows balanced thinking and strengthens your argument.",level:"intermediate"},{name:"Emotive Language",definition:"Words chosen to provoke an emotional response from the reader.",example:'"innocent children", "brutal attack", "heroic sacrifice"',examTip:"Powerful in persuasive writing but use judiciouslydon't overdo it.",level:"foundation"},{name:"Formal Register",definition:"Sophisticated vocabulary and complex sentences for professional contexts.",example:'"Furthermore, it is imperative that we consider..."',examTip:"Use for letters to authorities, formal articles, and official speeches.",level:"intermediate"},{name:"Informal Register",definition:"Conversational tone with contractions and colloquial language.",example:`"Let's be honestwe've all been there, haven't we?"`,examTip:"Use for friendly letters, blogs, or when connecting with peers.",level:"intermediate"}]}},cye=({onHome:t})=>{const[e,n]=b.useState("learn"),[r,a]=b.useState(""),[s,l]=b.useState(null),[d,f]=b.useState(!1),[h,p]=b.useState("techniques"),[g,x]=b.useState(""),[w,E]=b.useState(new Set),[A,S]=b.useState("all"),[I,U]=b.useState("Metaphor"),[k,C]=b.useState(""),[P,z]=b.useState(null),[N,M]=b.useState("techniques"),[T,R]=b.useState(!0);b.useEffect(()=>{(async()=>{const se=_e.currentUser;if(!se){R(!1);return}if(ti.includes(se.email||"")){R(!0);return}try{const q=await Mr(qe(be,"users",se.uid));q.exists()?R(q.data().isApproved??!1):R(!1)}catch(q){console.error("Failed to check approval status:",q),R(!1)}})()},[]);const $=N==="techniques"?["Metaphor","Simile","Personification","Alliteration","Pathetic Fallacy","Onomatopoeia","Oxymoron","Hyperbole","Sibilance","Juxtaposition","Anaphora","Epistrophe","Tricolon","Asyndeton","Polysyndeton","Chiasmus","Antithesis","Euphemism","Litotes","Synecdoche","Metonymy","Zeugma","Anadiplosis","Enjambment","Caesura"]:["Hook Opening","In Medias Res","Cyclical Structure","Foreshadowing","Flashback","Show Don't Tell","Sensory Description","Pathetic Fallacy in Writing","Dialogue","Paragraph for Effect","Rhetorical Questions","Direct Address","Statistics & Evidence","Anecdote","Counter-Argument","Emotive Language","Formal Register","Informal Register"],ne=b.useMemo(()=>vu[h].items.filter(se=>{const q=g===""||se.name.toLowerCase().includes(g.toLowerCase())||se.definition.toLowerCase().includes(g.toLowerCase()),re=A==="all"||se.level===A;return q&&re}),[h,g,A]),me=K=>{E(se=>{const q=new Set(se);return q.has(K)?q.delete(K):q.add(K),q})},Y=K=>{switch(K){case"foundation":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-amber-100 text-amber-700 border-amber-200";case"advanced":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700"}},oe=async()=>{if(r.trim()){f(!0),l(null);try{const se=await new xh().analyzeTextForMethods(r);l(se)}catch(K){console.error(K),alert("Analysis failed. Please try again.")}finally{f(!1)}}},H=async()=>{if(k.trim()){f(!0),z(null);try{const se=await new xh().evaluateWritingPractice(k,I);z(se),_e.currentUser&&l3(_e.currentUser.uid,I,k,se).then(()=>console.log("Lab session saved")).catch(q=>console.error("Failed to save lab session",q))}catch(K){console.error(K),alert("Evaluation failed. Please try again.")}finally{f(!1)}}};return c.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[c.jsxs("nav",{className:"bg-white border-b border-gray-200 py-4 px-6 md:px-12 flex items-center gap-4 sticky top-0 z-10",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600",children:c.jsx(ni,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-md flex items-center justify-center text-white font-serif font-bold",children:"L"}),c.jsx("span",{className:"font-bold text-lg text-gray-800",children:"Language Lab"})]})]}),c.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[c.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 mb-8 border-b border-gray-200",children:[c.jsxs("button",{onClick:()=>n("learn"),className:`pb-4 px-3 md:px-4 font-medium flex items-center gap-2 transition-colors border-b-2 text-sm md:text-base ${e==="learn"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[c.jsx(Wv,{size:20}),c.jsx("span",{className:"hidden sm:inline",children:"Knowledge Base"}),c.jsx("span",{className:"sm:hidden",children:"Learn"})]}),c.jsxs("button",{onClick:()=>{if(!T){alert("This section requires account approval. Please wait for admin approval.");return}n("analyzer")},disabled:!T,className:`pb-4 px-3 md:px-4 font-medium flex items-center gap-2 transition-colors border-b-2 text-sm md:text-base ${T?e==="analyzer"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700":"border-transparent text-gray-400 cursor-not-allowed"}`,children:[c.jsx(Zr,{size:20}),c.jsx("span",{className:"hidden sm:inline",children:"Method Analyzer"}),c.jsx("span",{className:"sm:hidden",children:"Analyze"}),!T&&c.jsx(ah,{size:14})]}),c.jsxs("button",{onClick:()=>{if(!T){alert("This section requires account approval. Please wait for admin approval.");return}n("gym")},disabled:!T,className:`pb-4 px-3 md:px-4 font-medium flex items-center gap-2 transition-colors border-b-2 text-sm md:text-base ${T?e==="gym"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700":"border-transparent text-gray-400 cursor-not-allowed"}`,children:[c.jsx(Bg,{size:20}),c.jsx("span",{className:"hidden sm:inline",children:"Writer's Gym"}),c.jsx("span",{className:"sm:hidden",children:"Practice"}),!T&&c.jsx(ah,{size:14})]})]}),e==="learn"?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(vu).map(K=>{const se=!T&&(K==="grammar"||K==="writing");return c.jsxs("button",{onClick:()=>{if(se){alert("This section requires account approval. Please wait for admin approval.");return}p(K),x("")},disabled:se,className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${se?"bg-gray-100 text-gray-400 cursor-not-allowed border border-gray-200":h===K?"bg-indigo-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50"}`,children:[se&&c.jsx(ah,{size:14}),vu[K].title]},K)})}),c.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:vu[h].title}),c.jsx("p",{className:"text-indigo-100",children:vu[h].description})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:g,onChange:K=>x(K.target.value),placeholder:"Search techniques, definitions...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),c.jsx("div",{className:"flex gap-2",children:["all","foundation","intermediate","advanced"].map(K=>c.jsx("button",{onClick:()=>S(K),className:`px-3 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${A===K?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:K},K))})]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",ne.length," of ",vu[h].items.length," items"]}),c.jsxs("div",{className:"space-y-4",children:[ne.map(K=>{const se=w.has(K.name);return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[c.jsxs("button",{onClick:()=>me(K.name),className:"w-full p-5 flex items-start justify-between text-left",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:K.name}),c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border capitalize ${Y(K.level)}`,children:K.level})]}),c.jsx("p",{className:"text-gray-600 text-sm",children:K.definition})]}),c.jsx("div",{className:"ml-4 mt-1 text-gray-400",children:se?c.jsx(y3,{size:20}):c.jsx(g3,{size:20})})]}),se&&c.jsxs("div",{className:"px-5 pb-5 pt-0 space-y-4 border-t border-gray-100",children:[c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-medium text-sm mb-2",children:[c.jsx(hX,{size:16}),"Example"]}),c.jsx("p",{className:"text-slate-800 font-serif italic",children:K.example})]}),K.literarySource&&c.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-medium text-sm mb-1",children:[c.jsx(Bn,{size:16}),"Found in Literature"]}),c.jsx("p",{className:"text-purple-800 text-sm",children:K.literarySource})]}),c.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-amber-700 font-medium text-sm mb-1",children:[c.jsx(WQ,{size:16}),"Exam Tip"]}),c.jsx("p",{className:"text-amber-800 text-sm",children:K.examTip})]}),c.jsxs("button",{onClick:()=>{n("gym"),U(K.name)},className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-700 font-medium text-sm transition-colors",children:[c.jsx(A3,{size:16}),"Practice using ",K.name," in Writer's Gym "]})]})]},K.name)}),ne.length===0&&c.jsxs("div",{className:"text-center py-12 text-gray-500",children:[c.jsx(Zr,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("p",{children:"No items match your search. Try adjusting your filters."})]})]})]}):e==="analyzer"?c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Bn,{size:20,className:"text-indigo-600"}),"Input Text"]}),c.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Paste a paragraph from a book, article, or your own writing. AI will identify the language methods used."}),c.jsx("textarea",{value:r,onChange:K=>a(K.target.value),placeholder:"The wind howled like a banshee, tearing through the trees...",className:"w-full h-64 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none font-serif text-lg leading-relaxed"}),c.jsx("button",{onClick:oe,disabled:d||!r.trim(),className:`mt-4 w-full py-3 rounded-lg font-bold text-white transition-all ${d||!r.trim()?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-md hover:shadow-lg"}`,children:d?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ea,{className:"animate-spin",size:18})," Analyzing..."]}):"Analyze Text"})]})}),c.jsx("div",{className:"space-y-4",children:s?c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 h-full",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Analysis Results"}),c.jsxs("div",{className:"mb-6 bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[c.jsx("h3",{className:"font-bold text-indigo-900 mb-1",children:"Summary"}),c.jsx("p",{className:"text-indigo-800 text-sm",children:s.summary})]}),c.jsx("div",{className:"space-y-4",children:s.methods.map((K,se)=>c.jsxs("div",{className:"border-l-4 border-purple-500 pl-4 py-1",children:[c.jsx("div",{className:"flex justify-between items-start mb-1",children:c.jsx("span",{className:"font-bold text-purple-700 bg-purple-50 px-2 py-0.5 rounded text-sm",children:K.name})}),c.jsxs("p",{className:"text-gray-800 font-serif italic mb-2",children:['"',K.quote,'"']}),c.jsx("p",{className:"text-gray-600 text-sm",children:K.effect})]},se))})]}):c.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[c.jsx(Zr,{size:48,className:"mb-4 opacity-20"}),c.jsx("p",{children:"Enter text and click Analyze to see the breakdown of language methods."})]})})]}):c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Bg,{size:20,className:"text-indigo-600"}),"Practice Area"]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("button",{onClick:()=>{M("techniques"),U("Metaphor")},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${N==="techniques"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Language Techniques"}),c.jsx("button",{onClick:()=>{M("writing"),U("Hook Opening")},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${N==="writing"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Writing Skills"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:N==="techniques"?"Target Technique":"Target Skill"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(K=>c.jsx("button",{onClick:()=>U(K),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${I===K?"bg-indigo-600 text-white font-medium":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:K},K))})]}),c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-4",children:c.jsxs("p",{className:"text-yellow-800 text-sm",children:[c.jsx("strong",{children:"Challenge:"})," ",N==="techniques"?c.jsxs(c.Fragment,{children:["Write a sentence or short paragraph using ",c.jsx("u",{children:I}),"."]}):c.jsxs(c.Fragment,{children:["Practice ",c.jsx("u",{children:I})," by writing a short example."]})]})}),c.jsx("textarea",{value:k,onChange:K=>C(K.target.value),placeholder:N==="techniques"?`Write something using a ${I}...`:`Practice ${I} here...`,className:"w-full h-48 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none font-serif text-lg"}),c.jsx("button",{onClick:H,disabled:d||!k.trim(),className:`mt-4 w-full py-3 rounded-lg font-bold text-white transition-all ${d||!k.trim()?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-md hover:shadow-lg"}`,children:d?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ea,{className:"animate-spin",size:18})," Checking..."]}):"Check My Writing"})]})}),c.jsx("div",{className:"space-y-4",children:P?c.jsxs("div",{className:`p-6 rounded-xl shadow-sm border ${P.success?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[P.success?c.jsx(Wi,{className:"text-green-600",size:32}):c.jsx(Gu,{className:"text-orange-600",size:32}),c.jsx("h2",{className:`text-xl font-bold ${P.success?"text-green-800":"text-orange-800"}`,children:P.success?"Great Job!":"Keep Trying"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Feedback"}),c.jsx("p",{className:"text-gray-700",children:P.feedback})]}),c.jsxs("div",{className:"bg-white/50 p-4 rounded-lg",children:[c.jsxs("h3",{className:"font-bold text-gray-900 mb-1 flex items-center gap-2",children:[c.jsx(Ea,{size:16,className:"text-yellow-600"}),"Tip for Improvement"]}),c.jsx("p",{className:"text-gray-700 italic",children:P.improvementTip})]})]})]}):c.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[c.jsx(Bg,{size:48,className:"mb-4 opacity-20"}),c.jsx("p",{children:"Write your text and click Check to see if you used the method effectively."})]})})]})]})]})},uye=()=>{const t=Ft(),[e,n]=b.useState(!1),r=async()=>{n(!0);try{await fd(),t("/login")}catch(a){console.error("Logout error:",a),n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 font-sans p-4",children:c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-slate-100",children:[c.jsx("div",{className:"w-20 h-20 bg-amber-50 rounded-full flex items-center justify-center mx-auto mb-6 text-amber-500 animate-pulse",children:c.jsx(xX,{size:40})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Pending Approval"}),c.jsx("p",{className:"text-xs font-semibold text-amber-600 bg-amber-50 rounded-lg py-2 px-3 mb-6 inline-block",children:"Status: Awaiting Admin Review"}),c.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Thank you for signing up! Your account is currently awaiting administrative approval."}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(b3,{size:18,className:"text-blue-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-left text-sm text-blue-800",children:[c.jsx("p",{className:"font-semibold mb-1",children:"What happens next?"}),c.jsx("p",{children:"An administrator will review your account and send you an email once approved. You'll then have full access to the dashboard and exam services."})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>t("/"),className:"w-full py-3 px-4 bg-edexcel-blue hover:bg-edexcel-blue/90 text-white rounded-xl transition-colors font-bold",children:"Go to Home Page"}),c.jsxs("button",{onClick:r,disabled:e,className:"w-full py-3 px-4 bg-red-50 border-2 border-red-200 hover:bg-red-100 text-red-700 rounded-xl transition-colors font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(hd,{size:18}),e?"Signing Out...":"Sign Out"]})]}),c.jsx("p",{className:"text-xs text-gray-400 mt-6 border-t border-gray-100 pt-4",children:"GoGCSE Platform  Need help? Contact support"})]})})},dye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back to Login"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Terms of Service"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024 | Version 2.0"}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. Assessment & Educational Disclaimer"}),c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[c.jsx("p",{className:"text-amber-800 font-medium mb-2",children:" Important Notice"}),c.jsx("p",{className:"text-amber-700 text-sm",children:"GoGCSE is an independent educational practice platform. We are NOT an exam board and NOT affiliated with Pearson Edexcel, AQA, OCR, or Ofqual."})]}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"NO QUALIFICATIONS:"})," Use of this site does NOT confer any official grade, qualification,/certification, or academic credit."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"INDICATIVE SCORING:"}),' "Marks", "Grades", and "Levels" displayed on this platform are estimates generated by AI for practice purposes only. They may not reflect the grade you would achieve in a real examination.']}),c.jsxs("li",{children:[c.jsx("strong",{children:"NO RELIANCE:"})," You should not rely on these results for university applications, employment, or any other formal purpose."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. AI-Generated Content"}),c.jsx("p",{className:"text-gray-700 mb-3",children:"GoGCSE uses artificial intelligence (AI) technology to generate:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Practice exam questions and source texts"}),c.jsx("li",{children:"Automated marking and feedback"}),c.jsx("li",{children:"Model answers and suggestions"})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-800 mt-4 mb-2",children:"2a. Teacher Classroom Features"}),c.jsx("p",{className:"text-gray-700 mb-2",children:'If you join a "Classroom" using an invite code:'}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"You grant the verified teacher of that class access to view your name and assignment results for that specific class."}),c.jsx("li",{children:"Assignments generated by teachers are AI-created and subject to the same limitations as other platform content."}),c.jsx("li",{children:"You can leave a class at any time, which will remove the teacher's access to your future data."})]}),c.jsxs("p",{className:"text-gray-700 mt-3",children:[c.jsx("strong",{children:"AI Limitations:"})," AI-generated content may contain errors, inaccuracies, or hallucinations. It cannot replace the professional judgement of qualified teachers. Always verify key information with official sources."]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. User Eligibility & Conduct"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Age Requirement:"})," You must be at least 13 years old to create an account. If you are under 13, you may not use this service."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Teacher Accounts:"})," Teachers warrant that they have appropriate authority to invite students to the platform."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Prohibited Conduct:"})," You agree not to upload personal data (names, addresses) in free-text fields or submission boxes. You agree not to use the platform for bullying, harassment, or generating harmful content."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. Limitation of Liability"}),c.jsx("p",{className:"text-gray-700",children:"To the maximum extent permitted by law (and without excluding liability for death or personal injury caused by negligence):"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 mt-2",children:[c.jsx("li",{children:"We are not liable for any loss of academic performance, exam failure, or missed opportunities."}),c.jsx("li",{children:"We are not liable for any indirect or consequential losses."}),c.jsx("li",{children:"Our total liability to you in contract, tort, or otherwise is limited to the amount you paid us (if any) in the 12 months preceding the claim."})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. Intellectual Property"}),c.jsx("p",{className:"text-gray-700",children:'All content on GoGCSE, including generated questions and model answers, is protected by copyright. "GCSE" is a registered trademark of the examination boards. We use these terms purely for descriptive purposes to indicate compatibility with the curriculum.'}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"6. Governing Law"}),c.jsx("p",{className:"text-gray-700",children:"These terms are governed by the laws of England and Wales. Any disputes will be subject to the exclusive jurisdiction of the courts of England and Wales."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"7. Contact"}),c.jsx("p",{className:"text-gray-700",children:"For support or legal inquiries, please contact us via the help link on the dashboard."})]})]})]})}),fye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back to Login"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Privacy Notice"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024 | Version 2.0"}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:[c.jsx("p",{className:"text-blue-800 font-medium mb-2",children:" Privacy Summary (Easy Read)"}),c.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[c.jsx("li",{children:" We collect your email, name, and exam answers to help you learn."}),c.jsx("li",{children:" Your teachers can see your work ONLY if you join their class with a code."}),c.jsx("li",{children:" We use Google AI to write questions and mark your work."}),c.jsx("li",{children:" We keep your data safe and never sell it."}),c.jsx("li",{children:" You can ask us to delete your data at any time."})]})]}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. Who We Are (Data Controller)"}),c.jsx("p",{className:"text-gray-700",children:"GoGCSE is the Data Controller for your personal information. For privacy inquiries, please use the contact form on our dashboard or email our privacy team."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. What Data We Collect & Why"}),c.jsxs("table",{className:"w-full border-collapse border border-gray-200 text-sm mt-2",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50",children:[c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Data Type"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Purpose"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Legal Basis"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Email, Display Name"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Account setup & login."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Contract"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Age Confirmation"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Child safety (13+ Only)."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Legal Obligation"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Exam Data & AI Logs"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Providing the service & marking."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Contract"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Consent Records"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Proof of agreement to Terms."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Legal Obligation"})]})]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. Sharing Your Data"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Service Providers:"})," We use Google Firebase (hosting/db) and Google Gemini (AI generation). They process data on our behalf."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Teachers:"})," If you join a class via Invite Code, that teacher sees your name and results for that class."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Legal:"})," We may share data if required by UK law or to protect safety."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. Cookies (PECR Compliance)"}),c.jsx("p",{className:"text-gray-700",children:"We use:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Strictly Necessary Cookies:"})," To keep you logged in. You cannot switch these off."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Functional/Analytics:"})," Only set if you give consent via our Cookie Banner."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. Children's Privacy"}),c.jsx("p",{className:"text-gray-700",children:"This service is for users aged 13 and over. We do not knowingly collect data from children under 13. If we discover an account belongs to a child under 13 without verifiable parental consent, we will delete it."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"6. Your Rights (UK GDPR)"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Access & Portability:"})," Ask for a copy of your data."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Correction:"})," Fix mistakes in your data."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Deletion:"})," Ask us to delete your account."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Withdraw Consent:"})," You can leave a class or change cookie settings at any time."]})]}),c.jsx("p",{className:"text-gray-700 mt-2",children:"To exercise these rights, email specific-request@gogcse.com (Example). You also have the right to complain to the ICO (ico.org.uk)."})]})]})]})}),hye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cookie Policy"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024"}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("p",{className:"text-gray-700",children:'This Cookie Policy explains how GoGCSE ("we", "us", or "our") uses cookies and similar technologies to recognize you when you visit our website. It explains what these technologies are and why we use them, as well as your rights to control our use of them.'}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. What are cookies?"}),c.jsx("p",{className:"text-gray-700",children:"Cookies are small data files that are placed on your computer or mobile device when you visit a website. Cookies are widely used by website owners in order to make their websites work, or to work more efficiently, as well as to provide reporting information."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. Why do we use cookies?"}),c.jsx("p",{className:"text-gray-700 mb-2",children:"We use cookies for several reasons:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Essential Cookies:"})," strictly necessary for the website to function (e.g., to keep you logged in)."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance & Analytics Cookies:"})," to track how users use the site so we can improve it."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Functionality Cookies:"})," to remember your preferences (like your username or language)."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. Cookies we use"}),c.jsx("div",{className:"overflow-x-auto mt-4 mb-8",children:c.jsxs("table",{className:"w-full border-collapse border border-gray-200 text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50",children:[c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Category"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Purpose"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Opt-out?"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2 font-medium",children:"Strictly Necessary"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Login authentication, security, session management."}),c.jsx("td",{className:"border border-gray-200 p-2 text-red-600",children:"No (Required)"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2 font-medium",children:"Performance / Analytics"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Google Analytics (anonymised) to see which pages are popular."}),c.jsx("td",{className:"border border-gray-200 p-2 text-green-600",children:"Yes"})]})]})]})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. Children and Cookies"}),c.jsx("p",{className:"text-gray-700",children:"For users identified as under 18, we strictly limit data collection. We do not use advertising or tracking cookies for marketing purposes for child accounts. Analytics data is anonymised."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. How can I control cookies?"}),c.jsx("p",{className:"text-gray-700",children:"You have the right to decide whether to accept or reject non-essential cookies. You can exercise your cookie rights by setting your preferences in the Cookie Consent Manager (coming soon) or by amending your web browser controls."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"6. Updates to this policy"}),c.jsx("p",{className:"text-gray-700",children:"We may update this Cookie Policy from time to time in order to reflect, for example, changes to the cookies we use or for other operational, legal, or regulatory reasons."})]})]})]})}),mye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Acceptable Use Policy"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024"}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("p",{className:"text-gray-700",children:'This Acceptable Use Policy ("AUP") outlines the rules for using GoGCSE. By accessing our platform, you agree to follow these rules.'}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. Academic Integrity"}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[c.jsx("p",{className:"text-red-800 font-bold mb-2",children:" STRICTLY PROHIBITED"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-red-700 text-sm",children:[c.jsx("li",{children:"Using the platform to cheat in real examinations"}),c.jsx("li",{children:"Sharing answers to real exam papers"}),c.jsx("li",{children:"Uploading copyrighted exam materials"})]})]}),c.jsxs("p",{className:"text-gray-700",children:["GoGCSE is for ",c.jsx("strong",{children:"practice only"}),". You must not use our tools to gain an unfair advantage in official assessments."]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. Prohibited Content"}),c.jsx("p",{className:"text-gray-700 mb-2",children:"You must NOT upload, generate, or share content that is:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Offensive, abusive, or hateful"}),c.jsx("li",{children:"Sexually explicit or violent"}),c.jsx("li",{children:"Harassing or bullying towards others"}),c.jsx("li",{children:"False, misleading, or fraudulent"})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. Account Security"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Do not share your password with anyone"}),c.jsx("li",{children:"Do not access someone else's account"}),c.jsx("li",{children:"Notify us immediately if you suspect unauthorized access"})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. System Abuse"}),c.jsx("p",{className:"text-gray-700 mb-2",children:"You agree NOT to:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Attempt to damage, hack, or interfere with the website"}),c.jsx("li",{children:"Use automated scripts or bots to access the site"}),c.jsx("li",{children:"Data scrape or harvest user information"})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. Consequences of Breach"}),c.jsx("p",{className:"text-gray-700",children:"If you violate this policy, we may:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Issue a warning"}),c.jsx("li",{children:"Suspend your account"}),c.jsx("li",{children:"Permanently terminate your account without refund"}),c.jsx("li",{children:"Report illegal activity to law enforcement"})]})]})]})]})}),pye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Yr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:c.jsx(Yi,{className:"text-indigo-600",size:24})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Privacy Information for Students"})]}),c.jsx("p",{className:"text-lg text-gray-600 mb-8 border-b border-gray-100 pb-6",children:"This page explains how we keep your information safe and what we do with it. We want you to understand how GoGCSE works."}),c.jsxs("div",{className:"grid gap-6",children:[c.jsx("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(RX,{className:"text-blue-600 mt-1",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:"1. The Information We Collect"}),c.jsx("p",{className:"text-blue-800 mb-2",children:"When you sign up, we ask for your:"}),c.jsxs("ul",{className:"list-disc pl-5 text-blue-800 text-sm space-y-1",children:[c.jsx("li",{children:"Name (so we know what to call you)"}),c.jsx("li",{children:"Email (to log you in)"}),c.jsx("li",{children:"Age (to make sure you are old enough)"}),c.jsx("li",{children:"Exam answers (to help you practice)"})]})]})]})}),c.jsx("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-100",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(nm,{className:"text-emerald-600 mt-1",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-emerald-900 mb-2",children:"2. Why We Need It"}),c.jsx("p",{className:"text-emerald-800 mb-2",children:"We use this information to:"}),c.jsxs("ul",{className:"list-disc pl-5 text-emerald-800 text-sm space-y-1",children:[c.jsx("li",{children:"Create your account"}),c.jsx("li",{children:"Save your scores so you can see your progress"}),c.jsx("li",{children:"Use AI to mark your practice exams"})]})]})]})}),c.jsx("div",{className:"bg-amber-50 rounded-xl p-6 border border-amber-100",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(ah,{className:"text-amber-600 mt-1",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-2",children:"3. Keeping It Safe"}),c.jsxs("p",{className:"text-amber-800 mb-2",children:["We store your information securely. We ",c.jsx("strong",{children:"never"})," sell your information to advertisers or other companies to contact you."]}),c.jsx("p",{className:"text-amber-800",children:"Only you (and us, for technical help) can see your account details."})]})]})})]}),c.jsxs("div",{className:"mt-10 border-t border-gray-100 pt-8",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Rights"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"You are in control of your data. You can always:"}),c.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Ask to see what info we have"]}),c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Ask us to fix mistakes"]}),c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Ask us to delete your account"]}),c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Change your mind about emails"]})]})]}),c.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-xl",children:[c.jsx("p",{className:"text-gray-700 font-medium",children:"Need help?"}),c.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["If you have questions about privacy, you can ask a parent or guardian to email us at",c.jsx("span",{className:"font-mono text-indigo-600 ml-1",children:"support@gogcse.com"})]})]})]})]})}),gye=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1);b.useEffect(()=>{const d=localStorage.getItem("gogcse_cookie_consent");if(!d)e(!0);else{const f=JSON.parse(d);r(f.analytics)}},[]);const a=()=>{l({necessary:!0,analytics:!0})},s=()=>{l({necessary:!0,analytics:n})},l=d=>{localStorage.setItem("gogcse_cookie_consent",JSON.stringify({...d,timestamp:new Date().toISOString()})),e(!1),d.analytics&&console.log("Analytics cookies enabled")};return t?c.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] z-50 p-6 md:p-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row gap-8 items-start md:items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 mb-2",children:[c.jsx(bQ,{className:"text-edexcel-teal",size:20}),"Cookie Settings"]}),c.jsx("p",{className:"text-gray-600 text-sm leading-relaxed max-w-2xl",children:"We use cookies to ensure our website works (Strictly Necessary). With your permission, wed also like to use analytics cookies to see how you use the site so we can improve it. We do NOT use marketing/advertising cookies."}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-6 text-sm",children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-400 cursor-not-allowed",title:"Required for the site to function",children:[c.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"rounded text-gray-400 focus:ring-0"}),c.jsx("span",{className:"font-medium",children:"Strictly Necessary (Always On)"})]}),c.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:n,onChange:d=>r(d.target.checked),className:"rounded text-edexcel-teal focus:ring-edexcel-teal"}),c.jsx("span",{className:"font-medium",children:"Analytics (Optional)"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto min-w-[300px]",children:[c.jsx("button",{onClick:s,className:"px-6 py-2.5 rounded-lg border-2 border-gray-200 font-bold text-gray-700 hover:border-gray-300 hover:bg-gray-50 transition-colors",children:"Save Preferences"}),c.jsx("button",{onClick:a,className:"px-6 py-2.5 rounded-lg bg-edexcel-teal text-white font-bold hover:bg-teal-700 shadow-md transition-colors",children:"Accept All"})]})]})}):null},yye=()=>{const[t,e]=b.useState(null),[n,r]=b.useState(!0),a=Ft(),[s,l]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,x]=b.useState(!1),[w,E]=b.useState(!1),[A,S]=b.useState(!1),[I,U]=b.useState(null);b.useEffect(()=>{const C=Hh(_e,P=>{e(P),r(!1),P||a("/login")});return()=>C()},[a]);const k=async()=>{if(t){if(!s||!d||!h||!g){U("You must agree to all mandatory legal terms to proceed.");return}S(!0),U(null);try{const C="2.0-dec-2024",P=or(),z=qe(be,"users",t.uid);(await Mr(z)).exists()?await Qa(z,{email:t.email,displayName:t.displayName||"",photoURL:t.photoURL||"",hasConsented:!0,consentVersion:C,consentedAt:P,updatedAt:P},{merge:!0}):await Qa(z,{email:t.email,displayName:t.displayName||"",photoURL:t.photoURL||"",createdAt:P,hasConsented:!0,consentVersion:C,consentedAt:P,status:"pending",isApproved:!1,updatedAt:P});try{await Qa(qe(be,"userConsents",t.uid),{userId:t.uid,createdAt:P},{merge:!0}),await xr(it(be,"userConsents",t.uid,"events"),{action:"accepted_legal_terms",consentVersion:C,acceptedTerms:s,acceptedPrivacy:d,acceptedDisclaimer:h,confirmedAge13Plus:g,marketingOptIn:w,timestamp:P,userAgent:navigator.userAgent})}catch(T){console.warn("Failed to create audit trail, continuing anyway:",T)}a("/pending-approval")}catch(C){console.error("Consent failed:",C),U("Failed to save your consent. Please check your connection and try again.")}finally{S(!1)}}};return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:"Loading..."}):c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white max-w-2xl w-full rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[c.jsxs("div",{className:"bg-[#003764] px-8 py-6 text-white text-center relative overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx(Yi,{className:"mx-auto mb-3",size:48}),c.jsx("h1",{className:"text-2xl font-bold",children:"Welcome to GoGCSE"}),c.jsx("p",{className:"text-blue-100 mt-2",children:"Before you start practising, please review and agree to our rules."})]}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/10 to-transparent pointer-events-none"})]}),c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 mb-8 border border-blue-100",children:[c.jsxs("h3",{className:"text-blue-900 font-bold flex items-center gap-2 mb-3",children:[c.jsx(Mi,{size:18}),"Important Reminders"]}),c.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx("span",{className:"mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Practice Only:"})," This platform is NOT an official exam and does not give real qualifications. Scores are estimates only."]})]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx("span",{className:"mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"AI Content:"})," Questions and marking are generated by AI. They may contain mistakes. Always double-check with your teacher."]})]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx("span",{className:"mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Age 13+:"})," You must be 13 or older to use this service."]})]})]})]}),c.jsxs("div",{className:"space-y-5 mb-8",children:[c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:s,onChange:C=>l(C.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Terms of Service (Required)"}),c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["I agree to the GoGCSE ",c.jsx("a",{href:"/terms",target:"_blank",className:"text-[#003764] underline hover:text-[#007fa3]",onClick:C=>C.stopPropagation(),children:"Terms of Service"}),", including the limitation of liability and acceptable use policy."]})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:d,onChange:C=>f(C.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Privacy Policy (Required)"}),c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["I have read the ",c.jsx("a",{href:"/privacy",target:"_blank",className:"text-[#003764] underline hover:text-[#007fa3]",onClick:C=>C.stopPropagation(),children:"Privacy Policy"})," and understand how my data (email, exam answers) is processed."]})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:h,onChange:C=>p(C.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Educational Disclaimer (Required)"}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"I understand this is a practice tool used at my own risk. Results are not official."})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:g,onChange:C=>x(C.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Age Confirmation (Required)"}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"I confirm I am 13 years of age or older."})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-dashed border-gray-300 bg-gray-50/50 cursor-pointer hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:w,onChange:C=>E(C.target.checked),className:"w-5 h-5 text-[#003764] rounded focus:ring-[#007fa3] cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-700",children:"Stay Updated (Optional)"}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Email me about new features and exam tips. Unsubscribe anytime."})]})]})]}),I&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg text-sm font-medium border border-red-200",children:I}),c.jsx("button",{onClick:k,disabled:A||!s||!d||!h||!g,className:`w-full py-4 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-2 ${A||!s||!d||!h||!g?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#003764] text-white hover:bg-[#007fa3] shadow-lg hover:shadow-xl"}`,style:{backgroundColor:A||!s||!d||!h||!g?void 0:"#003764"},children:A?"Setting up account...":"Accept & Continue to Dashboard"}),c.jsx("div",{className:"text-center mt-6 text-xs text-gray-400",children:"GoGCSE Platform v2.0  London, UK"})]})]})})},vye=()=>c.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 py-8 px-4 mt-auto",children:c.jsxs("div",{className:"max-w-5xl mx-auto space-y-4",children:[c.jsx("p",{className:"text-xs text-gray-600 text-center leading-relaxed font-medium",children:"GoGCSE is an independent revision tool powered by Artificial Intelligence. We are not affiliated with, endorsed by, or connected to Ofqual, the Department for Education, or any exam boards (AQA, Edexcel, OCR, WJEC). Content is for practice only."}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs text-gray-500 leading-relaxed",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"AI Disclaimer:"}),c.jsx("p",{children:"AI-generated content may contain errors. Always verify important information with official sources before relying on it for academic decisions."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Not Official Grades:"}),c.jsx("p",{children:"Results are estimates for practice purposes only. They are not official grades and should not be submitted as qualifications."})]})]}),c.jsx("p",{className:"text-xs text-gray-400 text-center pt-4 border-t border-gray-200",children:" 2025 GoGCSE. All rights reserved. This is an independent educational tool."})]})}),xye=()=>{var x,w,E;const t=Ft(),e=ra(),n=Xa.includes(((x=_e.currentUser)==null?void 0:x.email)||""),[r,a]=b.useState(!1),[s,l]=b.useState(()=>localStorage.getItem("adminDarkMode")==="true");b.useEffect(()=>{localStorage.setItem("adminDarkMode",s.toString()),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]);const d=async()=>{await fd(),t("/login")},f=()=>{const A=e.pathname.split("/").filter(Boolean),S=[{label:"Admin",path:"/admin"}];if(A[1]){const I={users:"User Directory",exams:"Exam Records","lab-sessions":"Lab Sessions",settings:"Settings",analytics:"Analytics",announcements:"Announcements","activity-log":"Activity Log",assets:"Assets",security:"Security"};S.push({label:I[A[1]]||A[1],path:e.pathname})}return S},h=({isActive:A})=>`flex items-center gap-3 px-4 py-3 rounded-md transition-colors ${A?"bg-edexcel-teal/20 text-edexcel-teal":"text-slate-300 hover:bg-slate-800"} ${r?"justify-center":""}`,p=[{to:"/admin",icon:tS,label:"Overview",end:!0},{to:"/teacher",icon:Wv,label:"Teacher Classroom"},{to:"/admin/users",icon:Sa,label:"User Directory"},{to:"/admin/exams",icon:fc,label:"Exam Records"},{to:"/admin/lab-sessions",icon:Bn,label:"Lab Sessions"},{to:"/admin/analytics",icon:p3,label:"Analytics"},{to:"/admin/announcements",icon:m3,label:"Announcements"},{to:"/admin/assets",icon:VQ,label:"Assets"}],g=[{to:"/admin/activity-log",icon:yy,label:"Activity Log"},{to:"/admin/security",icon:Yi,label:"Security"},{to:"/admin/settings",icon:aS,label:"Settings"},{to:"/admin/directory",icon:Sa,label:"Admin Directory"}];return c.jsxs("div",{className:`flex h-screen ${s?"bg-slate-900":"bg-gray-100"}`,children:[c.jsxs("aside",{className:`${r?"w-20":"w-64"} bg-slate-900 text-white flex flex-col shrink-0 transition-all duration-300`,children:[c.jsxs("div",{className:`p-4 border-b border-slate-700 flex items-center ${r?"justify-center":"justify-between"}`,children:[!r&&c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold tracking-tight text-edexcel-teal",children:"Admin Control"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Edexcel Simulator"})]}),c.jsx("button",{onClick:()=>a(!r),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",title:r?"Expand":"Collapse",children:r?c.jsx(vh,{size:18}):c.jsx(ZA,{size:18})})]}),c.jsxs("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:[p.map(A=>c.jsxs(Yg,{to:A.to,end:A.end,className:h,title:r?A.label:void 0,children:[c.jsx(A.icon,{size:20}),!r&&c.jsx("span",{className:"font-medium",children:A.label})]},A.to)),n&&c.jsxs("div",{className:"pt-3 mt-3 border-t border-slate-700",children:[!r&&c.jsx("p",{className:"px-4 py-2 text-xs text-slate-500 uppercase tracking-wider",children:"Super Admin"}),g.map(A=>c.jsxs(Yg,{to:A.to,className:h,title:r?A.label:void 0,children:[c.jsx(A.icon,{size:20}),!r&&c.jsx("span",{className:"font-medium",children:A.label})]},A.to))]})]}),c.jsxs("div",{className:"p-3 border-t border-slate-700 space-y-2",children:[c.jsxs("button",{onClick:()=>l(!s),className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${r?"justify-center":""}`,title:s?"Light Mode":"Dark Mode",children:[s?c.jsx(E3,{size:18}):c.jsx(w3,{size:18}),!r&&c.jsx("span",{children:s?"Light Mode":"Dark Mode"})]}),c.jsxs("button",{onClick:d,className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${r?"justify-center":""}`,title:"Sign Out",children:[c.jsx(hd,{size:18}),!r&&c.jsx("span",{children:"Sign Out"})]}),!r&&c.jsx("div",{className:"px-4 pt-2 text-xs text-slate-500",children:"v2.0.0"})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxs("header",{className:`${s?"bg-slate-800 border-slate-700":"bg-white border-gray-200"} border-b h-16 flex items-center justify-between px-6 shadow-sm`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>t("/"),className:`p-2 rounded-lg hover:bg-slate-100 ${s?"hover:bg-slate-700":""}`,title:"Back to App",children:c.jsx(vy,{size:18,className:s?"text-slate-400":"text-slate-500"})}),c.jsx("nav",{className:"flex items-center gap-1 text-sm",children:f().map((A,S,I)=>c.jsxs(Mh.Fragment,{children:[c.jsx("button",{onClick:()=>t(A.path),className:`${S===I.length-1?s?"text-white font-semibold":"text-slate-900 font-semibold":s?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:A.label}),S<I.length-1&&c.jsx("span",{className:s?"text-slate-600":"text-slate-300",children:"/"})]},A.path))})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`text-sm font-bold ${s?"text-white":"text-gray-800"}`,children:((w=_e.currentUser)==null?void 0:w.displayName)||"Admin User"}),c.jsx("div",{className:`text-xs ${s?"text-slate-400":"text-gray-500"}`,children:n?"Super Administrator":"Administrator"})]}),c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden",children:(E=_e.currentUser)!=null&&E.photoURL?c.jsx("img",{src:_e.currentUser.photoURL,alt:"Admin",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:c.jsx(Sa,{size:20})})})]})]}),c.jsx("main",{className:`flex-1 overflow-auto p-6 ${s?"bg-slate-900":""}`,children:c.jsx(o4,{context:{darkMode:s}})})]})]})},BD=()=>{const t=Ft(),e=Uh(),n=(e==null?void 0:e.darkMode)||!1,[r,a]=b.useState([]),[s,l]=b.useState([]),[d,f]=b.useState(!0),[h,p]=b.useState("30");b.useEffect(()=>{(async()=>{const[R,L]=await Promise.all([Ac(),YA()]);a(R),l(L),f(!1)})()},[]);const g=b.useMemo(()=>{if(h==="all")return s;const T=parseInt(h),R=Date.now()-T*24*60*60*1e3;return s.filter(L=>{var V;return((V=L.date)==null?void 0:V.seconds)&&L.date.seconds*1e3>=R})},[s,h]),x=b.useMemo(()=>{const T=g.reduce((L,V)=>L+(V.totalScore||0),0),R=g.length>0?Math.round(T/g.length):0;return{totalUsers:r.length,totalExams:g.length,avgScore:R,recentActivity:g.slice(0,5)}},[r,g]),w=b.useMemo(()=>{const T={};return r.forEach(R=>{T[R.uid||R.id]=R.displayName||R.email||"Unknown"}),T},[r]),E=b.useMemo(()=>{const T={9:0,8:0,7:0,6:0,5:0,4:0,3:0,2:0,1:0};return g.forEach(R=>{var V;const L=((V=R.gradeEstimate)==null?void 0:V.toString())||"1";T[L]!==void 0&&T[L]++}),Object.entries(T).map(([R,L])=>({grade:`Grade ${R}`,count:L})).reverse()},[g]),A=b.useMemo(()=>{const T=g.filter($=>{var ne;return $.paperType==="PAPER_1"||((ne=$.paperType)==null?void 0:ne.includes("1"))}),R=g.filter($=>{var ne;return $.paperType==="PAPER_2"||((ne=$.paperType)==null?void 0:ne.includes("2"))}),L=T.length>0?Math.round(T.reduce(($,ne)=>$+(ne.totalScore||0),0)/T.length):0,V=R.length>0?Math.round(R.reduce(($,ne)=>$+(ne.totalScore||0),0)/R.length):0;return[{name:"Paper 1",average:L,count:T.length},{name:"Paper 2",average:V,count:R.length}]},[g]),S=b.useMemo(()=>{const T={},R=new Date;for(let L=29;L>=0;L--){const V=new Date(R);V.setDate(V.getDate()-L),T[V.toLocaleDateString("en-US",{month:"short",day:"numeric"})]=new Set}return s.forEach(L=>{var V;if((V=L.date)!=null&&V.seconds&&L.userId){const $=new Date(L.date.seconds*1e3),ne=Math.floor((R.getTime()-$.getTime())/(1e3*60*60*24));if(ne>=0&&ne<30){const me=$.toLocaleDateString("en-US",{month:"short",day:"numeric"});T[me]&&T[me].add(L.userId)}}}),Object.entries(T).map(([L,V])=>({day:L,activeUsers:V.size}))},[s]),I=b.useMemo(()=>{const T={};return g.forEach(R=>{var L;if((L=R.date)!=null&&L.seconds){const V=new Date(R.date.seconds*1e3),$=new Date(V);$.setDate(V.getDate()-V.getDay());const ne=$.toLocaleDateString("en-US",{month:"short",day:"numeric"});T[ne]||(T[ne]={total:0,count:0}),T[ne].total+=R.totalScore||0,T[ne].count++}}),Object.entries(T).map(([R,L])=>({week:R,avgScore:Math.round(L.total/L.count)})).slice(-8)},[g]),U=b.useMemo(()=>{const T={};return g.forEach(R=>{var L;(L=R.questionResults)==null||L.forEach(V=>{V.aos&&Object.entries(V.aos).forEach(([$,ne])=>{T[$]||(T[$]={score:0,max:0}),T[$].score+=Number(ne)||0,T[$].max+=V.maxScore||10})})}),Object.entries(T).map(([R,L])=>({ao:R,percentage:L.max>0?Math.round(L.score/L.max*100):0})).sort((R,L)=>R.percentage-L.percentage)},[g]),k=b.useMemo(()=>{const T={},R=new Date;for(let L=6;L>=0;L--){const V=new Date(R);V.setDate(V.getDate()-L),T[V.toLocaleDateString("en-US",{weekday:"short"})]=0}return g.forEach(L=>{var V;if((V=L.date)!=null&&V.seconds){const $=new Date(L.date.seconds*1e3),ne=Math.floor((R.getTime()-$.getTime())/(1e3*60*60*24));if(ne>=0&&ne<7){const me=$.toLocaleDateString("en-US",{weekday:"short"});T[me]!==void 0&&T[me]++}}}),Object.entries(T).map(([L,V])=>({day:L,exams:V}))},[g]),C=n?"bg-slate-800 border-slate-700":"bg-white border-slate-200",P=n?"text-white":"text-slate-900",z=n?"text-slate-400":"text-slate-500";if(d)return c.jsx("div",{className:`p-8 text-center ${z}`,children:"Loading analytics..."});const N=({title:T,value:R,icon:L,color:V,subtitle:$})=>c.jsx("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${z}`,children:T}),c.jsx("h3",{className:`text-2xl font-bold ${P} mt-1`,children:R}),$&&c.jsx("p",{className:`text-xs ${z} mt-1`,children:$})]}),c.jsx("div",{className:`p-3 rounded-lg ${V}`,children:c.jsx(L,{size:22,className:"text-white"})})]})}),M=({label:T,onClick:R,icon:L})=>c.jsxs("button",{onClick:R,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${n?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(L,{size:16}),T,c.jsx(Gv,{size:14})]});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${P}`,children:"Platform Overview"}),c.jsx("p",{className:z,children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border ${C}`,children:[c.jsx(dc,{size:16,className:z}),c.jsxs("select",{value:h,onChange:T=>p(T.target.value),className:`bg-transparent text-sm font-medium ${P} focus:outline-none`,children:[c.jsx("option",{value:"7",children:"Last 7 days"}),c.jsx("option",{value:"30",children:"Last 30 days"}),c.jsx("option",{value:"90",children:"Last 90 days"}),c.jsx("option",{value:"all",children:"All time"})]})]}),c.jsx(M,{label:"Users",onClick:()=>t("/admin/users"),icon:Sa}),c.jsx(M,{label:"Exams",onClick:()=>t("/admin/exams"),icon:fc})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(N,{title:"Total Students",value:x.totalUsers,icon:Sa,color:"bg-blue-500"}),c.jsx(N,{title:"Exams Completed",value:x.totalExams,icon:fc,color:"bg-indigo-500",subtitle:h==="all"?"all time":`last ${h} days`}),c.jsx(N,{title:"Average Score",value:x.avgScore,icon:gw,color:"bg-emerald-500"}),c.jsx(N,{title:"System Status",value:"Active",icon:Wi,color:"bg-slate-500"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(p3,{size:18,className:"text-indigo-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Grade Distribution"})]}),c.jsx(Au,{width:"100%",height:220,children:c.jsxs(CE,{data:E,children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"grade",tick:{fontSize:11,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Iu,{allowDecimals:!1,tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Su,{}),c.jsx(uv,{dataKey:"count",fill:"#6366f1",radius:[4,4,0,0]})]})})]}),c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(lQ,{size:18,className:"text-purple-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Paper Comparison"})]}),c.jsxs("div",{className:"flex items-center justify-around",children:[c.jsx(Au,{width:"50%",height:180,children:c.jsxs(tye,{children:[c.jsx(Hz,{data:A,dataKey:"count",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,label:!0,children:A.map((T,R)=>c.jsx(Sm,{fill:R===0?"#6366f1":"#a855f7"},R))}),c.jsx(Su,{})]})}),c.jsx("div",{className:"space-y-3",children:A.map((T,R)=>c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:`text-sm ${z}`,children:T.name}),c.jsxs("p",{className:`text-lg font-bold ${P}`,children:["Avg: ",T.average]}),c.jsxs("p",{className:`text-xs ${z}`,children:[T.count," exams"]})]},R))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Sa,{size:18,className:"text-blue-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Active Users (30 Days)"})]}),c.jsx(Au,{width:"100%",height:180,children:c.jsxs(rye,{data:S.slice(-14),children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"day",tick:{fontSize:10,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Iu,{allowDecimals:!1,tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Su,{}),c.jsx(v8,{type:"monotone",dataKey:"activeUsers",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.2})]})})]}),c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(gw,{size:18,className:"text-emerald-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Score Trends (Weekly)"})]}),c.jsx(Au,{width:"100%",height:180,children:c.jsxs(qge,{data:I,children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"week",tick:{fontSize:10,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Iu,{tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Su,{}),c.jsx(u8,{type:"monotone",dataKey:"avgScore",stroke:"#10b981",strokeWidth:2,dot:{r:4}})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(gw,{size:18,className:"text-amber-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"AO Performance"})]}),c.jsx("p",{className:`text-xs ${z} mb-3`,children:"Weakest first"}),c.jsx("div",{className:"space-y-2",children:U.length>0?U.slice(0,5).map((T,R)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[c.jsx("span",{className:`font-medium ${P}`,children:T.ao}),c.jsxs("span",{className:z,children:[T.percentage,"%"]})]}),c.jsx("div",{className:`w-full rounded-full h-2 ${n?"bg-slate-700":"bg-slate-100"}`,children:c.jsx("div",{className:`h-2 rounded-full ${T.percentage<50?"bg-red-500":T.percentage<70?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${T.percentage}%`}})})]},R)):c.jsx("p",{className:z,children:"No AO data available."})})]}),c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(yy,{size:18,className:"text-emerald-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Weekly Activity"})]}),c.jsx(Au,{width:"100%",height:180,children:c.jsxs(CE,{data:k,children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"day",tick:{fontSize:11,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Iu,{allowDecimals:!1,tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Su,{}),c.jsx(uv,{dataKey:"exams",fill:"#10b981",radius:[4,4,0,0]})]})})]})]}),c.jsxs("div",{className:`rounded-xl shadow-sm border overflow-hidden ${C}`,children:[c.jsx("div",{className:`p-5 border-b ${n?"border-slate-700":"border-slate-100"}`,children:c.jsx("h3",{className:`font-bold ${P}`,children:"Recent Submissions"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:n?"bg-slate-700/50":"bg-slate-50",children:c.jsxs("tr",{className:`text-xs uppercase font-semibold ${z}`,children:[c.jsx("th",{className:"px-5 py-3",children:"User"}),c.jsx("th",{className:"px-5 py-3",children:"Paper"}),c.jsx("th",{className:"px-5 py-3",children:"Score"}),c.jsx("th",{className:"px-5 py-3",children:"Grade"}),c.jsx("th",{className:"px-5 py-3",children:"Date"})]})}),c.jsxs("tbody",{className:`divide-y ${n?"divide-slate-700":"divide-slate-100"}`,children:[x.recentActivity.map(T=>{var R,L,V;return c.jsxs("tr",{className:n?"hover:bg-slate-700/50":"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-5 py-3",children:[c.jsx("div",{className:`text-sm font-medium ${P}`,children:w[T.userId]||"Unknown"}),c.jsxs("div",{className:`text-xs font-mono ${z}`,children:[(R=T.userId)==null?void 0:R.substring(0,8),"..."]})]}),c.jsx("td",{className:`px-5 py-3 text-sm ${P}`,children:(L=T.paperType)!=null&&L.includes("1")?"Paper 1":"Paper 2"}),c.jsx("td",{className:"px-5 py-3",children:c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[T.totalScore,"/",T.maxScore]})}),c.jsx("td",{className:"px-5 py-3",children:c.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:["Grade ",T.gradeEstimate||"N/A"]})}),c.jsx("td",{className:`px-5 py-3 text-sm ${z}`,children:(V=T.date)!=null&&V.seconds?new Date(T.date.seconds*1e3).toLocaleDateString():"Just now"})]},T.id)}),x.recentActivity.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:`px-5 py-8 text-center ${z}`,children:"No recent activity."})})]})]})})]})]})},bye=()=>{var M,T;const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(""),[l,d]=b.useState(!0),[f,h]=b.useState(null),[p,g]=b.useState([]),[x,w]=b.useState(!1),[E,A]=b.useState(!1);Xa.includes(((M=_e.currentUser)==null?void 0:M.email)||"");const S=Ft();b.useEffect(()=>{I()},[]),b.useEffect(()=>{if(!Array.isArray(t))return;const R=a.toLowerCase();r(t.filter(L=>L&&((L.email||"").toLowerCase().includes(R)||(L.displayName||"").toLowerCase().includes(R)||(L.id||"").includes(R))))},[a,t]);const I=async()=>{d(!0);const R=await Ac();e(R),d(!1)},U=async R=>{if(!window.confirm("Are you sure? This will delete the user and ALL their exam data permanently."))return;await d3(R)?(e(V=>V.filter($=>$.id!==R)),h(null),alert("User deleted successfully.")):alert("Failed to delete user.")},k=async R=>{h(R),w(!0);try{const L=await WA(R.id);g(L)}catch(L){console.error("Failed to load user exams",L),g([])}w(!1)},C=async R=>{var L,V;if(confirm("Approve this user to active status?")){A(!0);try{await vr(qe(be,"users",R),{status:"approved",isApproved:!0,updatedAt:or()}),await xr(it(be,"activityLogs"),{action:"User Status Approved",actionType:"update",targetType:"user",targetId:R,details:"User status changed from pending to approved",userId:((L=_e.currentUser)==null?void 0:L.uid)||"unknown",userEmail:((V=_e.currentUser)==null?void 0:V.email)||"unknown",timestamp:or()}),e($=>$.map(ne=>ne.id===R?{...ne,status:"approved",isApproved:!0}:ne)),h($=>$&&$.id===R?{...$,status:"approved",isApproved:!0}:$),alert("User approved successfully!")}catch($){console.error("Failed to approve user:",$),alert("Failed to approve user")}finally{A(!1)}}},P=async R=>{var L,V;if(confirm("Set this user to pending status?")){A(!0);try{await vr(qe(be,"users",R),{status:"pending",isApproved:!1,updatedAt:or()}),await xr(it(be,"activityLogs"),{action:"User Status Set to Pending",actionType:"update",targetType:"user",targetId:R,details:"User status changed from approved to pending",userId:((L=_e.currentUser)==null?void 0:L.uid)||"unknown",userEmail:((V=_e.currentUser)==null?void 0:V.email)||"unknown",timestamp:or()}),e($=>$.map(ne=>ne.id===R?{...ne,status:"pending",isApproved:!1}:ne)),h($=>$&&$.id===R?{...$,status:"pending",isApproved:!1}:$),alert("User set to pending!")}catch($){console.error("Failed to set user to pending:",$),alert("Failed to update user status")}finally{A(!1)}}},z=ti.includes(((T=_e.currentUser)==null?void 0:T.email)||""),N=()=>{const R=["Display Name","Email","User ID","Last Active","Status"],L=t.map(Y=>{var oe;return[Y.displayName||"Unnamed",Y.email||"",Y.id,(oe=Y.lastActive)!=null&&oe.seconds?new Date(Y.lastActive.seconds*1e3).toISOString():"Unknown",Y.disabled?"Disabled":"Active"]}),V=[R,...L].map(Y=>Y.join(",")).join(`
`),$=new Blob([V],{type:"text/csv"}),ne=URL.createObjectURL($),me=document.createElement("a");me.href=ne,me.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,me.click(),URL.revokeObjectURL(ne)};return l?c.jsx("div",{className:"p-8",children:"Loading directory..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"User Directory"}),c.jsx("p",{className:"text-slate-500",children:"Manage student accounts and access."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors",children:[c.jsx(eS,{size:18}),"Export CSV"]}),c.jsxs("div",{className:"relative",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:R=>s(R.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-edexcel-teal w-64"})]})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User"}),c.jsx("th",{className:"px-6 py-4",children:"Email"}),c.jsx("th",{className:"px-6 py-4",children:"Last Active"}),c.jsx("th",{className:"px-6 py-4",children:"Role"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(R=>{var L;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 overflow-hidden",children:R.photoURL?c.jsx("img",{src:R.photoURL,className:"w-full h-full object-cover",alt:""}):c.jsx(Ku,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-900",children:R.displayName||"Unnamed User"}),c.jsxs("div",{className:"text-xs text-slate-400 font-mono",title:R.id,children:[R.id.slice(0,12),"..."]})]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:R.email||c.jsx("span",{className:"text-slate-400 italic",children:"No Email"})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:(L=R.lastActive)!=null&&L.seconds?new Date(R.lastActive.seconds*1e3).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Xa.includes(R.email||"")&&c.jsxs("span",{className:"px-2 py-1 inline-flex items-center text-xs font-bold rounded-full bg-gradient-to-r from-amber-100 to-orange-100 text-amber-900 border border-amber-400 shadow-sm",children:[c.jsx(JA,{size:12,className:"mr-1"}),"Super Admin"]}),R.isAdmin&&c.jsx("span",{className:"px-2 py-1 inline-flex items-center text-xs font-bold rounded-full bg-red-100 text-red-900 border border-red-300",children:"Admin"}),R.isTeacher&&c.jsxs("span",{className:"px-2 py-1 inline-flex items-center text-xs font-bold rounded-full bg-blue-100 text-blue-900 border border-blue-300",children:[c.jsx(Wv,{size:12,className:"mr-1"}),"Teacher"]}),!Xa.includes(R.email||"")&&!R.isAdmin&&!R.isTeacher&&c.jsx("span",{className:"px-2 py-1 inline-flex items-center text-xs font-semibold rounded-full bg-slate-100 text-slate-700 border border-slate-200",children:"Student"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"flex items-center gap-2",children:R.status==="approved"?c.jsxs("button",{onClick:()=>P(R.id),disabled:E||!z,className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border bg-emerald-100 text-emerald-800 border-emerald-300 transition-all ${z?"hover:bg-amber-100 hover:text-amber-800 hover:border-amber-300 cursor-pointer":"cursor-default"} disabled:opacity-50`,title:z?"Click to set Pending":"Active",children:[c.jsx(Wi,{size:12,className:"mr-1"}),"Active"]}):c.jsx("button",{onClick:()=>C(R.id),disabled:E||!z,className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border bg-amber-100 text-amber-800 border-amber-300 transition-all ${z?"hover:bg-emerald-100 hover:text-emerald-800 hover:border-emerald-300 cursor-pointer":"cursor-default"} disabled:opacity-50`,title:z?"Click to make Active":"Only admins can approve",children:"Pending"})})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[(f==null?void 0:f.id)===R.id&&R.isAdmin&&c.jsx("button",{onClick:()=>{S(`/teacher/view/${R.id}`)},className:"text-emerald-500 hover:text-emerald-700 p-2 hover:bg-emerald-50 rounded-md transition-colors",title:"View Classes",children:c.jsx(Bn,{size:18})}),c.jsx("button",{onClick:()=>k(R),className:"text-blue-500 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-md transition-colors",title:"View Profile",children:c.jsx(nm,{size:18})}),c.jsx("button",{onClick:()=>U(R.id),className:"text-slate-400 hover:text-red-500 p-2 hover:bg-red-50 rounded-md transition-colors",title:"Delete User",children:c.jsx(Aa,{size:18})})]})})]},R.id)}),n.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:['No users found matching "',a,'"']})})]})]})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"User Profile"}),c.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(ri,{size:20})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden",children:f.photoURL?c.jsx("img",{src:f.photoURL,className:"w-full h-full object-cover",alt:""}):c.jsx(Ku,{size:32,className:"text-slate-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:f.displayName||"Unnamed"}),c.jsx("p",{className:"text-slate-500",children:f.email}),c.jsx("p",{className:"text-xs text-slate-400 font-mono mt-1",children:f.id})]})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[c.jsx(fc,{size:18}),"Exam History (",p.length,")"]}),x?c.jsx("p",{className:"text-slate-400",children:"Loading exam history..."}):p.length>0?c.jsx("div",{className:"space-y-2",children:p.map((R,L)=>{var V,$;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(dc,{size:16,className:"text-slate-400"}),c.jsx("span",{className:"text-sm text-slate-600",children:(V=R.date)!=null&&V.seconds?new Date(R.date.seconds*1e3).toLocaleDateString():"Unknown"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm font-medium text-slate-700",children:($=R.paperType)!=null&&$.includes("1")?"Paper 1":"Paper 2"}),c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[R.totalScore,"/",R.maxScore]}),c.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:["Grade ",R.gradeEstimate||"N/A"]})]})]},L)})}):c.jsx("p",{className:"text-slate-400 text-sm",children:"No exam history for this user."})]})]}),c.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-end gap-2 flex-wrap",children:[z&&(f.status==="approved"?c.jsx("button",{onClick:()=>P(f.id),disabled:E,className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"Set Pending"}):c.jsx("button",{onClick:()=>C(f.id),disabled:E,className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"Make Active"})),c.jsx("button",{onClick:()=>k(f),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f.isAdmin?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:f.isAdmin?"View Admin":"View Profile"}),f.isAdmin&&c.jsxs("button",{onClick:()=>S(`/teacher/view/${f.id}`),className:"px-4 py-2 ml-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2",title:"View Classes",children:[c.jsx(Bn,{size:16}),"View Classes"]}),c.jsx("button",{onClick:()=>U(f.id),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:"Delete User"})]})]})})]})},wye=()=>{var oe;const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(null),[f,h]=b.useState(0),[p,g]=b.useState(null),[x,w]=b.useState(new Set),[E,A]=b.useState({}),[S,I]=b.useState("all"),[U,k]=b.useState("all"),[C,P]=b.useState("");b.useEffect(()=>{z()},[]),b.useEffect(()=>{let H=[...t];if(S!=="all"&&(H=H.filter(K=>{var se,q,re;return((se=K.paperType)==null?void 0:se.includes(S))||((re=(q=K.paperData)==null?void 0:q.type)==null?void 0:re.includes(S))})),U!=="all"&&(H=H.filter(K=>{var se;return((se=K.gradeEstimate)==null?void 0:se.toString())===U})),C){const K=C.toLowerCase();H=H.filter(se=>{var q,re,pe;return((q=se.userId)==null?void 0:q.toLowerCase().includes(K))||((re=se.id)==null?void 0:re.toLowerCase().includes(K))||((pe=E[se.userId])==null?void 0:pe.toLowerCase().includes(K))})}r(H)},[t,S,U,C,E]);const z=async()=>{s(!0);const[H,K]=await Promise.all([YA(),Ac()]),se={};K.forEach(q=>{se[q.uid||q.id]=q.displayName||q.email||"Unknown"}),A(se),e(H),s(!1)},[N,M]=b.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),T=(H,K,se)=>{M({isOpen:!0,title:H,message:K,onConfirm:se})},R=async H=>{T("Delete Exam Record","Are you sure you want to permanently delete this exam record? This action cannot be undone.",async()=>{await gy(H)&&(e(se=>se.filter(q=>q.id!==H)),w(se=>(se.delete(H),new Set(se)))),M(se=>({...se,isOpen:!1}))})},L=async()=>{x.size!==0&&T("Delete Multiple Records",`Are you sure you want to delete ${x.size} selected exam record${x.size>1?"s":""}? This action cannot be undone.`,async()=>{const H=Array.from(x).map(K=>gy(K));await Promise.all(H),e(K=>K.filter(se=>!x.has(se.id))),w(new Set),M(K=>({...K,isOpen:!1}))})},V=()=>{x.size===n.length?w(new Set):w(new Set(n.map(H=>H.id)))},$=H=>{w(K=>{const se=new Set(K);return se.has(H)?se.delete(H):se.add(H),se})},ne=H=>{d(H.id),h(H.totalScore||0)},me=async H=>{await u3(H,{totalScore:f})?(e(se=>se.map(q=>q.id===H?{...q,totalScore:f}:q)),d(null)):alert("Failed to update exam.")},Y=()=>{const H=["Exam ID","User ID","Paper Type","Score","Max Score","Grade","Date"],K=n.map(ye=>{var Ce,ke;return[ye.id,ye.userId,ye.paperType||((Ce=ye.paperData)==null?void 0:Ce.type)||"Unknown",ye.totalScore,ye.maxScore,ye.gradeEstimate||"N/A",(ke=ye.date)!=null&&ke.seconds?new Date(ye.date.seconds*1e3).toISOString():"Unknown"]}),se=[H,...K].map(ye=>ye.join(",")).join(`
`),q=new Blob([se],{type:"text/csv"}),re=URL.createObjectURL(q),pe=document.createElement("a");pe.href=re,pe.download=`exams_export_${new Date().toISOString().split("T")[0]}.csv`,pe.click(),URL.revokeObjectURL(re)};return a?c.jsx("div",{className:"p-8",children:"Loading records..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Exam Records"}),c.jsx("p",{className:"text-slate-500",children:"Global view of all assessment submissions."})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[x.size>0&&c.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[c.jsx(Aa,{size:18}),"Delete (",x.size,")"]}),c.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors",children:[c.jsx(eS,{size:18}),"Export CSV"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap bg-white p-4 rounded-xl border border-slate-200",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(x3,{size:18,className:"text-slate-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Filters:"})]}),c.jsxs("select",{value:S,onChange:H=>I(H.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Papers"}),c.jsx("option",{value:"1",children:"Paper 1"}),c.jsx("option",{value:"2",children:"Paper 2"})]}),c.jsxs("select",{value:U,onChange:H=>k(H.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Grades"}),[9,8,7,6,5,4,3,2,1].map(H=>c.jsxs("option",{value:H.toString(),children:["Grade ",H]},H))]}),c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search by name or user ID...",value:C,onChange:H=>P(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("span",{className:"text-sm text-slate-400",children:["Showing ",n.length," of ",t.length]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-4",children:c.jsx("input",{type:"checkbox",checked:x.size===n.length&&n.length>0,onChange:V,className:"w-4 h-4 rounded border-slate-300"})}),c.jsx("th",{className:"px-4 py-4",children:"User"}),c.jsx("th",{className:"px-4 py-4",children:"Paper"}),c.jsx("th",{className:"px-4 py-4",children:"Score"}),c.jsx("th",{className:"px-4 py-4",children:"Grade"}),c.jsx("th",{className:"px-4 py-4",children:"Date"}),c.jsx("th",{className:"px-4 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(H=>{var K,se,q,re;return c.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${x.has(H.id)?"bg-blue-50":""}`,children:[c.jsx("td",{className:"px-4 py-4",children:c.jsx("input",{type:"checkbox",checked:x.has(H.id),onChange:()=>$(H.id),className:"w-4 h-4 rounded border-slate-300"})}),c.jsxs("td",{className:"px-4 py-4",children:[c.jsx("div",{className:"text-sm font-medium text-slate-900",children:E[H.userId]||"Unknown"}),c.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:[(K=H.userId)==null?void 0:K.substring(0,10),"..."]})]}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ${(H.paperType||((se=H.paperData)==null?void 0:se.type)||"").includes("1")?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:[c.jsx(fc,{size:14}),(H.paperType||((q=H.paperData)==null?void 0:q.type)||"Unknown").includes("1")?"Paper 1":"Paper 2"]})}),c.jsx("td",{className:"px-4 py-4",children:l===H.id?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:f,onChange:pe=>h(Number(pe.target.value)),className:"w-16 border rounded px-2 py-1 text-sm"}),c.jsxs("span",{className:"text-slate-400 text-sm",children:["/ ",H.maxScore]})]}):c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H.totalScore/H.maxScore>.7?"bg-emerald-100 text-emerald-800":H.totalScore/H.maxScore>.4?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[H.totalScore," / ",H.maxScore]})}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Grade ",H.gradeEstimate||"N/A"]})}),c.jsx("td",{className:"px-4 py-4 text-sm text-slate-500",children:(re=H.date)!=null&&re.seconds?new Date(H.date.seconds*1e3).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("div",{className:"flex items-center justify-end gap-1",children:l===H.id?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>me(H.id),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded",children:c.jsx(XA,{size:18})}),c.jsx("button",{onClick:()=>d(null),className:"p-2 text-slate-400 hover:bg-slate-100 rounded",children:c.jsx(ri,{size:18})})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>g(H),className:"p-2 text-slate-500 hover:bg-slate-100 rounded",title:"View Details",children:c.jsx(nm,{size:18})}),c.jsx("button",{onClick:()=>ne(H),className:"p-2 text-blue-500 hover:bg-blue-50 rounded",title:"Edit Score",children:c.jsx(Yv,{size:18})}),c.jsx("button",{onClick:()=>R(H.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(Aa,{size:18})})]})})})]},H.id)}),n.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-slate-400",children:"No exam records found."})})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Exam Details"}),c.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(ri,{size:20})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"User ID"}),c.jsx("p",{className:"font-mono text-sm",children:p.userId})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Paper Type"}),c.jsx("p",{className:"font-medium",children:p.paperType||((oe=p.paperData)==null?void 0:oe.type)||"Unknown"})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Score"}),c.jsxs("p",{className:"font-bold text-lg",children:[p.totalScore," / ",p.maxScore]})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Grade Estimate"}),c.jsxs("p",{className:"font-bold text-lg",children:["Grade ",p.gradeEstimate||"N/A"]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Overall Feedback"}),c.jsx("p",{className:"text-slate-600 text-sm bg-slate-50 p-4 rounded-lg",children:p.overallFeedback||"No feedback available."})]}),p.questionResults&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Question Results"}),c.jsx("div",{className:"space-y-2",children:p.questionResults.map((H,K)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[c.jsxs("span",{className:"font-medium text-slate-700",children:["Q",H.questionId]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[H.score,"/",H.maxScore]}),c.jsxs("span",{className:"text-sm text-slate-500",children:["Level ",H.level||"N/A"]})]})]},K))})]})]})]})}),N.isOpen&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-in fade-in zoom-in duration-200",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx(Aa,{className:"text-red-600",size:24})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900",children:N.title})]}),c.jsx("p",{className:"text-slate-600 mb-6",children:N.message}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>M(H=>({...H,isOpen:!1})),className:"flex-1 px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-xl transition-colors",children:"Cancel"}),c.jsx("button",{onClick:N.onConfirm,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-xl transition-all shadow-lg shadow-red-500/25",children:"Delete"})]})]})})})]})},_ye=()=>{var A;const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(""),[f,h]=b.useState("all"),[p,g]=b.useState(null);b.useEffect(()=>{x()},[]),b.useEffect(()=>{let S=[...t];if(f!=="all"&&(S=S.filter(I=>I.method===f)),l){const I=l.toLowerCase();S=S.filter(U=>{var k,C;return((k=U.userId)==null?void 0:k.toLowerCase().includes(I))||((C=U.text)==null?void 0:C.toLowerCase().includes(I))})}r(S)},[t,f,l]);const x=async()=>{s(!0);try{const S=Dr(it(be,"labSessions"),Jh("date","desc"),Fv(100)),U=(await $n(S)).docs.map(k=>({id:k.id,...k.data()}));e(U)}catch(S){console.error("Failed to load lab sessions",S),e([])}s(!1)},w=async S=>{if(window.confirm("Delete this lab session?"))try{await cc(qe(be,"labSessions",S)),e(I=>I.filter(U=>U.id!==S))}catch(I){console.error("Failed to delete session",I),alert("Failed to delete session.")}},E=S=>{switch(S){case"analyzer":return c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Analyzer"});case"gym":return c.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Writing Gym"});default:return c.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-800 text-xs font-medium rounded-full",children:S})}};return a?c.jsx("div",{className:"p-8",children:"Loading lab sessions..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center flex-wrap gap-4",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Language Lab Sessions"}),c.jsx("p",{className:"text-slate-500",children:"View and manage student practice sessions."})]})}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap bg-white p-4 rounded-xl border border-slate-200",children:[c.jsxs("select",{value:f,onChange:S=>h(S.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Methods"}),c.jsx("option",{value:"analyzer",children:"Analyzer"}),c.jsx("option",{value:"gym",children:"Writing Gym"})]}),c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search by User ID or text...",value:l,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("span",{className:"text-sm text-slate-400",children:["Showing ",n.length," of ",t.length]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User ID"}),c.jsx("th",{className:"px-6 py-4",children:"Method"}),c.jsx("th",{className:"px-6 py-4",children:"Text Preview"}),c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(S=>{var I,U,k;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-slate-600",children:[(I=S.userId)==null?void 0:I.substring(0,12),"..."]}),c.jsx("td",{className:"px-6 py-4",children:E(S.method)}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-[300px] truncate",children:[(U=S.text)==null?void 0:U.substring(0,100),"..."]}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:(k=S.date)!=null&&k.seconds?new Date(S.date.seconds*1e3).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx("button",{onClick:()=>g(S),className:"p-2 text-slate-500 hover:bg-slate-100 rounded",title:"View Details",children:c.jsx(aX,{size:18})}),c.jsx("button",{onClick:()=>w(S.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(Aa,{size:18})})]})})]},S.id)}),n.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:"No lab sessions found."})})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Bn,{size:24,className:"text-indigo-500"}),c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Lab Session Details"})]}),c.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(ri,{size:20})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ku,{size:16,className:"text-slate-400"}),c.jsx("p",{className:"text-sm text-slate-500",children:"User ID"})]}),c.jsx("p",{className:"font-mono text-sm",children:p.userId})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(dc,{size:16,className:"text-slate-400"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Date"})]}),c.jsx("p",{className:"font-medium",children:(A=p.date)!=null&&A.seconds?new Date(p.date.seconds*1e3).toLocaleString():"Unknown"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Method"}),E(p.method)]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Submitted Text"}),c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg text-sm text-slate-700 whitespace-pre-wrap max-h-[200px] overflow-y-auto",children:p.text||"No text submitted."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"AI Feedback"}),c.jsx("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-slate-700 whitespace-pre-wrap max-h-[200px] overflow-y-auto",children:typeof p.feedback=="object"?JSON.stringify(p.feedback,null,2):p.feedback||"No feedback available."})]})]})]})})]})},Eye=()=>{var M;const t=Ft(),e=Xa.includes(((M=_e.currentUser)==null?void 0:M.email)||""),[n,r]=b.useState({adminEmails:[...ti],featureFlags:{paper1Enabled:!0,paper2Enabled:!0,languageLabEnabled:!0},apiKeyConfigured:!0}),[a,s]=b.useState(!0),[l,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(""),[x,w]=b.useState([]),[E,A]=b.useState(null),[S,I]=b.useState("checking");b.useEffect(()=>{k(),U()},[]);const U=async()=>{I("checking");try{const T=await fetch("/api/debug-config");T.ok?(await T.json()).hasApiKey?I("active"):I("none"):I("invalid")}catch(T){console.error("Failed to check API key status:",T),I("invalid")}},k=async()=>{s(!0);try{const T=qe(be,"systemSettings","config"),R=await Mr(T);if(R.exists()){const V=R.data();r($=>{var ne,me,Y;return{adminEmails:V.adminEmails||[...ti],featureFlags:{paper1Enabled:((ne=V.featureFlags)==null?void 0:ne.paper1Enabled)??!0,paper2Enabled:((me=V.featureFlags)==null?void 0:me.paper2Enabled)??!0,languageLabEnabled:((Y=V.featureFlags)==null?void 0:Y.languageLabEnabled)??!0},apiKeyConfigured:V.apiKeyConfigured??!0}})}const L=await Ac();w(L)}catch(T){console.error("Failed to load settings",T)}s(!1)},C=async()=>{h(!0);try{const T=qe(be,"systemSettings","config");await Qa(T,n,{merge:!0}),A({type:"success",text:"Settings saved successfully!"}),setTimeout(()=>A(null),3e3)}catch(T){console.error("Failed to save settings",T),A({type:"error",text:"Failed to save settings. Check permissions."})}h(!1)},P=async()=>{var T,R,L;if(!p){A({type:"error",text:"Please select a user."});return}h(!0);try{const V=x.find($=>$.id===p);await vr(qe(be,"users",p),{isAdmin:!0,adminPromotedAt:or(),adminPromotedBy:(T=_e.currentUser)==null?void 0:T.uid}),await xr(it(be,"activityLogs"),{action:"Admin Role Assigned",actionType:"update",targetType:"user",targetId:p,details:`Promoted user ${(V==null?void 0:V.displayName)||(V==null?void 0:V.email)} to admin`,userId:((R=_e.currentUser)==null?void 0:R.uid)||"unknown",userEmail:((L=_e.currentUser)==null?void 0:L.email)||"unknown",timestamp:or()}),w($=>$.map(ne=>ne.id===p?{...ne,isAdmin:!0}:ne)),g(""),A({type:"success",text:` ${(V==null?void 0:V.displayName)||"User"} promoted to Admin successfully!`})}catch(V){console.error("Error adding admin:",V),A({type:"error",text:"Failed to add admin."})}h(!1)},z=async T=>{var L,V,$,ne;if(T===((L=_e.currentUser)==null?void 0:L.uid)){A({type:"error",text:"You cannot remove yourself."});return}const R=x.find(me=>me.id===T);if(R&&Xa.includes(R.email)){A({type:"error",text:"Cannot remove a Super Admin."});return}if(window.confirm(`Are you sure you want to remove admin access for ${(R==null?void 0:R.displayName)||"this user"}?`)){h(!0);try{await vr(qe(be,"users",T),{isAdmin:!1,adminRemovedAt:or(),adminRemovedBy:(V=_e.currentUser)==null?void 0:V.uid}),await xr(it(be,"activityLogs"),{action:"Admin Role Removed",actionType:"update",targetType:"user",targetId:T,details:`Removed admin access from ${(R==null?void 0:R.displayName)||(R==null?void 0:R.email)}`,userId:(($=_e.currentUser)==null?void 0:$.uid)||"unknown",userEmail:((ne=_e.currentUser)==null?void 0:ne.email)||"unknown",timestamp:or()}),w(me=>me.map(Y=>Y.id===T?{...Y,isAdmin:!1}:Y)),A({type:"success",text:` Admin role removed from ${(R==null?void 0:R.displayName)||"user"}.`})}catch(me){console.error("Error removing admin:",me),A({type:"error",text:"Failed to remove admin."})}h(!1)}},N=T=>{r(R=>({...R,featureFlags:{...R.featureFlags,[T]:!R.featureFlags[T]}}))};return a?c.jsx("div",{className:"p-8",children:"Loading settings..."}):e?c.jsxs("div",{className:"space-y-8 max-w-4xl",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"System Settings"}),c.jsx("p",{className:"text-slate-500",children:"Manage platform configuration and access control."})]}),E&&c.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl ${E.type==="success"?"bg-emerald-50 text-emerald-800":"bg-red-50 text-red-800"}`,children:[E.type==="success"?c.jsx(Wi,{size:20}):c.jsx(Gu,{size:20}),c.jsx("span",{children:E.text})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:c.jsx(Sa,{size:20,className:"text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-slate-900",children:"Admin Management"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Manage users with Admin access."})]})]}),c.jsx("div",{className:"space-y-3 mb-6",children:x.filter(T=>T.isAdmin).length===0?c.jsx("p",{className:"text-sm text-slate-500 italic p-2",children:"No admins found in database."}):c.jsx("div",{className:"space-y-2",children:x.filter(T=>T.isAdmin).map(T=>{const R=Xa.includes(T.email||"");return c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${R?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm ${R?"bg-gradient-to-br from-amber-500 to-orange-600":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:R?c.jsx(JA,{size:16}):c.jsx(Yi,{size:16})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-sm font-bold text-slate-900",children:T.displayName||"No Name"}),R&&c.jsx("span",{className:"px-2 py-1 bg-amber-200 text-amber-900 text-xs font-bold rounded-full",children:"Super Admin"})]}),c.jsx("p",{className:"text-xs text-slate-500",children:T.email})]})]}),!R&&c.jsx("button",{onClick:()=>z(T.id),disabled:f,className:"p-2 text-red-500 hover:bg-red-100 rounded-lg disabled:opacity-50 transition-colors",title:"Remove Admin Access",children:c.jsx(ri,{size:18})})]},T.id)})})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:p,onChange:T=>g(T.target.value),className:"flex-1 px-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",disabled:f,children:[c.jsx("option",{value:"",children:"Select a user to make admin..."}),x.filter(T=>!T.isAdmin&&T.isApproved).sort((T,R)=>(T.email||"").localeCompare(R.email||"")).map(T=>{const R=T.displayName?`${T.displayName} (${T.email||"No Email"})`:T.email||`Unnamed User (ID: ${T.id.slice(0,8)}...)`;return c.jsx("option",{value:T.id,children:R},T.id)})]}),c.jsxs("button",{onClick:P,disabled:!p||f,className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg font-medium flex items-center gap-2 disabled:bg-indigo-300",children:[c.jsx(nS,{size:18}),"Add Role"]})]}),c.jsxs("p",{className:"mt-4 text-xs text-blue-600 bg-blue-50 p-3 rounded-lg",children:[c.jsx("strong",{children:"Note:"})," Admins are now managed via the ",c.jsx("code",{children:"isAdmin"})," flag on their user profile. Detailed permissions are enforced by database rules."]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:c.jsx(aS,{size:20,className:"text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-slate-900",children:"Feature Flags"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Enable or disable platform features."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Paper 1 (Fiction)"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Allow students to take Paper 1 exams"})]}),c.jsx("button",{onClick:()=>N("paper1Enabled"),className:`p-2 rounded-lg transition-colors ${n.featureFlags.paper1Enabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:n.featureFlags.paper1Enabled?c.jsx(pw,{size:28}):c.jsx(mw,{size:28})})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Paper 2 (Non-Fiction)"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Allow students to take Paper 2 exams"})]}),c.jsx("button",{onClick:()=>N("paper2Enabled"),className:`p-2 rounded-lg transition-colors ${n.featureFlags.paper2Enabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:n.featureFlags.paper2Enabled?c.jsx(pw,{size:28}):c.jsx(mw,{size:28})})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Language Lab"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Enable the Language Lab practice area"})]}),c.jsx("button",{onClick:()=>N("languageLabEnabled"),className:`p-2 rounded-lg transition-colors ${n.featureFlags.languageLabEnabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:n.featureFlags.languageLabEnabled?c.jsx(pw,{size:28}):c.jsx(mw,{size:28})})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:c.jsx(FQ,{size:20,className:"text-amber-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-slate-900",children:"API Configuration"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Manage API keys and external services."})]})]}),c.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Gemini API Key"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Used for AI-powered exam generation and marking"})]}),c.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${S==="checking"?"bg-slate-100 text-slate-600":S==="active"?"bg-emerald-100 text-emerald-800":S==="none"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:[S==="checking"&&" Checking...",S==="active"&&" Active",S==="none"&&" Not Configured",S==="invalid"&&" Server Error"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("input",{type:l?"text":"password",id:"apiKeyInput",defaultValue:localStorage.getItem("gemini_api_key")||"",placeholder:"Enter your Gemini API key...",className:"w-full px-4 py-2 pr-10 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 font-mono"}),c.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:l?c.jsx(v3,{size:18}):c.jsx(nm,{size:18})})]}),c.jsxs("button",{onClick:async()=>{var L,V,$;const T=document.getElementById("apiKeyInput"),R=(L=T==null?void 0:T.value)==null?void 0:L.trim();if(!R){A({type:"error",text:"Please enter a valid API key."});return}A({type:"success",text:" Saving API key..."});try{const ne=qe(be,"systemSettings","config");await Qa(ne,{geminiApiKey:R},{merge:!0}),localStorage.setItem("gemini_api_key",R),await xr(it(be,"activityLogs"),{action:"API Key Updated",actionType:"update",targetType:"system",targetId:"gemini-api-key",details:"Gemini API key updated by super admin",userId:((V=_e.currentUser)==null?void 0:V.uid)||"unknown",userEmail:(($=_e.currentUser)==null?void 0:$.email)||"unknown",timestamp:or()}),A({type:"success",text:" API key saved successfully! Restart the server to apply changes."}),setTimeout(()=>{A(null),U()},3e3)}catch(ne){console.error("Failed to save API key:",ne),A({type:"error",text:"Failed to save API key. Check Firestore permissions."})}},className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-medium flex items-center gap-2",children:[c.jsx(by,{size:18}),"Save Key"]})]}),c.jsxs("p",{className:"text-xs text-slate-400",children:["Your API key is stored in Firestore (for server access) and browser local storage.",c.jsx("button",{onClick:async()=>{try{const T=qe(be,"systemSettings","config");await Qa(T,{geminiApiKey:""},{merge:!0}),localStorage.removeItem("gemini_api_key"),document.getElementById("apiKeyInput").value="",A({type:"success",text:"API key removed from server and local storage."}),setTimeout(()=>A(null),3e3)}catch(T){console.error("Failed to clear API key:",T),A({type:"error",text:"Failed to clear API key from server."})}},className:"ml-2 text-red-500 hover:underline",children:"Clear saved key"})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:C,disabled:f,className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold flex items-center gap-2 disabled:opacity-50",children:[c.jsx(by,{size:20}),f?"Saving...":"Save Settings"]})})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center",children:[c.jsx("div",{className:"p-4 bg-red-100 rounded-full mb-4",children:c.jsx(wX,{size:48,className:"text-red-500"})}),c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"You don't have permission to access System Settings."}),c.jsx("p",{className:"text-sm text-slate-400",children:"Only Super Administrators can modify these settings."}),c.jsx("button",{onClick:()=>t("/admin"),className:"mt-6 px-6 py-2 bg-slate-800 hover:bg-slate-900 text-white rounded-lg font-medium",children:"Return to Dashboard"})]})},Aye=()=>{const t=Ft(),[e,n]=b.useState(""),[r,a]=b.useState(""),[s,l]=b.useState(!1),[d,f]=b.useState(""),h=async p=>{p.preventDefault(),f(""),l(!0);try{const g=await KA(e,r);g&&ti.includes(g.email||"")?t("/admin"):(f("Unauthorized access. This area is reserved for administrators."),await fd())}catch(g){f("Authentication failed. Please check your credentials."),console.error(g)}finally{l(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#0f172a] relative overflow-hidden font-sans",children:[c.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-600/10 rounded-full blur-[120px]"}),c.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[120px]"}),c.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-indigo-500/20 mb-6",children:c.jsx(Yi,{size:32})}),c.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight mb-2",children:"Admin Control"}),c.jsx("p",{className:"text-slate-400",children:"Secure access to the Go GCSE platform"})]}),c.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-white/10 p-8 rounded-3xl shadow-2xl",children:[d&&c.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 text-red-400 text-sm",children:[c.jsx(Gu,{size:18}),c.jsx("span",{children:d})]}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Administrator Email"}),c.jsxs("div",{className:"relative group",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:c.jsx(oX,{size:18})}),c.jsx("input",{type:"email",value:e,onChange:p=>n(p.target.value),placeholder:"admin@example.com",required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-900/50 border border-white/10 rounded-2xl text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all font-medium"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Secure Password"}),c.jsxs("div",{className:"relative group",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:c.jsx(ah,{size:18})}),c.jsx("input",{type:"password",value:r,onChange:p=>a(p.target.value),placeholder:"",required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-900/50 border border-white/10 rounded-2xl text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all font-medium"})]})]}),c.jsx("button",{type:"submit",disabled:s,className:`w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white rounded-2xl font-bold shadow-lg shadow-blue-600/20 transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?c.jsx(Ea,{size:20,className:"animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"Authorize Access"}),c.jsx(Gv,{size:20})]})})]}),c.jsx("div",{className:"mt-8 pt-8 border-t border-white/5 text-center",children:c.jsx("button",{onClick:()=>t("/login"),className:"text-sm text-slate-500 hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto",children:"Return to Student Login"})})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx("p",{className:"text-xs text-slate-600 uppercase tracking-widest font-bold",children:"Go GCSE Admin v1.0.2"})})]})]})},Sye=()=>{var w;const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(""),[l,d]=b.useState(!0),[f,h]=b.useState(!1),p=Xa.includes(((w=_e.currentUser)==null?void 0:w.email)||"");b.useEffect(()=>{g()},[]),b.useEffect(()=>{if(!Array.isArray(t))return;const E=a.toLowerCase();r(t.filter(A=>A&&((A.email||"").toLowerCase().includes(E)||(A.displayName||"").toLowerCase().includes(E))))},[a,t]);const g=async()=>{d(!0);const E=await Ac();E.sort((A,S)=>{const I=(A.isAdmin?2:0)+(A.isTeacher?1:0);return(S.isAdmin?2:0)+(S.isTeacher?1:0)-I}),e(E),d(!1)},x=async(E,A,S)=>{var C,P;if(!p){alert("Only super admins can change user roles.");return}const I=t.find(z=>z.id===E);if(A==="admin"&&Xa.includes((I==null?void 0:I.email)||"")){alert("Cannot modify Super Admin roles.");return}const U=A==="admin"?"Admin":"Teacher";if(confirm(`Are you sure you want to ${S?"remove":"assign"} the ${U} role for ${(I==null?void 0:I.displayName)||"this user"}?`)){h(!0);try{const z=!S,N={};A==="admin"?N.isAdmin=z:N.isTeacher=z,N.updatedAt=or(),await vr(qe(be,"users",E),N),await xr(it(be,"activityLogs"),{action:`${U} Role ${z?"Assigned":"Removed"}`,actionType:"update",targetType:"user",targetId:E,details:`User ${U.toLowerCase()} role ${z?"enabled":"disabled"} for ${I==null?void 0:I.email}`,userId:((C=_e.currentUser)==null?void 0:C.uid)||"unknown",userEmail:((P=_e.currentUser)==null?void 0:P.email)||"unknown",timestamp:or()});const M=t.map(T=>T.id===E?A==="admin"?{...T,isAdmin:z}:{...T,isTeacher:z}:T);e(M)}catch(z){console.error("Failed to toggle role:",z),alert("Failed to update user role")}finally{h(!1)}}};return l?c.jsx("div",{className:"p-8",children:"Loading staff directory..."}):p?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin & Staff Directory"}),c.jsx("p",{className:"text-slate-500",children:"Manage elevated privileges for admins and teachers."})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:E=>s(E.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-edexcel-teal w-64"})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User"}),c.jsx("th",{className:"px-6 py-4",children:"Email"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Admin Role"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Teacher Role"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(E=>{const A=Xa.includes(E.email||"");return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 overflow-hidden font-bold",children:E.photoURL?c.jsx("img",{src:E.photoURL,className:"w-full h-full object-cover",alt:""}):(E.displayName||E.email||"?")[0].toUpperCase()}),c.jsx("div",{children:c.jsxs("div",{className:"font-medium text-slate-900 flex items-center gap-2",children:[E.displayName||"Unnamed User",A&&c.jsx(JA,{size:14,className:"text-amber-500"})]})})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:E.email}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("button",{onClick:()=>x(E.id,"admin",E.isAdmin),disabled:f||A,className:`inline-flex items-center justify-center p-2 rounded-lg transition-all ${E.isAdmin?"bg-red-100 text-red-600 hover:bg-red-200":"bg-slate-100 text-slate-300 hover:bg-slate-200"} ${A?"opacity-50 cursor-not-allowed":""}`,title:A?"Super Admins are always Admins":"Toggle Admin Role",children:c.jsx(Yi,{size:20,className:E.isAdmin?"fill-current":""})})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("button",{onClick:()=>x(E.id,"teacher",E.isTeacher),disabled:f,className:`inline-flex items-center justify-center p-2 rounded-lg transition-all ${E.isTeacher?"bg-blue-100 text-blue-600 hover:bg-blue-200":"bg-slate-100 text-slate-300 hover:bg-slate-200"}`,title:"Toggle Teacher Role",children:c.jsx(Wv,{size:20,className:E.isTeacher?"fill-current":""})})})]},E.id)}),n.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-400",children:['No users found matching "',a,'"']})})]})]})})]}):c.jsx("div",{className:"p-8 text-center text-red-500",children:"Access Denied: Super Admin privileges required."})},jye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(!1),[f,h]=b.useState(null),[p,g]=b.useState({title:"",message:"",type:"info",active:!0,startDate:"",endDate:""}),x=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",w=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500",A=e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-200 text-slate-900";b.useEffect(()=>{S()},[]);const S=async()=>{s(!0);try{const N=Dr(it(be,"announcements"),Jh("createdAt","desc")),T=(await $n(N)).docs.map(R=>({id:R.id,...R.data()}));r(T)}catch(N){console.error("Failed to load announcements",N)}s(!1)},I=async()=>{var N;if(!p.title||!p.message){alert("Please fill in title and message");return}try{const M={title:p.title,message:p.message,type:p.type,active:p.active,startDate:p.startDate?at.fromDate(new Date(p.startDate)):null,endDate:p.endDate?at.fromDate(new Date(p.endDate)):null,createdAt:at.now(),createdBy:((N=_e.currentUser)==null?void 0:N.email)||"unknown"};f?await vr(qe(be,"announcements",f),M):await xr(it(be,"announcements"),M),d(!1),h(null),P(),S()}catch(M){console.error("Failed to save announcement",M),alert("Failed to save announcement")}},U=N=>{g({title:N.title,message:N.message,type:N.type,active:N.active,startDate:N.startDate?new Date(N.startDate.seconds*1e3).toISOString().split("T")[0]:"",endDate:N.endDate?new Date(N.endDate.seconds*1e3).toISOString().split("T")[0]:""}),h(N.id),d(!0)},k=async N=>{if(window.confirm("Delete this announcement?"))try{await cc(qe(be,"announcements",N)),r(M=>M.filter(T=>T.id!==N))}catch(M){console.error("Failed to delete",M)}},C=async(N,M)=>{try{await vr(qe(be,"announcements",N),{active:!M}),r(T=>T.map(R=>R.id===N?{...R,active:!M}:R))}catch(T){console.error("Failed to toggle",T)}},P=()=>{g({title:"",message:"",type:"info",active:!0,startDate:"",endDate:""})},z=N=>{const M={info:"bg-blue-100 text-blue-800",warning:"bg-amber-100 text-amber-800",success:"bg-emerald-100 text-emerald-800",error:"bg-red-100 text-red-800"};return M[N]||M.info};return a?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading announcements..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${w}`,children:"Announcements"}),c.jsx("p",{className:E,children:"Manage platform-wide announcements for students."})]}),c.jsxs("button",{onClick:()=>{P(),h(null),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[c.jsx(nS,{size:18}),"New Announcement"]})]}),c.jsx("div",{className:"space-y-4",children:n.length===0?c.jsxs("div",{className:`text-center py-12 ${x} rounded-xl border`,children:[c.jsx(m3,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No announcements yet."})]}):n.map(N=>c.jsx("div",{className:`p-5 rounded-xl border ${x} ${N.active?"":"opacity-60"}`,children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:`font-bold ${w}`,children:N.title}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${z(N.type)}`,children:N.type}),N.active?c.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-emerald-100 text-emerald-800",children:"Active"}):c.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-slate-100 text-slate-600",children:"Inactive"})]}),c.jsx("p",{className:`text-sm ${E} mb-3`,children:N.message}),c.jsxs("div",{className:`flex items-center gap-4 text-xs ${E}`,children:[c.jsxs("span",{children:["Created by ",N.createdBy]}),N.startDate&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(dc,{size:12}),"Starts: ",new Date(N.startDate.seconds*1e3).toLocaleDateString()]}),N.endDate&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(dc,{size:12}),"Ends: ",new Date(N.endDate.seconds*1e3).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>C(N.id,N.active),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,title:N.active?"Deactivate":"Activate",children:N.active?c.jsx(v3,{size:18,className:E}):c.jsx(nm,{size:18,className:E})}),c.jsx("button",{onClick:()=>U(N),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:c.jsx(Yv,{size:18,className:"text-blue-500"})}),c.jsx("button",{onClick:()=>k(N.id),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:c.jsx(Aa,{size:18,className:"text-red-500"})})]})]})},N.id))}),l&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:`rounded-2xl shadow-2xl max-w-lg w-full ${e?"bg-slate-800":"bg-white"}`,children:[c.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${e?"border-slate-700":"border-slate-100"}`,children:[c.jsx("h2",{className:`text-lg font-bold ${w}`,children:f?"Edit Announcement":"New Announcement"}),c.jsx("button",{onClick:()=>d(!1),className:`p-2 rounded-lg ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:c.jsx(ri,{size:20,className:E})})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Title"}),c.jsx("input",{type:"text",value:p.title,onChange:N=>g(M=>({...M,title:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`,placeholder:"Announcement title..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Message"}),c.jsx("textarea",{value:p.message,onChange:N=>g(M=>({...M,message:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`,placeholder:"Announcement message...",rows:3})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Type"}),c.jsxs("select",{value:p.type,onChange:N=>g(M=>({...M,type:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`,children:[c.jsx("option",{value:"info",children:"Info"}),c.jsx("option",{value:"success",children:"Success"}),c.jsx("option",{value:"warning",children:"Warning"}),c.jsx("option",{value:"error",children:"Error"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",checked:p.active,onChange:N=>g(M=>({...M,active:N.target.checked})),className:"w-4 h-4"}),c.jsx("label",{className:`text-sm ${w}`,children:"Active immediately"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Start Date (optional)"}),c.jsx("input",{type:"date",value:p.startDate,onChange:N=>g(M=>({...M,startDate:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"End Date (optional)"}),c.jsx("input",{type:"date",value:p.endDate,onChange:N=>g(M=>({...M,endDate:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`})]})]})]}),c.jsxs("div",{className:`p-5 border-t flex justify-end gap-3 ${e?"border-slate-700":"border-slate-100"}`,children:[c.jsx("button",{onClick:()=>d(!1),className:`px-4 py-2 rounded-lg font-medium ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:"Cancel"}),c.jsxs("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium flex items-center gap-2",children:[c.jsx(XA,{size:18}),f?"Update":"Create"]})]})]})})]})},Nye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState("all"),[f,h]=b.useState(""),[p,g]=b.useState("7"),x=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",w=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500";b.useEffect(()=>{A()},[p]);const A=async()=>{s(!0);try{const k=parseInt(p),C=new Date;C.setDate(C.getDate()-k);const P=Dr(it(be,"activityLogs"),Ds("timestamp",">=",at.fromDate(C)),Jh("timestamp","desc"),Fv(200)),N=(await $n(P)).docs.map(M=>({id:M.id,...M.data()}));r(N)}catch(k){console.error("Failed to load activity logs",k),r([])}s(!1)},S=n.filter(k=>{var C,P,z;if(l!=="all"&&k.actionType!==l)return!1;if(f){const N=f.toLowerCase();return((C=k.userEmail)==null?void 0:C.toLowerCase().includes(N))||((P=k.action)==null?void 0:P.toLowerCase().includes(N))||((z=k.details)==null?void 0:z.toLowerCase().includes(N))}return!0}),I=k=>{switch(k){case"login":return c.jsx(xy,{size:16,className:"text-green-500"});case"logout":return c.jsx(hd,{size:16,className:"text-slate-400"});case"create":return c.jsx(Yv,{size:16,className:"text-blue-500"});case"update":return c.jsx(aS,{size:16,className:"text-amber-500"});case"delete":return c.jsx(Aa,{size:16,className:"text-red-500"});case"setting":return c.jsx(Yi,{size:16,className:"text-purple-500"});default:return c.jsx(yy,{size:16,className:E})}},U=k=>{const C={login:"bg-green-100 text-green-800",logout:"bg-slate-100 text-slate-600",create:"bg-blue-100 text-blue-800",update:"bg-amber-100 text-amber-800",delete:"bg-red-100 text-red-800",setting:"bg-purple-100 text-purple-800",other:"bg-slate-100 text-slate-600"};return C[k]||C.other};return a?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading activity logs..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${w}`,children:"Activity Log"}),c.jsx("p",{className:E,children:"Track all admin actions and system events."})]}),c.jsxs("div",{className:`flex items-center gap-4 flex-wrap p-4 rounded-xl border ${x}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(x3,{size:18,className:E}),c.jsx("span",{className:`text-sm font-medium ${E}`,children:"Filters:"})]}),c.jsxs("select",{value:l,onChange:k=>d(k.target.value),className:`px-3 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-200"}`,children:[c.jsx("option",{value:"all",children:"All Actions"}),c.jsx("option",{value:"login",children:"Logins"}),c.jsx("option",{value:"logout",children:"Logouts"}),c.jsx("option",{value:"create",children:"Creates"}),c.jsx("option",{value:"update",children:"Updates"}),c.jsx("option",{value:"delete",children:"Deletes"}),c.jsx("option",{value:"setting",children:"Settings"})]}),c.jsxs("select",{value:p,onChange:k=>g(k.target.value),className:`px-3 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-200"}`,children:[c.jsx("option",{value:"1",children:"Last 24 hours"}),c.jsx("option",{value:"7",children:"Last 7 days"}),c.jsx("option",{value:"30",children:"Last 30 days"}),c.jsx("option",{value:"90",children:"Last 90 days"})]}),c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2",size:18}),c.jsx("input",{type:"text",placeholder:"Search by email or action...",value:f,onChange:k=>h(k.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-200"}`})]}),c.jsxs("span",{className:`text-sm ${E}`,children:[S.length," events"]})]}),c.jsx("div",{className:`rounded-xl border overflow-hidden ${x}`,children:S.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(yy,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No activity logs found."}),c.jsx("p",{className:`text-sm ${E} mt-2`,children:"Activity will be recorded as admins perform actions."})]}):c.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:S.map(k=>{var C,P;return c.jsx("div",{className:`p-4 ${e?"hover:bg-slate-700/50":"hover:bg-slate-50"} transition-colors`,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`p-2 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:I(k.actionType)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`font-medium ${w}`,children:k.action}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${U(k.actionType)}`,children:k.actionType})]}),c.jsxs("div",{className:`flex items-center gap-3 text-sm ${E}`,children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ku,{size:14}),k.userEmail]}),k.targetType&&c.jsxs("span",{children:["Target: ",k.targetType," ",k.targetId?`(${k.targetId.substring(0,8)}...)`:""]})]}),k.details&&c.jsx("p",{className:`text-sm mt-1 ${E}`,children:k.details})]}),c.jsxs("div",{className:`text-right text-sm ${E}`,children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(dc,{size:14}),(C=k.timestamp)!=null&&C.seconds?new Date(k.timestamp.seconds*1e3).toLocaleDateString():"Unknown"]}),c.jsx("div",{className:"text-xs mt-1",children:(P=k.timestamp)!=null&&P.seconds?new Date(k.timestamp.seconds*1e3).toLocaleTimeString():""}),k.ipAddress&&c.jsx("div",{className:"text-xs mt-1 font-mono",children:k.ipAddress})]})]})},k.id)})})})]})},Tye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(""),[f,h]=b.useState(null),[p,g]=b.useState(null),x=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",w=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500";b.useEffect(()=>{A()},[]);const A=async()=>{s(!0);try{const P=["exam-images","pdfs","uploads"],z=[];for(const N of P)try{const M=py(yh,N),T=await OY(M);for(const R of T.items)try{const L=await qA(R),V=await IY(R);z.push({name:R.name,fullPath:R.fullPath,url:L,size:V.size,contentType:V.contentType,timeCreated:V.timeCreated})}catch{}}catch{}r(z.sort((N,M)=>new Date(M.timeCreated||0).getTime()-new Date(N.timeCreated||0).getTime()))}catch(P){console.error("Failed to load assets",P)}s(!1)},S=async P=>{if(window.confirm(`Delete "${P.name}"? This cannot be undone.`)){g(P.fullPath);try{const z=py(yh,P.fullPath);await kY(z),r(N=>N.filter(M=>M.fullPath!==P.fullPath)),(f==null?void 0:f.fullPath)===P.fullPath&&h(null)}catch(z){console.error("Failed to delete asset",z),alert("Failed to delete asset")}g(null)}},I=P=>P?P<1024?`${P} B`:P<1024*1024?`${(P/1024).toFixed(1)} KB`:`${(P/(1024*1024)).toFixed(1)} MB`:"Unknown",U=n.filter(P=>P.name.toLowerCase().includes(l.toLowerCase())),k=P=>P==null?void 0:P.startsWith("image/"),C=P=>P==="application/pdf";return a?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading assets..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${w}`,children:"Asset Management"}),c.jsx("p",{className:E,children:"View and manage uploaded files and generated images."})]}),c.jsxs("button",{onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(rS,{size:18}),"Refresh"]})]}),c.jsxs("div",{className:`flex items-center gap-4 flex-wrap p-4 rounded-xl border ${x}`,children:[c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2",size:18}),c.jsx("input",{type:"text",placeholder:"Search by filename...",value:l,onChange:P=>d(P.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-200"}`})]}),c.jsxs("span",{className:`text-sm ${E}`,children:[U.length," files  ",I(U.reduce((P,z)=>P+(z.size||0),0))," total"]})]}),U.length===0?c.jsxs("div",{className:`text-center py-12 ${x} rounded-xl border`,children:[c.jsx(fg,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No assets found."})]}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:U.map(P=>c.jsxs("div",{className:`rounded-xl border overflow-hidden cursor-pointer transition-transform hover:scale-[1.02] ${x} ${(f==null?void 0:f.fullPath)===P.fullPath?"ring-2 ring-indigo-500":""}`,onClick:()=>h(P),children:[c.jsx("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700 flex items-center justify-center overflow-hidden",children:k(P.contentType)?c.jsx("img",{src:P.url,alt:P.name,className:"w-full h-full object-cover"}):C(P.contentType)?c.jsxs("div",{className:"text-red-500",children:[c.jsx(fg,{size:48}),c.jsx("p",{className:"text-xs mt-2",children:"PDF"})]}):c.jsx(fg,{size:48,className:E})}),c.jsxs("div",{className:"p-3",children:[c.jsx("p",{className:`text-sm font-medium truncate ${w}`,children:P.name}),c.jsx("p",{className:`text-xs ${E}`,children:I(P.size)})]})]},P.fullPath))}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>h(null),children:c.jsxs("div",{className:`rounded-2xl shadow-2xl max-w-2xl w-full ${e?"bg-slate-800":"bg-white"}`,onClick:P=>P.stopPropagation(),children:[c.jsx("div",{className:"aspect-video bg-slate-100 dark:bg-slate-700 flex items-center justify-center overflow-hidden rounded-t-2xl",children:k(f.contentType)?c.jsx("img",{src:f.url,alt:f.name,className:"max-w-full max-h-full object-contain"}):c.jsx(fg,{size:64,className:E})}),c.jsxs("div",{className:"p-5",children:[c.jsx("h3",{className:`text-lg font-bold ${w} mb-3`,children:f.name}),c.jsxs("div",{className:`grid grid-cols-2 gap-4 text-sm ${E} mb-4`,children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Size:"})," ",I(f.size)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Type:"})," ",f.contentType||"Unknown"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Path:"})," ",f.fullPath]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Created:"})," ",f.timeCreated?new Date(f.timeCreated).toLocaleDateString():"Unknown"]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium",children:[c.jsx(AQ,{size:18}),"Open"]}),c.jsxs("a",{href:f.url,download:f.name,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(eS,{size:18}),"Download"]}),c.jsxs("button",{onClick:()=>S(f),disabled:p===f.fullPath,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium disabled:opacity-50",children:[c.jsx(Aa,{size:18}),p===f.fullPath?"Deleting...":"Delete"]})]})]})]})})]})},Cye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=b.useState([]),[a,s]=b.useState([]),[l,d]=b.useState(!0),[f,h]=b.useState("logins"),[p,g]=b.useState(""),x=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",w=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500";b.useEffect(()=>{A()},[]);const A=async()=>{d(!0);try{try{const P=Dr(it(be,"loginEvents"),Jh("timestamp","desc"),Fv(100)),z=await $n(P);r(z.docs.map(N=>({id:N.id,...N.data()})))}catch{r([])}const C=await Ac();s(C.map(P=>{var z;return{id:P.id,email:P.email,displayName:P.displayName,lastLogin:(z=P.metadata)!=null&&z.lastSignInTime?at.fromDate(new Date(P.metadata.lastSignInTime)):null,failedAttempts:P.failedAttempts||0,disabled:P.disabled||!1}}))}catch(C){console.error("Failed to load security data",C)}d(!1)},S=async(C,P)=>{if(window.confirm(`${P?"Enable":"Disable"} this user?`))try{const z=qe(be,"users",C);await vr(z,{disabled:!P}),s(N=>N.map(M=>M.id===C?{...M,disabled:!P}:M))}catch(z){console.error("Failed to toggle user status",z),alert("Failed to update user status")}},I=n.filter(C=>{var P;return f==="failed"&&C.success?!1:p?(P=C.email)==null?void 0:P.toLowerCase().includes(p.toLowerCase()):!0}),U=a.filter(C=>{var P,z;return p?((P=C.email)==null?void 0:P.toLowerCase().includes(p.toLowerCase()))||((z=C.displayName)==null?void 0:z.toLowerCase().includes(p.toLowerCase())):!0}),k={totalLogins:n.filter(C=>C.success).length,failedAttempts:n.filter(C=>!C.success).length,activeUsers:a.filter(C=>!C.disabled).length,disabledUsers:a.filter(C=>C.disabled).length};return l?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading security data..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${w}`,children:"Security Center"}),c.jsx("p",{className:E,children:"Monitor login activity and manage user access."})]}),c.jsxs("button",{onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(rS,{size:18}),"Refresh"]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:`p-4 rounded-xl border ${x}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:c.jsx(xy,{size:20,className:"text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${w}`,children:k.totalLogins}),c.jsx("p",{className:`text-sm ${E}`,children:"Successful Logins"})]})]})}),c.jsx("div",{className:`p-4 rounded-xl border ${x}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:c.jsx(Mi,{size:20,className:"text-red-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${w}`,children:k.failedAttempts}),c.jsx("p",{className:`text-sm ${E}`,children:"Failed Attempts"})]})]})}),c.jsx("div",{className:`p-4 rounded-xl border ${x}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(Ku,{size:20,className:"text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${w}`,children:k.activeUsers}),c.jsx("p",{className:`text-sm ${E}`,children:"Active Users"})]})]})}),c.jsx("div",{className:`p-4 rounded-xl border ${x}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:c.jsx(nQ,{size:20,className:"text-slate-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${w}`,children:k.disabledUsers}),c.jsx("p",{className:`text-sm ${E}`,children:"Disabled Users"})]})]})})]}),c.jsx("div",{className:`flex gap-1 p-1 rounded-xl ${e?"bg-slate-700":"bg-slate-100"}`,children:[{id:"logins",label:"Login History",icon:xy},{id:"failed",label:"Failed Attempts",icon:Mi},{id:"sessions",label:"User Sessions",icon:Ku}].map(C=>c.jsxs("button",{onClick:()=>h(C.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${f===C.id?e?"bg-slate-800 text-white":"bg-white text-slate-900 shadow-sm":E}`,children:[c.jsx(C.icon,{size:18}),C.label]},C.id))}),c.jsxs("div",{className:"relative",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2",size:18}),c.jsx("input",{type:"text",placeholder:"Search by email...",value:p,onChange:C=>g(C.target.value),className:`w-full pl-10 pr-4 py-3 rounded-xl text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-800 border-slate-700 text-white placeholder-slate-400":"bg-white border-slate-200"}`})]}),f==="sessions"?c.jsx("div",{className:`rounded-xl border overflow-hidden ${x}`,children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-50",children:c.jsxs("tr",{className:`text-xs uppercase font-semibold ${E}`,children:[c.jsx("th",{className:"px-5 py-3",children:"User"}),c.jsx("th",{className:"px-5 py-3",children:"Last Login"}),c.jsx("th",{className:"px-5 py-3",children:"Status"}),c.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-100"}`,children:[U.map(C=>c.jsxs("tr",{className:e?"hover:bg-slate-700/50":"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-5 py-4",children:[c.jsx("div",{className:`font-medium ${w}`,children:C.displayName||"Anonymous"}),c.jsx("div",{className:`text-sm ${E}`,children:C.email})]}),c.jsx("td",{className:`px-5 py-4 text-sm ${E}`,children:C.lastLogin?new Date(C.lastLogin.seconds*1e3).toLocaleString():"Never"}),c.jsx("td",{className:"px-5 py-4",children:C.disabled?c.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Disabled"}):c.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Active"})}),c.jsx("td",{className:"px-5 py-4 text-right",children:c.jsx("button",{onClick:()=>S(C.id,C.disabled),className:`px-3 py-1 text-sm font-medium rounded-lg transition-colors ${C.disabled?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:C.disabled?"Enable":"Disable"})})]},C.id)),U.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:`px-5 py-12 text-center ${E}`,children:"No users found."})})]})]})}):c.jsx("div",{className:`rounded-xl border overflow-hidden ${x}`,children:I.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(Yi,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No login events recorded yet."}),c.jsx("p",{className:`text-sm ${E} mt-2`,children:"Events will appear as users log in."})]}):c.jsx("div",{className:`divide-y ${e?"divide-slate-700":"divide-slate-100"}`,children:I.map(C=>{var P;return c.jsx("div",{className:`p-4 ${e?"hover:bg-slate-700/50":"hover:bg-slate-50"}`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-2 rounded-lg ${C.success?"bg-green-100":"bg-red-100"}`,children:C.success?c.jsx(Wi,{size:20,className:"text-green-600"}):c.jsx(Mi,{size:20,className:"text-red-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:`font-medium ${w}`,children:C.email}),c.jsx("div",{className:`text-sm ${E}`,children:C.success?"Successful login":C.reason||"Failed attempt"})]}),c.jsxs("div",{className:`text-right text-sm ${E}`,children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Kv,{size:14}),(P=C.timestamp)!=null&&P.seconds?new Date(C.timestamp.seconds*1e3).toLocaleString():"Unknown"]}),C.ipAddress&&c.jsxs("div",{className:"flex items-center gap-1 justify-end mt-1 text-xs font-mono",children:[c.jsx(eX,{size:12}),C.ipAddress]})]})]})},C.id)})})})]})},Iye=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),[a,s]=b.useState(!1),[l,d]=b.useState(""),[f,h]=b.useState(!1),[p,g]=b.useState("English Language"),[x,w]=b.useState(""),[E,A]=b.useState("Edexcel"),[S,I]=b.useState(""),[U,k]=b.useState(!1),C=sM(),P=Ft();b.useEffect(()=>{z()},[C.currentUser]);const z=async()=>{if(C.currentUser){r(!0);try{const T=await Mr(qe(be,"users",C.currentUser.uid));if(console.log("TeacherDashboard: Current User UID:",C.currentUser.uid),T.exists()){const $=T.data();console.log("TeacherDashboard: User Doc Data:",$),$.isAdmin&&h(!0)}else console.warn("TeacherDashboard: No user doc found in Firestore for UID:",C.currentUser.uid);const R=Dr(it(be,"classes"),Ds("teacherId","==",C.currentUser.uid)),V=(await $n(R)).docs.map($=>({id:$.id,...$.data()}));e(V.sort(($,ne)=>ne.createdAt-$.createdAt))}catch(T){console.error("Error loading classes:",T)}r(!1)}},N=async()=>{if(!(!l.trim()||!C.currentUser)){k(!0);try{const T=Math.random().toString(36).substring(2,8).toUpperCase(),R={name:l.trim(),teacherId:C.currentUser.uid,inviteCode:T,studentCount:0,createdAt:Date.now(),config:{subject:p,yearGroup:x,examBoard:E,level:"Mixed",teacherPrompt:S}};console.log("TeacherDashboard: Attempting to create class with data:",{...R,createdAt:"serverTimestamp"}),await xr(it(be,"classes"),{...R,createdAt:or()}),console.log("TeacherDashboard: Class created successfully"),s(!1),d(""),w(""),I(""),z()}catch(T){console.error("TeacherDashboard: Error creating class:",T),alert(`Failed to create class: ${T.code||"unknown"} - ${T.message}`)}k(!1)}},M=async(T,R)=>{if(window.confirm(`Are you sure you want to delete "${R}"? This action cannot be undone. All associated data (assignments, student records) will be deleted.`))try{await cc(qe(be,"classes",T)),e(L=>L.filter(V=>V.id!==T))}catch(L){console.error("TeacherDashboard: Error deleting class:",L),alert(`Failed to delete class: ${L.message}`)}};return c.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Teacher Dashboard"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your classes and assignments."})]}),f&&c.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-semibold transition-colors shadow-lg shadow-indigo-200",children:[c.jsx(nS,{size:20}),"Create Class"]})]}),n?c.jsx("div",{className:"flex justify-center p-12",children:c.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):t.length===0?c.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-300",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Sa,{size:32})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No classes yet"}),c.jsx("p",{className:"text-slate-500 max-w-md mx-auto mb-6",children:"Create your first class to start assigning AI-generated practice exams to your students."}),f?c.jsx("button",{onClick:()=>s(!0),className:"text-indigo-600 font-semibold hover:text-indigo-700 hover:underline",children:"Create a Class now"}):c.jsx("p",{className:"text-slate-400 text-sm",children:"Contact your administrator to create a class."})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(T=>c.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors cursor-pointer",onClick:()=>P(`/teacher/class/${T.id}`),children:T.name})}),c.jsx("button",{onClick:R=>{R.stopPropagation(),M(T.id,T.name)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors ml-2 flex-shrink-0",title:"Delete Class",children:c.jsx(Aa,{size:18})}),c.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-full uppercase tracking-wide",children:[T.studentCount," Students"]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-6 p-3 bg-slate-50 rounded-lg border border-slate-100",children:[c.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Connect Code:"}),c.jsx("code",{className:"text-lg font-mono font-bold text-slate-900 tracking-widest",children:T.inviteCode})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>P(`/teacher/class/${T.id}`),className:"flex-1 py-2.5 bg-slate-900 text-white rounded-lg font-medium text-sm hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[c.jsx(Bn,{size:16}),"Manage"]}),c.jsx("button",{onClick:()=>P(`/teacher/class/${T.id}/assignments`),className:"flex-1 py-2.5 bg-white border border-slate-200 text-slate-700 rounded-lg font-medium text-sm hover:bg-slate-50 transition-colors",children:"Assignments"})]})]})},T.id))}),a&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-8 shadow-2xl my-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Create New Class"}),c.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:c.jsx("p",{className:"text-amber-800 text-xs font-medium",children:" Legal Reminder: By creating a class, you confirm you are an authorised educator. This platform handles specific student data under your instruction."})}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Class Name *"}),c.jsx("input",{type:"text",value:l,onChange:T=>d(T.target.value),placeholder:"e.g. Year 10 English - Set 2",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),c.jsxs("select",{value:p,onChange:T=>g(T.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"English Language",children:"English Language"}),c.jsx("option",{value:"English Literature",children:"English Literature"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Year Group"}),c.jsx("input",{type:"text",value:x,onChange:T=>w(T.target.value),placeholder:"e.g. Year 11",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Exam Board Focus"}),c.jsxs("select",{value:E,onChange:T=>A(T.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"Edexcel",children:"Edexcel (Default)"}),c.jsx("option",{value:"AQA",children:"AQA"}),c.jsx("option",{value:"Eduqas",children:"Eduqas"}),c.jsx("option",{value:"OCR",children:"OCR"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["AI Teacher Prompt ",c.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),c.jsx("p",{className:"text-xs text-slate-500 mb-2",children:'Provide context for the AI when generating content for this class (e.g. "Focus on weaker students", "Include more creative writing prompts").'}),c.jsx("textarea",{value:S,onChange:T=>I(T.target.value),placeholder:"e.g. This is a high-ability Year 10 group. Focus on complex inference questions.",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 h-24 resize-none"})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 text-slate-600 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:"Cancel"}),c.jsx("button",{onClick:N,disabled:U||!l.trim(),className:`flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors ${U?"opacity-70 cursor-wait":""}`,children:U?"Creating...":"Create Class"})]})]})})]})},FD=()=>{const{classId:t}=yv(),e=Ft(),[n,r]=b.useState(null),[a,s]=b.useState([]),[l,d]=b.useState([]),[f,h]=b.useState(!0),[p,g]=b.useState("assignments");b.useEffect(()=>{t&&x()},[t]);const x=async()=>{if(t){h(!0);try{const E=qe(be,"classes",t),A=await Mr(E);if(A.exists())r({id:A.id,...A.data()});else{e("/teacher");return}const S=it(be,"classes",t,"members"),U=(await $n(S)).docs.map(N=>({uid:N.id,...N.data()}));s(U);const k=it(be,"assignments"),C=Dr(k,Ds("classId","==",t)),z=(await $n(C)).docs.map(N=>({id:N.id,...N.data()}));d(z.sort((N,M)=>M.createdAt-N.createdAt))}catch(E){console.error("Error loading class data:",E)}h(!1)}},w=async E=>{if(window.confirm("Are you sure? This will delete the assignment and all student results associated with it."))try{await cc(qe(be,"assignments",E)),d(A=>A.filter(S=>S.id!==E))}catch(A){console.error("Error deleting assignment:",A),alert("Failed to delete assignment.")}};return f?c.jsx("div",{className:"p-12 text-center text-slate-500",children:"Loading class details..."}):n?c.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[c.jsxs("button",{onClick:()=>e("/teacher"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ni,{size:18}),"Back to Dashboard"]}),c.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-8 mb-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 mb-2",children:n.name}),c.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-lg",children:[c.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Join Code:"}),c.jsx("span",{className:"font-mono font-bold text-slate-900",children:n.inviteCode})]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[a.length," Students"]})]})]}),c.jsx("div",{children:c.jsx("button",{onClick:()=>e(`/teacher/class/${t}/create-assignment`),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 transition-all transform hover:scale-105",children:"+ New Assignment"})})]})}),c.jsxs("div",{className:"flex gap-8 border-b border-slate-200 mb-8",children:[c.jsxs("button",{onClick:()=>g("assignments"),className:`pb-4 px-2 font-bold text-lg transition-colors relative ${p==="assignments"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:["Assignments",p==="assignments"&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t-full"})]}),c.jsxs("button",{onClick:()=>g("students"),className:`pb-4 px-2 font-bold text-lg transition-colors relative ${p==="students"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:["Students (",a.length,")",p==="students"&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t-full"})]})]}),p==="assignments"&&c.jsx("div",{className:"grid gap-4",children:l.length===0?c.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-2xl border border-dashed border-slate-300",children:[c.jsx(fc,{size:48,className:"mx-auto text-slate-300 mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"No assignments created yet"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Generate your first AI practice set for this class."}),c.jsx("button",{onClick:()=>e(`/teacher/class/${t}/create-assignment`),className:"text-indigo-600 font-bold hover:underline",children:"Create Assignment"})]}):l.map(E=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex justify-between items-center group",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:E.title||"Untitled Assignment"}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Kv,{size:16})," Created ",new Date(E.createdAt).toLocaleDateString()]}),c.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${E.settings.difficulty==="Easy"?"bg-green-100 text-green-700":E.settings.difficulty==="Medium"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:E.settings.difficulty}),c.jsx("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-xs text-slate-600 uppercase font-medium",children:E.settings.topic})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"View Results"}),c.jsx("button",{onClick:()=>w(E.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(Aa,{size:20})})]})]},E.id))}),p==="students"&&c.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Student Name"}),c.jsx("th",{className:"px-6 py-4",children:"Joined At"}),c.jsx("th",{className:"px-6 py-4",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:a.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:3,className:"px-6 py-12 text-center text-slate-500",children:["No students have joined yet. Share the code ",c.jsx("b",{children:n.inviteCode})," with them."]})}):a.map(E=>{var A;return c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-6 py-4 font-medium text-slate-900 flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-bold",children:((A=E.displayName)==null?void 0:A.charAt(0))||"S"}),E.displayName||"Unnamed Student"]}),c.jsx("td",{className:"px-6 py-4 text-slate-500 text-sm",children:E.joinedAt?new Date(E.joinedAt).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("button",{className:"text-red-400 hover:text-red-600 text-sm font-medium",children:"Remove"})})]},E.uid)})})]})})]}):c.jsx("div",{className:"p-12 text-center text-red-500",children:"Class not found."})},Oye=()=>{const{classId:t}=yv(),e=Ft(),[n,r]=b.useState(""),[a,s]=b.useState("Medium"),[l,d]=b.useState(5),[f,h]=b.useState(""),[p,g]=b.useState(!1),[x,w]=b.useState(null),[E,A]=b.useState(!1),S=async()=>{if(n){g(!0);try{const k=await new xh().generatePracticeSet(n,a,l);if(k&&k.questions)w(k);else throw new Error("Invalid response from AI")}catch(U){console.error("Generation failed:",U),alert("Failed to generate questions. Please try again.")}g(!1)}},I=async()=>{if(!(!x||!_e.currentUser||!t)){A(!0);try{const U={classId:t,teacherId:_e.currentUser.uid,title:x.title,questions:x.questions,settings:{topic:n,difficulty:a},status:"active",createdAt:Date.now()};await xr(it(be,"assignments"),U),e(`/teacher/class/${t}`)}catch(U){console.error("Save failed:",U),alert("Failed to save assignment.")}A(!1)}};return c.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[c.jsxs("button",{onClick:()=>e(`/teacher/class/${t}`),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ni,{size:18}),"Cancel & Back"]}),c.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 mb-8",children:"Create New Assignment"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[c.jsx(Ea,{className:"text-purple-500",size:20}),"AI Configuration"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Topic / Theme"}),c.jsx("input",{type:"text",value:n,onChange:U=>r(U.target.value),placeholder:"e.g. Macbeth Act 1, Persuasive Writing, Grammar...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Difficulty"}),c.jsxs("select",{value:a,onChange:U=>s(U.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",children:[c.jsx("option",{value:"Easy",children:"Foundation (Easy)"}),c.jsx("option",{value:"Medium",children:"Standard (Medium)"}),c.jsx("option",{value:"Hard",children:"Advanced (Hard)"}),c.jsx("option",{value:"Mixed",children:"Mixed Ability"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Questions"}),c.jsxs("select",{value:l,onChange:U=>d(Number(U.target.value)),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",children:[c.jsx("option",{value:3,children:"3 Questions"}),c.jsx("option",{value:5,children:"5 Questions"}),c.jsx("option",{value:10,children:"10 Questions"})]})]})]}),c.jsx("div",{className:"pt-4",children:c.jsx("button",{onClick:S,disabled:!n||p,className:`w-full py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-xl shadow-lg transition-all ${p?"opacity-70 cursor-wait":"hover:scale-[1.02]"}`,children:p?"Generating Questions...":"Generate with AI"})})]})]})}),c.jsx("div",{className:"space-y-6",children:x?c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm h-full flex flex-col",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-2",children:x.title}),c.jsx("div",{className:"flex-1 overflow-y-auto max-h-[500px] pr-2 space-y-4 mb-4",children:x.questions.map((U,k)=>c.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsxs("span",{className:"font-bold text-slate-700",children:["Q",U.number]}),c.jsxs("span",{className:"text-xs bg-slate-200 px-2 py-1 rounded text-slate-600",children:[U.marks," Marks"]})]}),c.jsx("p",{className:"text-slate-600 text-sm",children:U.text})]},k))}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100",children:[c.jsxs("button",{onClick:S,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-semibold rounded-xl hover:bg-slate-50 transition-colors flex items-center justify-center gap-2",children:[c.jsx(rS,{size:18})," Regenerate"]}),c.jsxs("button",{onClick:I,disabled:E,className:"flex-[2] py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(by,{size:18})," ",E?"Saving...":"Assign to Class"]})]})]}):c.jsxs("div",{className:"h-full bg-slate-50 rounded-2xl border border-dashed border-slate-300 flex flex-col items-center justify-center text-slate-400 p-8",children:[c.jsx(Ea,{size:48,className:"mb-4 opacity-50"}),c.jsxs("p",{className:"text-center",children:["Configure your topic and settings,",c.jsx("br",{}),"then click Generate to preview."]})]})})]})]})},qD=()=>{var g;const{teacherId:t}=yv(),e=Ft(),[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,d]=b.useState(""),f=!t||_e.currentUser&&t===_e.currentUser.uid,h=t||((g=_e.currentUser)==null?void 0:g.uid);b.useEffect(()=>{h&&p()},[t,_e.currentUser]);const p=async()=>{if(h){s(!0);try{const x=await Mr(qe(be,"users",h));x.exists()&&d(x.data().displayName||x.data().email||"Teacher");const w=Dr(it(be,"classes"),Ds("teacherId","==",h)),A=(await $n(w)).docs.map(S=>({id:S.id,...S.data()}));r(A.sort((S,I)=>I.createdAt-S.createdAt))}catch(x){console.error("Error loading teacher classes:",x)}s(!1)}};return a?c.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[c.jsxs("button",{onClick:()=>e("/admin/users"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ni,{size:18}),"Back to Users"]}),c.jsx("div",{className:"flex justify-center p-12",children:c.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})})]}):c.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[!f&&c.jsxs("button",{onClick:()=>e("/admin/users"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ni,{size:18}),"Back to Users"]}),c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:[l,"'s Classes"]}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Viewing all classes created by this teacher."})]})}),n.length===0?c.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-300",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Sa,{size:32})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No classes found"}),c.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"This teacher hasn't created any classes yet."})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(x=>c.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors cursor-pointer",onClick:()=>e(`/teacher/class/${x.id}`),children:x.name}),c.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-full uppercase tracking-wide",children:[x.studentCount||0," Students"]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-6 p-3 bg-slate-50 rounded-lg border border-slate-100",children:[c.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Connect Code:"}),c.jsx("code",{className:"text-lg font-mono font-bold text-slate-900 tracking-widest",children:x.inviteCode})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>e(`/teacher/class/${x.id}`),className:"flex-1 py-2.5 bg-slate-900 text-white rounded-lg font-medium text-sm hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[c.jsx(Bn,{size:16}),"Manage"]}),c.jsx("button",{onClick:()=>e(`/teacher/class/${x.id}/assignments`),className:"flex-1 py-2.5 bg-white border border-slate-200 text-slate-700 rounded-lg font-medium text-sm hover:bg-slate-50 transition-colors",children:"Assignments"})]})]})},x.id))})]})},kye=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(""),[l,d]=b.useState(!0),[f,h]=b.useState("all"),[p,g]=b.useState([]);b.useEffect(()=>{_e.currentUser&&x()},[]),b.useEffect(()=>{const w=a.toLowerCase();let E=t.filter(A=>(A.displayName||"").toLowerCase().includes(w)||(A.uid||"").includes(w));f!=="all"&&(E=E.filter(A=>A.classId===f)),r(E)},[a,t,f]);const x=async()=>{if(_e.currentUser){d(!0);try{const w=Dr(it(be,"classes"),Ds("teacherId","==",_e.currentUser.uid)),A=(await $n(w)).docs.map(U=>({id:U.id,...U.data()}));g(A);const S=[];for(const U of A)try{const k=it(be,"classes",U.id,"members");(await $n(k)).docs.forEach(P=>{const z=P.data();S.push({uid:z.uid||P.id,displayName:z.displayName||"Unnamed Student",joinedAt:z.joinedAt||Date.now(),classId:U.id,className:U.name})})}catch(k){console.error(`Error loading members for class ${U.id}:`,k)}const I=Array.from(new Map(S.map(U=>[`${U.uid}-${U.classId}`,U])).values());e(I),r(I)}catch(w){console.error("Error loading teacher data:",w)}d(!1)}};return l?c.jsx("div",{className:"p-8",children:"Loading student directory..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Student Directory"}),c.jsx("p",{className:"text-slate-500",children:"View all students enrolled in your classes."})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:w=>s(w.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-edexcel-teal w-64"})]})]}),p.length>0&&c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="all"?"bg-edexcel-teal text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["All Classes (",t.length,")"]}),p.map(w=>{const E=t.filter(A=>A.classId===w.id).length;return c.jsxs("button",{onClick:()=>h(w.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f===w.id?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[w.name," (",E,")"]},w.id)})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Student Name"}),c.jsx("th",{className:"px-6 py-4",children:"Class"}),c.jsx("th",{className:"px-6 py-4",children:"Joined"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:n.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-slate-400",children:p.length===0?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Sa,{size:32,className:"text-slate-300"}),c.jsx("p",{children:"No classes created yet. Create a class to enroll students."})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Sa,{size:32,className:"text-slate-300"}),c.jsx("p",{children:"No students found matching your search."})]})})}):n.map(w=>{var E;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-sm",children:((E=w.displayName)==null?void 0:E.charAt(0))||"S"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-900",children:w.displayName}),c.jsxs("div",{className:"text-xs text-slate-400 font-mono",title:w.uid,children:[w.uid.slice(0,12),"..."]})]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bn,{size:16,className:"text-slate-400"}),w.className]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:w.joinedAt?new Date(w.joinedAt).toLocaleDateString():"Unknown"})]},`${w.uid}-${w.classId}`)})})]})})]})},Pye=()=>{var x,w;const t=Ft(),e=ra(),[n,r]=b.useState(!1),[a,s]=b.useState(!1),[l,d]=b.useState(()=>localStorage.getItem("teacherDarkMode")==="true");b.useEffect(()=>{_e.currentUser&&Hv(_e.currentUser.uid).then(s)},[]),b.useEffect(()=>{localStorage.setItem("teacherDarkMode",l.toString()),l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l]);const f=async()=>{await fd(),t("/login")},h=()=>{const E=e.pathname.split("/").filter(Boolean),A=[{label:"Teacher",path:"/teacher"}];return E.length>1&&(E[1]==="students"?A.push({label:"Student Dictionary",path:e.pathname}):E[1]==="class"&&E[2]?A.push({label:"Class Manager",path:e.pathname}):E[1]==="view"&&E[2]&&A.push({label:"View Classes",path:e.pathname})),A},p=({isActive:E})=>`flex items-center gap-3 px-4 py-3 rounded-md transition-colors ${E?"bg-blue-500/20 text-blue-500":"text-slate-300 hover:bg-slate-800"} ${n?"justify-center":""}`,g=[{to:"/teacher",icon:tS,label:"Overview",end:!0},{to:"/teacher/classes",icon:Bn,label:"My Classes"},{to:"/teacher/students",icon:Sa,label:"Student Directory"}];return a&&g.push({to:"/admin",icon:vy,label:"Back to Admin"}),c.jsxs("div",{className:`flex h-screen ${l?"bg-slate-900":"bg-gray-100"}`,children:[c.jsxs("aside",{className:`${n?"w-20":"w-64"} bg-slate-900 text-white flex flex-col shrink-0 transition-all duration-300`,children:[c.jsxs("div",{className:`p-4 border-b border-slate-700 flex items-center ${n?"justify-center":"justify-between"}`,children:[!n&&c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold tracking-tight text-blue-400",children:"Teacher Control Panel"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Edexcel Simulator"})]}),c.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",title:n?"Expand":"Collapse",children:n?c.jsx(vh,{size:18}):c.jsx(ZA,{size:18})})]}),c.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:g.map(E=>c.jsxs(Yg,{to:E.to,end:E.end,className:p,title:n?E.label:void 0,children:[c.jsx(E.icon,{size:20}),!n&&c.jsx("span",{className:"font-medium",children:E.label})]},E.to))}),c.jsxs("div",{className:"p-3 border-t border-slate-700 space-y-2",children:[c.jsxs("button",{onClick:()=>d(!l),className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${n?"justify-center":""}`,title:l?"Light Mode":"Dark Mode",children:[l?c.jsx(E3,{size:18}):c.jsx(w3,{size:18}),!n&&c.jsx("span",{children:l?"Light Mode":"Dark Mode"})]}),c.jsxs("button",{onClick:f,className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${n?"justify-center":""}`,title:"Sign Out",children:[c.jsx(hd,{size:18}),!n&&c.jsx("span",{children:"Sign Out"})]}),!n&&c.jsx("div",{className:"px-4 pt-2 text-xs text-slate-500",children:"v2.0.0"})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxs("header",{className:`${l?"bg-slate-800 border-slate-700":"bg-white border-gray-200"} border-b h-16 flex items-center justify-between px-6 shadow-sm`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>t("/"),className:`p-2 rounded-lg hover:bg-slate-100 ${l?"hover:bg-slate-700":""}`,title:"Back to App",children:c.jsx(vy,{size:18,className:l?"text-slate-400":"text-slate-500"})}),c.jsx("nav",{className:"flex items-center gap-1 text-sm",children:h().map((E,A,S)=>c.jsxs(Mh.Fragment,{children:[c.jsx("button",{onClick:()=>t(E.path),className:`${A===S.length-1?l?"text-white font-semibold":"text-slate-900 font-semibold":l?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:E.label}),A<S.length-1&&c.jsx("span",{className:l?"text-slate-600":"text-slate-300",children:"/"})]},E.path))})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`text-sm font-bold ${l?"text-white":"text-gray-800"}`,children:((x=_e.currentUser)==null?void 0:x.displayName)||"Teacher"}),c.jsx("div",{className:`text-xs ${l?"text-slate-400":"text-gray-500"}`,children:"Educator"})]}),c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden",children:(w=_e.currentUser)!=null&&w.photoURL?c.jsx("img",{src:_e.currentUser.photoURL,alt:"Teacher",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:c.jsx(Bn,{size:20})})})]})]}),c.jsx("main",{className:`flex-1 overflow-auto p-6 ${l?"bg-slate-900":""}`,children:c.jsx(o4,{context:{darkMode:l}})})]})]})},Rye=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(""),[a,s]=b.useState(!0),[l,d]=b.useState(!1),f=Ft();b.useEffect(()=>{_e.currentUser&&h()},[_e.currentUser]);const h=async()=>{if(_e.currentUser){s(!0);try{const g=it(be,"users",_e.currentUser.uid,"enrolled_classes"),w=(await $n(g)).docs.map(S=>S.id);if(w.length===0){e([]),s(!1);return}const E=[];for(let S=0;S<w.length;S+=10)E.push(w.slice(S,S+10));const A=[];for(const S of E){const I=Dr(it(be,"classes"),Ds("__name__","in",S));(await $n(I)).forEach(k=>A.push({id:k.id,...k.data()}))}e(A)}catch(g){console.error("Error loading classes:",g)}s(!1)}},p=async()=>{if(!(!n||!_e.currentUser)){d(!0);try{const g=Dr(it(be,"classes"),Ds("inviteCode","==",n.trim().toUpperCase())),x=await $n(g);if(x.empty){alert("Invalid class code."),d(!1);return}const w=x.docs[0],E=w.id,A=w.data();await Qa(qe(be,"classes",E,"members",_e.currentUser.uid),{uid:_e.currentUser.uid,displayName:_e.currentUser.displayName||"Unknown Student",joinedAt:Date.now()}),await Qa(qe(be,"users",_e.currentUser.uid,"enrolled_classes",E),{joinedAt:Date.now(),name:A.name}),alert(`Successfully joined ${A.name}!`),r(""),h()}catch(g){console.error("Join failed:",g),alert("Failed to join class. Please try again.")}d(!1)}};return c.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-8",children:"My Classroom"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-indigo-100 shadow-lg shadow-indigo-50",children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[c.jsx(Zr,{className:"text-indigo-600",size:20}),"Join a Class"]}),c.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Enter the 6-character code shared by your teacher."}),c.jsx("input",{type:"text",value:n,onChange:g=>r(g.target.value.toUpperCase()),placeholder:"e.g. AB12CD",maxLength:6,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-mono text-center text-lg tracking-widest mb-4 focus:ring-2 focus:ring-indigo-500 focus:outline-none uppercase"}),c.jsx("button",{onClick:p,disabled:l||n.length<3,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition-colors disabled:opacity-50",children:l?"Joining...":"Join Class"})]})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Enrolled Classes"}),a?c.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading your classes..."}):t.length===0?c.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-dashed border-slate-300 text-center",children:[c.jsx(Bn,{size:48,className:"mx-auto text-slate-300 mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"No classes yet"}),c.jsx("p",{className:"text-slate-400",children:"Join a class to see your assignments here."})]}):c.jsx("div",{className:"grid gap-4",children:t.map(g=>c.jsx("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-200 hover:shadow-md transition-all group cursor-pointer",onClick:()=>f(`/student/class/${g.id}`),children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-700 transition-colors",children:g.name}),c.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Joined ",new Date().toLocaleDateString()]})]}),c.jsx(Gv,{className:"text-slate-300 group-hover:text-indigo-500 transition-colors"})]})},g.id))})]})]})]})},Dye=()=>{const{assignmentId:t}=yv(),e=Ft(),[n,r]=b.useState(null),[a,s]=b.useState({}),[l,d]=b.useState(!1),[f,h]=b.useState(!0);b.useEffect(()=>{p()},[t]);const p=async()=>{if(t){try{const w=qe(be,"assignments",t),E=await Mr(w);E.exists()?r({id:E.id,...E.data()}):(alert("Assignment not found."),e("/student/classroom"))}catch(w){console.error("Error loading assignment:",w)}h(!1)}},g=(w,E)=>{s(A=>({...A,[w]:{questionId:w,text:E,timestamp:Date.now(),isFlagged:!1}}))},x=async()=>{if(!(!window.confirm("Submit assignment? You cannot change your answers after submitting.")||!_e.currentUser||!n)){d(!0);try{const w=Object.values(a);await xr(it(be,"assignment_results"),{assignmentId:n.id,classId:n.classId,studentId:_e.currentUser.uid,studentName:_e.currentUser.displayName||"Student",score:0,maxScore:n.questions.reduce((E,A)=>E+A.marks,0),answers:w,completedAt:Date.now(),feedback:"Pending AI Marking..."}),alert("Assignment submitted! Your teacher will review the results."),e("/student/classroom")}catch(w){console.error("Submission failed:",w),alert("Failed to submit assignment.")}d(!1)}};return f?c.jsx("div",{className:"p-12 text-center text-slate-500",children:"Loading assignment..."}):n?c.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",children:[c.jsxs("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-30 px-6 py-4 flex justify-between items-center shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>e("/student/classroom"),className:"text-slate-400 hover:text-slate-600",children:c.jsx(ni,{})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-slate-900",children:n.title}),c.jsxs("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wide",children:[n.settings.topic,"  ",n.questions.length," Questions"]})]})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("button",{onClick:x,disabled:l,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition-colors flex items-center gap-2",children:l?"Submitting...":c.jsxs(c.Fragment,{children:["Submit ",c.jsx(Wi,{size:18})]})})})]}),c.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-8 mt-6",children:n.questions.map((w,E)=>{var A;return c.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-200 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Question ",E+1]}),c.jsxs("span",{className:"bg-slate-100 text-slate-600 px-3 py-1 rounded text-sm font-medium",children:[w.marks," Marks"]})]}),c.jsx("div",{className:"prose prose-slate max-w-none mb-6",children:c.jsx("p",{className:"whitespace-pre-wrap text-slate-800 text-lg leading-relaxed",children:w.text})}),c.jsx("textarea",{value:((A=a[w.id])==null?void 0:A.text)||"",onChange:S=>g(w.id,S.target.value),placeholder:"Type your answer here...",rows:6,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none focus:bg-white transition-all text-slate-900 leading-relaxed resize-y"})]},w.id||E)})})]}):null},Mye=({children:t})=>{const[e,n]=b.useState(null),[r,a]=b.useState(!1),[s,l]=b.useState(!0);return b.useEffect(()=>{const d=Hh(_e,async f=>{if(n(f),f){const[h,p]=await Promise.all([Hv(f.uid),t3(f.uid)]);a(h||p)}l(!1)});return()=>d()},[]),s?c.jsx("div",{className:"h-screen flex items-center justify-center",children:c.jsx(Ea,{className:"animate-spin text-blue-500",size:32})}):!e||!r?e?c.jsx(Ss,{to:"/dashboard",replace:!0}):c.jsx(Ss,{to:"/login",replace:!0}):c.jsx(c.Fragment,{children:t})},Lye=({children:t})=>{const[e,n]=b.useState(null),[r,a]=b.useState(!1),[s,l]=b.useState(!0);return b.useEffect(()=>{const d=Hh(_e,async f=>{if(n(f),f){const h=await Hv(f.uid);a(h)}l(!1)});return()=>d()},[]),s?c.jsx("div",{className:"h-screen flex items-center justify-center",children:c.jsx(Ea,{className:"animate-spin text-edexcel-blue",size:32})}):!e||!r?c.jsx(Ss,{to:"/admin/login",replace:!0}):c.jsx(c.Fragment,{children:t})},Uye=()=>{const t=Ft(),e=ra(),n=e.pathname.startsWith("/admin")||e.pathname.startsWith("/teacher");return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsxs(E$,{children:[c.jsx(Ge,{path:"/",element:c.jsx(WX,{})}),c.jsx(Ge,{path:"/login",element:c.jsx(sye,{})}),c.jsx(Ge,{path:"/legal-consent",element:c.jsx(yye,{})}),c.jsx(Ge,{path:"/pending-approval",element:c.jsx(uye,{})}),c.jsx(Ge,{path:"/terms",element:c.jsx(dye,{})}),c.jsx(Ge,{path:"/privacy",element:c.jsx(fye,{})}),c.jsx(Ge,{path:"/cookies",element:c.jsx(hye,{})}),c.jsx(Ge,{path:"/acceptable-use",element:c.jsx(mye,{})}),c.jsx(Ge,{path:"/child-privacy",element:c.jsx(pye,{})}),c.jsx(Ge,{path:"/admin/login",element:c.jsx(Aye,{})}),c.jsx(Ge,{path:"/dashboard",element:c.jsx(zf,{children:c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsx(lye,{})})})}),c.jsxs(Ge,{path:"/admin",element:c.jsx(Lye,{children:c.jsx(xye,{})}),children:[c.jsx(Ge,{index:!0,element:c.jsx(BD,{})}),c.jsx(Ge,{path:"users",element:c.jsx(bye,{})}),c.jsx(Ge,{path:"exams",element:c.jsx(wye,{})}),c.jsx(Ge,{path:"lab-sessions",element:c.jsx(_ye,{})}),c.jsx(Ge,{path:"analytics",element:c.jsx(BD,{})}),c.jsx(Ge,{path:"announcements",element:c.jsx(jye,{})}),c.jsx(Ge,{path:"assets",element:c.jsx(Tye,{})}),c.jsx(Ge,{path:"activity-log",element:c.jsx(Nye,{})}),c.jsx(Ge,{path:"security",element:c.jsx(Cye,{})}),c.jsx(Ge,{path:"directory",element:c.jsx(Sye,{})}),c.jsx(Ge,{path:"settings",element:c.jsx(Eye,{})})]}),c.jsx(Ge,{path:"/exam/:type",element:c.jsx(zf,{children:c.jsx(XX,{})})}),c.jsx(Ge,{path:"/results",element:c.jsx(zf,{children:c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsx(iye,{})})})}),c.jsxs(Ge,{path:"/teacher",element:c.jsx(Mye,{children:c.jsx(Pye,{})}),children:[c.jsx(Ge,{index:!0,element:c.jsx(Iye,{})}),c.jsx(Ge,{path:"students",element:c.jsx(kye,{})}),c.jsx(Ge,{path:"classes",element:c.jsx(qD,{})}),c.jsx(Ge,{path:"view/:teacherId",element:c.jsx(qD,{})}),c.jsx(Ge,{path:"class/:classId",element:c.jsx(FD,{})}),c.jsx(Ge,{path:"class/:classId/assignments",element:c.jsx(FD,{})}),c.jsx(Ge,{path:"class/:classId/create-assignment",element:c.jsx(Oye,{})})]}),c.jsx(Ge,{path:"/student/classroom",element:c.jsx(zf,{children:c.jsx(Rye,{})})}),c.jsx(Ge,{path:"/student/assignment/:assignmentId",element:c.jsx(zf,{children:c.jsx(Dye,{})})}),c.jsx(Ge,{path:"/language-lab",element:c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsx(cye,{onHome:()=>t("/")})})}),c.jsx(Ge,{path:"*",element:c.jsx(Ss,{to:"/"})})]})}),!n&&c.jsx(vye,{})]})},zye=()=>c.jsxs(K$,{children:[c.jsx(Uye,{}),c.jsx(gye,{})]}),D8=document.getElementById("root");if(!D8)throw new Error("Could not find root element to mount to");const Vye=S9.createRoot(D8);Vye.render(c.jsx(Mh.StrictMode,{children:c.jsx(zye,{})}));export{wy as _,Bye as c,Hi as g};

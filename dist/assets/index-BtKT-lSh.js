var d9=Object.defineProperty;var f9=(t,e,n)=>e in t?d9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Bb=(t,e,n)=>f9(t,typeof e!="symbol"?e+"":e,n);function h9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Vye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fb={exports:{}},Nf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function m9(){if(_C)return Nf;_C=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Nf.Fragment=e,Nf.jsx=n,Nf.jsxs=n,Nf}var EC;function p9(){return EC||(EC=1,Fb.exports=m9()),Fb.exports}var c=p9(),qb={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function g9(){if(AC)return ze;AC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function O(q,re,me){this.props=q,this.context=re,this.refs=S,this.updater=me||E}O.prototype.isReactComponent={},O.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},O.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function U(){}U.prototype=O.prototype;function k(q,re,me){this.props=q,this.context=re,this.refs=S,this.updater=me||E}var C=k.prototype=new U;C.constructor=k,A(C,O.prototype),C.isPureReactComponent=!0;var P=Array.isArray;function z(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function T(q,re,me){var ye=me.ref;return{$$typeof:t,type:q,key:re,ref:ye!==void 0?ye:null,props:me}}function R(q,re){return T(q.type,re,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(me){return re[me]})}var $=/\/+/g;function ne(q,re){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):re.toString(36)}function pe(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(z,z):(q.status="pending",q.then(function(re){q.status==="pending"&&(q.status="fulfilled",q.value=re)},function(re){q.status==="pending"&&(q.status="rejected",q.reason=re)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Y(q,re,me,ye,Ce){var ke=typeof q;(ke==="undefined"||ke==="boolean")&&(q=null);var Pe=!1;if(q===null)Pe=!0;else switch(ke){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(q.$$typeof){case t:case e:Pe=!0;break;case p:return Pe=q._init,Y(Pe(q._payload),re,me,ye,Ce)}}if(Pe)return Ce=Ce(q),Pe=ye===""?"."+ne(q,0):ye,P(Ce)?(me="",Pe!=null&&(me=Pe.replace($,"$&/")+"/"),Y(Ce,re,me,"",function(Ue){return Ue})):Ce!=null&&(L(Ce)&&(Ce=R(Ce,me+(Ce.key==null||q&&q.key===Ce.key?"":(""+Ce.key).replace($,"$&/")+"/")+Pe)),re.push(Ce)),1;Pe=0;var Nt=ye===""?".":ye+":";if(P(q))for(var ce=0;ce<q.length;ce++)ye=q[ce],ke=Nt+ne(ye,ce),Pe+=Y(ye,re,me,ke,Ce);else if(ce=b(q),typeof ce=="function")for(q=ce.call(q),ce=0;!(ye=q.next()).done;)ye=ye.value,ke=Nt+ne(ye,ce++),Pe+=Y(ye,re,me,ke,Ce);else if(ke==="object"){if(typeof q.then=="function")return Y(pe(q),re,me,ye,Ce);throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function oe(q,re,me){if(q==null)return q;var ye=[],Ce=0;return Y(q,ye,"","",function(ke){return re.call(me,ke,Ce++)}),ye}function H(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(me){(q._status===0||q._status===-1)&&(q._status=1,q._result=me)},function(me){(q._status===0||q._status===-1)&&(q._status=2,q._result=me)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var K=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},se={map:oe,forEach:function(q,re,me){oe(q,function(){re.apply(this,arguments)},me)},count:function(q){var re=0;return oe(q,function(){re++}),re},toArray:function(q){return oe(q,function(re){return re})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return ze.Activity=g,ze.Children=se,ze.Component=O,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=k,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ze.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},ze.cache=function(q){return function(){return q.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(q,re,me){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ye=A({},q.props),Ce=q.key;if(re!=null)for(ke in re.key!==void 0&&(Ce=""+re.key),re)!M.call(re,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&re.ref===void 0||(ye[ke]=re[ke]);var ke=arguments.length-2;if(ke===1)ye.children=me;else if(1<ke){for(var Pe=Array(ke),Nt=0;Nt<ke;Nt++)Pe[Nt]=arguments[Nt+2];ye.children=Pe}return T(q.type,Ce,ye)},ze.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},ze.createElement=function(q,re,me){var ye,Ce={},ke=null;if(re!=null)for(ye in re.key!==void 0&&(ke=""+re.key),re)M.call(re,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ce[ye]=re[ye]);var Pe=arguments.length-2;if(Pe===1)Ce.children=me;else if(1<Pe){for(var Nt=Array(Pe),ce=0;ce<Pe;ce++)Nt[ce]=arguments[ce+2];Ce.children=Nt}if(q&&q.defaultProps)for(ye in Pe=q.defaultProps,Pe)Ce[ye]===void 0&&(Ce[ye]=Pe[ye]);return T(q,ke,Ce)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(q){return{$$typeof:d,render:q}},ze.isValidElement=L,ze.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:H}},ze.memo=function(q,re){return{$$typeof:h,type:q,compare:re===void 0?null:re}},ze.startTransition=function(q){var re=N.T,me={};N.T=me;try{var ye=q(),Ce=N.S;Ce!==null&&Ce(me,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(z,K)}catch(ke){K(ke)}finally{re!==null&&me.types!==null&&(re.types=me.types),N.T=re}},ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ze.use=function(q){return N.H.use(q)},ze.useActionState=function(q,re,me){return N.H.useActionState(q,re,me)},ze.useCallback=function(q,re){return N.H.useCallback(q,re)},ze.useContext=function(q){return N.H.useContext(q)},ze.useDebugValue=function(){},ze.useDeferredValue=function(q,re){return N.H.useDeferredValue(q,re)},ze.useEffect=function(q,re){return N.H.useEffect(q,re)},ze.useEffectEvent=function(q){return N.H.useEffectEvent(q)},ze.useId=function(){return N.H.useId()},ze.useImperativeHandle=function(q,re,me){return N.H.useImperativeHandle(q,re,me)},ze.useInsertionEffect=function(q,re){return N.H.useInsertionEffect(q,re)},ze.useLayoutEffect=function(q,re){return N.H.useLayoutEffect(q,re)},ze.useMemo=function(q,re){return N.H.useMemo(q,re)},ze.useOptimistic=function(q,re){return N.H.useOptimistic(q,re)},ze.useReducer=function(q,re,me){return N.H.useReducer(q,re,me)},ze.useRef=function(q){return N.H.useRef(q)},ze.useState=function(q){return N.H.useState(q)},ze.useSyncExternalStore=function(q,re,me){return N.H.useSyncExternalStore(q,re,me)},ze.useTransition=function(){return N.H.useTransition()},ze.version="19.2.0",ze}var SC;function td(){return SC||(SC=1,qb.exports=g9()),qb.exports}var w=td();const Mh=Hi(w),y9=h9({__proto__:null,default:Mh},[w]);var Hb={exports:{}},Tf={},Gb={exports:{}},Kb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function v9(){return jC||(jC=1,(function(t){function e(Y,oe){var H=Y.length;Y.push(oe);e:for(;0<H;){var K=H-1>>>1,se=Y[K];if(0<a(se,oe))Y[K]=oe,Y[H]=se,H=K;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var oe=Y[0],H=Y.pop();if(H!==oe){Y[0]=H;e:for(var K=0,se=Y.length,q=se>>>1;K<q;){var re=2*(K+1)-1,me=Y[re],ye=re+1,Ce=Y[ye];if(0>a(me,H))ye<se&&0>a(Ce,me)?(Y[K]=Ce,Y[ye]=H,K=ye):(Y[K]=me,Y[re]=H,K=re);else if(ye<se&&0>a(Ce,H))Y[K]=Ce,Y[ye]=H,K=ye;else break e}}return oe}function a(Y,oe){var H=Y.sortIndex-oe.sortIndex;return H!==0?H:Y.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,v=3,b=!1,E=!1,A=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=Y)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(h)}}function P(Y){if(A=!1,C(Y),!E)if(n(f)!==null)E=!0,z||(z=!0,V());else{var oe=n(h);oe!==null&&pe(P,oe.startTime-Y)}}var z=!1,N=-1,M=5,T=-1;function R(){return S?!0:!(t.unstable_now()-T<M)}function L(){if(S=!1,z){var Y=t.unstable_now();T=Y;var oe=!0;try{e:{E=!1,A&&(A=!1,U(N),N=-1),b=!0;var H=v;try{t:{for(C(Y),g=n(f);g!==null&&!(g.expirationTime>Y&&R());){var K=g.callback;if(typeof K=="function"){g.callback=null,v=g.priorityLevel;var se=K(g.expirationTime<=Y);if(Y=t.unstable_now(),typeof se=="function"){g.callback=se,C(Y),oe=!0;break t}g===n(f)&&r(f),C(Y)}else r(f);g=n(f)}if(g!==null)oe=!0;else{var q=n(h);q!==null&&pe(P,q.startTime-Y),oe=!1}}break e}finally{g=null,v=H,b=!1}oe=void 0}}finally{oe?V():z=!1}}}var V;if(typeof k=="function")V=function(){k(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=L,V=function(){ne.postMessage(null)}}else V=function(){O(L,0)};function pe(Y,oe){N=O(function(){Y(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var H=v;v=oe;try{return Y()}finally{v=H}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var H=v;v=Y;try{return oe()}finally{v=H}},t.unstable_scheduleCallback=function(Y,oe,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,Y){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=H+se,Y={id:p++,callback:oe,priorityLevel:Y,startTime:H,expirationTime:se,sortIndex:-1},H>K?(Y.sortIndex=H,e(h,Y),n(f)===null&&Y===n(h)&&(A?(U(N),N=-1):A=!0,pe(P,H-K))):(Y.sortIndex=se,e(f,Y),E||b||(E=!0,z||(z=!0,V()))),Y},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(Y){var oe=v;return function(){var H=v;v=oe;try{return Y.apply(this,arguments)}finally{v=H}}}})(Kb)),Kb}var NC;function x9(){return NC||(NC=1,Gb.exports=v9()),Gb.exports}var Wb={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function b9(){if(TC)return tr;TC=1;var t=td();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},tr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},tr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},tr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},tr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},tr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},tr.requestFormReset=function(f){r.d.r(f)},tr.unstable_batchedUpdates=function(f,h){return f(h)},tr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},tr.useFormStatus=function(){return l.H.useHostTransitionStatus()},tr.version="19.2.0",tr}var CC;function qD(){if(CC)return Wb.exports;CC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wb.exports=b9(),Wb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function w9(){if(OC)return Tf;OC=1;var t=x9(),e=td(),n=qD();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var x=u.return;if(x===null)break;var _=x.alternate;if(_===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===u)return f(x),i;if(_===m)return f(x),o;_=_.sibling}throw Error(r(188))}if(u.return!==m.return)u=x,m=_;else{for(var I=!1,B=x.child;B;){if(B===u){I=!0,u=x,m=_;break}if(B===m){I=!0,m=x,u=_;break}B=B.sibling}if(!I){for(B=_.child;B;){if(B===u){I=!0,u=_,m=x;break}if(B===m){I=!0,m=_,u=x;break}B=B.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var $=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===$?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case O:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case z:return"SuspenseList";case T:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case k:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return o=i.displayName||null,o!==null?o:ne(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return ne(i(o))}catch{}}return null}var pe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},K=[],se=-1;function q(i){return{current:i}}function re(i){0>se||(i.current=K[se],K[se]=null,se--)}function me(i,o){se++,K[se]=i.current,i.current=o}var ye=q(null),Ce=q(null),ke=q(null),Pe=q(null);function Nt(i,o){switch(me(ke,o),me(Ce,i),me(ye,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?HT(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=HT(o),i=GT(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ye),me(ye,i)}function ce(){re(ye),re(Ce),re(ke)}function Ue(i){i.memoizedState!==null&&me(Pe,i);var o=ye.current,u=GT(o,i.type);o!==u&&(me(Ce,i),me(ye,u))}function He(i){Ce.current===i&&(re(ye),re(Ce)),Pe.current===i&&(re(Pe),Ef._currentValue=H)}var ge,Xt;function Ge(i){if(ge===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",Xt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+i+Xt}var An=!1;function Zt(i,o){if(!i||An)return"";An=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var te=ie}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(ie){te=ie}i.call(fe.prototype)}}else{try{throw Error()}catch(ie){te=ie}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),I=_[0],B=_[1];if(I&&B){var G=I.split(`
`),ee=B.split(`
`);for(x=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;if(m===G.length||x===ee.length)for(m=G.length-1,x=ee.length-1;1<=m&&0<=x&&G[m]!==ee[x];)x--;for(;1<=m&&0<=x;m--,x--)if(G[m]!==ee[x]){if(m!==1||x!==1)do if(m--,x--,0>x||G[m]!==ee[x]){var le=`
`+G[m].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=m&&0<=x);break}}}finally{An=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ge(u):""}function Lr(i,o){switch(i.tag){case 26:case 27:case 5:return Ge(i.type);case 16:return Ge("Lazy");case 13:return i.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Zt(i.type,!1);case 11:return Zt(i.type.render,!1);case 1:return Zt(i.type,!0);case 31:return Ge("Activity");default:return""}}function Ys(i){try{var o="",u=null;do o+=Lr(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ln=Object.prototype.hasOwnProperty,Sn=t.unstable_scheduleCallback,Qs=t.unstable_cancelCallback,q0=t.unstable_shouldYield,Nm=t.unstable_requestPaint,dr=t.unstable_now,dl=t.unstable_getCurrentPriorityLevel,Sd=t.unstable_ImmediatePriority,jd=t.unstable_UserBlockingPriority,Xs=t.unstable_NormalPriority,H0=t.unstable_LowPriority,Tm=t.unstable_IdlePriority,Cm=t.log,Om=t.unstable_setDisableYieldValue,ka=null,qn=null;function aa(i){if(typeof Cm=="function"&&Om(i),qn&&typeof qn.setStrictMode=="function")try{qn.setStrictMode(ka,i)}catch{}}var Jt=Math.clz32?Math.clz32:km,Im=Math.log,Tc=Math.LN2;function km(i){return i>>>=0,i===0?32:31-(Im(i)/Tc|0)|0}var ii=256,fl=262144,cn=4194304;function si(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function oi(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var x=0,_=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var B=m&134217727;return B!==0?(m=B&~_,m!==0?x=si(m):(I&=B,I!==0?x=si(I):u||(u=B&~i,u!==0&&(x=si(u))))):(B=m&~_,B!==0?x=si(B):I!==0?x=si(I):u||(u=m&~i,u!==0&&(x=si(u)))),x===0?0:o!==0&&o!==x&&(o&_)===0&&(_=x&-x,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:x}function Pa(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function G0(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(){var i=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),i}function li(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function hl(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function K0(i,o,u,m,x,_){var I=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var B=i.entanglements,G=i.expirationTimes,ee=i.hiddenUpdates;for(u=I&~u;0<u;){var le=31-Jt(u),fe=1<<le;B[le]=0,G[le]=-1;var te=ee[le];if(te!==null)for(ee[le]=null,le=0;le<te.length;le++){var ie=te[le];ie!==null&&(ie.lane&=-536870913)}u&=~fe}m!==0&&ml(i,m,0),_!==0&&x===0&&i.tag!==0&&(i.suspendedLanes|=_&~(I&~o))}function ml(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-Jt(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function Nd(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-Jt(u),x=1<<m;x&o|i[m]&o&&(i[m]|=o),u&=~x}}function Td(i,o){var u=o&-o;return u=(u&42)!==0?1:pl(u),(u&(i.suspendedLanes|o))!==0?0:u}function pl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rm(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:pC(i.type))}function Ra(i,o){var u=oe.p;try{return oe.p=i,o()}finally{oe.p=u}}var Da=Math.random().toString(36).slice(2),un="__reactFiber$"+Da,Pn="__reactProps$"+Da,ci="__reactContainer$"+Da,Cc="__reactEvents$"+Da,W0="__reactListeners$"+Da,Dm="__reactHandles$"+Da,Mm="__reactResources$"+Da,ui="__reactMarker$"+Da;function Oc(i){delete i[un],delete i[Pn],delete i[Cc],delete i[W0],delete i[Dm]}function di(i){var o=i[un];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ci]||u[un]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=JT(i);i!==null;){if(u=i[un])return u;i=JT(i)}return o}i=u,u=i.parentNode}return null}function ia(i){if(i=i[un]||i[ci]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Ur(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function fi(i){var o=i[Mm];return o||(o=i[Mm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function dn(i){i[ui]=!0}var Cd=new Set,Od={};function hi(i,o){mi(i,o),mi(i+"Capture",o)}function mi(i,o){for(Od[i]=o,i=0;i<o.length;i++)Cd.add(o[i])}var Id=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kd={},Pd={};function Lm(i){return ln.call(Pd,i)?!0:ln.call(kd,i)?!1:Id.test(i)?Pd[i]=!0:(kd[i]=!0,!1)}function Ic(i,o,u){if(Lm(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function zr(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function fn(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Rn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rd(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,_=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(I){u=""+I,_.call(this,I)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function mt(i){if(!i._valueTracker){var o=Zs(i)?"checked":"value";i._valueTracker=Rd(i,o,""+i[o])}}function gl(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=Zs(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var yl=/[\n"\\]/g;function Er(i){return i.replace(yl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function kc(i,o,u,m,x,_,I,B){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),o!=null?I==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Rn(o)):i.value!==""+Rn(o)&&(i.value=""+Rn(o)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),o!=null?Dd(i,I,Rn(o)):u!=null?Dd(i,I,Rn(u)):m!=null&&i.removeAttribute("value"),x==null&&_!=null&&(i.defaultChecked=!!_),x!=null&&(i.checked=x&&typeof x!="function"&&typeof x!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+Rn(B):i.removeAttribute("name")}function Um(i,o,u,m,x,_,I,B){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){mt(i);return}u=u!=null?""+Rn(u):"",o=o!=null?""+Rn(o):u,B||o===i.value||(i.value=o),i.defaultValue=o}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=B?i.checked:!!m,i.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),mt(i)}function Dd(i,o,u){o==="number"&&pi(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Js(i,o,u,m){if(i=i.options,o){o={};for(var x=0;x<u.length;x++)o["$"+u[x]]=!0;for(u=0;u<i.length;u++)x=o.hasOwnProperty("$"+i[u].value),i[u].selected!==x&&(i[u].selected=x),x&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Rn(u),o=null,x=0;x<i.length;x++){if(i[x].value===u){i[x].selected=!0,m&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function zm(i,o,u){if(o!=null&&(o=""+Rn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Rn(u):""}function eo(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(pe(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Rn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),mt(i)}function Ar(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Vm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Md(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||Vm.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Ld(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var x in o)m=o[x],o.hasOwnProperty(x)&&u[x]!==m&&Md(i,x,m)}else for(var _ in o)o.hasOwnProperty(_)&&Md(i,_,o[_])}function Pc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $m=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rc(i){return to.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ma(){}var Ud=null;function sa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var no=null,gi=null;function vl(i){var o=ia(i);if(o&&(i=o.stateNode)){var u=i[Pn]||null;e:switch(i=o.stateNode,o.type){case"input":if(kc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Er(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var x=m[Pn]||null;if(!x)throw Error(r(90));kc(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&gl(m)}break e;case"textarea":zm(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Js(i,!!u.multiple,o,!1)}}}var Dc=!1;function ro(i,o,u){if(Dc)return i(o,u);Dc=!0;try{var m=i(o);return m}finally{if(Dc=!1,(no!==null||gi!==null)&&(Rp(),no&&(o=no,i=gi,gi=no=null,vl(o),i)))for(o=0;o<i.length;o++)vl(i[o])}}function La(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Pn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=!1;if(oa)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){xl=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{xl=!1}var yi=null,zd=null,bl=null;function Vd(){if(bl)return bl;var i,o=zd,u=o.length,m,x="value"in yi?yi.value:yi.textContent,_=x.length;for(i=0;i<u&&o[i]===x[i];i++);var I=u-i;for(m=1;m<=I&&o[u-m]===x[_-m];m++);return bl=x.slice(i,1<m?1-m:void 0)}function wl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Zi(){return!0}function Ua(){return!1}function Hn(i){function o(u,m,x,_,I){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(u=i[B],this[B]=u?u(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Zi:Ua,this.isPropagationStopped=Ua,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),o}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Hn(Ji),ao=g({},Ji,{view:0,detail:0}),$d=Hn(ao),io,Mc,xi,Lc=g({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xi&&(xi&&i.type==="mousemove"?(io=i.screenX-xi.screenX,Mc=i.screenY-xi.screenY):Mc=io=0,xi=i),io)},movementY:function(i){return"movementY"in i?i.movementY:Mc}}),Bd=Hn(Lc),_l=g({},Lc,{dataTransfer:0}),Bm=Hn(_l),Fm=g({},ao,{relatedTarget:0}),El=Hn(Fm),Fd=g({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),qm=Hn(Fd),Uc=g({},Ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Hm=Hn(Uc),Gm=g({},Ji,{data:0}),bi=Hn(Gm),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Ym[i])?!!o[i]:!1}function so(){return Qm}var fr=g({},ao,{key:function(i){if(i.key){var o=Km[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=wl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(i){return i.type==="keypress"?wl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Xm=Hn(fr),Zm=g({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Hn(Zm),y=g({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),j=Hn(y),D=g({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=Hn(D),X=g({},Lc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Hn(X),ve=g({},Ji,{newState:0,oldState:0}),$e=Hn(ve),en=[9,13,27,32],ut=oa&&"CompositionEvent"in window,Dt=null;oa&&"documentMode"in document&&(Dt=document.documentMode);var la=oa&&"TextEvent"in window&&!Dt,wi=oa&&(!ut||Dt&&8<Dt&&11>=Dt),za=" ",Va=!1;function Al(i,o){switch(i){case"keyup":return en.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vc=!1;function D8(i,o){switch(i){case"compositionend":return zc(o);case"keypress":return o.which!==32?null:(Va=!0,za);case"textInput":return i=o.data,i===za&&Va?null:i;default:return null}}function M8(i,o){if(Vc)return i==="compositionend"||!ut&&Al(i,o)?(i=Vd(),bl=zd=yi=null,Vc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return wi&&o.locale!=="ko"?null:o.data;default:return null}}var L8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!L8[i.type]:o==="textarea"}function rN(i,o,u,m){no?gi?gi.push(m):gi=[m]:no=m,o=$p(o,"onChange"),0<o.length&&(u=new vi("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var qd=null,Hd=null;function U8(i){zT(i,0)}function Jm(i){var o=Ur(i);if(gl(o))return i}function aN(i,o){if(i==="change")return o}var iN=!1;if(oa){var Y0;if(oa){var Q0="oninput"in document;if(!Q0){var sN=document.createElement("div");sN.setAttribute("oninput","return;"),Q0=typeof sN.oninput=="function"}Y0=Q0}else Y0=!1;iN=Y0&&(!document.documentMode||9<document.documentMode)}function oN(){qd&&(qd.detachEvent("onpropertychange",lN),Hd=qd=null)}function lN(i){if(i.propertyName==="value"&&Jm(Hd)){var o=[];rN(o,Hd,i,sa(i)),ro(U8,o)}}function z8(i,o,u){i==="focusin"?(oN(),qd=o,Hd=u,qd.attachEvent("onpropertychange",lN)):i==="focusout"&&oN()}function V8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jm(Hd)}function $8(i,o){if(i==="click")return Jm(o)}function B8(i,o){if(i==="input"||i==="change")return Jm(o)}function F8(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Vr=typeof Object.is=="function"?Object.is:F8;function Gd(i,o){if(Vr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!ln.call(o,x)||!Vr(i[x],o[x]))return!1}return!0}function cN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uN(i,o){var u=cN(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=cN(u)}}function dN(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?dN(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function fN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=pi(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=pi(i.document)}return o}function X0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var q8=oa&&"documentMode"in document&&11>=document.documentMode,$c=null,Z0=null,Kd=null,J0=!1;function hN(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;J0||$c==null||$c!==pi(m)||(m=$c,"selectionStart"in m&&X0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Kd&&Gd(Kd,m)||(Kd=m,m=$p(Z0,"onSelect"),0<m.length&&(o=new vi("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=$c)))}function Sl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Bc={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},ex={},mN={};oa&&(mN=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function jl(i){if(ex[i])return ex[i];if(!Bc[i])return i;var o=Bc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in mN)return ex[i]=o[u];return i}var pN=jl("animationend"),gN=jl("animationiteration"),yN=jl("animationstart"),H8=jl("transitionrun"),G8=jl("transitionstart"),K8=jl("transitioncancel"),vN=jl("transitionend"),xN=new Map,tx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tx.push("scrollEnd");function $a(i,o){xN.set(i,o),hi(o,[i])}var ep=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ca=[],Fc=0,nx=0;function tp(){for(var i=Fc,o=nx=Fc=0;o<i;){var u=ca[o];ca[o++]=null;var m=ca[o];ca[o++]=null;var x=ca[o];ca[o++]=null;var _=ca[o];if(ca[o++]=null,m!==null&&x!==null){var I=m.pending;I===null?x.next=x:(x.next=I.next,I.next=x),m.pending=x}_!==0&&bN(u,x,_)}}function np(i,o,u,m){ca[Fc++]=i,ca[Fc++]=o,ca[Fc++]=u,ca[Fc++]=m,nx|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function rx(i,o,u,m){return np(i,o,u,m),rp(i)}function Nl(i,o){return np(i,null,null,o),rp(i)}function bN(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var x=!1,_=i.return;_!==null;)_.childLanes|=u,m=_.alternate,m!==null&&(m.childLanes|=u),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(x=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,x&&o!==null&&(x=31-Jt(u),i=_.hiddenUpdates,m=i[x],m===null?i[x]=[o]:m.push(o),o.lane=u|536870912),_):null}function rp(i){if(50<gf)throw gf=0,fb=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var qc={};function W8(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(i,o,u,m){return new W8(i,o,u,m)}function ax(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ts(i,o){var u=i.alternate;return u===null?(u=$r(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function wN(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function ap(i,o,u,m,x,_){var I=0;if(m=i,typeof i=="function")ax(i)&&(I=1);else if(typeof i=="string")I=JV(i,u,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case T:return i=$r(31,u,o,x),i.elementType=T,i.lanes=_,i;case A:return Tl(u.children,x,_,o);case S:I=8,x|=24;break;case O:return i=$r(12,u,o,x|2),i.elementType=O,i.lanes=_,i;case P:return i=$r(13,u,o,x),i.elementType=P,i.lanes=_,i;case z:return i=$r(19,u,o,x),i.elementType=z,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:I=10;break e;case U:I=9;break e;case C:I=11;break e;case N:I=14;break e;case M:I=16,m=null;break e}I=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=$r(I,u,o,x),o.elementType=i,o.type=m,o.lanes=_,o}function Tl(i,o,u,m){return i=$r(7,i,m,o),i.lanes=u,i}function ix(i,o,u){return i=$r(6,i,null,o),i.lanes=u,i}function _N(i){var o=$r(18,null,null,0);return o.stateNode=i,o}function sx(i,o,u){return o=$r(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var EN=new WeakMap;function ua(i,o){if(typeof i=="object"&&i!==null){var u=EN.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Ys(o)},EN.set(i,o),o)}return{value:i,source:o,stack:Ys(o)}}var Hc=[],Gc=0,ip=null,Wd=0,da=[],fa=0,oo=null,_i=1,Ei="";function ns(i,o){Hc[Gc++]=Wd,Hc[Gc++]=ip,ip=i,Wd=o}function AN(i,o,u){da[fa++]=_i,da[fa++]=Ei,da[fa++]=oo,oo=i;var m=_i;i=Ei;var x=32-Jt(m)-1;m&=~(1<<x),u+=1;var _=32-Jt(o)+x;if(30<_){var I=x-x%5;_=(m&(1<<I)-1).toString(32),m>>=I,x-=I,_i=1<<32-Jt(o)+x|u<<x|m,Ei=_+i}else _i=1<<_|u<<x|m,Ei=i}function ox(i){i.return!==null&&(ns(i,1),AN(i,1,0))}function lx(i){for(;i===ip;)ip=Hc[--Gc],Hc[Gc]=null,Wd=Hc[--Gc],Hc[Gc]=null;for(;i===oo;)oo=da[--fa],da[fa]=null,Ei=da[--fa],da[fa]=null,_i=da[--fa],da[fa]=null}function SN(i,o){da[fa++]=_i,da[fa++]=Ei,da[fa++]=oo,_i=o.id,Ei=o.overflow,oo=i}var Gn=null,Ot=null,nt=!1,lo=null,ha=!1,cx=Error(r(519));function co(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yd(ua(o,i)),cx}function jN(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[un]=i,o[Pn]=m,u){case"dialog":We("cancel",o),We("close",o);break;case"iframe":case"object":case"embed":We("load",o);break;case"video":case"audio":for(u=0;u<vf.length;u++)We(vf[u],o);break;case"source":We("error",o);break;case"img":case"image":case"link":We("error",o),We("load",o);break;case"details":We("toggle",o);break;case"input":We("invalid",o),Um(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":We("invalid",o);break;case"textarea":We("invalid",o),eo(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||FT(o.textContent,u)?(m.popover!=null&&(We("beforetoggle",o),We("toggle",o)),m.onScroll!=null&&We("scroll",o),m.onScrollEnd!=null&&We("scrollend",o),m.onClick!=null&&(o.onclick=Ma),o=!0):o=!1,o||co(i,!0)}function NN(i){for(Gn=i.return;Gn;)switch(Gn.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:Gn=Gn.return}}function Kc(i){if(i!==Gn)return!1;if(!nt)return NN(i),nt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Nb(i.type,i.memoizedProps)),u=!u),u&&Ot&&co(i),NN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ot=ZT(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ot=ZT(i)}else o===27?(o=Ot,Ao(i.type)?(i=kb,kb=null,Ot=i):Ot=o):Ot=Gn?pa(i.stateNode.nextSibling):null;return!0}function Cl(){Ot=Gn=null,nt=!1}function ux(){var i=lo;return i!==null&&(Tr===null?Tr=i:Tr.push.apply(Tr,i),lo=null),i}function Yd(i){lo===null?lo=[i]:lo.push(i)}var dx=q(null),Ol=null,rs=null;function uo(i,o,u){me(dx,o._currentValue),o._currentValue=u}function as(i){i._currentValue=dx.current,re(dx)}function fx(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function hx(i,o,u,m){var x=i.child;for(x!==null&&(x.return=i);x!==null;){var _=x.dependencies;if(_!==null){var I=x.child;_=_.firstContext;e:for(;_!==null;){var B=_;_=x;for(var G=0;G<o.length;G++)if(B.context===o[G]){_.lanes|=u,B=_.alternate,B!==null&&(B.lanes|=u),fx(_.return,u,i),m||(I=null);break e}_=B.next}}else if(x.tag===18){if(I=x.return,I===null)throw Error(r(341));I.lanes|=u,_=I.alternate,_!==null&&(_.lanes|=u),fx(I,u,i),I=null}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===i){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}}function Wc(i,o,u,m){i=null;for(var x=o,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var I=x.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var B=x.type;Vr(x.pendingProps.value,I.value)||(i!==null?i.push(B):i=[B])}}else if(x===Pe.current){if(I=x.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(i!==null?i.push(Ef):i=[Ef])}x=x.return}i!==null&&hx(o,i,u,m),o.flags|=262144}function sp(i){for(i=i.firstContext;i!==null;){if(!Vr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Il(i){Ol=i,rs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kn(i){return TN(Ol,i)}function op(i,o){return Ol===null&&Il(i),TN(i,o)}function TN(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},rs===null){if(i===null)throw Error(r(308));rs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else rs=rs.next=o;return u}var Y8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},Q8=t.unstable_scheduleCallback,X8=t.unstable_NormalPriority,hn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mx(){return{controller:new Y8,data:new Map,refCount:0}}function Qd(i){i.refCount--,i.refCount===0&&Q8(X8,function(){i.controller.abort()})}var Xd=null,px=0,Yc=0,Qc=null;function Z8(i,o){if(Xd===null){var u=Xd=[];px=0,Yc=vb(),Qc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return px++,o.then(CN,CN),o}function CN(){if(--px===0&&Xd!==null){Qc!==null&&(Qc.status="fulfilled");var i=Xd;Xd=null,Yc=0,Qc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function J8(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var x=0;x<u.length;x++)(0,u[x])(o)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var ON=Y.S;Y.S=function(i,o){hT=dr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Z8(i,o),ON!==null&&ON(i,o)};var kl=q(null);function gx(){var i=kl.current;return i!==null?i:At.pooledCache}function lp(i,o){o===null?me(kl,kl.current):me(kl,o.pool)}function IN(){var i=gx();return i===null?null:{parent:hn._currentValue,pool:i}}var Xc=Error(r(460)),yx=Error(r(474)),cp=Error(r(542)),up={then:function(){}};function kN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function PN(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Ma,Ma),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,DN(i),i;default:if(typeof o.status=="string")o.then(Ma,Ma);else{if(i=At,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=m}},function(m){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,DN(i),i}throw Rl=o,Xc}}function Pl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Rl=u,Xc):u}}var Rl=null;function RN(){if(Rl===null)throw Error(r(459));var i=Rl;return Rl=null,i}function DN(i){if(i===Xc||i===cp)throw Error(r(483))}var Zc=null,Zd=0;function dp(i){var o=Zd;return Zd+=1,Zc===null&&(Zc=[]),PN(Zc,i,o)}function Jd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function fp(i,o){throw o.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function MN(i){function o(Q,W){if(i){var Z=Q.deletions;Z===null?(Q.deletions=[W],Q.flags|=16):Z.push(W)}}function u(Q,W){if(!i)return null;for(;W!==null;)o(Q,W),W=W.sibling;return null}function m(Q){for(var W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function x(Q,W){return Q=ts(Q,W),Q.index=0,Q.sibling=null,Q}function _(Q,W,Z){return Q.index=Z,i?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<W?(Q.flags|=67108866,W):Z):(Q.flags|=67108866,W)):(Q.flags|=1048576,W)}function I(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function B(Q,W,Z,ue){return W===null||W.tag!==6?(W=ix(Z,Q.mode,ue),W.return=Q,W):(W=x(W,Z),W.return=Q,W)}function G(Q,W,Z,ue){var Oe=Z.type;return Oe===A?le(Q,W,Z.props.children,ue,Z.key):W!==null&&(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===M&&Pl(Oe)===W.type)?(W=x(W,Z.props),Jd(W,Z),W.return=Q,W):(W=ap(Z.type,Z.key,Z.props,null,Q.mode,ue),Jd(W,Z),W.return=Q,W)}function ee(Q,W,Z,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=sx(Z,Q.mode,ue),W.return=Q,W):(W=x(W,Z.children||[]),W.return=Q,W)}function le(Q,W,Z,ue,Oe){return W===null||W.tag!==7?(W=Tl(Z,Q.mode,ue,Oe),W.return=Q,W):(W=x(W,Z),W.return=Q,W)}function fe(Q,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=ix(""+W,Q.mode,Z),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return Z=ap(W.type,W.key,W.props,null,Q.mode,Z),Jd(Z,W),Z.return=Q,Z;case E:return W=sx(W,Q.mode,Z),W.return=Q,W;case M:return W=Pl(W),fe(Q,W,Z)}if(pe(W)||V(W))return W=Tl(W,Q.mode,Z,null),W.return=Q,W;if(typeof W.then=="function")return fe(Q,dp(W),Z);if(W.$$typeof===k)return fe(Q,op(Q,W),Z);fp(Q,W)}return null}function te(Q,W,Z,ue){var Oe=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Oe!==null?null:B(Q,W,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Oe?G(Q,W,Z,ue):null;case E:return Z.key===Oe?ee(Q,W,Z,ue):null;case M:return Z=Pl(Z),te(Q,W,Z,ue)}if(pe(Z)||V(Z))return Oe!==null?null:le(Q,W,Z,ue,null);if(typeof Z.then=="function")return te(Q,W,dp(Z),ue);if(Z.$$typeof===k)return te(Q,W,op(Q,Z),ue);fp(Q,Z)}return null}function ie(Q,W,Z,ue,Oe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(Z)||null,B(W,Q,""+ue,Oe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return Q=Q.get(ue.key===null?Z:ue.key)||null,G(W,Q,ue,Oe);case E:return Q=Q.get(ue.key===null?Z:ue.key)||null,ee(W,Q,ue,Oe);case M:return ue=Pl(ue),ie(Q,W,Z,ue,Oe)}if(pe(ue)||V(ue))return Q=Q.get(Z)||null,le(W,Q,ue,Oe,null);if(typeof ue.then=="function")return ie(Q,W,Z,dp(ue),Oe);if(ue.$$typeof===k)return ie(Q,W,Z,op(W,ue),Oe);fp(W,ue)}return null}function Se(Q,W,Z,ue){for(var Oe=null,st=null,Te=W,Fe=W=0,Ze=null;Te!==null&&Fe<Z.length;Fe++){Te.index>Fe?(Ze=Te,Te=null):Ze=Te.sibling;var ot=te(Q,Te,Z[Fe],ue);if(ot===null){Te===null&&(Te=Ze);break}i&&Te&&ot.alternate===null&&o(Q,Te),W=_(ot,W,Fe),st===null?Oe=ot:st.sibling=ot,st=ot,Te=Ze}if(Fe===Z.length)return u(Q,Te),nt&&ns(Q,Fe),Oe;if(Te===null){for(;Fe<Z.length;Fe++)Te=fe(Q,Z[Fe],ue),Te!==null&&(W=_(Te,W,Fe),st===null?Oe=Te:st.sibling=Te,st=Te);return nt&&ns(Q,Fe),Oe}for(Te=m(Te);Fe<Z.length;Fe++)Ze=ie(Te,Q,Fe,Z[Fe],ue),Ze!==null&&(i&&Ze.alternate!==null&&Te.delete(Ze.key===null?Fe:Ze.key),W=_(Ze,W,Fe),st===null?Oe=Ze:st.sibling=Ze,st=Ze);return i&&Te.forEach(function(Co){return o(Q,Co)}),nt&&ns(Q,Fe),Oe}function Re(Q,W,Z,ue){if(Z==null)throw Error(r(151));for(var Oe=null,st=null,Te=W,Fe=W=0,Ze=null,ot=Z.next();Te!==null&&!ot.done;Fe++,ot=Z.next()){Te.index>Fe?(Ze=Te,Te=null):Ze=Te.sibling;var Co=te(Q,Te,ot.value,ue);if(Co===null){Te===null&&(Te=Ze);break}i&&Te&&Co.alternate===null&&o(Q,Te),W=_(Co,W,Fe),st===null?Oe=Co:st.sibling=Co,st=Co,Te=Ze}if(ot.done)return u(Q,Te),nt&&ns(Q,Fe),Oe;if(Te===null){for(;!ot.done;Fe++,ot=Z.next())ot=fe(Q,ot.value,ue),ot!==null&&(W=_(ot,W,Fe),st===null?Oe=ot:st.sibling=ot,st=ot);return nt&&ns(Q,Fe),Oe}for(Te=m(Te);!ot.done;Fe++,ot=Z.next())ot=ie(Te,Q,Fe,ot.value,ue),ot!==null&&(i&&ot.alternate!==null&&Te.delete(ot.key===null?Fe:ot.key),W=_(ot,W,Fe),st===null?Oe=ot:st.sibling=ot,st=ot);return i&&Te.forEach(function(u9){return o(Q,u9)}),nt&&ns(Q,Fe),Oe}function _t(Q,W,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Oe=Z.key;W!==null;){if(W.key===Oe){if(Oe=Z.type,Oe===A){if(W.tag===7){u(Q,W.sibling),ue=x(W,Z.props.children),ue.return=Q,Q=ue;break e}}else if(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===M&&Pl(Oe)===W.type){u(Q,W.sibling),ue=x(W,Z.props),Jd(ue,Z),ue.return=Q,Q=ue;break e}u(Q,W);break}else o(Q,W);W=W.sibling}Z.type===A?(ue=Tl(Z.props.children,Q.mode,ue,Z.key),ue.return=Q,Q=ue):(ue=ap(Z.type,Z.key,Z.props,null,Q.mode,ue),Jd(ue,Z),ue.return=Q,Q=ue)}return I(Q);case E:e:{for(Oe=Z.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){u(Q,W.sibling),ue=x(W,Z.children||[]),ue.return=Q,Q=ue;break e}else{u(Q,W);break}else o(Q,W);W=W.sibling}ue=sx(Z,Q.mode,ue),ue.return=Q,Q=ue}return I(Q);case M:return Z=Pl(Z),_t(Q,W,Z,ue)}if(pe(Z))return Se(Q,W,Z,ue);if(V(Z)){if(Oe=V(Z),typeof Oe!="function")throw Error(r(150));return Z=Oe.call(Z),Re(Q,W,Z,ue)}if(typeof Z.then=="function")return _t(Q,W,dp(Z),ue);if(Z.$$typeof===k)return _t(Q,W,op(Q,Z),ue);fp(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(u(Q,W.sibling),ue=x(W,Z),ue.return=Q,Q=ue):(u(Q,W),ue=ix(Z,Q.mode,ue),ue.return=Q,Q=ue),I(Q)):u(Q,W)}return function(Q,W,Z,ue){try{Zd=0;var Oe=_t(Q,W,Z,ue);return Zc=null,Oe}catch(Te){if(Te===Xc||Te===cp)throw Te;var st=$r(29,Te,null,Q.mode);return st.lanes=ue,st.return=Q,st}finally{}}}var Dl=MN(!0),LN=MN(!1),fo=!1;function vx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ho(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mo(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(dt&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,o=rp(i),bN(i,null,u),o}return np(i,m,o,u),rp(i)}function ef(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Nd(i,u)}}function bx(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?x=_=I:_=_.next=I,u=u.next}while(u!==null);_===null?x=_=o:_=_.next=o}else x=_=o;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var wx=!1;function tf(){if(wx){var i=Qc;if(i!==null)throw i}}function nf(i,o,u,m){wx=!1;var x=i.updateQueue;fo=!1;var _=x.firstBaseUpdate,I=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var G=B,ee=G.next;G.next=null,I===null?_=ee:I.next=ee,I=G;var le=i.alternate;le!==null&&(le=le.updateQueue,B=le.lastBaseUpdate,B!==I&&(B===null?le.firstBaseUpdate=ee:B.next=ee,le.lastBaseUpdate=G))}if(_!==null){var fe=x.baseState;I=0,le=ee=G=null,B=_;do{var te=B.lane&-536870913,ie=te!==B.lane;if(ie?(Xe&te)===te:(m&te)===te){te!==0&&te===Yc&&(wx=!0),le!==null&&(le=le.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Se=i,Re=B;te=o;var _t=u;switch(Re.tag){case 1:if(Se=Re.payload,typeof Se=="function"){fe=Se.call(_t,fe,te);break e}fe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Re.payload,te=typeof Se=="function"?Se.call(_t,fe,te):Se,te==null)break e;fe=g({},fe,te);break e;case 2:fo=!0}}te=B.callback,te!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=x.callbacks,ie===null?x.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:B.tag,payload:B.payload,callback:B.callback,next:null},le===null?(ee=le=ie,G=fe):le=le.next=ie,I|=te;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;ie=B,B=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);le===null&&(G=fe),x.baseState=G,x.firstBaseUpdate=ee,x.lastBaseUpdate=le,_===null&&(x.shared.lanes=0),xo|=I,i.lanes=I,i.memoizedState=fe}}function UN(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function zN(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)UN(u[i],o)}var Jc=q(null),hp=q(0);function VN(i,o){i=hs,me(hp,i),me(Jc,o),hs=i|o.baseLanes}function _x(){me(hp,hs),me(Jc,Jc.current)}function Ex(){hs=hp.current,re(Jc),re(hp)}var Br=q(null),ma=null;function po(i){var o=i.alternate;me(tn,tn.current&1),me(Br,i),ma===null&&(o===null||Jc.current!==null||o.memoizedState!==null)&&(ma=i)}function Ax(i){me(tn,tn.current),me(Br,i),ma===null&&(ma=i)}function $N(i){i.tag===22?(me(tn,tn.current),me(Br,i),ma===null&&(ma=i)):go()}function go(){me(tn,tn.current),me(Br,Br.current)}function Fr(i){re(Br),ma===i&&(ma=null),re(tn)}var tn=q(0);function mp(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ob(u)||Ib(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var is=0,Be=null,bt=null,mn=null,pp=!1,eu=!1,Ml=!1,gp=0,rf=0,tu=null,eV=0;function Ht(){throw Error(r(321))}function Sx(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Vr(i[u],o[u]))return!1;return!0}function jx(i,o,u,m,x,_){return is=_,Be=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=i===null||i.memoizedState===null?A2:$x,Ml=!1,_=u(m,x),Ml=!1,eu&&(_=FN(o,u,m,x)),BN(i),_}function BN(i){Y.H=of;var o=bt!==null&&bt.next!==null;if(is=0,mn=bt=Be=null,pp=!1,rf=0,tu=null,o)throw Error(r(300));i===null||pn||(i=i.dependencies,i!==null&&sp(i)&&(pn=!0))}function FN(i,o,u,m){Be=i;var x=0;do{if(eu&&(tu=null),rf=0,eu=!1,25<=x)throw Error(r(301));if(x+=1,mn=bt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=S2,_=o(u,m)}while(eu);return _}function tV(){var i=Y.H,o=i.useState()[0];return o=typeof o.then=="function"?af(o):o,i=i.useState()[0],(bt!==null?bt.memoizedState:null)!==i&&(Be.flags|=1024),o}function Nx(){var i=gp!==0;return gp=0,i}function Tx(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Cx(i){if(pp){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}pp=!1}is=0,mn=bt=Be=null,eu=!1,rf=gp=0,tu=null}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Be.memoizedState=mn=i:mn=mn.next=i,mn}function nn(){if(bt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var o=mn===null?Be.memoizedState:mn.next;if(o!==null)mn=o,bt=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},mn===null?Be.memoizedState=mn=i:mn=mn.next=i}return mn}function yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function af(i){var o=rf;return rf+=1,tu===null&&(tu=[]),i=PN(tu,i,o),o=Be,(mn===null?o.memoizedState:mn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?A2:$x),i}function vp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return af(i);if(i.$$typeof===k)return Kn(i)}throw Error(r(438,String(i)))}function Ox(i){var o=null,u=Be.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Be.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=yp(),Be.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=R;return o.index++,u}function ss(i,o){return typeof o=="function"?o(i):o}function xp(i){var o=nn();return Ix(o,bt,i)}function Ix(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var x=i.baseQueue,_=m.pending;if(_!==null){if(x!==null){var I=x.next;x.next=_.next,_.next=I}o.baseQueue=x=_,m.pending=null}if(_=i.baseState,x===null)i.memoizedState=_;else{o=x.next;var B=I=null,G=null,ee=o,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(Xe&fe)===fe:(is&fe)===fe){var te=ee.revertLane;if(te===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Yc&&(le=!0);else if((is&te)===te){ee=ee.next,te===Yc&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(B=G=fe,I=_):G=G.next=fe,Be.lanes|=te,xo|=te;fe=ee.action,Ml&&u(_,fe),_=ee.hasEagerState?ee.eagerState:u(_,fe)}else te={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(B=G=te,I=_):G=G.next=te,Be.lanes|=fe,xo|=fe;ee=ee.next}while(ee!==null&&ee!==o);if(G===null?I=_:G.next=B,!Vr(_,i.memoizedState)&&(pn=!0,le&&(u=Qc,u!==null)))throw u;i.memoizedState=_,i.baseState=I,i.baseQueue=G,m.lastRenderedState=_}return x===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function kx(i){var o=nn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,x=u.pending,_=o.memoizedState;if(x!==null){u.pending=null;var I=x=x.next;do _=i(_,I.action),I=I.next;while(I!==x);Vr(_,o.memoizedState)||(pn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,m]}function qN(i,o,u){var m=Be,x=nn(),_=nt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!Vr((bt||x).memoizedState,u);if(I&&(x.memoizedState=u,pn=!0),x=x.queue,Dx(KN.bind(null,m,x,i),[i]),x.getSnapshot!==o||I||mn!==null&&mn.memoizedState.tag&1){if(m.flags|=2048,nu(9,{destroy:void 0},GN.bind(null,m,x,u,o),null),At===null)throw Error(r(349));_||(is&127)!==0||HN(m,o,u)}return u}function HN(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Be.updateQueue,o===null?(o=yp(),Be.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function GN(i,o,u,m){o.value=u,o.getSnapshot=m,WN(o)&&YN(i)}function KN(i,o,u){return u(function(){WN(o)&&YN(i)})}function WN(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Vr(i,u)}catch{return!0}}function YN(i){var o=Nl(i,2);o!==null&&Cr(o,i,2)}function Px(i){var o=hr();if(typeof i=="function"){var u=i;if(i=u(),Ml){aa(!0);try{u()}finally{aa(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:i},o}function QN(i,o,u,m){return i.baseState=u,Ix(i,bt,typeof m=="function"?m:ss)}function nV(i,o,u,m,x){if(_p(i))throw Error(r(485));if(i=o.action,i!==null){var _={payload:x,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};Y.T!==null?u(!0):_.isTransition=!1,m(_),u=o.pending,u===null?(_.next=o.pending=_,XN(o,_)):(_.next=u.next,o.pending=u.next=_)}}function XN(i,o){var u=o.action,m=o.payload,x=i.state;if(o.isTransition){var _=Y.T,I={};Y.T=I;try{var B=u(x,m),G=Y.S;G!==null&&G(I,B),ZN(i,o,B)}catch(ee){Rx(i,o,ee)}finally{_!==null&&I.types!==null&&(_.types=I.types),Y.T=_}}else try{_=u(x,m),ZN(i,o,_)}catch(ee){Rx(i,o,ee)}}function ZN(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){JN(i,o,m)},function(m){return Rx(i,o,m)}):JN(i,o,u)}function JN(i,o,u){o.status="fulfilled",o.value=u,e2(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,XN(i,u)))}function Rx(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,e2(o),o=o.next;while(o!==m)}i.action=null}function e2(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function t2(i,o){return o}function n2(i,o){if(nt){var u=At.formState;if(u!==null){e:{var m=Be;if(nt){if(Ot){t:{for(var x=Ot,_=ha;x.nodeType!==8;){if(!_){x=null;break t}if(x=pa(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){Ot=pa(x.nextSibling),m=x.data==="F!";break e}}co(m)}m=!1}m&&(o=u[0])}}return u=hr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t2,lastRenderedState:o},u.queue=m,u=w2.bind(null,Be,m),m.dispatch=u,m=Px(!1),_=Vx.bind(null,Be,!1,m.queue),m=hr(),x={state:o,dispatch:null,action:i,pending:null},m.queue=x,u=nV.bind(null,Be,x,_,u),x.dispatch=u,m.memoizedState=i,[o,u,!1]}function r2(i){var o=nn();return a2(o,bt,i)}function a2(i,o,u){if(o=Ix(i,o,t2)[0],i=xp(ss)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=af(o)}catch(I){throw I===Xc?cp:I}else m=o;o=nn();var x=o.queue,_=x.dispatch;return u!==o.memoizedState&&(Be.flags|=2048,nu(9,{destroy:void 0},rV.bind(null,x,u),null)),[m,_,i]}function rV(i,o){i.action=o}function i2(i){var o=nn(),u=bt;if(u!==null)return a2(o,u,i);nn(),o=o.memoizedState,u=nn();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function nu(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=Be.updateQueue,o===null&&(o=yp(),Be.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function s2(){return nn().memoizedState}function bp(i,o,u,m){var x=hr();Be.flags|=i,x.memoizedState=nu(1|o,{destroy:void 0},u,m===void 0?null:m)}function wp(i,o,u,m){var x=nn();m=m===void 0?null:m;var _=x.memoizedState.inst;bt!==null&&m!==null&&Sx(m,bt.memoizedState.deps)?x.memoizedState=nu(o,_,u,m):(Be.flags|=i,x.memoizedState=nu(1|o,_,u,m))}function o2(i,o){bp(8390656,8,i,o)}function Dx(i,o){wp(2048,8,i,o)}function aV(i){Be.flags|=4;var o=Be.updateQueue;if(o===null)o=yp(),Be.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function l2(i){var o=nn().memoizedState;return aV({ref:o,nextImpl:i}),function(){if((dt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function c2(i,o){return wp(4,2,i,o)}function u2(i,o){return wp(4,4,i,o)}function d2(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function f2(i,o,u){u=u!=null?u.concat([i]):null,wp(4,4,d2.bind(null,o,i),u)}function Mx(){}function h2(i,o){var u=nn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Sx(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function m2(i,o){var u=nn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Sx(o,m[1]))return m[0];if(m=i(),Ml){aa(!0);try{i()}finally{aa(!1)}}return u.memoizedState=[m,o],m}function Lx(i,o,u){return u===void 0||(is&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=pT(),Be.lanes|=i,xo|=i,u)}function p2(i,o,u,m){return Vr(u,o)?u:Jc.current!==null?(i=Lx(i,u,m),Vr(i,o)||(pn=!0),i):(is&42)===0||(is&1073741824)!==0&&(Xe&261930)===0?(pn=!0,i.memoizedState=u):(i=pT(),Be.lanes|=i,xo|=i,o)}function g2(i,o,u,m,x){var _=oe.p;oe.p=_!==0&&8>_?_:8;var I=Y.T,B={};Y.T=B,Vx(i,!1,o,u);try{var G=x(),ee=Y.S;if(ee!==null&&ee(B,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=J8(G,m);sf(i,o,le,Gr(i))}else sf(i,o,m,Gr(i))}catch(fe){sf(i,o,{then:function(){},status:"rejected",reason:fe},Gr())}finally{oe.p=_,I!==null&&B.types!==null&&(I.types=B.types),Y.T=I}}function iV(){}function Ux(i,o,u,m){if(i.tag!==5)throw Error(r(476));var x=y2(i).queue;g2(i,x,o,H,u===null?iV:function(){return v2(i),u(m)})}function y2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function v2(i){var o=y2(i);o.next===null&&(o=i.alternate.memoizedState),sf(i,o.next.queue,{},Gr())}function zx(){return Kn(Ef)}function x2(){return nn().memoizedState}function b2(){return nn().memoizedState}function sV(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Gr();i=ho(u);var m=mo(o,i,u);m!==null&&(Cr(m,o,u),ef(m,o,u)),o={cache:mx()},i.payload=o;return}o=o.return}}function oV(i,o,u){var m=Gr();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_p(i)?_2(o,u):(u=rx(i,o,u,m),u!==null&&(Cr(u,i,m),E2(u,o,m)))}function w2(i,o,u){var m=Gr();sf(i,o,u,m)}function sf(i,o,u,m){var x={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(_p(i))_2(o,x);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var I=o.lastRenderedState,B=_(I,u);if(x.hasEagerState=!0,x.eagerState=B,Vr(B,I))return np(i,o,x,0),At===null&&tp(),!1}catch{}finally{}if(u=rx(i,o,x,m),u!==null)return Cr(u,i,m),E2(u,o,m),!0}return!1}function Vx(i,o,u,m){if(m={lane:2,revertLane:vb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},_p(i)){if(o)throw Error(r(479))}else o=rx(i,u,m,2),o!==null&&Cr(o,i,2)}function _p(i){var o=i.alternate;return i===Be||o!==null&&o===Be}function _2(i,o){eu=pp=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function E2(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Nd(i,u)}}var of={readContext:Kn,use:vp,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};of.useEffectEvent=Ht;var A2={readContext:Kn,use:vp,useCallback:function(i,o){return hr().memoizedState=[i,o===void 0?null:o],i},useContext:Kn,useEffect:o2,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,bp(4194308,4,d2.bind(null,o,i),u)},useLayoutEffect:function(i,o){return bp(4194308,4,i,o)},useInsertionEffect:function(i,o){bp(4,2,i,o)},useMemo:function(i,o){var u=hr();o=o===void 0?null:o;var m=i();if(Ml){aa(!0);try{i()}finally{aa(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=hr();if(u!==void 0){var x=u(o);if(Ml){aa(!0);try{u(o)}finally{aa(!1)}}}else x=o;return m.memoizedState=m.baseState=x,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:x},m.queue=i,i=i.dispatch=oV.bind(null,Be,i),[m.memoizedState,i]},useRef:function(i){var o=hr();return i={current:i},o.memoizedState=i},useState:function(i){i=Px(i);var o=i.queue,u=w2.bind(null,Be,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Mx,useDeferredValue:function(i,o){var u=hr();return Lx(u,i,o)},useTransition:function(){var i=Px(!1);return i=g2.bind(null,Be,i.queue,!0,!1),hr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=Be,x=hr();if(nt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),At===null)throw Error(r(349));(Xe&127)!==0||HN(m,o,u)}x.memoizedState=u;var _={value:u,getSnapshot:o};return x.queue=_,o2(KN.bind(null,m,_,i),[i]),m.flags|=2048,nu(9,{destroy:void 0},GN.bind(null,m,_,u,o),null),u},useId:function(){var i=hr(),o=At.identifierPrefix;if(nt){var u=Ei,m=_i;u=(m&~(1<<32-Jt(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=gp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=eV++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:zx,useFormState:n2,useActionState:n2,useOptimistic:function(i){var o=hr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Vx.bind(null,Be,!0,u),u.dispatch=o,[i,o]},useMemoCache:Ox,useCacheRefresh:function(){return hr().memoizedState=sV.bind(null,Be)},useEffectEvent:function(i){var o=hr(),u={impl:i};return o.memoizedState=u,function(){if((dt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},$x={readContext:Kn,use:vp,useCallback:h2,useContext:Kn,useEffect:Dx,useImperativeHandle:f2,useInsertionEffect:c2,useLayoutEffect:u2,useMemo:m2,useReducer:xp,useRef:s2,useState:function(){return xp(ss)},useDebugValue:Mx,useDeferredValue:function(i,o){var u=nn();return p2(u,bt.memoizedState,i,o)},useTransition:function(){var i=xp(ss)[0],o=nn().memoizedState;return[typeof i=="boolean"?i:af(i),o]},useSyncExternalStore:qN,useId:x2,useHostTransitionStatus:zx,useFormState:r2,useActionState:r2,useOptimistic:function(i,o){var u=nn();return QN(u,bt,i,o)},useMemoCache:Ox,useCacheRefresh:b2};$x.useEffectEvent=l2;var S2={readContext:Kn,use:vp,useCallback:h2,useContext:Kn,useEffect:Dx,useImperativeHandle:f2,useInsertionEffect:c2,useLayoutEffect:u2,useMemo:m2,useReducer:kx,useRef:s2,useState:function(){return kx(ss)},useDebugValue:Mx,useDeferredValue:function(i,o){var u=nn();return bt===null?Lx(u,i,o):p2(u,bt.memoizedState,i,o)},useTransition:function(){var i=kx(ss)[0],o=nn().memoizedState;return[typeof i=="boolean"?i:af(i),o]},useSyncExternalStore:qN,useId:x2,useHostTransitionStatus:zx,useFormState:i2,useActionState:i2,useOptimistic:function(i,o){var u=nn();return bt!==null?QN(u,bt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Ox,useCacheRefresh:b2};S2.useEffectEvent=l2;function Bx(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Fx={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=Gr(),x=ho(m);x.payload=o,u!=null&&(x.callback=u),o=mo(i,x,m),o!==null&&(Cr(o,i,m),ef(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=Gr(),x=ho(m);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=mo(i,x,m),o!==null&&(Cr(o,i,m),ef(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Gr(),m=ho(u);m.tag=2,o!=null&&(m.callback=o),o=mo(i,m,u),o!==null&&(Cr(o,i,u),ef(o,i,u))}};function j2(i,o,u,m,x,_,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,I):o.prototype&&o.prototype.isPureReactComponent?!Gd(u,m)||!Gd(x,_):!0}function N2(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Fx.enqueueReplaceState(o,o.state,null)}function Ll(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var x in i)u[x]===void 0&&(u[x]=i[x])}return u}function T2(i){ep(i)}function C2(i){console.error(i)}function O2(i){ep(i)}function Ep(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function I2(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function qx(i,o,u){return u=ho(u),u.tag=3,u.payload={element:null},u.callback=function(){Ep(i,o)},u}function k2(i){return i=ho(i),i.tag=3,i}function P2(i,o,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var _=m.value;i.payload=function(){return x(_)},i.callback=function(){I2(o,u,m)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){I2(o,u,m),typeof x!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var B=m.stack;this.componentDidCatch(m.value,{componentStack:B!==null?B:""})})}function lV(i,o,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Wc(o,u,x,!0),u=Br.current,u!==null){switch(u.tag){case 31:case 13:return ma===null?Dp():u.alternate===null&&Gt===0&&(Gt=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===up?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),pb(i,m,x)),!1;case 22:return u.flags|=65536,m===up?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),pb(i,m,x)),!1}throw Error(r(435,u.tag))}return pb(i,m,x),Dp(),!1}if(nt)return o=Br.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,m!==cx&&(i=Error(r(422),{cause:m}),Yd(ua(i,u)))):(m!==cx&&(o=Error(r(423),{cause:m}),Yd(ua(o,u))),i=i.current.alternate,i.flags|=65536,x&=-x,i.lanes|=x,m=ua(m,u),x=qx(i.stateNode,m,x),bx(i,x),Gt!==4&&(Gt=2)),!1;var _=Error(r(520),{cause:m});if(_=ua(_,u),pf===null?pf=[_]:pf.push(_),Gt!==4&&(Gt=2),o===null)return!0;m=ua(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=x&-x,u.lanes|=i,i=qx(u.stateNode,m,i),bx(u,i),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(bo===null||!bo.has(_))))return u.flags|=65536,x&=-x,u.lanes|=x,x=k2(x),P2(x,i,u,m),bx(u,x),!1}u=u.return}while(u!==null);return!1}var Hx=Error(r(461)),pn=!1;function Wn(i,o,u,m){o.child=i===null?LN(o,null,u,m):Dl(o,i.child,u,m)}function R2(i,o,u,m,x){u=u.render;var _=o.ref;if("ref"in m){var I={};for(var B in m)B!=="ref"&&(I[B]=m[B])}else I=m;return Il(o),m=jx(i,o,u,I,_,x),B=Nx(),i!==null&&!pn?(Tx(i,o,x),os(i,o,x)):(nt&&B&&ox(o),o.flags|=1,Wn(i,o,m,x),o.child)}function D2(i,o,u,m,x){if(i===null){var _=u.type;return typeof _=="function"&&!ax(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,M2(i,o,_,m,x)):(i=ap(u.type,null,m,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!Jx(i,x)){var I=_.memoizedProps;if(u=u.compare,u=u!==null?u:Gd,u(I,m)&&i.ref===o.ref)return os(i,o,x)}return o.flags|=1,i=ts(_,m),i.ref=o.ref,i.return=o,o.child=i}function M2(i,o,u,m,x){if(i!==null){var _=i.memoizedProps;if(Gd(_,m)&&i.ref===o.ref)if(pn=!1,o.pendingProps=m=_,Jx(i,x))(i.flags&131072)!==0&&(pn=!0);else return o.lanes=i.lanes,os(i,o,x)}return Gx(i,o,u,m,x)}function L2(i,o,u,m){var x=m.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,i!==null){for(m=o.child=i.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~_}else m=0,o.child=null;return U2(i,o,_,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&lp(o,_!==null?_.cachePool:null),_!==null?VN(o,_):_x(),$N(o);else return m=o.lanes=536870912,U2(i,o,_!==null?_.baseLanes|u:u,u,m)}else _!==null?(lp(o,_.cachePool),VN(o,_),go(),o.memoizedState=null):(i!==null&&lp(o,null),_x(),go());return Wn(i,o,x,u),o.child}function lf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function U2(i,o,u,m,x){var _=gx();return _=_===null?null:{parent:hn._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},i!==null&&lp(o,null),_x(),$N(o),i!==null&&Wc(i,o,m,!0),o.childLanes=x,null}function Ap(i,o){return o=jp({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function z2(i,o,u){return Dl(o,i.child,null,u),i=Ap(o,o.pendingProps),i.flags|=2,Fr(o),o.memoizedState=null,i}function cV(i,o,u){var m=o.pendingProps,x=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(nt){if(m.mode==="hidden")return i=Ap(o,m),o.lanes=536870912,lf(null,i);if(Ax(o),(i=Ot)?(i=XT(i,ha),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:oo!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},u=_N(i),u.return=o,o.child=u,Gn=o,Ot=null)):i=null,i===null)throw co(o);return o.lanes=536870912,null}return Ap(o,m)}var _=i.memoizedState;if(_!==null){var I=_.dehydrated;if(Ax(o),x)if(o.flags&256)o.flags&=-257,o=z2(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(pn||Wc(i,o,u,!1),x=(u&i.childLanes)!==0,pn||x){if(m=At,m!==null&&(I=Td(m,u),I!==0&&I!==_.retryLane))throw _.retryLane=I,Nl(i,I),Cr(m,i,I),Hx;Dp(),o=z2(i,o,u)}else i=_.treeContext,Ot=pa(I.nextSibling),Gn=o,nt=!0,lo=null,ha=!1,i!==null&&SN(o,i),o=Ap(o,m),o.flags|=4096;return o}return i=ts(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Sp(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Gx(i,o,u,m,x){return Il(o),u=jx(i,o,u,m,void 0,x),m=Nx(),i!==null&&!pn?(Tx(i,o,x),os(i,o,x)):(nt&&m&&ox(o),o.flags|=1,Wn(i,o,u,x),o.child)}function V2(i,o,u,m,x,_){return Il(o),o.updateQueue=null,u=FN(o,m,u,x),BN(i),m=Nx(),i!==null&&!pn?(Tx(i,o,_),os(i,o,_)):(nt&&m&&ox(o),o.flags|=1,Wn(i,o,u,_),o.child)}function $2(i,o,u,m,x){if(Il(o),o.stateNode===null){var _=qc,I=u.contextType;typeof I=="object"&&I!==null&&(_=Kn(I)),_=new u(m,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Fx,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=m,_.state=o.memoizedState,_.refs={},vx(o),I=u.contextType,_.context=typeof I=="object"&&I!==null?Kn(I):qc,_.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(Bx(o,u,I,m),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&Fx.enqueueReplaceState(_,_.state,null),nf(o,m,_,x),tf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){_=o.stateNode;var B=o.memoizedProps,G=Ll(u,B);_.props=G;var ee=_.context,le=u.contextType;I=qc,typeof le=="object"&&le!==null&&(I=Kn(le));var fe=u.getDerivedStateFromProps;le=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(B||ee!==I)&&N2(o,_,m,I),fo=!1;var te=o.memoizedState;_.state=te,nf(o,m,_,x),tf(),ee=o.memoizedState,B||te!==ee||fo?(typeof fe=="function"&&(Bx(o,u,fe,m),ee=o.memoizedState),(G=fo||j2(o,u,G,m,te,ee,I))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ee),_.props=m,_.state=ee,_.context=I,m=G):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{_=o.stateNode,xx(i,o),I=o.memoizedProps,le=Ll(u,I),_.props=le,fe=o.pendingProps,te=_.context,ee=u.contextType,G=qc,typeof ee=="object"&&ee!==null&&(G=Kn(ee)),B=u.getDerivedStateFromProps,(ee=typeof B=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==fe||te!==G)&&N2(o,_,m,G),fo=!1,te=o.memoizedState,_.state=te,nf(o,m,_,x),tf();var ie=o.memoizedState;I!==fe||te!==ie||fo||i!==null&&i.dependencies!==null&&sp(i.dependencies)?(typeof B=="function"&&(Bx(o,u,B,m),ie=o.memoizedState),(le=fo||j2(o,u,le,m,te,ie,G)||i!==null&&i.dependencies!==null&&sp(i.dependencies))?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,ie,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,ie,G)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ie),_.props=m,_.state=ie,_.context=G,m=le):(typeof _.componentDidUpdate!="function"||I===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),m=!1)}return _=m,Sp(i,o),m=(o.flags&128)!==0,_||m?(_=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&m?(o.child=Dl(o,i.child,null,x),o.child=Dl(o,null,u,x)):Wn(i,o,u,x),o.memoizedState=_.state,i=o.child):i=os(i,o,x),i}function B2(i,o,u,m){return Cl(),o.flags|=256,Wn(i,o,u,m),o.child}var Kx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wx(i){return{baseLanes:i,cachePool:IN()}}function Yx(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Hr),i}function F2(i,o,u){var m=o.pendingProps,x=!1,_=(o.flags&128)!==0,I;if((I=_)||(I=i!==null&&i.memoizedState===null?!1:(tn.current&2)!==0),I&&(x=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,i===null){if(nt){if(x?po(o):go(),(i=Ot)?(i=XT(i,ha),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:oo!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},u=_N(i),u.return=o,o.child=u,Gn=o,Ot=null)):i=null,i===null)throw co(o);return Ib(i)?o.lanes=32:o.lanes=536870912,null}var B=m.children;return m=m.fallback,x?(go(),x=o.mode,B=jp({mode:"hidden",children:B},x),m=Tl(m,x,u,null),B.return=o,m.return=o,B.sibling=m,o.child=B,m=o.child,m.memoizedState=Wx(u),m.childLanes=Yx(i,I,u),o.memoizedState=Kx,lf(null,m)):(po(o),Qx(o,B))}var G=i.memoizedState;if(G!==null&&(B=G.dehydrated,B!==null)){if(_)o.flags&256?(po(o),o.flags&=-257,o=Xx(i,o,u)):o.memoizedState!==null?(go(),o.child=i.child,o.flags|=128,o=null):(go(),B=m.fallback,x=o.mode,m=jp({mode:"visible",children:m.children},x),B=Tl(B,x,u,null),B.flags|=2,m.return=o,B.return=o,m.sibling=B,o.child=m,Dl(o,i.child,null,u),m=o.child,m.memoizedState=Wx(u),m.childLanes=Yx(i,I,u),o.memoizedState=Kx,o=lf(null,m));else if(po(o),Ib(B)){if(I=B.nextSibling&&B.nextSibling.dataset,I)var ee=I.dgst;I=ee,m=Error(r(419)),m.stack="",m.digest=I,Yd({value:m,source:null,stack:null}),o=Xx(i,o,u)}else if(pn||Wc(i,o,u,!1),I=(u&i.childLanes)!==0,pn||I){if(I=At,I!==null&&(m=Td(I,u),m!==0&&m!==G.retryLane))throw G.retryLane=m,Nl(i,m),Cr(I,i,m),Hx;Ob(B)||Dp(),o=Xx(i,o,u)}else Ob(B)?(o.flags|=192,o.child=i.child,o=null):(i=G.treeContext,Ot=pa(B.nextSibling),Gn=o,nt=!0,lo=null,ha=!1,i!==null&&SN(o,i),o=Qx(o,m.children),o.flags|=4096);return o}return x?(go(),B=m.fallback,x=o.mode,G=i.child,ee=G.sibling,m=ts(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ee!==null?B=ts(ee,B):(B=Tl(B,x,u,null),B.flags|=2),B.return=o,m.return=o,m.sibling=B,o.child=m,lf(null,m),m=o.child,B=i.child.memoizedState,B===null?B=Wx(u):(x=B.cachePool,x!==null?(G=hn._currentValue,x=x.parent!==G?{parent:G,pool:G}:x):x=IN(),B={baseLanes:B.baseLanes|u,cachePool:x}),m.memoizedState=B,m.childLanes=Yx(i,I,u),o.memoizedState=Kx,lf(i.child,m)):(po(o),u=i.child,i=u.sibling,u=ts(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(I=o.deletions,I===null?(o.deletions=[i],o.flags|=16):I.push(i)),o.child=u,o.memoizedState=null,u)}function Qx(i,o){return o=jp({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function jp(i,o){return i=$r(22,i,null,o),i.lanes=0,i}function Xx(i,o,u){return Dl(o,i.child,null,u),i=Qx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function q2(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),fx(i.return,o,u)}function Zx(i,o,u,m,x,_){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x,treeForkCount:_}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=u,I.tailMode=x,I.treeForkCount=_)}function H2(i,o,u){var m=o.pendingProps,x=m.revealOrder,_=m.tail;m=m.children;var I=tn.current,B=(I&2)!==0;if(B?(I=I&1|2,o.flags|=128):I&=1,me(tn,I),Wn(i,o,m,u),m=nt?Wd:0,!B&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&q2(i,u,o);else if(i.tag===19)q2(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(x){case"forwards":for(u=o.child,x=null;u!==null;)i=u.alternate,i!==null&&mp(i)===null&&(x=u),u=u.sibling;u=x,u===null?(x=o.child,o.child=null):(x=u.sibling,u.sibling=null),Zx(o,!1,x,u,_,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&mp(i)===null){o.child=x;break}i=x.sibling,x.sibling=u,u=x,x=i}Zx(o,!0,u,null,_,m);break;case"together":Zx(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function os(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),xo|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Wc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=ts(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ts(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Jx(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&sp(i)))}function uV(i,o,u){switch(o.tag){case 3:Nt(o,o.stateNode.containerInfo),uo(o,hn,i.memoizedState.cache),Cl();break;case 27:case 5:Ue(o);break;case 4:Nt(o,o.stateNode.containerInfo);break;case 10:uo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ax(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(po(o),o.flags|=128,null):(u&o.child.childLanes)!==0?F2(i,o,u):(po(o),i=os(i,o,u),i!==null?i.sibling:null);po(o);break;case 19:var x=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Wc(i,o,u,!1),m=(u&o.childLanes)!==0),x){if(m)return H2(i,o,u);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),me(tn,tn.current),m)break;return null;case 22:return o.lanes=0,L2(i,o,u,o.pendingProps);case 24:uo(o,hn,i.memoizedState.cache)}return os(i,o,u)}function G2(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)pn=!0;else{if(!Jx(i,u)&&(o.flags&128)===0)return pn=!1,uV(i,o,u);pn=(i.flags&131072)!==0}else pn=!1,nt&&(o.flags&1048576)!==0&&AN(o,Wd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Pl(o.elementType),o.type=i,typeof i=="function")ax(i)?(m=Ll(i,m),o.tag=1,o=$2(null,o,i,m,u)):(o.tag=0,o=Gx(null,o,i,m,u));else{if(i!=null){var x=i.$$typeof;if(x===C){o.tag=11,o=R2(null,o,i,m,u);break e}else if(x===N){o.tag=14,o=D2(null,o,i,m,u);break e}}throw o=ne(i)||i,Error(r(306,o,""))}}return o;case 0:return Gx(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,x=Ll(m,o.pendingProps),$2(i,o,m,x,u);case 3:e:{if(Nt(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var _=o.memoizedState;x=_.element,xx(i,o),nf(o,m,null,u);var I=o.memoizedState;if(m=I.cache,uo(o,hn,m),m!==_.cache&&hx(o,[hn],u,!0),tf(),m=I.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=B2(i,o,m,u);break e}else if(m!==x){x=ua(Error(r(424)),o),Yd(x),o=B2(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ot=pa(i.firstChild),Gn=o,nt=!0,lo=null,ha=!0,u=LN(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Cl(),m===x){o=os(i,o,u);break e}Wn(i,o,m,u)}o=o.child}return o;case 26:return Sp(i,o),i===null?(u=rC(o.type,null,o.pendingProps,null))?o.memoizedState=u:nt||(u=o.type,i=o.pendingProps,m=Bp(ke.current).createElement(u),m[un]=o,m[Pn]=i,Yn(m,u,i),dn(m),o.stateNode=m):o.memoizedState=rC(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ue(o),i===null&&nt&&(m=o.stateNode=eC(o.type,o.pendingProps,ke.current),Gn=o,ha=!0,x=Ot,Ao(o.type)?(kb=x,Ot=pa(m.firstChild)):Ot=x),Wn(i,o,o.pendingProps.children,u),Sp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&nt&&((x=m=Ot)&&(m=VV(m,o.type,o.pendingProps,ha),m!==null?(o.stateNode=m,Gn=o,Ot=pa(m.firstChild),ha=!1,x=!0):x=!1),x||co(o)),Ue(o),x=o.type,_=o.pendingProps,I=i!==null?i.memoizedProps:null,m=_.children,Nb(x,_)?m=null:I!==null&&Nb(x,I)&&(o.flags|=32),o.memoizedState!==null&&(x=jx(i,o,tV,null,null,u),Ef._currentValue=x),Sp(i,o),Wn(i,o,m,u),o.child;case 6:return i===null&&nt&&((i=u=Ot)&&(u=$V(u,o.pendingProps,ha),u!==null?(o.stateNode=u,Gn=o,Ot=null,i=!0):i=!1),i||co(o)),null;case 13:return F2(i,o,u);case 4:return Nt(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Dl(o,null,m,u):Wn(i,o,m,u),o.child;case 11:return R2(i,o,o.type,o.pendingProps,u);case 7:return Wn(i,o,o.pendingProps,u),o.child;case 8:return Wn(i,o,o.pendingProps.children,u),o.child;case 12:return Wn(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,uo(o,o.type,m.value),Wn(i,o,m.children,u),o.child;case 9:return x=o.type._context,m=o.pendingProps.children,Il(o),x=Kn(x),m=m(x),o.flags|=1,Wn(i,o,m,u),o.child;case 14:return D2(i,o,o.type,o.pendingProps,u);case 15:return M2(i,o,o.type,o.pendingProps,u);case 19:return H2(i,o,u);case 31:return cV(i,o,u);case 22:return L2(i,o,u,o.pendingProps);case 24:return Il(o),m=Kn(hn),i===null?(x=gx(),x===null&&(x=At,_=mx(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=u),x=_),o.memoizedState={parent:m,cache:x},vx(o),uo(o,hn,x)):((i.lanes&u)!==0&&(xx(i,o),nf(o,null,null,u),tf()),x=i.memoizedState,_=o.memoizedState,x.parent!==m?(x={parent:m,cache:m},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),uo(o,hn,m)):(m=_.cache,uo(o,hn,m),m!==x.cache&&hx(o,[hn],u,!0))),Wn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ls(i){i.flags|=4}function eb(i,o,u,m,x){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(x&335544128)===x)if(i.stateNode.complete)i.flags|=8192;else if(xT())i.flags|=8192;else throw Rl=up,yx}else i.flags&=-16777217}function K2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!lC(o))if(xT())i.flags|=8192;else throw Rl=up,yx}function Np(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Pm():536870912,i.lanes|=o,su|=o)}function cf(i,o){if(!nt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function It(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function dV(i,o,u){var m=o.pendingProps;switch(lx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(o),null;case 1:return It(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),as(hn),ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Kc(o)?ls(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ux())),It(o),null;case 26:var x=o.type,_=o.memoizedState;return i===null?(ls(o),_!==null?(It(o),K2(o,_)):(It(o),eb(o,x,null,m,u))):_?_!==i.memoizedState?(ls(o),It(o),K2(o,_)):(It(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&ls(o),It(o),eb(o,x,i,m,u)),null;case 27:if(He(o),u=ke.current,x=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ls(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return It(o),null}i=ye.current,Kc(o)?jN(o):(i=eC(x,m,u),o.stateNode=i,ls(o))}return It(o),null;case 5:if(He(o),x=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ls(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return It(o),null}if(_=ye.current,Kc(o))jN(o);else{var I=Bp(ke.current);switch(_){case 1:_=I.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:_=I.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":_=I.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":_=I.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":_=I.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?I.createElement("select",{is:m.is}):I.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?I.createElement(x,{is:m.is}):I.createElement(x)}}_[un]=o,_[Pn]=m;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)_.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=_;e:switch(Yn(_,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ls(o)}}return It(o),eb(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&ls(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=ke.current,Kc(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,x=Gn,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}i[un]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||FT(i.nodeValue,u)),i||co(o,!0)}else i=Bp(i).createTextNode(m),i[un]=o,o.stateNode=i}return It(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=Kc(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[un]=o}else Cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;It(o),i=!1}else u=ux(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Fr(o),o):(Fr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return It(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(x=Kc(o),m!==null&&m.dehydrated!==null){if(i===null){if(!x)throw Error(r(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[un]=o}else Cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;It(o),x=!1}else x=ux(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(Fr(o),o):(Fr(o),null)}return Fr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==x&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Np(o,o.updateQueue),It(o),null);case 4:return ce(),i===null&&_b(o.stateNode.containerInfo),It(o),null;case 10:return as(o.type),It(o),null;case 19:if(re(tn),m=o.memoizedState,m===null)return It(o),null;if(x=(o.flags&128)!==0,_=m.rendering,_===null)if(x)cf(m,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=mp(i),_!==null){for(o.flags|=128,cf(m,!1),i=_.updateQueue,o.updateQueue=i,Np(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)wN(u,i),u=u.sibling;return me(tn,tn.current&1|2),nt&&ns(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&dr()>kp&&(o.flags|=128,x=!0,cf(m,!1),o.lanes=4194304)}else{if(!x)if(i=mp(_),i!==null){if(o.flags|=128,x=!0,i=i.updateQueue,o.updateQueue=i,Np(o,i),cf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!nt)return It(o),null}else 2*dr()-m.renderingStartTime>kp&&u!==536870912&&(o.flags|=128,x=!0,cf(m,!1),o.lanes=4194304);m.isBackwards?(_.sibling=o.child,o.child=_):(i=m.last,i!==null?i.sibling=_:o.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=dr(),i.sibling=null,u=tn.current,me(tn,x?u&1|2:u&1),nt&&ns(o,m.treeForkCount),i):(It(o),null);case 22:case 23:return Fr(o),Ex(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(It(o),o.subtreeFlags&6&&(o.flags|=8192)):It(o),u=o.updateQueue,u!==null&&Np(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&re(kl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),as(hn),It(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function fV(i,o){switch(lx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return as(hn),ce(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 31:if(o.memoizedState!==null){if(Fr(o),o.alternate===null)throw Error(r(340));Cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Fr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return re(tn),null;case 4:return ce(),null;case 10:return as(o.type),null;case 22:case 23:return Fr(o),Ex(),i!==null&&re(kl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return as(hn),null;case 25:return null;default:return null}}function W2(i,o){switch(lx(o),o.tag){case 3:as(hn),ce();break;case 26:case 27:case 5:He(o);break;case 4:ce();break;case 31:o.memoizedState!==null&&Fr(o);break;case 13:Fr(o);break;case 19:re(tn);break;case 10:as(o.type);break;case 22:case 23:Fr(o),Ex(),i!==null&&re(kl);break;case 24:as(hn)}}function uf(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&i)===i){m=void 0;var _=u.create,I=u.inst;m=_(),I.destroy=m}u=u.next}while(u!==x)}}catch(B){gt(o,o.return,B)}}function yo(i,o,u){try{var m=o.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var _=x.next;m=_;do{if((m.tag&i)===i){var I=m.inst,B=I.destroy;if(B!==void 0){I.destroy=void 0,x=o;var G=u,ee=B;try{ee()}catch(le){gt(x,G,le)}}}m=m.next}while(m!==_)}}catch(le){gt(o,o.return,le)}}function Y2(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{zN(o,u)}catch(m){gt(i,i.return,m)}}}function Q2(i,o,u){u.props=Ll(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){gt(i,o,m)}}function df(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(x){gt(i,o,x)}}function Ai(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){gt(i,o,x)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){gt(i,o,x)}else u.current=null}function X2(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){gt(i,i.return,x)}}function tb(i,o,u){try{var m=i.stateNode;RV(m,i.type,u,o),m[Pn]=o}catch(x){gt(i,i.return,x)}}function Z2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ao(i.type)||i.tag===4}function nb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Z2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ao(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rb(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ma));else if(m!==4&&(m===27&&Ao(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(rb(i,o,u),i=i.sibling;i!==null;)rb(i,o,u),i=i.sibling}function Tp(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Ao(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Tp(i,o,u),i=i.sibling;i!==null;)Tp(i,o,u),i=i.sibling}function J2(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);Yn(o,m,u),o[un]=i,o[Pn]=u}catch(_){gt(i,i.return,_)}}var cs=!1,gn=!1,ab=!1,eT=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function hV(i,o){if(i=i.containerInfo,Sb=Yp,i=fN(i),X0(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var I=0,B=-1,G=-1,ee=0,le=0,fe=i,te=null;t:for(;;){for(var ie;fe!==u||x!==0&&fe.nodeType!==3||(B=I+x),fe!==_||m!==0&&fe.nodeType!==3||(G=I+m),fe.nodeType===3&&(I+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)te=fe,fe=ie;for(;;){if(fe===i)break t;if(te===u&&++ee===x&&(B=I),te===_&&++le===m&&(G=I),(ie=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=ie}u=B===-1||G===-1?null:{start:B,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(jb={focusedElem:i,selectionRange:u},Yp=!1,Dn=o;Dn!==null;)if(o=Dn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Dn=i;else for(;Dn!==null;){switch(o=Dn,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)x=i[u],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,u=o,x=_.memoizedProps,_=_.memoizedState,m=u.stateNode;try{var Se=Ll(u.type,x);i=m.getSnapshotBeforeUpdate(Se,_),m.__reactInternalSnapshotBeforeUpdate=i}catch(Re){gt(u,u.return,Re)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Cb(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cb(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Dn=i;break}Dn=o.return}}function tT(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ds(i,u),m&4&&uf(5,u);break;case 1:if(ds(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(I){gt(u,u.return,I)}else{var x=Ll(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(x,o,i.__reactInternalSnapshotBeforeUpdate)}catch(I){gt(u,u.return,I)}}m&64&&Y2(u),m&512&&df(u,u.return);break;case 3:if(ds(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{zN(i,o)}catch(I){gt(u,u.return,I)}}break;case 27:o===null&&m&4&&J2(u);case 26:case 5:ds(i,u),o===null&&m&4&&X2(u),m&512&&df(u,u.return);break;case 12:ds(i,u);break;case 31:ds(i,u),m&4&&aT(i,u);break;case 13:ds(i,u),m&4&&iT(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=_V.bind(null,u),BV(i,u))));break;case 22:if(m=u.memoizedState!==null||cs,!m){o=o!==null&&o.memoizedState!==null||gn,x=cs;var _=gn;cs=m,(gn=o)&&!_?fs(i,u,(u.subtreeFlags&8772)!==0):ds(i,u),cs=x,gn=_}break;case 30:break;default:ds(i,u)}}function nT(i){var o=i.alternate;o!==null&&(i.alternate=null,nT(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Oc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Mt=null,Sr=!1;function us(i,o,u){for(u=u.child;u!==null;)rT(i,o,u),u=u.sibling}function rT(i,o,u){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(ka,u)}catch{}switch(u.tag){case 26:gn||Ai(u,o),us(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:gn||Ai(u,o);var m=Mt,x=Sr;Ao(u.type)&&(Mt=u.stateNode,Sr=!1),us(i,o,u),bf(u.stateNode),Mt=m,Sr=x;break;case 5:gn||Ai(u,o);case 6:if(m=Mt,x=Sr,Mt=null,us(i,o,u),Mt=m,Sr=x,Mt!==null)if(Sr)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(u.stateNode)}catch(_){gt(u,o,_)}else try{Mt.removeChild(u.stateNode)}catch(_){gt(u,o,_)}break;case 18:Mt!==null&&(Sr?(i=Mt,YT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),mu(i)):YT(Mt,u.stateNode));break;case 4:m=Mt,x=Sr,Mt=u.stateNode.containerInfo,Sr=!0,us(i,o,u),Mt=m,Sr=x;break;case 0:case 11:case 14:case 15:yo(2,u,o),gn||yo(4,u,o),us(i,o,u);break;case 1:gn||(Ai(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&Q2(u,o,m)),us(i,o,u);break;case 21:us(i,o,u);break;case 22:gn=(m=gn)||u.memoizedState!==null,us(i,o,u),gn=m;break;default:us(i,o,u)}}function aT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{mu(i)}catch(u){gt(o,o.return,u)}}}function iT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mu(i)}catch(u){gt(o,o.return,u)}}function mV(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new eT),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new eT),o;default:throw Error(r(435,i.tag))}}function Cp(i,o){var u=mV(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var x=EV.bind(null,i,m);m.then(x,x)}})}function jr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],_=i,I=o,B=I;e:for(;B!==null;){switch(B.tag){case 27:if(Ao(B.type)){Mt=B.stateNode,Sr=!1;break e}break;case 5:Mt=B.stateNode,Sr=!1;break e;case 3:case 4:Mt=B.stateNode.containerInfo,Sr=!0;break e}B=B.return}if(Mt===null)throw Error(r(160));rT(_,I,x),Mt=null,Sr=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)sT(o,i),o=o.sibling}var Ba=null;function sT(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jr(o,i),Nr(i),m&4&&(yo(3,i,i.return),uf(3,i),yo(5,i,i.return));break;case 1:jr(o,i),Nr(i),m&512&&(gn||u===null||Ai(u,u.return)),m&64&&cs&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=Ba;if(jr(o,i),Nr(i),m&512&&(gn||u===null||Ai(u,u.return)),m&4){var _=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":_=x.getElementsByTagName("title")[0],(!_||_[ui]||_[un]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(m),x.head.insertBefore(_,x.querySelector("head > title"))),Yn(_,m,u),_[un]=i,dn(_),m=_;break e;case"link":var I=sC("link","href",x).get(m+(u.href||""));if(I){for(var B=0;B<I.length;B++)if(_=I[B],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(B,1);break t}}_=x.createElement(m),Yn(_,m,u),x.head.appendChild(_);break;case"meta":if(I=sC("meta","content",x).get(m+(u.content||""))){for(B=0;B<I.length;B++)if(_=I[B],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(B,1);break t}}_=x.createElement(m),Yn(_,m,u),x.head.appendChild(_);break;default:throw Error(r(468,m))}_[un]=i,dn(_),m=_}i.stateNode=m}else oC(x,i.type,i.stateNode);else i.stateNode=iC(x,m,i.memoizedProps);else _!==m?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,m===null?oC(x,i.type,i.stateNode):iC(x,m,i.memoizedProps)):m===null&&i.stateNode!==null&&tb(i,i.memoizedProps,u.memoizedProps)}break;case 27:jr(o,i),Nr(i),m&512&&(gn||u===null||Ai(u,u.return)),u!==null&&m&4&&tb(i,i.memoizedProps,u.memoizedProps);break;case 5:if(jr(o,i),Nr(i),m&512&&(gn||u===null||Ai(u,u.return)),i.flags&32){x=i.stateNode;try{Ar(x,"")}catch(Se){gt(i,i.return,Se)}}m&4&&i.stateNode!=null&&(x=i.memoizedProps,tb(i,x,u!==null?u.memoizedProps:x)),m&1024&&(ab=!0);break;case 6:if(jr(o,i),Nr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Se){gt(i,i.return,Se)}}break;case 3:if(Hp=null,x=Ba,Ba=Fp(o.containerInfo),jr(o,i),Ba=x,Nr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{mu(o.containerInfo)}catch(Se){gt(i,i.return,Se)}ab&&(ab=!1,oT(i));break;case 4:m=Ba,Ba=Fp(i.stateNode.containerInfo),jr(o,i),Nr(i),Ba=m;break;case 12:jr(o,i),Nr(i);break;case 31:jr(o,i),Nr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Cp(i,m)));break;case 13:jr(o,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ip=dr()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Cp(i,m)));break;case 22:x=i.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ee=cs,le=gn;if(cs=ee||x,gn=le||G,jr(o,i),gn=le,cs=ee,Nr(i),m&8192)e:for(o=i.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(u===null||G||cs||gn||Ul(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(_=G.stateNode,x)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{B=G.stateNode;var fe=G.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;B.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Se){gt(G,G.return,Se)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=x?"":G.memoizedProps}catch(Se){gt(G,G.return,Se)}}}else if(o.tag===18){if(u===null){G=o;try{var ie=G.stateNode;x?QT(ie,!0):QT(G.stateNode,!1)}catch(Se){gt(G,G.return,Se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Cp(i,u))));break;case 19:jr(o,i),Nr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Cp(i,m)));break;case 30:break;case 21:break;default:jr(o,i),Nr(i)}}function Nr(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(Z2(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var x=u.stateNode,_=nb(i);Tp(i,_,x);break;case 5:var I=u.stateNode;u.flags&32&&(Ar(I,""),u.flags&=-33);var B=nb(i);Tp(i,B,I);break;case 3:case 4:var G=u.stateNode.containerInfo,ee=nb(i);rb(i,ee,G);break;default:throw Error(r(161))}}catch(le){gt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function oT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;oT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function ds(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)tT(i,o.alternate,o),o=o.sibling}function Ul(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),Ul(o);break;case 1:Ai(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Q2(o,o.return,u),Ul(o);break;case 27:bf(o.stateNode);case 26:case 5:Ai(o,o.return),Ul(o);break;case 22:o.memoizedState===null&&Ul(o);break;case 30:Ul(o);break;default:Ul(o)}i=i.sibling}}function fs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,x=i,_=o,I=_.flags;switch(_.tag){case 0:case 11:case 15:fs(x,_,u),uf(4,_);break;case 1:if(fs(x,_,u),m=_,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ee){gt(m,m.return,ee)}if(m=_,x=m.updateQueue,x!==null){var B=m.stateNode;try{var G=x.shared.hiddenCallbacks;if(G!==null)for(x.shared.hiddenCallbacks=null,x=0;x<G.length;x++)UN(G[x],B)}catch(ee){gt(m,m.return,ee)}}u&&I&64&&Y2(_),df(_,_.return);break;case 27:J2(_);case 26:case 5:fs(x,_,u),u&&m===null&&I&4&&X2(_),df(_,_.return);break;case 12:fs(x,_,u);break;case 31:fs(x,_,u),u&&I&4&&aT(x,_);break;case 13:fs(x,_,u),u&&I&4&&iT(x,_);break;case 22:_.memoizedState===null&&fs(x,_,u),df(_,_.return);break;case 30:break;default:fs(x,_,u)}o=o.sibling}}function ib(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Qd(u))}function sb(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Qd(i))}function Fa(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lT(i,o,u,m),o=o.sibling}function lT(i,o,u,m){var x=o.flags;switch(o.tag){case 0:case 11:case 15:Fa(i,o,u,m),x&2048&&uf(9,o);break;case 1:Fa(i,o,u,m);break;case 3:Fa(i,o,u,m),x&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Qd(i)));break;case 12:if(x&2048){Fa(i,o,u,m),i=o.stateNode;try{var _=o.memoizedProps,I=_.id,B=_.onPostCommit;typeof B=="function"&&B(I,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){gt(o,o.return,G)}}else Fa(i,o,u,m);break;case 31:Fa(i,o,u,m);break;case 13:Fa(i,o,u,m);break;case 23:break;case 22:_=o.stateNode,I=o.alternate,o.memoizedState!==null?_._visibility&2?Fa(i,o,u,m):ff(i,o):_._visibility&2?Fa(i,o,u,m):(_._visibility|=2,ru(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),x&2048&&ib(I,o);break;case 24:Fa(i,o,u,m),x&2048&&sb(o.alternate,o);break;default:Fa(i,o,u,m)}}function ru(i,o,u,m,x){for(x=x&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,I=o,B=u,G=m,ee=I.flags;switch(I.tag){case 0:case 11:case 15:ru(_,I,B,G,x),uf(8,I);break;case 23:break;case 22:var le=I.stateNode;I.memoizedState!==null?le._visibility&2?ru(_,I,B,G,x):ff(_,I):(le._visibility|=2,ru(_,I,B,G,x)),x&&ee&2048&&ib(I.alternate,I);break;case 24:ru(_,I,B,G,x),x&&ee&2048&&sb(I.alternate,I);break;default:ru(_,I,B,G,x)}o=o.sibling}}function ff(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,x=m.flags;switch(m.tag){case 22:ff(u,m),x&2048&&ib(m.alternate,m);break;case 24:ff(u,m),x&2048&&sb(m.alternate,m);break;default:ff(u,m)}o=o.sibling}}var hf=8192;function au(i,o,u){if(i.subtreeFlags&hf)for(i=i.child;i!==null;)cT(i,o,u),i=i.sibling}function cT(i,o,u){switch(i.tag){case 26:au(i,o,u),i.flags&hf&&i.memoizedState!==null&&e9(u,Ba,i.memoizedState,i.memoizedProps);break;case 5:au(i,o,u);break;case 3:case 4:var m=Ba;Ba=Fp(i.stateNode.containerInfo),au(i,o,u),Ba=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=hf,hf=16777216,au(i,o,u),hf=m):au(i,o,u));break;default:au(i,o,u)}}function uT(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function mf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Dn=m,fT(m,i)}uT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dT(i),i=i.sibling}function dT(i){switch(i.tag){case 0:case 11:case 15:mf(i),i.flags&2048&&yo(9,i,i.return);break;case 3:mf(i);break;case 12:mf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Op(i)):mf(i);break;default:mf(i)}}function Op(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Dn=m,fT(m,i)}uT(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:yo(8,o,o.return),Op(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Op(o));break;default:Op(o)}i=i.sibling}}function fT(i,o){for(;Dn!==null;){var u=Dn;switch(u.tag){case 0:case 11:case 15:yo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Qd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Dn=m;else e:for(u=i;Dn!==null;){m=Dn;var x=m.sibling,_=m.return;if(nT(m),m===u){Dn=null;break e}if(x!==null){x.return=_,Dn=x;break e}Dn=_}}}var pV={getCacheForType:function(i){var o=Kn(hn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Kn(hn).controller.signal}},gV=typeof WeakMap=="function"?WeakMap:Map,dt=0,At=null,Ke=null,Xe=0,pt=0,qr=null,vo=!1,iu=!1,ob=!1,hs=0,Gt=0,xo=0,zl=0,lb=0,Hr=0,su=0,pf=null,Tr=null,cb=!1,Ip=0,hT=0,kp=1/0,Pp=null,bo=null,jn=0,wo=null,ou=null,ms=0,ub=0,db=null,mT=null,gf=0,fb=null;function Gr(){return(dt&2)!==0&&Xe!==0?Xe&-Xe:Y.T!==null?vb():Rm()}function pT(){if(Hr===0)if((Xe&536870912)===0||nt){var i=fl;fl<<=1,(fl&3932160)===0&&(fl=262144),Hr=i}else Hr=536870912;return i=Br.current,i!==null&&(i.flags|=32),Hr}function Cr(i,o,u){(i===At&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(lu(i,0),_o(i,Xe,Hr,!1)),hl(i,u),((dt&2)===0||i!==At)&&(i===At&&((dt&2)===0&&(zl|=u),Gt===4&&_o(i,Xe,Hr,!1)),Si(i))}function gT(i,o,u){if((dt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Pa(i,o),x=m?xV(i,o):mb(i,o,!0),_=m;do{if(x===0){iu&&!m&&_o(i,o,0,!1);break}else{if(u=i.current.alternate,_&&!yV(u)){x=mb(i,o,!1),_=!1;continue}if(x===2){if(_=o,i.errorRecoveryDisabledLanes&_)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var B=i;x=pf;var G=B.current.memoizedState.isDehydrated;if(G&&(lu(B,I).flags|=256),I=mb(B,I,!1),I!==2){if(ob&&!G){B.errorRecoveryDisabledLanes|=_,zl|=_,x=4;break e}_=Tr,Tr=x,_!==null&&(Tr===null?Tr=_:Tr.push.apply(Tr,_))}x=I}if(_=!1,x!==2)continue}}if(x===1){lu(i,0),_o(i,o,0,!0);break}e:{switch(m=i,_=x,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:_o(m,o,Hr,!vo);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(x=Ip+300-dr(),10<x)){if(_o(m,o,Hr,!vo),oi(m,0,!0)!==0)break e;ms=o,m.timeoutHandle=KT(yT.bind(null,m,u,Tr,Pp,cb,o,Hr,zl,su,vo,_,"Throttled",-0,0),x);break e}yT(m,u,Tr,Pp,cb,o,Hr,zl,su,vo,_,null,-0,0)}}break}while(!0);Si(i)}function yT(i,o,u,m,x,_,I,B,G,ee,le,fe,te,ie){if(i.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},cT(o,_,fe);var Se=(_&62914560)===_?Ip-dr():(_&4194048)===_?hT-dr():0;if(Se=t9(fe,Se),Se!==null){ms=_,i.cancelPendingCommit=Se(ST.bind(null,i,o,_,u,m,x,I,B,G,le,fe,null,te,ie)),_o(i,_,I,!ee);return}}ST(i,o,_,u,m,x,I,B,G)}function yV(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],_=x.getSnapshot;x=x.value;try{if(!Vr(_(),x))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _o(i,o,u,m){o&=~lb,o&=~zl,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var x=o;0<x;){var _=31-Jt(x),I=1<<_;m[_]=-1,x&=~I}u!==0&&ml(i,u,o)}function Rp(){return(dt&6)===0?(yf(0),!1):!0}function hb(){if(Ke!==null){if(pt===0)var i=Ke.return;else i=Ke,rs=Ol=null,Cx(i),Zc=null,Zd=0,i=Ke;for(;i!==null;)W2(i.alternate,i),i=i.return;Ke=null}}function lu(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,LV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ms=0,hb(),At=i,Ke=u=ts(i.current,null),Xe=o,pt=0,qr=null,vo=!1,iu=Pa(i,o),ob=!1,su=Hr=lb=zl=xo=Gt=0,Tr=pf=null,cb=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var x=31-Jt(m),_=1<<x;o|=i[x],m&=~_}return hs=o,tp(),u}function vT(i,o){Be=null,Y.H=of,o===Xc||o===cp?(o=RN(),pt=3):o===yx?(o=RN(),pt=4):pt=o===Hx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,qr=o,Ke===null&&(Gt=1,Ep(i,ua(o,i.current)))}function xT(){var i=Br.current;return i===null?!0:(Xe&4194048)===Xe?ma===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===ma:!1}function bT(){var i=Y.H;return Y.H=of,i===null?of:i}function wT(){var i=Y.A;return Y.A=pV,i}function Dp(){Gt=4,vo||(Xe&4194048)!==Xe&&Br.current!==null||(iu=!0),(xo&134217727)===0&&(zl&134217727)===0||At===null||_o(At,Xe,Hr,!1)}function mb(i,o,u){var m=dt;dt|=2;var x=bT(),_=wT();(At!==i||Xe!==o)&&(Pp=null,lu(i,o)),o=!1;var I=Gt;e:do try{if(pt!==0&&Ke!==null){var B=Ke,G=qr;switch(pt){case 8:hb(),I=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(o=!0);var ee=pt;if(pt=0,qr=null,cu(i,B,G,ee),u&&iu){I=0;break e}break;default:ee=pt,pt=0,qr=null,cu(i,B,G,ee)}}vV(),I=Gt;break}catch(le){vT(i,le)}while(!0);return o&&i.shellSuspendCounter++,rs=Ol=null,dt=m,Y.H=x,Y.A=_,Ke===null&&(At=null,Xe=0,tp()),I}function vV(){for(;Ke!==null;)_T(Ke)}function xV(i,o){var u=dt;dt|=2;var m=bT(),x=wT();At!==i||Xe!==o?(Pp=null,kp=dr()+500,lu(i,o)):iu=Pa(i,o);e:do try{if(pt!==0&&Ke!==null){o=Ke;var _=qr;t:switch(pt){case 1:pt=0,qr=null,cu(i,o,_,1);break;case 2:case 9:if(kN(_)){pt=0,qr=null,ET(o);break}o=function(){pt!==2&&pt!==9||At!==i||(pt=7),Si(i)},_.then(o,o);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:kN(_)?(pt=0,qr=null,ET(o)):(pt=0,qr=null,cu(i,o,_,7));break;case 5:var I=null;switch(Ke.tag){case 26:I=Ke.memoizedState;case 5:case 27:var B=Ke;if(I?lC(I):B.stateNode.complete){pt=0,qr=null;var G=B.sibling;if(G!==null)Ke=G;else{var ee=B.return;ee!==null?(Ke=ee,Mp(ee)):Ke=null}break t}}pt=0,qr=null,cu(i,o,_,5);break;case 6:pt=0,qr=null,cu(i,o,_,6);break;case 8:hb(),Gt=6;break e;default:throw Error(r(462))}}bV();break}catch(le){vT(i,le)}while(!0);return rs=Ol=null,Y.H=m,Y.A=x,dt=u,Ke!==null?0:(At=null,Xe=0,tp(),Gt)}function bV(){for(;Ke!==null&&!q0();)_T(Ke)}function _T(i){var o=G2(i.alternate,i,hs);i.memoizedProps=i.pendingProps,o===null?Mp(i):Ke=o}function ET(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=V2(u,o,o.pendingProps,o.type,void 0,Xe);break;case 11:o=V2(u,o,o.pendingProps,o.type.render,o.ref,Xe);break;case 5:Cx(o);default:W2(u,o),o=Ke=wN(o,hs),o=G2(u,o,hs)}i.memoizedProps=i.pendingProps,o===null?Mp(i):Ke=o}function cu(i,o,u,m){rs=Ol=null,Cx(o),Zc=null,Zd=0;var x=o.return;try{if(lV(i,x,o,u,Xe)){Gt=1,Ep(i,ua(u,i.current)),Ke=null;return}}catch(_){if(x!==null)throw Ke=x,_;Gt=1,Ep(i,ua(u,i.current)),Ke=null;return}o.flags&32768?(nt||m===1?i=!0:iu||(Xe&536870912)!==0?i=!1:(vo=i=!0,(m===2||m===9||m===3||m===6)&&(m=Br.current,m!==null&&m.tag===13&&(m.flags|=16384))),AT(o,i)):Mp(o)}function Mp(i){var o=i;do{if((o.flags&32768)!==0){AT(o,vo);return}i=o.return;var u=dV(o.alternate,o,hs);if(u!==null){Ke=u;return}if(o=o.sibling,o!==null){Ke=o;return}Ke=o=i}while(o!==null);Gt===0&&(Gt=5)}function AT(i,o){do{var u=fV(i.alternate,i);if(u!==null){u.flags&=32767,Ke=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Ke=i;return}Ke=i=u}while(i!==null);Gt=6,Ke=null}function ST(i,o,u,m,x,_,I,B,G){i.cancelPendingCommit=null;do Lp();while(jn!==0);if((dt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=nx,K0(i,u,_,I,B,G),i===At&&(Ke=At=null,Xe=0),ou=o,wo=i,ms=u,ub=_,db=x,mT=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,AV(Xs,function(){return OT(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null,x=oe.p,oe.p=2,I=dt,dt|=4;try{hV(i,o,u)}finally{dt=I,oe.p=x,Y.T=m}}jn=1,jT(),NT(),TT()}}function jT(){if(jn===1){jn=0;var i=wo,o=ou,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var m=oe.p;oe.p=2;var x=dt;dt|=4;try{sT(o,i);var _=jb,I=fN(i.containerInfo),B=_.focusedElem,G=_.selectionRange;if(I!==B&&B&&B.ownerDocument&&dN(B.ownerDocument.documentElement,B)){if(G!==null&&X0(B)){var ee=G.start,le=G.end;if(le===void 0&&(le=ee),"selectionStart"in B)B.selectionStart=ee,B.selectionEnd=Math.min(le,B.value.length);else{var fe=B.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Se=B.textContent.length,Re=Math.min(G.start,Se),_t=G.end===void 0?Re:Math.min(G.end,Se);!ie.extend&&Re>_t&&(I=_t,_t=Re,Re=I);var Q=uN(B,Re),W=uN(B,_t);if(Q&&W&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==W.node||ie.focusOffset!==W.offset)){var Z=fe.createRange();Z.setStart(Q.node,Q.offset),ie.removeAllRanges(),Re>_t?(ie.addRange(Z),ie.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ie.addRange(Z))}}}}for(fe=[],ie=B;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<fe.length;B++){var ue=fe[B];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Yp=!!Sb,jb=Sb=null}finally{dt=x,oe.p=m,Y.T=u}}i.current=o,jn=2}}function NT(){if(jn===2){jn=0;var i=wo,o=ou,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var m=oe.p;oe.p=2;var x=dt;dt|=4;try{tT(i,o.alternate,o)}finally{dt=x,oe.p=m,Y.T=u}}jn=3}}function TT(){if(jn===4||jn===3){jn=0,Nm();var i=wo,o=ou,u=ms,m=mT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jn=5:(jn=0,ou=wo=null,CT(i,i.pendingLanes));var x=i.pendingLanes;if(x===0&&(bo=null),Xi(u),o=o.stateNode,qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(ka,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Y.T,x=oe.p,oe.p=2,Y.T=null;try{for(var _=i.onRecoverableError,I=0;I<m.length;I++){var B=m[I];_(B.value,{componentStack:B.stack})}}finally{Y.T=o,oe.p=x}}(ms&3)!==0&&Lp(),Si(i),x=i.pendingLanes,(u&261930)!==0&&(x&42)!==0?i===fb?gf++:(gf=0,fb=i):gf=0,yf(0)}}function CT(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Qd(o)))}function Lp(){return jT(),NT(),TT(),OT()}function OT(){if(jn!==5)return!1;var i=wo,o=ub;ub=0;var u=Xi(ms),m=Y.T,x=oe.p;try{oe.p=32>u?32:u,Y.T=null,u=db,db=null;var _=wo,I=ms;if(jn=0,ou=wo=null,ms=0,(dt&6)!==0)throw Error(r(331));var B=dt;if(dt|=4,dT(_.current),lT(_,_.current,I,u),dt=B,yf(0,!1),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(ka,_)}catch{}return!0}finally{oe.p=x,Y.T=m,CT(i,o)}}function IT(i,o,u){o=ua(u,o),o=qx(i.stateNode,o,2),i=mo(i,o,2),i!==null&&(hl(i,2),Si(i))}function gt(i,o,u){if(i.tag===3)IT(i,i,u);else for(;o!==null;){if(o.tag===3){IT(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(bo===null||!bo.has(m))){i=ua(u,i),u=k2(2),m=mo(o,u,2),m!==null&&(P2(u,m,o,i),hl(m,2),Si(m));break}}o=o.return}}function pb(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new gV;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(u)||(ob=!0,x.add(u),i=wV.bind(null,i,o,u),o.then(i,i))}function wV(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,At===i&&(Xe&u)===u&&(Gt===4||Gt===3&&(Xe&62914560)===Xe&&300>dr()-Ip?(dt&2)===0&&lu(i,0):lb|=u,su===Xe&&(su=0)),Si(i)}function kT(i,o){o===0&&(o=Pm()),i=Nl(i,o),i!==null&&(hl(i,o),Si(i))}function _V(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),kT(i,u)}function EV(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,x=i.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),kT(i,u)}function AV(i,o){return Sn(i,o)}var Up=null,uu=null,gb=!1,zp=!1,yb=!1,Eo=0;function Si(i){i!==uu&&i.next===null&&(uu===null?Up=uu=i:uu=uu.next=i),zp=!0,gb||(gb=!0,jV())}function yf(i,o){if(!yb&&zp){yb=!0;do for(var u=!1,m=Up;m!==null;){if(i!==0){var x=m.pendingLanes;if(x===0)var _=0;else{var I=m.suspendedLanes,B=m.pingedLanes;_=(1<<31-Jt(42|i)+1)-1,_&=x&~(I&~B),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,MT(m,_))}else _=Xe,_=oi(m,m===At?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Pa(m,_)||(u=!0,MT(m,_));m=m.next}while(u);yb=!1}}function SV(){PT()}function PT(){zp=gb=!1;var i=0;Eo!==0&&MV()&&(i=Eo);for(var o=dr(),u=null,m=Up;m!==null;){var x=m.next,_=RT(m,o);_===0?(m.next=null,u===null?Up=x:u.next=x,x===null&&(uu=u)):(u=m,(i!==0||(_&3)!==0)&&(zp=!0)),m=x}jn!==0&&jn!==5||yf(i),Eo!==0&&(Eo=0)}function RT(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,x=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var I=31-Jt(_),B=1<<I,G=x[I];G===-1?((B&u)===0||(B&m)!==0)&&(x[I]=G0(B,o)):G<=o&&(i.expiredLanes|=B),_&=~B}if(o=At,u=Xe,u=oi(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Qs(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Pa(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&Qs(m),Xi(u)){case 2:case 8:u=jd;break;case 32:u=Xs;break;case 268435456:u=Tm;break;default:u=Xs}return m=DT.bind(null,i),u=Sn(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&Qs(m),i.callbackPriority=2,i.callbackNode=null,2}function DT(i,o){if(jn!==0&&jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Lp()&&i.callbackNode!==u)return null;var m=Xe;return m=oi(i,i===At?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(gT(i,m,o),RT(i,dr()),i.callbackNode!=null&&i.callbackNode===u?DT.bind(null,i):null)}function MT(i,o){if(Lp())return null;gT(i,o,!0)}function jV(){UV(function(){(dt&6)!==0?Sn(Sd,SV):PT()})}function vb(){if(Eo===0){var i=Yc;i===0&&(i=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Eo=i}return Eo}function LT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Rc(""+i)}function UT(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function NV(i,o,u,m,x){if(o==="submit"&&u&&u.stateNode===x){var _=LT((x[Pn]||null).action),I=m.submitter;I&&(o=(o=I[Pn]||null)?LT(o.formAction):I.getAttribute("formAction"),o!==null&&(_=o,I=null));var B=new vi("action","action",null,m,x);i.push({event:B,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Eo!==0){var G=I?UT(x,I):new FormData(x);Ux(u,{pending:!0,data:G,method:x.method,action:_},null,G)}}else typeof _=="function"&&(B.preventDefault(),G=I?UT(x,I):new FormData(x),Ux(u,{pending:!0,data:G,method:x.method,action:_},_,G))},currentTarget:x}]})}}for(var xb=0;xb<tx.length;xb++){var bb=tx[xb],TV=bb.toLowerCase(),CV=bb[0].toUpperCase()+bb.slice(1);$a(TV,"on"+CV)}$a(pN,"onAnimationEnd"),$a(gN,"onAnimationIteration"),$a(yN,"onAnimationStart"),$a("dblclick","onDoubleClick"),$a("focusin","onFocus"),$a("focusout","onBlur"),$a(H8,"onTransitionRun"),$a(G8,"onTransitionStart"),$a(K8,"onTransitionCancel"),$a(vN,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vf));function zT(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],x=m.event;m=m.listeners;e:{var _=void 0;if(o)for(var I=m.length-1;0<=I;I--){var B=m[I],G=B.instance,ee=B.currentTarget;if(B=B.listener,G!==_&&x.isPropagationStopped())break e;_=B,x.currentTarget=ee;try{_(x)}catch(le){ep(le)}x.currentTarget=null,_=G}else for(I=0;I<m.length;I++){if(B=m[I],G=B.instance,ee=B.currentTarget,B=B.listener,G!==_&&x.isPropagationStopped())break e;_=B,x.currentTarget=ee;try{_(x)}catch(le){ep(le)}x.currentTarget=null,_=G}}}}function We(i,o){var u=o[Cc];u===void 0&&(u=o[Cc]=new Set);var m=i+"__bubble";u.has(m)||(VT(o,i,2,!1),u.add(m))}function wb(i,o,u){var m=0;o&&(m|=4),VT(u,i,m,o)}var Vp="_reactListening"+Math.random().toString(36).slice(2);function _b(i){if(!i[Vp]){i[Vp]=!0,Cd.forEach(function(u){u!=="selectionchange"&&(OV.has(u)||wb(u,!1,i),wb(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Vp]||(o[Vp]=!0,wb("selectionchange",!1,o))}}function VT(i,o,u,m){switch(pC(o)){case 2:var x=a9;break;case 8:x=i9;break;default:x=Lb}u=x.bind(null,o,u,i),x=void 0,!xl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?i.addEventListener(o,u,{capture:!0,passive:x}):i.addEventListener(o,u,!0):x!==void 0?i.addEventListener(o,u,{passive:x}):i.addEventListener(o,u,!1)}function Eb(i,o,u,m,x){var _=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var B=m.stateNode.containerInfo;if(B===x)break;if(I===4)for(I=m.return;I!==null;){var G=I.tag;if((G===3||G===4)&&I.stateNode.containerInfo===x)return;I=I.return}for(;B!==null;){if(I=di(B),I===null)return;if(G=I.tag,G===5||G===6||G===26||G===27){m=_=I;continue e}B=B.parentNode}}m=m.return}ro(function(){var ee=_,le=sa(u),fe=[];e:{var te=xN.get(i);if(te!==void 0){var ie=vi,Se=i;switch(i){case"keypress":if(wl(u)===0)break e;case"keydown":case"keyup":ie=Xm;break;case"focusin":Se="focus",ie=El;break;case"focusout":Se="blur",ie=El;break;case"beforeblur":case"afterblur":ie=El;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=j;break;case pN:case gN:case yN:ie=qm;break;case vN:ie=F;break;case"scroll":case"scrollend":ie=$d;break;case"wheel":ie=ae;break;case"copy":case"cut":case"paste":ie=Hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=es;break;case"toggle":case"beforetoggle":ie=$e}var Re=(o&4)!==0,_t=!Re&&(i==="scroll"||i==="scrollend"),Q=Re?te!==null?te+"Capture":null:te;Re=[];for(var W=ee,Z;W!==null;){var ue=W;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Q===null||(ue=La(W,Q),ue!=null&&Re.push(xf(W,ue,Z))),_t)break;W=W.return}0<Re.length&&(te=new ie(te,Se,null,u,le),fe.push({event:te,listeners:Re}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",te&&u!==Ud&&(Se=u.relatedTarget||u.fromElement)&&(di(Se)||Se[ci]))break e;if((ie||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Se=u.relatedTarget||u.toElement,ie=ee,Se=Se?di(Se):null,Se!==null&&(_t=s(Se),Re=Se.tag,Se!==_t||Re!==5&&Re!==27&&Re!==6)&&(Se=null)):(ie=null,Se=ee),ie!==Se)){if(Re=Bd,ue="onMouseLeave",Q="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Re=es,ue="onPointerLeave",Q="onPointerEnter",W="pointer"),_t=ie==null?te:Ur(ie),Z=Se==null?te:Ur(Se),te=new Re(ue,W+"leave",ie,u,le),te.target=_t,te.relatedTarget=Z,ue=null,di(le)===ee&&(Re=new Re(Q,W+"enter",Se,u,le),Re.target=Z,Re.relatedTarget=_t,ue=Re),_t=ue,ie&&Se)t:{for(Re=IV,Q=ie,W=Se,Z=0,ue=Q;ue;ue=Re(ue))Z++;ue=0;for(var Oe=W;Oe;Oe=Re(Oe))ue++;for(;0<Z-ue;)Q=Re(Q),Z--;for(;0<ue-Z;)W=Re(W),ue--;for(;Z--;){if(Q===W||W!==null&&Q===W.alternate){Re=Q;break t}Q=Re(Q),W=Re(W)}Re=null}else Re=null;ie!==null&&$T(fe,te,ie,Re,!1),Se!==null&&_t!==null&&$T(fe,_t,Se,Re,!0)}}e:{if(te=ee?Ur(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var st=aN;else if(nN(te))if(iN)st=B8;else{st=V8;var Te=z8}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Pc(ee.elementType)&&(st=aN):st=$8;if(st&&(st=st(i,ee))){rN(fe,st,u,le);break e}Te&&Te(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Dd(te,"number",te.value)}switch(Te=ee?Ur(ee):window,i){case"focusin":(nN(Te)||Te.contentEditable==="true")&&($c=Te,Z0=ee,Kd=null);break;case"focusout":Kd=Z0=$c=null;break;case"mousedown":J0=!0;break;case"contextmenu":case"mouseup":case"dragend":J0=!1,hN(fe,u,le);break;case"selectionchange":if(q8)break;case"keydown":case"keyup":hN(fe,u,le)}var Fe;if(ut)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Vc?Al(i,u)&&(Ze="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ze="onCompositionStart");Ze&&(wi&&u.locale!=="ko"&&(Vc||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Vc&&(Fe=Vd()):(yi=le,zd="value"in yi?yi.value:yi.textContent,Vc=!0)),Te=$p(ee,Ze),0<Te.length&&(Ze=new bi(Ze,i,null,u,le),fe.push({event:Ze,listeners:Te}),Fe?Ze.data=Fe:(Fe=zc(u),Fe!==null&&(Ze.data=Fe)))),(Fe=la?D8(i,u):M8(i,u))&&(Ze=$p(ee,"onBeforeInput"),0<Ze.length&&(Te=new bi("onBeforeInput","beforeinput",null,u,le),fe.push({event:Te,listeners:Ze}),Te.data=Fe)),NV(fe,i,ee,u,le)}zT(fe,o)})}function xf(i,o,u){return{instance:i,listener:o,currentTarget:u}}function $p(i,o){for(var u=o+"Capture",m=[];i!==null;){var x=i,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=La(i,u),x!=null&&m.unshift(xf(i,x,_)),x=La(i,o),x!=null&&m.push(xf(i,x,_))),i.tag===3)return m;i=i.return}return[]}function IV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $T(i,o,u,m,x){for(var _=o._reactName,I=[];u!==null&&u!==m;){var B=u,G=B.alternate,ee=B.stateNode;if(B=B.tag,G!==null&&G===m)break;B!==5&&B!==26&&B!==27||ee===null||(G=ee,x?(ee=La(u,_),ee!=null&&I.unshift(xf(u,ee,G))):x||(ee=La(u,_),ee!=null&&I.push(xf(u,ee,G)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var kV=/\r\n?/g,PV=/\u0000|\uFFFD/g;function BT(i){return(typeof i=="string"?i:""+i).replace(kV,`
`).replace(PV,"")}function FT(i,o){return o=BT(o),BT(i)===o}function wt(i,o,u,m,x,_){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Ar(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Ar(i,""+m);break;case"className":zr(i,"class",m);break;case"tabIndex":zr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(i,u,m);break;case"style":Ld(i,m,_);break;case"data":if(o!=="object"){zr(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Rc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&wt(i,o,"name",x.name,x,null),wt(i,o,"formEncType",x.formEncType,x,null),wt(i,o,"formMethod",x.formMethod,x,null),wt(i,o,"formTarget",x.formTarget,x,null)):(wt(i,o,"encType",x.encType,x,null),wt(i,o,"method",x.method,x,null),wt(i,o,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Rc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Ma);break;case"onScroll":m!=null&&We("scroll",i);break;case"onScrollEnd":m!=null&&We("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Rc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":We("beforetoggle",i),We("toggle",i),Ic(i,"popover",m);break;case"xlinkActuate":fn(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":fn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":fn(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":fn(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":fn(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":fn(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":fn(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":fn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":fn(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ic(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=$m.get(u)||u,Ic(i,u,m))}}function Ab(i,o,u,m,x,_){switch(u){case"style":Ld(i,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?Ar(i,m):(typeof m=="number"||typeof m=="bigint")&&Ar(i,""+m);break;case"onScroll":m!=null&&We("scroll",i);break;case"onScrollEnd":m!=null&&We("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Od.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),o=u.slice(2,x?u.length-7:void 0),_=i[Pn]||null,_=_!=null?_[u]:null,typeof _=="function"&&i.removeEventListener(o,_,x),typeof m=="function")){typeof _!="function"&&_!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,x);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Ic(i,u,m)}}}function Yn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",i),We("load",i);var m=!1,x=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var I=u[_];if(I!=null)switch(_){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,_,I,u,null)}}x&&wt(i,o,"srcSet",u.srcSet,u,null),m&&wt(i,o,"src",u.src,u,null);return;case"input":We("invalid",i);var B=_=I=x=null,G=null,ee=null;for(m in u)if(u.hasOwnProperty(m)){var le=u[m];if(le!=null)switch(m){case"name":x=le;break;case"type":I=le;break;case"checked":G=le;break;case"defaultChecked":ee=le;break;case"value":_=le;break;case"defaultValue":B=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:wt(i,o,m,le,u,null)}}Um(i,_,B,G,ee,I,x,!1);return;case"select":We("invalid",i),m=I=_=null;for(x in u)if(u.hasOwnProperty(x)&&(B=u[x],B!=null))switch(x){case"value":_=B;break;case"defaultValue":I=B;break;case"multiple":m=B;default:wt(i,o,x,B,u,null)}o=_,u=I,i.multiple=!!m,o!=null?Js(i,!!m,o,!1):u!=null&&Js(i,!!m,u,!0);return;case"textarea":We("invalid",i),_=x=m=null;for(I in u)if(u.hasOwnProperty(I)&&(B=u[I],B!=null))switch(I){case"value":m=B;break;case"defaultValue":x=B;break;case"children":_=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:wt(i,o,I,B,u,null)}eo(i,m,x,_);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(m=u[G],m!=null))switch(G){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:wt(i,o,G,m,u,null)}return;case"dialog":We("beforetoggle",i),We("toggle",i),We("cancel",i),We("close",i);break;case"iframe":case"object":We("load",i);break;case"video":case"audio":for(m=0;m<vf.length;m++)We(vf[m],i);break;case"image":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"embed":case"source":case"link":We("error",i),We("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(m=u[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,ee,m,u,null)}return;default:if(Pc(o)){for(le in u)u.hasOwnProperty(le)&&(m=u[le],m!==void 0&&Ab(i,o,le,m,u,void 0));return}}for(B in u)u.hasOwnProperty(B)&&(m=u[B],m!=null&&wt(i,o,B,m,u,null))}function RV(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,I=null,B=null,G=null,ee=null,le=null;for(ie in u){var fe=u[ie];if(u.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":G=fe;default:m.hasOwnProperty(ie)||wt(i,o,ie,null,m,fe)}}for(var te in m){var ie=m[te];if(fe=u[te],m.hasOwnProperty(te)&&(ie!=null||fe!=null))switch(te){case"type":_=ie;break;case"name":x=ie;break;case"checked":ee=ie;break;case"defaultChecked":le=ie;break;case"value":I=ie;break;case"defaultValue":B=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:ie!==fe&&wt(i,o,te,ie,m,fe)}}kc(i,I,B,G,ee,le,_,x);return;case"select":ie=I=B=te=null;for(_ in u)if(G=u[_],u.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":ie=G;default:m.hasOwnProperty(_)||wt(i,o,_,null,m,G)}for(x in m)if(_=m[x],G=u[x],m.hasOwnProperty(x)&&(_!=null||G!=null))switch(x){case"value":te=_;break;case"defaultValue":B=_;break;case"multiple":I=_;default:_!==G&&wt(i,o,x,_,m,G)}o=B,u=I,m=ie,te!=null?Js(i,!!u,te,!1):!!m!=!!u&&(o!=null?Js(i,!!u,o,!0):Js(i,!!u,u?[]:"",!1));return;case"textarea":ie=te=null;for(B in u)if(x=u[B],u.hasOwnProperty(B)&&x!=null&&!m.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:wt(i,o,B,null,m,x)}for(I in m)if(x=m[I],_=u[I],m.hasOwnProperty(I)&&(x!=null||_!=null))switch(I){case"value":te=x;break;case"defaultValue":ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==_&&wt(i,o,I,x,m,_)}zm(i,te,ie);return;case"option":for(var Se in u)if(te=u[Se],u.hasOwnProperty(Se)&&te!=null&&!m.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:wt(i,o,Se,null,m,te)}for(G in m)if(te=m[G],ie=u[G],m.hasOwnProperty(G)&&te!==ie&&(te!=null||ie!=null))switch(G){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:wt(i,o,G,te,m,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in u)te=u[Re],u.hasOwnProperty(Re)&&te!=null&&!m.hasOwnProperty(Re)&&wt(i,o,Re,null,m,te);for(ee in m)if(te=m[ee],ie=u[ee],m.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:wt(i,o,ee,te,m,ie)}return;default:if(Pc(o)){for(var _t in u)te=u[_t],u.hasOwnProperty(_t)&&te!==void 0&&!m.hasOwnProperty(_t)&&Ab(i,o,_t,void 0,m,te);for(le in m)te=m[le],ie=u[le],!m.hasOwnProperty(le)||te===ie||te===void 0&&ie===void 0||Ab(i,o,le,te,m,ie);return}}for(var Q in u)te=u[Q],u.hasOwnProperty(Q)&&te!=null&&!m.hasOwnProperty(Q)&&wt(i,o,Q,null,m,te);for(fe in m)te=m[fe],ie=u[fe],!m.hasOwnProperty(fe)||te===ie||te==null&&ie==null||wt(i,o,fe,te,m,ie)}function qT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var x=u[m],_=x.transferSize,I=x.initiatorType,B=x.duration;if(_&&B&&qT(I)){for(I=0,B=x.responseEnd,m+=1;m<u.length;m++){var G=u[m],ee=G.startTime;if(ee>B)break;var le=G.transferSize,fe=G.initiatorType;le&&qT(fe)&&(G=G.responseEnd,I+=le*(G<B?1:(B-ee)/(G-ee)))}if(--m,o+=8*(_+I)/(x.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Sb=null,jb=null;function Bp(i){return i.nodeType===9?i:i.ownerDocument}function HT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GT(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Nb(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Tb=null;function MV(){var i=window.event;return i&&i.type==="popstate"?i===Tb?!1:(Tb=i,!0):(Tb=null,!1)}var KT=typeof setTimeout=="function"?setTimeout:void 0,LV=typeof clearTimeout=="function"?clearTimeout:void 0,WT=typeof Promise=="function"?Promise:void 0,UV=typeof queueMicrotask=="function"?queueMicrotask:typeof WT<"u"?function(i){return WT.resolve(null).then(i).catch(zV)}:KT;function zV(i){setTimeout(function(){throw i})}function Ao(i){return i==="head"}function YT(i,o){var u=o,m=0;do{var x=u.nextSibling;if(i.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(x),mu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")bf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,bf(u);for(var _=u.firstChild;_;){var I=_.nextSibling,B=_.nodeName;_[ui]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=I}}else u==="body"&&bf(i.ownerDocument.body);u=x}while(u);mu(o)}function QT(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Cb(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Cb(u),Oc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function VV(i,o,u,m){for(;i.nodeType===1;){var x=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ui])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==x.rel||i.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||i.getAttribute("title")!==(x.title==null?null:x.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(x.src==null?null:x.src)||i.getAttribute("type")!==(x.type==null?null:x.type)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=pa(i.nextSibling),i===null)break}return null}function $V(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=pa(i.nextSibling),i===null))return null;return i}function XT(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=pa(i.nextSibling),i===null))return null;return i}function Ob(i){return i.data==="$?"||i.data==="$~"}function Ib(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function BV(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function pa(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var kb=null;function ZT(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return pa(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function JT(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function eC(i,o,u){switch(o=Bp(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function bf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Oc(i)}var ga=new Map,tC=new Set;function Fp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ps=oe.d;oe.d={f:FV,r:qV,D:HV,C:GV,L:KV,m:WV,X:QV,S:YV,M:XV};function FV(){var i=ps.f(),o=Rp();return i||o}function qV(i){var o=ia(i);o!==null&&o.tag===5&&o.type==="form"?v2(o):ps.r(i)}var du=typeof document>"u"?null:document;function nC(i,o,u){var m=du;if(m&&typeof o=="string"&&o){var x=Er(o);x='link[rel="'+i+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),tC.has(x)||(tC.add(x),i={rel:i,crossOrigin:u,href:o},m.querySelector(x)===null&&(o=m.createElement("link"),Yn(o,"link",i),dn(o),m.head.appendChild(o)))}}function HV(i){ps.D(i),nC("dns-prefetch",i,null)}function GV(i,o){ps.C(i,o),nC("preconnect",i,o)}function KV(i,o,u){ps.L(i,o,u);var m=du;if(m&&i&&o){var x='link[rel="preload"][as="'+Er(o)+'"]';o==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Er(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Er(u.imageSizes)+'"]')):x+='[href="'+Er(i)+'"]';var _=x;switch(o){case"style":_=fu(i);break;case"script":_=hu(i)}ga.has(_)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),ga.set(_,i),m.querySelector(x)!==null||o==="style"&&m.querySelector(wf(_))||o==="script"&&m.querySelector(_f(_))||(o=m.createElement("link"),Yn(o,"link",i),dn(o),m.head.appendChild(o)))}}function WV(i,o){ps.m(i,o);var u=du;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Er(m)+'"][href="'+Er(i)+'"]',_=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=hu(i)}if(!ga.has(_)&&(i=g({rel:"modulepreload",href:i},o),ga.set(_,i),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(_f(_)))return}m=u.createElement("link"),Yn(m,"link",i),dn(m),u.head.appendChild(m)}}}function YV(i,o,u){ps.S(i,o,u);var m=du;if(m&&i){var x=fi(m).hoistableStyles,_=fu(i);o=o||"default";var I=x.get(_);if(!I){var B={loading:0,preload:null};if(I=m.querySelector(wf(_)))B.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=ga.get(_))&&Pb(i,u);var G=I=m.createElement("link");dn(G),Yn(G,"link",i),G._p=new Promise(function(ee,le){G.onload=ee,G.onerror=le}),G.addEventListener("load",function(){B.loading|=1}),G.addEventListener("error",function(){B.loading|=2}),B.loading|=4,qp(I,o,m)}I={type:"stylesheet",instance:I,count:1,state:B},x.set(_,I)}}}function QV(i,o){ps.X(i,o);var u=du;if(u&&i){var m=fi(u).hoistableScripts,x=hu(i),_=m.get(x);_||(_=u.querySelector(_f(x)),_||(i=g({src:i,async:!0},o),(o=ga.get(x))&&Rb(i,o),_=u.createElement("script"),dn(_),Yn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(x,_))}}function XV(i,o){ps.M(i,o);var u=du;if(u&&i){var m=fi(u).hoistableScripts,x=hu(i),_=m.get(x);_||(_=u.querySelector(_f(x)),_||(i=g({src:i,async:!0,type:"module"},o),(o=ga.get(x))&&Rb(i,o),_=u.createElement("script"),dn(_),Yn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(x,_))}}function rC(i,o,u,m){var x=(x=ke.current)?Fp(x):null;if(!x)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=fu(u.href),u=fi(x).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=fu(u.href);var _=fi(x).hoistableStyles,I=_.get(i);if(I||(x=x.ownerDocument||x,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,I),(_=x.querySelector(wf(i)))&&!_._p&&(I.instance=_,I.state.loading=5),ga.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ga.set(i,u),_||ZV(x,i,u,I.state))),o&&m===null)throw Error(r(528,""));return I}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=hu(u),u=fi(x).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fu(i){return'href="'+Er(i)+'"'}function wf(i){return'link[rel="stylesheet"]['+i+"]"}function aC(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function ZV(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Yn(o,"link",u),dn(o),i.head.appendChild(o))}function hu(i){return'[src="'+Er(i)+'"]'}function _f(i){return"script[async]"+i}function iC(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Er(u.href)+'"]');if(m)return o.instance=m,dn(m),m;var x=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),dn(m),Yn(m,"style",x),qp(m,u.precedence,i),o.instance=m;case"stylesheet":x=fu(u.href);var _=i.querySelector(wf(x));if(_)return o.state.loading|=4,o.instance=_,dn(_),_;m=aC(u),(x=ga.get(x))&&Pb(m,x),_=(i.ownerDocument||i).createElement("link"),dn(_);var I=_;return I._p=new Promise(function(B,G){I.onload=B,I.onerror=G}),Yn(_,"link",m),o.state.loading|=4,qp(_,u.precedence,i),o.instance=_;case"script":return _=hu(u.src),(x=i.querySelector(_f(_)))?(o.instance=x,dn(x),x):(m=u,(x=ga.get(_))&&(m=g({},u),Rb(m,x)),i=i.ownerDocument||i,x=i.createElement("script"),dn(x),Yn(x,"link",m),i.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,qp(m,u.precedence,i));return o.instance}function qp(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,_=x,I=0;I<m.length;I++){var B=m[I];if(B.dataset.precedence===o)_=B;else if(_!==x)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Pb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Rb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Hp=null;function sC(i,o,u){if(Hp===null){var m=new Map,x=Hp=new Map;x.set(u,m)}else x=Hp,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),x=0;x<u.length;x++){var _=u[x];if(!(_[ui]||_[un]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(o)||"";I=i+I;var B=m.get(I);B?B.push(_):m.set(I,[_])}}return m}function oC(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function JV(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function lC(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function e9(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=fu(m.href),_=o.querySelector(wf(x));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Gp.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=_,dn(_);return}_=o.ownerDocument||o,m=aC(m),(x=ga.get(x))&&Pb(m,x),_=_.createElement("link"),dn(_);var I=_;I._p=new Promise(function(B,G){I.onload=B,I.onerror=G}),Yn(_,"link",m),u.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Gp.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Db=0;function t9(i,o){return i.stylesheets&&i.count===0&&Wp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&Wp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&Db===0&&(Db=62500*DV());var x=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Wp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Db?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function Gp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kp=null;function Wp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kp=new Map,o.forEach(n9,i),Kp=null,Gp.call(i))}function n9(i,o){if(!(o.state.loading&4)){var u=Kp.get(i);if(u)var m=u.get(null);else{u=new Map,Kp.set(i,u);for(var x=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var I=x[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),m=I)}m&&u.set(null,m)}x=o.instance,I=x.getAttribute("data-precedence"),_=u.get(I)||m,_===m&&u.set(null,x),u.set(I,x),this.count++,m=Gp.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),_?_.parentNode.insertBefore(x,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(x,i.firstChild)),o.state.loading|=4}}var Ef={$$typeof:k,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function r9(i,o,u,m,x,_,I,B,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function cC(i,o,u,m,x,_,I,B,G,ee,le,fe){return i=new r9(i,o,u,I,G,ee,le,fe,B),o=1,_===!0&&(o|=24),_=$r(3,null,null,o),i.current=_,_.stateNode=i,o=mx(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:m,isDehydrated:u,cache:o},vx(_),i}function uC(i){return i?(i=qc,i):qc}function dC(i,o,u,m,x,_){x=uC(x),m.context===null?m.context=x:m.pendingContext=x,m=ho(o),m.payload={element:u},_=_===void 0?null:_,_!==null&&(m.callback=_),u=mo(i,m,o),u!==null&&(Cr(u,i,o),ef(u,i,o))}function fC(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Mb(i,o){fC(i,o),(i=i.alternate)&&fC(i,o)}function hC(i){if(i.tag===13||i.tag===31){var o=Nl(i,67108864);o!==null&&Cr(o,i,67108864),Mb(i,67108864)}}function mC(i){if(i.tag===13||i.tag===31){var o=Gr();o=pl(o);var u=Nl(i,o);u!==null&&Cr(u,i,o),Mb(i,o)}}var Yp=!0;function a9(i,o,u,m){var x=Y.T;Y.T=null;var _=oe.p;try{oe.p=2,Lb(i,o,u,m)}finally{oe.p=_,Y.T=x}}function i9(i,o,u,m){var x=Y.T;Y.T=null;var _=oe.p;try{oe.p=8,Lb(i,o,u,m)}finally{oe.p=_,Y.T=x}}function Lb(i,o,u,m){if(Yp){var x=Ub(m);if(x===null)Eb(i,o,m,Qp,u),gC(i,m);else if(o9(x,i,o,u,m))m.stopPropagation();else if(gC(i,m),o&4&&-1<s9.indexOf(i)){for(;x!==null;){var _=ia(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=si(_.pendingLanes);if(I!==0){var B=_;for(B.pendingLanes|=2,B.entangledLanes|=2;I;){var G=1<<31-Jt(I);B.entanglements[1]|=G,I&=~G}Si(_),(dt&6)===0&&(kp=dr()+500,yf(0))}}break;case 31:case 13:B=Nl(_,2),B!==null&&Cr(B,_,2),Rp(),Mb(_,2)}if(_=Ub(m),_===null&&Eb(i,o,m,Qp,u),_===x)break;x=_}x!==null&&m.stopPropagation()}else Eb(i,o,m,null,u)}}function Ub(i){return i=sa(i),zb(i)}var Qp=null;function zb(i){if(Qp=null,i=di(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Qp=i,null}function pC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dl()){case Sd:return 2;case jd:return 8;case Xs:case H0:return 32;case Tm:return 268435456;default:return 32}default:return 32}}var Vb=!1,So=null,jo=null,No=null,Af=new Map,Sf=new Map,To=[],s9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gC(i,o){switch(i){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Af.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(o.pointerId)}}function jf(i,o,u,m,x,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[x]},o!==null&&(o=ia(o),o!==null&&hC(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function o9(i,o,u,m,x){switch(o){case"focusin":return So=jf(So,i,o,u,m,x),!0;case"dragenter":return jo=jf(jo,i,o,u,m,x),!0;case"mouseover":return No=jf(No,i,o,u,m,x),!0;case"pointerover":var _=x.pointerId;return Af.set(_,jf(Af.get(_)||null,i,o,u,m,x)),!0;case"gotpointercapture":return _=x.pointerId,Sf.set(_,jf(Sf.get(_)||null,i,o,u,m,x)),!0}return!1}function yC(i){var o=di(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,Ra(i.priority,function(){mC(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,Ra(i.priority,function(){mC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ub(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Ud=m,u.target.dispatchEvent(m),Ud=null}else return o=ia(u),o!==null&&hC(o),i.blockedOn=u,!1;o.shift()}return!0}function vC(i,o,u){Xp(i)&&u.delete(o)}function l9(){Vb=!1,So!==null&&Xp(So)&&(So=null),jo!==null&&Xp(jo)&&(jo=null),No!==null&&Xp(No)&&(No=null),Af.forEach(vC),Sf.forEach(vC)}function Zp(i,o){i.blockedOn===o&&(i.blockedOn=null,Vb||(Vb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,l9)))}var Jp=null;function xC(i){Jp!==i&&(Jp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jp===i&&(Jp=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],x=i[o+2];if(typeof m!="function"){if(zb(m||u)===null)continue;break}var _=ia(u);_!==null&&(i.splice(o,3),o-=3,Ux(_,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function mu(i){function o(G){return Zp(G,i)}So!==null&&Zp(So,i),jo!==null&&Zp(jo,i),No!==null&&Zp(No,i),Af.forEach(o),Sf.forEach(o);for(var u=0;u<To.length;u++){var m=To[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<To.length&&(u=To[0],u.blockedOn===null);)yC(u),u.blockedOn===null&&To.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],_=u[m+1],I=x[Pn]||null;if(typeof _=="function")I||xC(u);else if(I){var B=null;if(_&&_.hasAttribute("formAction")){if(x=_,I=_[Pn]||null)B=I.formAction;else if(zb(x)!==null)continue}else B=I.action;typeof B=="function"?u[m+1]=B:(u.splice(m,3),m-=3),xC(u)}}}function bC(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(I){return x=I})},focusReset:"manual",scroll:"manual"})}function o(){x!==null&&(x(),x=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),x!==null&&(x(),x=null)}}}function $b(i){this._internalRoot=i}eg.prototype.render=$b.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=Gr();dC(u,m,i,o,null,null)},eg.prototype.unmount=$b.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;dC(i.current,2,null,i,null,null),Rp(),o[ci]=null}};function eg(i){this._internalRoot=i}eg.prototype.unstable_scheduleHydration=function(i){if(i){var o=Rm();i={blockedOn:null,target:i,priority:o};for(var u=0;u<To.length&&o!==0&&o<To[u].priority;u++);To.splice(u,0,i),u===0&&yC(i)}};var wC=e.version;if(wC!=="19.2.0")throw Error(r(527,wC,"19.2.0"));oe.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var c9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tg.isDisabled&&tg.supportsFiber)try{ka=tg.inject(c9),qn=tg}catch{}}return Tf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",x=T2,_=C2,I=O2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=cC(i,1,!1,null,null,u,m,null,x,_,I,bC),i[ci]=o.current,_b(i),new $b(o)},Tf.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,x="",_=T2,I=C2,B=O2,G=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=cC(i,1,!0,o,u??null,m,x,G,_,I,B,bC),o.context=uC(null),u=o.current,m=Gr(),m=pl(m),x=ho(m),x.callback=null,mo(u,x,m),u=m,o.current.lanes=u,hl(o,u),Si(o),i[ci]=o.current,_b(i),new eg(o)},Tf.version="19.2.0",Tf}var IC;function _9(){if(IC)return Hb.exports;IC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hb.exports=w9(),Hb.exports}var E9=_9();const A9=Hi(E9);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kC="popstate";function S9(t={}){function e(r,a){let{pathname:s,search:l,hash:d}=r.location;return Z1("",{pathname:s,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:sh(a)}return N9(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j9(){return Math.random().toString(36).substring(2,10)}function PC(t,e){return{usr:t.state,key:t.key,idx:e}}function Z1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?nd(e):e,state:n,key:e&&e.key||r||j9()}}function sh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function N9(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,l=a.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let S=p(),O=S==null?null:S-h;h=S,f&&f({action:d,location:A.location,delta:O})}function v(S,O){d="PUSH";let U=Z1(A.location,S,O);h=p()+1;let k=PC(U,h),C=A.createHref(U);try{l.pushState(k,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(C)}s&&f&&f({action:d,location:A.location,delta:1})}function b(S,O){d="REPLACE";let U=Z1(A.location,S,O);h=p();let k=PC(U,h),C=A.createHref(U);l.replaceState(k,"",C),s&&f&&f({action:d,location:A.location,delta:0})}function E(S){return T9(S)}let A={get action(){return d},get location(){return t(a,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(kC,g),f=S,()=>{a.removeEventListener(kC,g),f=null}},createHref(S){return e(a,S)},createURL:E,encodeLocation(S){let O=E(S);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:b,go(S){return l.go(S)}};return A}function T9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:sh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function HD(t,e,n="/"){return C9(t,e,n,!1)}function C9(t,e,n,r){let a=typeof e=="string"?nd(e):e,s=Cs(a.pathname||"/",n);if(s==null)return null;let l=GD(t);O9(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=$9(s);d=z9(l[f],h,r)}return d}function GD(t,e=[],n=[],r="",a=!1){let s=(l,d,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;zt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=As([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(zt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),GD(l.children,e,v,g,f)),!(l.path==null&&!l.index)&&e.push({path:g,score:L9(g,l.index),routesMeta:v})};return t.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of KD(l.path))s(l,d,!0,h)}),e}function KD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let l=KD(r.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function O9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var I9=/^:[\w-]+$/,k9=3,P9=2,R9=1,D9=10,M9=-2,RC=t=>t==="*";function L9(t,e){let n=t.split("/"),r=n.length;return n.some(RC)&&(r+=M9),e&&(r+=P9),n.filter(a=>!RC(a)).reduce((a,s)=>a+(I9.test(s)?k9:s===""?R9:D9),r)}function U9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function z9(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=Kg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),v=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Kg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:As([s,g.pathname]),pathnameBase:H9(As([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=As([s,g.pathnameBase]))}return l}function Kg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V9(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let E=d[v]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const b=d[v];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function V9(t,e=!1,n=!0){Sa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function $9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var WD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B9=t=>WD.test(t);function F9(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?nd(t):t,s;if(n)if(B9(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Sa(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=DC(n.substring(1),"/"):s=DC(n,e)}else s=e;return{pathname:s,search:G9(r),hash:K9(a)}}function DC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Yb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OE(t){let e=q9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function IE(t,e,n,r=!1){let a;typeof t=="string"?a=nd(t):(a={...t},zt(!a.pathname||!a.pathname.includes("?"),Yb("?","pathname","search",a)),zt(!a.pathname||!a.pathname.includes("#"),Yb("#","pathname","hash",a)),zt(!a.search||!a.search.includes("#"),Yb("#","search","hash",a)));let s=t===""||a.pathname==="",l=s?"/":a.pathname,d;if(l==null)d=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}d=g>=0?e[g]:"/"}let f=F9(a,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var As=t=>t.join("/").replace(/\/\/+/g,"/"),H9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,W9=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Y9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Q9(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var YD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function QD(t,e){let n=t;if(typeof n!="string"||!WD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(YD)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),d=Cs(l.pathname,e);l.origin===s.origin&&d!=null?n=d+l.search+l.hash:a=!0}catch{Sa(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XD=["POST","PUT","PATCH","DELETE"];new Set(XD);var X9=["GET",...XD];new Set(X9);var rd=w.createContext(null);rd.displayName="DataRouter";var pv=w.createContext(null);pv.displayName="DataRouterState";var Z9=w.createContext(!1),ZD=w.createContext({isTransitioning:!1});ZD.displayName="ViewTransition";var J9=w.createContext(new Map);J9.displayName="Fetchers";var e$=w.createContext(null);e$.displayName="Await";var na=w.createContext(null);na.displayName="Navigation";var Lh=w.createContext(null);Lh.displayName="Location";var Oa=w.createContext({outlet:null,matches:[],isDataRoute:!1});Oa.displayName="Route";var kE=w.createContext(null);kE.displayName="RouteError";var JD="REACT_ROUTER_ERROR",t$="REDIRECT",n$="ROUTE_ERROR_RESPONSE";function r$(t){if(t.startsWith(`${JD}:${t$}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function a$(t){if(t.startsWith(`${JD}:${n$}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new W9(e.status,e.statusText,e.data)}catch{}}function i$(t,{relative:e}={}){zt(ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(na),{hash:a,pathname:s,search:l}=zh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:As([n,s])),r.createHref({pathname:d,search:l,hash:a})}function ad(){return w.useContext(Lh)!=null}function ra(){return zt(ad(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Lh).location}var eM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tM(t){w.useContext(na).static||w.useLayoutEffect(t)}function Ft(){let{isDataRoute:t}=w.useContext(Oa);return t?x$():s$()}function s$(){zt(ad(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(rd),{basename:e,navigator:n}=w.useContext(na),{matches:r}=w.useContext(Oa),{pathname:a}=ra(),s=JSON.stringify(OE(r)),l=w.useRef(!1);return tM(()=>{l.current=!0}),w.useCallback((f,h={})=>{if(Sa(l.current,eM),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=IE(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:As([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}var nM=w.createContext(null);function Uh(){return w.useContext(nM)}function o$(t){let e=w.useContext(Oa).outlet;return w.useMemo(()=>e&&w.createElement(nM.Provider,{value:t},e),[e,t])}function gv(){let{matches:t}=w.useContext(Oa),e=t[t.length-1];return e?e.params:{}}function zh(t,{relative:e}={}){let{matches:n}=w.useContext(Oa),{pathname:r}=ra(),a=JSON.stringify(OE(n));return w.useMemo(()=>IE(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function l$(t,e){return rM(t,e)}function rM(t,e,n,r,a){var U;zt(ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(na),{matches:l}=w.useContext(Oa),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let k=g&&g.path||"";iM(h,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=ra(),b;if(e){let k=typeof e=="string"?nd(e):e;zt(p==="/"||((U=k.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=v;let E=b.pathname||"/",A=E;if(p!=="/"){let k=p.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=HD(t,{pathname:A});Sa(g||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Sa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=h$(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:As([p,s.encodeLocation?s.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:As([p,s.encodeLocation?s.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,n,r,a);return e&&O?w.createElement(Lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},O):O}function c$(){let t=v$(),e=Y9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,l)}var u$=w.createElement(c$,null),aM=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=a$(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(Oa.Provider,{value:this.props.routeContext},w.createElement(kE.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(d$,{error:t},e):e}};aM.contextType=Z9;var Qb=new WeakMap;function d$({children:t,error:e}){let{basename:n}=w.useContext(na);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=r$(e.digest);if(r){let a=Qb.get(e);if(a)throw a;let s=QD(r.location,n);if(YD&&!Qb.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw Qb.set(e,l),l}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function f$({routeContext:t,match:e,children:n}){let r=w.useContext(rd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Oa.Provider,{value:t},n)}function h$(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:b}=n,E=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{var v,b;r(p,{location:n.location,params:((b=(v=n.matches)==null?void 0:v[0])==null?void 0:b.params)??{},unstable_pattern:Q9(n.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,v)=>{let b,E=!1,A=null,S=null;n&&(b=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||u$,d&&(f<0&&v===0?(iM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):f===v&&(E=!0,S=g.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,v+1)),U=()=>{let k;return b?k=A:E?k=S:g.route.Component?k=w.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=p,w.createElement(f$,{match:g,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?w.createElement(aM,{location:n.location,revalidation:n.revalidation,component:A,error:b,children:U(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:h}):U()},null)}function PE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m$(t){let e=w.useContext(rd);return zt(e,PE(t)),e}function p$(t){let e=w.useContext(pv);return zt(e,PE(t)),e}function g$(t){let e=w.useContext(Oa);return zt(e,PE(t)),e}function RE(t){let e=g$(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function y$(){return RE("useRouteId")}function v$(){var r;let t=w.useContext(kE),e=p$("useRouteError"),n=RE("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function x$(){let{router:t}=m$("useNavigate"),e=RE("useNavigate"),n=w.useRef(!1);return tM(()=>{n.current=!0}),w.useCallback(async(a,s={})=>{Sa(n.current,eM),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var MC={};function iM(t,e,n){!e&&!MC[t]&&(MC[t]=!0,Sa(!1,n))}w.memo(b$);function b$({routes:t,future:e,state:n,onError:r}){return rM(t,void 0,n,r,e)}function Yl({to:t,replace:e,state:n,relative:r}){zt(ad(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(na);Sa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(Oa),{pathname:l}=ra(),d=Ft(),f=IE(t,OE(s),l,r==="path"),h=JSON.stringify(f);return w.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function sM(t){return o$(t.context)}function Ye(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){zt(!ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[d,a,s,l]);typeof n=="string"&&(n=nd(n));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:b="default"}=n,E=w.useMemo(()=>{let A=Cs(h,d);return A==null?null:{location:{pathname:A,search:p,hash:g,state:v,key:b},navigationType:r}},[d,h,p,g,v,b,r]);return Sa(E!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:w.createElement(na.Provider,{value:f},w.createElement(Lh.Provider,{children:e,value:E}))}function _$({children:t,location:e}){return l$(J1(t),e)}function J1(t,e=[]){let n=[];return w.Children.forEach(t,(r,a)=>{if(!w.isValidElement(r))return;let s=[...e,a];if(r.type===w.Fragment){n.push.apply(n,J1(r.props.children,s));return}zt(r.type===Ye,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=J1(r.props.children,s)),n.push(l)}),n}var Cg="get",Og="application/x-www-form-urlencoded";function yv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function E$(t){return yv(t)&&t.tagName.toLowerCase()==="button"}function A$(t){return yv(t)&&t.tagName.toLowerCase()==="form"}function S$(t){return yv(t)&&t.tagName.toLowerCase()==="input"}function j$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N$(t,e){return t.button===0&&(!e||e==="_self")&&!j$(t)}var ng=null;function T$(){if(ng===null)try{new FormData(document.createElement("form"),0),ng=!1}catch{ng=!0}return ng}var C$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xb(t){return t!=null&&!C$.has(t)?(Sa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Og}"`),null):t}function O$(t,e){let n,r,a,s,l;if(A$(t)){let d=t.getAttribute("action");r=d?Cs(d,e):null,n=t.getAttribute("method")||Cg,a=Xb(t.getAttribute("enctype"))||Og,s=new FormData(t)}else if(E$(t)||S$(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Cs(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Cg,a=Xb(t.getAttribute("formenctype"))||Xb(d.getAttribute("enctype"))||Og,s=new FormData(d,t),!T$()){let{name:h,type:p,value:g}=t;if(p==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,g)}}else{if(yv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cg,r=null,a=Og,l=t}return s&&a==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function DE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function I$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Cs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function k$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function R$(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let l=await k$(s,n);return l.links?l.links():[]}return[]}));return U$(r.flat(1).filter(P$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function LC(t,e,n,r,a,s){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function D$(t,e,{includeHydrateFallback:n}={}){return M$(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function M$(t){return[...new Set(t)]}function L$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function U$(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(L$(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function oM(){let t=w.useContext(rd);return DE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function z$(){let t=w.useContext(pv);return DE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ME=w.createContext(void 0);ME.displayName="FrameworkContext";function lM(){let t=w.useContext(ME);return DE(t,"You must render this element inside a <HydratedRouter> element"),t}function V$(t,e){let n=w.useContext(ME),[r,a]=w.useState(!1),[s,l]=w.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=O=>{O.forEach(U=>{l(U.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),w.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let b=()=>{a(!0)},E=()=>{a(!1),l(!1)};return n?t!=="intent"?[s,v,{}]:[s,v,{onFocus:Cf(d,b),onBlur:Cf(f,E),onMouseEnter:Cf(h,b),onMouseLeave:Cf(p,E),onTouchStart:Cf(g,b)}]:[!1,v,{}]}function Cf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $$({page:t,...e}){let{router:n}=oM(),r=w.useMemo(()=>HD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(F$,{page:t,matches:r,...e}):null}function B$(t){let{manifest:e,routeModules:n}=lM(),[r,a]=w.useState([]);return w.useEffect(()=>{let s=!1;return R$(t,e,n).then(l=>{s||a(l)}),()=>{s=!0}},[t,e,n]),r}function F$({page:t,matches:e,...n}){let r=ra(),{manifest:a,routeModules:s}=lM(),{basename:l}=oM(),{loaderData:d,matches:f}=z$(),h=w.useMemo(()=>LC(t,e,f,a,r,"data"),[t,e,f,a,r]),p=w.useMemo(()=>LC(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(O=>{var k;let U=a.routes[O.route.id];!U||!U.hasLoader||(!h.some(C=>C.route.id===O.route.id)&&O.route.id in d&&((k=s[O.route.id])!=null&&k.shouldRevalidate)||U.hasClientLoader?A=!0:E.add(O.route.id))}),E.size===0)return[];let S=I$(t,l,"data");return A&&E.size>0&&S.searchParams.set("_routes",e.filter(O=>E.has(O.route.id)).map(O=>O.route.id).join(",")),[S.pathname+S.search]},[l,d,r,a,h,e,t,s]),v=w.useMemo(()=>D$(p,a),[p,a]),b=B$(p);return w.createElement(w.Fragment,null,g.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),v.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),b.map(({key:E,link:A})=>w.createElement("link",{key:E,nonce:n.nonce,...A})))}function q$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H$&&(window.__reactRouterVersion="7.11.0")}catch{}function G$({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=w.useRef();a.current==null&&(a.current=S9({window:r,v5Compat:!0}));let s=a.current,[l,d]=w.useState({action:s.action,location:s.location}),f=w.useCallback(h=>{n===!1?d(h):w.startTransition(()=>d(h))},[n]);return w.useLayoutEffect(()=>s.listen(f),[s,f]),w.createElement(w$,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var cM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v,...b},E){let{basename:A,unstable_useTransitions:S}=w.useContext(na),O=typeof h=="string"&&cM.test(h),U=QD(h,A);h=U.to;let k=i$(h,{relative:a}),[C,P,z]=V$(r,b),N=Y$(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S});function M(R){e&&e(R),R.defaultPrevented||N(R)}let T=w.createElement("a",{...b,...z,href:U.absoluteURL||k,onClick:U.isExternal||s?e:M,ref:q$(E,P),target:f,"data-discover":!O&&n==="render"?"true":void 0});return C&&!O?w.createElement(w.Fragment,null,T,w.createElement($$,{page:k})):T});Wr.displayName="Link";var Wg=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=zh(l,{relative:h.relative}),v=ra(),b=w.useContext(pv),{navigator:E,basename:A}=w.useContext(na),S=b!=null&&e7(g)&&d===!0,O=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,U=v.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(U=U.toLowerCase(),k=k?k.toLowerCase():null,O=O.toLowerCase()),k&&A&&(k=Cs(k,A)||k);const C=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let P=U===O||!a&&U.startsWith(O)&&U.charAt(C)==="/",z=k!=null&&(k===O||!a&&k.startsWith(O)&&k.charAt(O.length)==="/"),N={isActive:P,isPending:z,isTransitioning:S},M=P?e:void 0,T;typeof r=="function"?T=r(N):T=[r,P?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(N):s;return w.createElement(Wr,{...h,"aria-current":M,className:T,ref:p,style:R,to:l,viewTransition:d},typeof f=="function"?f(N):f)});Wg.displayName="NavLink";var K$=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:l=Cg,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v,...b},E)=>{let{unstable_useTransitions:A}=w.useContext(na),S=Z$(),O=J$(d,{relative:h}),U=l.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&cM.test(d),C=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let z=P.nativeEvent.submitter,N=(z==null?void 0:z.getAttribute("formmethod"))||l,M=()=>S(z||P.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v});A&&n!==!1?w.startTransition(()=>M()):M()};return w.createElement("form",{ref:E,method:U,action:O,onSubmit:r?f:C,...b,"data-discover":!k&&t==="render"?"true":void 0})});K$.displayName="Form";function W$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uM(t){let e=w.useContext(rd);return zt(e,W$(t)),e}function Y$(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=Ft(),p=ra(),g=zh(t,{relative:s});return w.useCallback(v=>{if(N$(v,e)){v.preventDefault();let b=n!==void 0?n:sh(p)===sh(g),E=()=>h(t,{replace:b,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:d});f?w.startTransition(()=>E()):E()}},[p,h,g,n,r,e,t,a,s,l,d,f])}var Q$=0,X$=()=>`__${String(++Q$)}__`;function Z$(){let{router:t}=uM("useSubmit"),{basename:e}=w.useContext(na),n=y$(),r=t.fetch,a=t.navigate;return w.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:g}=O$(s,e);if(l.navigate===!1){let v=l.fetcherKey||X$();await r(v,n,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,a,e,n])}function J$(t,{relative:e}={}){let{basename:n}=w.useContext(na),r=w.useContext(Oa);zt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...zh(t||".",{relative:e})},l=ra();if(t==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:As([n,s.pathname])),sh(s)}function e7(t,{relative:e}={}){let n=w.useContext(ZD);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uM("useViewTransitionState"),a=zh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kg(a.pathname,l)!=null||Kg(a.pathname,s)!=null}var dM=qD();const t7=()=>{};var UC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},n7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],l=t[n++],d=t[n++],f=((a&7)<<18|(s&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},hM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],l=a+1<t.length,d=l?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let v=(d&15)<<2|h>>6,b=h&63;f||(b=64,l||(v=64)),r.push(n[p],n[g],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||d==null||h==null||g==null)throw new r7;const v=s<<2|d>>4;if(r.push(v),h!==64){const b=d<<4&240|h>>2;if(r.push(b),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a7=function(t){const e=fM(t);return hM.encodeByteArray(e,!0)},Yg=function(t){return a7(t).replace(/\./g,"")},mM=function(t){try{return hM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=()=>i7().__FIREBASE_DEFAULTS__,o7=()=>{if(typeof process>"u"||typeof UC>"u")return;const t=UC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mM(t[1]);return e&&JSON.parse(e)},vv=()=>{try{return t7()||s7()||o7()||l7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pM=t=>{var e,n;return(n=(e=vv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gM=t=>{const e=pM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yM=()=>{var t;return(t=vv())==null?void 0:t.config},vM=t=>{var e;return(e=vv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yg(JSON.stringify(n)),Yg(JSON.stringify(l)),""].join(".")}const Qf={};function u7(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qf))Qf[e]?t.emulator.push(e):t.prod.push(e);return t}function d7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zC=!1;function UE(t,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||Qf[t]===e||Qf[t]||zC)return;Qf[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=u7().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{zC=!0,l()},v}function p(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=d7(r),b=n("text"),E=document.getElementById(b)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),O=n("preprendIcon"),U=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;d(k),p(S,A);const C=h();f(U,O),k.append(U,E,S,C),document.body.appendChild(k)}s?(E.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}function h7(){var e;const t=(e=vv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y7(){const t=cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v7(){return!h7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x7(){try{return typeof indexedDB=="object"}catch{return!1}}function b7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7="FirebaseError";class Gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w7,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vh.prototype.create)}}class Vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?_7(s,r):"Error",d=`${this.serviceName}: ${l} (${a}).`;return new Gi(a,d,r)}}function _7(t,e){return t.replace(E7,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const E7=/\{\$([^}]+)}/g;function A7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],l=e[a];if(VC(s)&&VC(l)){if(!rc(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function VC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function $f(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function S7(t,e){const n=new j7(t,e);return n.subscribe.bind(n)}class j7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");N7(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Zb),a.error===void 0&&(a.error=Zb),a.complete===void 0&&(a.complete=Zb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class qo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O7(e))try{this.getOrInitializeService({instanceIdentifier:Vl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Vl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vl){return this.instances.has(e)}getOptions(e=Vl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vl){return this.component?this.component.multipleInstances?e:Vl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function C7(t){return t===Vl?void 0:t}function O7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new T7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const k7={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},P7=Je.INFO,R7={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},D7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=R7[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zE{constructor(e){this.name=e,this._logLevel=P7,this._logHandler=D7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const M7=(t,e)=>e.some(n=>t instanceof n);let $C,BC;function L7(){return $C||($C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U7(){return BC||(BC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bM=new WeakMap,e_=new WeakMap,wM=new WeakMap,Jb=new WeakMap,VE=new WeakMap;function z7(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(zo(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&bM.set(n,t)}).catch(()=>{}),VE.set(e,t),e}function V7(t){if(e_.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});e_.set(t,e)}let t_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $7(t){t_=t(t_)}function B7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ew(this),e,...n);return wM.set(r,e.sort?e.sort():[e]),zo(r)}:U7().includes(t)?function(...e){return t.apply(ew(this),e),zo(bM.get(this))}:function(...e){return zo(t.apply(ew(this),e))}}function F7(t){return typeof t=="function"?B7(t):(t instanceof IDBTransaction&&V7(t),M7(t,L7())?new Proxy(t,t_):t)}function zo(t){if(t instanceof IDBRequest)return z7(t);if(Jb.has(t))return Jb.get(t);const e=F7(t);return e!==t&&(Jb.set(t,e),VE.set(e,t)),e}const ew=t=>VE.get(t);function q7(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(t,e),d=zo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(zo(l.result),f.oldVersion,f.newVersion,zo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const H7=["get","getKey","getAll","getAllKeys","count"],G7=["put","add","delete","clear"],tw=new Map;function FC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tw.get(e))return tw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=G7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||H7.includes(n)))return;const s=async function(l,...d){const f=this.transaction(l,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return tw.set(e,s),s}$7(t=>({...t,get:(e,n,r)=>FC(e,n)||t.get(e,n,r),has:(e,n)=>!!FC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function W7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n_="@firebase/app",qC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new zE("@firebase/app"),Y7="@firebase/app-compat",Q7="@firebase/analytics-compat",X7="@firebase/analytics",Z7="@firebase/app-check-compat",J7="@firebase/app-check",eB="@firebase/auth",tB="@firebase/auth-compat",nB="@firebase/database",rB="@firebase/data-connect",aB="@firebase/database-compat",iB="@firebase/functions",sB="@firebase/functions-compat",oB="@firebase/installations",lB="@firebase/installations-compat",cB="@firebase/messaging",uB="@firebase/messaging-compat",dB="@firebase/performance",fB="@firebase/performance-compat",hB="@firebase/remote-config",mB="@firebase/remote-config-compat",pB="@firebase/storage",gB="@firebase/storage-compat",yB="@firebase/firestore",vB="@firebase/ai",xB="@firebase/firestore-compat",bB="firebase",wB="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="[DEFAULT]",_B={[n_]:"fire-core",[Y7]:"fire-core-compat",[X7]:"fire-analytics",[Q7]:"fire-analytics-compat",[J7]:"fire-app-check",[Z7]:"fire-app-check-compat",[eB]:"fire-auth",[tB]:"fire-auth-compat",[nB]:"fire-rtdb",[rB]:"fire-data-connect",[aB]:"fire-rtdb-compat",[iB]:"fire-fn",[sB]:"fire-fn-compat",[oB]:"fire-iid",[lB]:"fire-iid-compat",[cB]:"fire-fcm",[uB]:"fire-fcm-compat",[dB]:"fire-perf",[fB]:"fire-perf-compat",[hB]:"fire-rc",[mB]:"fire-rc-compat",[pB]:"fire-gcs",[gB]:"fire-gcs-compat",[yB]:"fire-fst",[xB]:"fire-fst-compat",[vB]:"fire-vertex","fire-js":"fire-js",[bB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Map,EB=new Map,a_=new Map;function HC(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ac(t){const e=t.name;if(a_.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,t);for(const n of Qg.values())HC(n,t);for(const n of EB.values())HC(n,t);return!0}function xv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vo=new Vh("app","Firebase",AB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=wB;function _M(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:r_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Vo.create("bad-app-name",{appName:String(a)});if(n||(n=yM()),!n)throw Vo.create("no-options");const s=Qg.get(a);if(s){if(rc(n,s.options)&&rc(r,s.config))return s;throw Vo.create("duplicate-app",{appName:a})}const l=new I7(a);for(const f of a_.values())l.addComponent(f);const d=new SB(n,r,l);return Qg.set(a,d),d}function $E(t=r_){const e=Qg.get(t);if(!e&&t===r_&&yM())return _M();if(!e)throw Vo.create("no-app",{appName:t});return e}function Oi(t,e,n){let r=_B[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(l.join(" "));return}ac(new qo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="firebase-heartbeat-database",NB=1,oh="firebase-heartbeat-store";let nw=null;function EM(){return nw||(nw=q7(jB,NB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vo.create("idb-open",{originalErrorMessage:t.message})})),nw}async function TB(t){try{const n=(await EM()).transaction(oh),r=await n.objectStore(oh).get(AM(t));return await n.done,r}catch(e){if(e instanceof Gi)Os.warn(e.message);else{const n=Vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function GC(t,e){try{const r=(await EM()).transaction(oh,"readwrite");await r.objectStore(oh).put(e,AM(t)),await r.done}catch(n){if(n instanceof Gi)Os.warn(n.message);else{const r=Vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function AM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=1024,OB=30;class IB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>OB){const l=RB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=KC(),{heartbeatsToSend:r,unsentEntries:a}=kB(this._heartbeatsCache.heartbeats),s=Yg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Os.warn(n),""}}}function KC(){return new Date().toISOString().substring(0,10)}function kB(t,e=CB){const n=[];let r=t.slice();for(const a of t){const s=n.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),WC(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),WC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x7()?b7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function WC(t){return Yg(JSON.stringify({version:2,heartbeats:t})).length}function RB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){ac(new qo("platform-logger",e=>new K7(e),"PRIVATE")),ac(new qo("heartbeat",e=>new IB(e),"PRIVATE")),Oi(n_,qC,t),Oi(n_,qC,"esm2020"),Oi("fire-js","")}DB("");function SM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MB=SM,jM=new Vh("auth","Firebase",SM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new zE("@firebase/auth");function LB(t,...e){Xg.logLevel<=Je.WARN&&Xg.warn(`Auth (${bc}): ${t}`,...e)}function Ig(t,...e){Xg.logLevel<=Je.ERROR&&Xg.error(`Auth (${bc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,...e){throw FE(t,...e)}function Wa(t,...e){return FE(t,...e)}function BE(t,e,n){const r={...MB(),[e]:n};return new Vh("auth","Firebase",r).create(e,{appName:t.name})}function Ss(t){return BE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ja(t,"argument-error"),BE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function FE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jM.create(t,...e)}function De(t,e,...n){if(!t)throw FE(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ig(e),new Error(e)}function Is(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zB(){return YC()==="http:"||YC()==="https:"}function YC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zB()||p7()||"connection"in navigator)?navigator.onLine:!0}function $B(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=f7()||g7()}get(){return VB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t,e){Is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qB=new Bh(3e4,6e4);function Bs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ki(t,e,n,r,a={}){return TM(t,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const d=$h({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return m7()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&tl(t.emulatorConfig.host)&&(h.credentials="include"),NM.fetch()(await CM(t,t.config.apiHost,n,d),h)})}async function TM(t,e,n){t._canInitEmulator=!1;const r={...BB,...e};try{const a=new GB(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw rg(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const d=s.ok?l.errorMessage:l.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw rg(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw rg(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw rg(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw BE(t,p,h);ja(t,p)}}catch(a){if(a instanceof Gi)throw a;ja(t,"network-request-failed",{message:String(a)})}}async function Fh(t,e,n,r,a={}){const s=await Ki(t,e,n,r,a);return"mfaPendingCredential"in s&&ja(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function CM(t,e,n,r){const a=`${e}${n}?${r}`,s=t,l=s.config.emulator?qE(t.config,a):`${t.config.apiScheme}://${a}`;return FB.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function HB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wa(this.auth,"network-request-failed")),qB.get())})}}function rg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Wa(t,e,r);return a.customData._tokenResponse=n,a}function QC(t){return t!==void 0&&t.enterprise!==void 0}class KB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WB(t,e){return Ki(t,"GET","/v2/recaptchaConfig",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YB(t,e){return Ki(t,"POST","/v1/accounts:delete",e)}async function Zg(t,e){return Ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QB(t,e=!1){const n=jt(t),r=await n.getIdToken(e),a=HE(r);De(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:Xf(rw(a.auth_time)),issuedAtTime:Xf(rw(a.iat)),expirationTime:Xf(rw(a.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rw(t){return Number(t)*1e3}function HE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ig("JWT malformed, contained fewer than 3 sections"),null;try{const a=mM(n);return a?JSON.parse(a):(Ig("Failed to decode base64 JWT payload"),null)}catch(a){return Ig("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function XC(t){const e=HE(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gi&&XB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jg(t){var g;const e=t.auth,n=await t.getIdToken(),r=await zu(t,Zg(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?OM(a.providerUserInfo):[],l=eF(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new s_(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function JB(t){const e=jt(t);await Jg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eF(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function OM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e){const n=await TM(t,{},async()=>{const r=$h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,l=await CM(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&tl(t.emulatorConfig.host)&&(f.credentials="include"),NM.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nF(t,e){return Ki(t,"POST","/v2/accounts:revokeToken",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=XC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await tF(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,l=new Iu;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(De(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(De(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Iu,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ka{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new ZB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new s_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await zu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QB(this,e)}reload(){return JB(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ka({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await zu(this,YB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:b,providerData:E,stsTokenManager:A}=n;De(g&&A,e,"internal-error");const S=Iu.fromJSON(this.name,A);De(typeof g=="string",e,"internal-error"),Oo(r,e.name),Oo(a,e.name),De(typeof v=="boolean",e,"internal-error"),De(typeof b=="boolean",e,"internal-error"),Oo(s,e.name),Oo(l,e.name),Oo(d,e.name),Oo(f,e.name),Oo(h,e.name),Oo(p,e.name);const O=new Ka({uid:g,auth:e,email:a,emailVerified:v,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:s,tenantId:d,stsTokenManager:S,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(O.providerData=E.map(U=>({...U}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const a=new Iu;a.updateFromServerResponse(n);const s=new Ka({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Jg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];De(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?OM(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new Iu;d.updateFromIdToken(r);const f=new Ka({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:l}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new s_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Map;function ws(t){Is(t instanceof Function,"Expected a class definition");let e=ZC.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IM.type="NONE";const JC=IM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e,n){return`firebase:${t}:${e}:${n}`}class ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=kg(this.userKey,a.apiKey,s),this.fullPersistenceKey=kg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zg(this.auth,{idToken:e}).catch(()=>{});return n?Ka._fromGetAccountInfoResponse(this.auth,n,e):null}return Ka._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ku(ws(JC),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||ws(JC);const l=kg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const v=await Zg(e,{idToken:p}).catch(()=>{});if(!v)break;g=await Ka._fromGetAccountInfoResponse(e,v,p)}else g=Ka._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new ku(s,e,r):(s=f[0],d&&await s._set(l,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new ku(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LM(e))return"Blackberry";if(UM(e))return"Webos";if(PM(e))return"Safari";if((e.includes("chrome/")||RM(e))&&!e.includes("edge/"))return"Chrome";if(MM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kM(t=cr()){return/firefox\//i.test(t)}function PM(t=cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RM(t=cr()){return/crios\//i.test(t)}function DM(t=cr()){return/iemobile/i.test(t)}function MM(t=cr()){return/android/i.test(t)}function LM(t=cr()){return/blackberry/i.test(t)}function UM(t=cr()){return/webos/i.test(t)}function GE(t=cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rF(t=cr()){var e;return GE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function aF(){return y7()&&document.documentMode===10}function zM(t=cr()){return GE(t)||MM(t)||UM(t)||LM(t)||/windows phone/i.test(t)||DM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e=[]){let n;switch(t){case"Browser":n=eO(cr());break;case"Worker":n=`${eO(cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,d)=>{try{const f=e(s);l(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e={}){return Ki(t,"GET","/v2/passwordPolicy",Bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=6;class lF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tO(this),this.idTokenSubscription=new tO(this),this.beforeStateQueue=new iF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zg(this,{idToken:e}),r=await Ka._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(kr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===d)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$B()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(Ss(this));const n=e?jt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sF(this),n=new lF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&LB(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function nl(t){return jt(t)}class tO{constructor(e){this.auth=e,this.observer=null,this.addObserver=S7(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uF(t){bv=t}function $M(t){return bv.loadJS(t)}function dF(){return bv.recaptchaEnterpriseScript}function fF(){return bv.gapiScript}function hF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mF{constructor(){this.enterprise=new pF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gF="recaptcha-enterprise",BM="NO_RECAPTCHA";class yF{constructor(e){this.type=gF,this.auth=nl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,d)=>{WB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new KB(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(f=>{d(f)})})}function a(s,l,d){const f=window.grecaptcha;QC(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(BM)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mF().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(d=>{if(!n&&QC(window.grecaptcha))a(d,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=dF();f.length!==0&&(f+=d),$M(f).then(()=>{a(d,s,l)}).catch(h=>{l(h)})}}).catch(d=>{l(d)})})}}async function nO(t,e,n,r=!1,a=!1){const s=new yF(t);let l;if(a)l=BM;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function o_(t,e,n,r,a){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await nO(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await nO(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e){const n=xv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(rc(s,e??{}))return a;ja(a,"already-initialized")}return n.initialize({options:e})}function xF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bF(t,e,n){const r=nl(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=FM(e),{host:l,port:d}=wF(e),f=d===null?"":`:${d}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(rc(h,r.config.emulator)&&rc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,tl(l)?(LE(`${s}//${l}${f}`),UE("Auth",!0)):_F()}function FM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wF(t){const e=FM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:rO(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:rO(l)}}}function rO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _F(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function EF(t,e){return Ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(t,e){return Fh(t,"POST","/v1/accounts:signInWithPassword",Bs(t,e))}async function SF(t,e){return Ki(t,"POST","/v1/accounts:sendOobCode",Bs(t,e))}async function jF(t,e){return SF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}async function TF(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends KE{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new lh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o_(e,n,"signInWithPassword",AF);case"emailLink":return NF(e,{email:this._email,oobCode:this._password});default:ja(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o_(e,r,"signUpPassword",EF);case"emailLink":return TF(e,{idToken:n,email:this._email,oobCode:this._password});default:ja(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return Fh(t,"POST","/v1/accounts:signInWithIdp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="http://localhost";class ic extends KE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ic(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ja("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const l=new ic(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:CF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$h(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IF(t){const e=Vf($f(t)).link,n=e?Vf($f(e)).deep_link_id:null,r=Vf($f(t)).deep_link_id;return(r?Vf($f(r)).link:null)||r||n||e||t}class WE{constructor(e){const n=Vf($f(e)),r=n.apiKey??null,a=n.oobCode??null,s=OF(n.mode??null);De(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IF(e);try{return new WE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.providerId=id.PROVIDER_ID}static credential(e,n){return lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=WE.parseLink(n);return De(r,"argument-error"),lh._fromEmailAndCode(e,r.code,r.tenantId)}}id.PROVIDER_ID="password";id.EMAIL_PASSWORD_SIGN_IN_METHOD="password";id.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends YE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends qh{constructor(){super("facebook.com")}static credential(e){return ic._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.FACEBOOK_SIGN_IN_METHOD="facebook.com";Po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ic._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends qh{constructor(){super("github.com")}static credential(e){return ic._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.GITHUB_SIGN_IN_METHOD="github.com";Ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends qh{constructor(){super("twitter.com")}static credential(e,n){return ic._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.TWITTER_SIGN_IN_METHOD="twitter.com";Do.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF(t,e){return Fh(t,"POST","/v1/accounts:signUp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await Ka._fromIdTokenResponse(e,r,a),l=aO(r);return new sc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=aO(r);return new sc({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function aO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Gi{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,ey.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new ey(e,n,r,a)}}function qM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ey._fromErrorAndOperation(t,s,e,r):s})}async function PF(t,e,n=!1){const r=await zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF(t,e,n=!1){const{auth:r}=t;if(kr(r.app))return Promise.reject(Ss(r));const a="reauthenticate";try{const s=await zu(t,qM(r,a,e,t),n);De(s.idToken,r,"internal-error");const l=HE(s.idToken);De(l,r,"internal-error");const{sub:d}=l;return De(t.uid===d,r,"user-mismatch"),sc._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ja(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t,e,n=!1){if(kr(t.app))return Promise.reject(Ss(t));const r="signIn",a=await qM(t,r,e),s=await sc._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}async function DF(t,e){return HM(nl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t){const e=nl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MF(t,e,n){if(kr(t.app))return Promise.reject(Ss(t));const r=nl(t),l=await o_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kF).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&GM(t),f}),d=await sc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function LF(t,e,n){return kr(t.app)?Promise.reject(Ss(t)):DF(jt(t),id.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GM(t),r})}async function UF(t,e){const n=jt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await jF(n.auth,a);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e){return Ki(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=jt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await zu(r,zF(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function VF(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function $F(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function wv(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function BF(t){return jt(t).signOut()}const ty="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ty,"1"),this.storage.removeItem(ty),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=1e3,qF=10;class YM extends WM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);aF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qF):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YM.type="LOCAL";const HF=YM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM extends WM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QM.type="SESSION";const XM=QM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new _v(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,l=this.handlersMap[a];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(l).map(async h=>h(n.origin,s)),f=await GF(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_v.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((d,f)=>{const h=QE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(v.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function WF(t){Ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function YF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function XF(){return ZM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="firebaseLocalStorageDb",ZF=1,ny="firebaseLocalStorage",e4="fbase_key";class Hh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ev(t,e){return t.transaction([ny],e?"readwrite":"readonly").objectStore(ny)}function JF(){const t=indexedDB.deleteDatabase(JM);return new Hh(t).toPromise()}function l_(){const t=indexedDB.open(JM,ZF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ny,{keyPath:e4})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ny)?e(r):(r.close(),await JF(),e(await l_()))})})}async function iO(t,e,n){const r=Ev(t,!0).put({[e4]:e,value:n});return new Hh(r).toPromise()}async function eq(t,e){const n=Ev(t,!1).get(e),r=await new Hh(n).toPromise();return r===void 0?null:r.value}function sO(t,e){const n=Ev(t,!0).delete(e);return new Hh(n).toPromise()}const tq=800,nq=3;class t4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_v._getInstance(XF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await YF(),!this.activeServiceWorker)return;this.sender=new KF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l_();return await iO(e,ty,"1"),await sO(e,ty),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=Ev(a,!1).getAll();return new Hh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t4.type="LOCAL";const rq=t4;new Bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t,e){return e?ws(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends KE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aq(t){return HM(t.auth,new XE(t),t.bypassAuthState)}function iq(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),RF(n,new XE(t),t.bypassAuthState)}async function sq(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),PF(n,new XE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aq;case"linkViaPopup":case"linkViaRedirect":return sq;case"reauthViaPopup":case"reauthViaRedirect":return iq;default:ja(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=new Bh(2e3,1e4);async function lq(t,e,n){if(kr(t.app))return Promise.reject(Wa(t,"operation-not-supported-in-this-environment"));const r=nl(t);UB(t,e,YE);const a=n4(r,n);return new ql(r,"signInViaPopup",e,a).executeNotNull()}class ql extends r4{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=QE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Wa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oq.get())};e()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq="pendingRedirect",Pg=new Map;class uq extends r4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pg.get(this.auth._key());if(!e){try{const r=await dq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pg.set(this.auth._key(),e)}return this.bypassAuthState||Pg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dq(t,e){const n=mq(e),r=hq(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function fq(t,e){Pg.set(t._key(),e)}function hq(t){return ws(t._redirectPersistence)}function mq(t){return kg(cq,t.config.apiKey,t.name)}async function pq(t,e,n=!1){if(kr(t.app))return Promise.reject(Ss(t));const r=nl(t),a=n4(r,e),l=await new uq(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=600*1e3;class yq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!a4(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wa(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gq&&this.cachedEventUids.clear(),this.cachedEventUids.has(oO(e))}saveEventToCache(e){this.cachedEventUids.add(oO(e)),this.lastProcessedEventTime=Date.now()}}function oO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xq(t,e={}){return Ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wq=/^https?/;async function _q(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xq(t);for(const n of e)try{if(Eq(n))return}catch{}ja(t,"unauthorized-domain")}function Eq(t){const e=i_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!wq.test(n))return!1;if(bq.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=new Bh(3e4,6e4);function lO(){const t=Ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sq(t){return new Promise((e,n)=>{var a,s,l;function r(){lO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lO(),n(Wa(t,"network-request-failed"))},timeout:Aq.get()})}if((s=(a=Ii().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=Ii().gapi)!=null&&l.load)r();else{const d=hF("iframefcb");return Ii()[d]=()=>{gapi.load?r():n(Wa(t,"network-request-failed"))},$M(`${fF()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Rg=null,e})}let Rg=null;function jq(t){return Rg=Rg||Sq(t),Rg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=new Bh(5e3,15e3),Tq="__/auth/iframe",Cq="emulator/auth/iframe",Oq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kq(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qE(e,Cq):`https://${t.config.authDomain}/${Tq}`,r={apiKey:e.apiKey,appName:t.name,v:bc},a=Iq.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$h(r).slice(1)}`}async function Pq(t){const e=await jq(t),n=Ii().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:kq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oq,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=Wa(t,"network-request-failed"),d=Ii().setTimeout(()=>{s(l)},Nq.get());function f(){Ii().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dq=500,Mq=600,Lq="_blank",Uq="http://localhost";class cO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zq(t,e,n,r=Dq,a=Mq){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...Rq,width:r.toString(),height:a.toString(),top:s,left:l},h=cr().toLowerCase();n&&(d=RM(h)?Lq:n),kM(h)&&(e=e||Uq,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[b,E])=>`${v}${b}=${E},`,"");if(rF(h)&&d!=="_self")return Vq(e||"",d),new cO(null);const g=window.open(e||"",d,p);De(g,t,"popup-blocked");try{g.focus()}catch{}return new cO(g)}function Vq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q="__/auth/handler",Bq="emulator/auth/handler",Fq=encodeURIComponent("fac");async function uO(t,e,n,r,a,s){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bc,eventId:a};if(e instanceof YE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",A7(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof qh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${Fq}=${encodeURIComponent(f)}`:"";return`${qq(t)}?${$h(d).slice(1)}${h}`}function qq({config:t}){return t.emulator?qE(t,Bq):`https://${t.authDomain}/${$q}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="webStorageSupport";class Hq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XM,this._completeRedirectFn=pq,this._overrideRedirectResult=fq}async _openPopup(e,n,r,a){var l;Is((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await uO(e,n,r,i_(),a);return zq(e,s,QE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await uO(e,n,r,i_(),a);return WF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(Is(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Pq(e),r=new yq(e);return n.register("authEvent",a=>(De(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(aw,{type:aw},a=>{var l;const s=(l=a==null?void 0:a[0])==null?void 0:l[aw];s!==void 0&&n(!!s),ja(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_q(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zM()||PM()||GE()}}const Gq=Hq;var dO="@firebase/auth",fO="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yq(t){ac(new qo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VM(t)},h=new cF(r,a,s,f);return xF(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ac(new qo("auth-internal",e=>{const n=nl(e.getProvider("auth").getImmediate());return(r=>new Kq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(dO,fO,Wq(t)),Oi(dO,fO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=300,Xq=vM("authIdTokenMaxAge")||Qq;let hO=null;const Zq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Xq)return;const a=n==null?void 0:n.token;hO!==a&&(hO=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function i4(t=$E()){const e=xv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vF(t,{popupRedirectResolver:Gq,persistence:[rq,HF,XM]}),r=vM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=Zq(s.toString());$F(n,l,()=>l(n.currentUser)),VF(n,d=>l(d))}}const a=pM("auth");return a&&bF(n,`http://${a}`),n}function Jq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}uF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=Wa("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",Jq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yq("Browser");var eH="firebase",tH="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(eH,tH,"app");var mO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $o,s4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,M){function T(){}T.prototype=M.prototype,N.F=M.prototype,N.prototype=new T,N.prototype.constructor=N,N.D=function(R,L,V){for(var $=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)$[ne-2]=arguments[ne];return M.prototype[L].apply(R,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,M,T){T||(T=0);const R=Array(16);if(typeof M=="string")for(var L=0;L<16;++L)R[L]=M.charCodeAt(T++)|M.charCodeAt(T++)<<8|M.charCodeAt(T++)<<16|M.charCodeAt(T++)<<24;else for(L=0;L<16;++L)R[L]=M[T++]|M[T++]<<8|M[T++]<<16|M[T++]<<24;M=N.g[0],T=N.g[1],L=N.g[2];let V=N.g[3],$;$=M+(V^T&(L^V))+R[0]+3614090360&4294967295,M=T+($<<7&4294967295|$>>>25),$=V+(L^M&(T^L))+R[1]+3905402710&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(T^V&(M^T))+R[2]+606105819&4294967295,L=V+($<<17&4294967295|$>>>15),$=T+(M^L&(V^M))+R[3]+3250441966&4294967295,T=L+($<<22&4294967295|$>>>10),$=M+(V^T&(L^V))+R[4]+4118548399&4294967295,M=T+($<<7&4294967295|$>>>25),$=V+(L^M&(T^L))+R[5]+1200080426&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(T^V&(M^T))+R[6]+2821735955&4294967295,L=V+($<<17&4294967295|$>>>15),$=T+(M^L&(V^M))+R[7]+4249261313&4294967295,T=L+($<<22&4294967295|$>>>10),$=M+(V^T&(L^V))+R[8]+1770035416&4294967295,M=T+($<<7&4294967295|$>>>25),$=V+(L^M&(T^L))+R[9]+2336552879&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(T^V&(M^T))+R[10]+4294925233&4294967295,L=V+($<<17&4294967295|$>>>15),$=T+(M^L&(V^M))+R[11]+2304563134&4294967295,T=L+($<<22&4294967295|$>>>10),$=M+(V^T&(L^V))+R[12]+1804603682&4294967295,M=T+($<<7&4294967295|$>>>25),$=V+(L^M&(T^L))+R[13]+4254626195&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(T^V&(M^T))+R[14]+2792965006&4294967295,L=V+($<<17&4294967295|$>>>15),$=T+(M^L&(V^M))+R[15]+1236535329&4294967295,T=L+($<<22&4294967295|$>>>10),$=M+(L^V&(T^L))+R[1]+4129170786&4294967295,M=T+($<<5&4294967295|$>>>27),$=V+(T^L&(M^T))+R[6]+3225465664&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^T&(V^M))+R[11]+643717713&4294967295,L=V+($<<14&4294967295|$>>>18),$=T+(V^M&(L^V))+R[0]+3921069994&4294967295,T=L+($<<20&4294967295|$>>>12),$=M+(L^V&(T^L))+R[5]+3593408605&4294967295,M=T+($<<5&4294967295|$>>>27),$=V+(T^L&(M^T))+R[10]+38016083&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^T&(V^M))+R[15]+3634488961&4294967295,L=V+($<<14&4294967295|$>>>18),$=T+(V^M&(L^V))+R[4]+3889429448&4294967295,T=L+($<<20&4294967295|$>>>12),$=M+(L^V&(T^L))+R[9]+568446438&4294967295,M=T+($<<5&4294967295|$>>>27),$=V+(T^L&(M^T))+R[14]+3275163606&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^T&(V^M))+R[3]+4107603335&4294967295,L=V+($<<14&4294967295|$>>>18),$=T+(V^M&(L^V))+R[8]+1163531501&4294967295,T=L+($<<20&4294967295|$>>>12),$=M+(L^V&(T^L))+R[13]+2850285829&4294967295,M=T+($<<5&4294967295|$>>>27),$=V+(T^L&(M^T))+R[2]+4243563512&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^T&(V^M))+R[7]+1735328473&4294967295,L=V+($<<14&4294967295|$>>>18),$=T+(V^M&(L^V))+R[12]+2368359562&4294967295,T=L+($<<20&4294967295|$>>>12),$=M+(T^L^V)+R[5]+4294588738&4294967295,M=T+($<<4&4294967295|$>>>28),$=V+(M^T^L)+R[8]+2272392833&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^T)+R[11]+1839030562&4294967295,L=V+($<<16&4294967295|$>>>16),$=T+(L^V^M)+R[14]+4259657740&4294967295,T=L+($<<23&4294967295|$>>>9),$=M+(T^L^V)+R[1]+2763975236&4294967295,M=T+($<<4&4294967295|$>>>28),$=V+(M^T^L)+R[4]+1272893353&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^T)+R[7]+4139469664&4294967295,L=V+($<<16&4294967295|$>>>16),$=T+(L^V^M)+R[10]+3200236656&4294967295,T=L+($<<23&4294967295|$>>>9),$=M+(T^L^V)+R[13]+681279174&4294967295,M=T+($<<4&4294967295|$>>>28),$=V+(M^T^L)+R[0]+3936430074&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^T)+R[3]+3572445317&4294967295,L=V+($<<16&4294967295|$>>>16),$=T+(L^V^M)+R[6]+76029189&4294967295,T=L+($<<23&4294967295|$>>>9),$=M+(T^L^V)+R[9]+3654602809&4294967295,M=T+($<<4&4294967295|$>>>28),$=V+(M^T^L)+R[12]+3873151461&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^T)+R[15]+530742520&4294967295,L=V+($<<16&4294967295|$>>>16),$=T+(L^V^M)+R[2]+3299628645&4294967295,T=L+($<<23&4294967295|$>>>9),$=M+(L^(T|~V))+R[0]+4096336452&4294967295,M=T+($<<6&4294967295|$>>>26),$=V+(T^(M|~L))+R[7]+1126891415&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~T))+R[14]+2878612391&4294967295,L=V+($<<15&4294967295|$>>>17),$=T+(V^(L|~M))+R[5]+4237533241&4294967295,T=L+($<<21&4294967295|$>>>11),$=M+(L^(T|~V))+R[12]+1700485571&4294967295,M=T+($<<6&4294967295|$>>>26),$=V+(T^(M|~L))+R[3]+2399980690&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~T))+R[10]+4293915773&4294967295,L=V+($<<15&4294967295|$>>>17),$=T+(V^(L|~M))+R[1]+2240044497&4294967295,T=L+($<<21&4294967295|$>>>11),$=M+(L^(T|~V))+R[8]+1873313359&4294967295,M=T+($<<6&4294967295|$>>>26),$=V+(T^(M|~L))+R[15]+4264355552&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~T))+R[6]+2734768916&4294967295,L=V+($<<15&4294967295|$>>>17),$=T+(V^(L|~M))+R[13]+1309151649&4294967295,T=L+($<<21&4294967295|$>>>11),$=M+(L^(T|~V))+R[4]+4149444226&4294967295,M=T+($<<6&4294967295|$>>>26),$=V+(T^(M|~L))+R[11]+3174756917&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~T))+R[2]+718787259&4294967295,L=V+($<<15&4294967295|$>>>17),$=T+(V^(L|~M))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(L+($<<21&4294967295|$>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,M){M===void 0&&(M=N.length);const T=M-this.blockSize,R=this.C;let L=this.h,V=0;for(;V<M;){if(L==0)for(;V<=T;)a(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<M;)if(R[L++]=N.charCodeAt(V++),L==this.blockSize){a(this,R),L=0;break}}else for(;V<M;)if(R[L++]=N[V++],L==this.blockSize){a(this,R),L=0;break}}this.h=L,this.o+=M},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var T=N.length-8;T<N.length;++T)N[T]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,T=0;T<4;++T)for(let R=0;R<32;R+=8)N[M++]=this.g[T]>>>R&255;return N};function s(N,M){var T=d;return Object.prototype.hasOwnProperty.call(T,N)?T[N]:T[N]=M(N)}function l(N,M){this.h=M;const T=[];let R=!0;for(let L=N.length-1;L>=0;L--){const V=N[L]|0;R&&V==M||(T[L]=V,R=!1)}this.g=T}var d={};function f(N){return-128<=N&&N<128?s(N,function(M){return new l([M|0],M<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return S(h(-N));const M=[];let T=1;for(let R=0;N>=T;R++)M[R]=N/T|0,T*=4294967296;return new l(M,0)}function p(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return S(p(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=h(Math.pow(M,8));let R=g;for(let V=0;V<N.length;V+=8){var L=Math.min(8,N.length-V);const $=parseInt(N.substring(V,V+L),M);L<8?(L=h(Math.pow(M,L)),R=R.j(L).add(h($))):(R=R.j(T),R=R.add(h($)))}return R}var g=f(0),v=f(1),b=f(16777216);t=l.prototype,t.m=function(){if(A(this))return-S(this).m();let N=0,M=1;for(let T=0;T<this.g.length;T++){const R=this.i(T);N+=(R>=0?R:4294967296+R)*M,M*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(A(this))return"-"+S(this).toString(N);const M=h(Math.pow(N,6));var T=this;let R="";for(;;){const L=C(T,M).g;T=O(T,L.j(M));let V=((T.g.length>0?T.g[0]:T.h)>>>0).toString(N);if(T=L,E(T))return V+R;for(;V.length<6;)V="0"+V;R=V+R}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function A(N){return N.h==-1}t.l=function(N){return N=O(this,N),A(N)?-1:E(N)?0:1};function S(N){const M=N.g.length,T=[];for(let R=0;R<M;R++)T[R]=~N.g[R];return new l(T,~N.h).add(v)}t.abs=function(){return A(this)?S(this):this},t.add=function(N){const M=Math.max(this.g.length,N.g.length),T=[];let R=0;for(let L=0;L<=M;L++){let V=R+(this.i(L)&65535)+(N.i(L)&65535),$=(V>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);R=$>>>16,V&=65535,$&=65535,T[L]=$<<16|V}return new l(T,T[T.length-1]&-2147483648?-1:0)};function O(N,M){return N.add(S(M))}t.j=function(N){if(E(this)||E(N))return g;if(A(this))return A(N)?S(this).j(S(N)):S(S(this).j(N));if(A(N))return S(this.j(S(N)));if(this.l(b)<0&&N.l(b)<0)return h(this.m()*N.m());const M=this.g.length+N.g.length,T=[];for(var R=0;R<2*M;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(let L=0;L<N.g.length;L++){const V=this.i(R)>>>16,$=this.i(R)&65535,ne=N.i(L)>>>16,pe=N.i(L)&65535;T[2*R+2*L]+=$*pe,U(T,2*R+2*L),T[2*R+2*L+1]+=V*pe,U(T,2*R+2*L+1),T[2*R+2*L+1]+=$*ne,U(T,2*R+2*L+1),T[2*R+2*L+2]+=V*ne,U(T,2*R+2*L+2)}for(N=0;N<M;N++)T[N]=T[2*N+1]<<16|T[2*N];for(N=M;N<2*M;N++)T[N]=0;return new l(T,0)};function U(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function k(N,M){this.g=N,this.h=M}function C(N,M){if(E(M))throw Error("division by zero");if(E(N))return new k(g,g);if(A(N))return M=C(S(N),M),new k(S(M.g),S(M.h));if(A(M))return M=C(N,S(M)),new k(S(M.g),M.h);if(N.g.length>30){if(A(N)||A(M))throw Error("slowDivide_ only works with positive integers.");for(var T=v,R=M;R.l(N)<=0;)T=P(T),R=P(R);var L=z(T,1),V=z(R,1);for(R=z(R,2),T=z(T,2);!E(R);){var $=V.add(R);$.l(N)<=0&&(L=L.add(T),V=$),R=z(R,1),T=z(T,1)}return M=O(N,L.j(M)),new k(L,M)}for(L=g;N.l(M)>=0;){for(T=Math.max(1,Math.floor(N.m()/M.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),V=h(T),$=V.j(M);A($)||$.l(N)>0;)T-=R,V=h(T),$=V.j(M);E(V)&&(V=v),L=L.add(V),N=O(N,$)}return new k(L,N)}t.B=function(N){return C(this,N).h},t.and=function(N){const M=Math.max(this.g.length,N.g.length),T=[];for(let R=0;R<M;R++)T[R]=this.i(R)&N.i(R);return new l(T,this.h&N.h)},t.or=function(N){const M=Math.max(this.g.length,N.g.length),T=[];for(let R=0;R<M;R++)T[R]=this.i(R)|N.i(R);return new l(T,this.h|N.h)},t.xor=function(N){const M=Math.max(this.g.length,N.g.length),T=[];for(let R=0;R<M;R++)T[R]=this.i(R)^N.i(R);return new l(T,this.h^N.h)};function P(N){const M=N.g.length+1,T=[];for(let R=0;R<M;R++)T[R]=N.i(R)<<1|N.i(R-1)>>>31;return new l(T,N.h)}function z(N,M){const T=M>>5;M%=32;const R=N.g.length-T,L=[];for(let V=0;V<R;V++)L[V]=M>0?N.i(V+T)>>>M|N.i(V+T+1)<<32-M:N.i(V+T);return new l(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,s4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,$o=l}).apply(typeof mO<"u"?mO:typeof self<"u"?self:typeof window<"u"?window:{});var ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o4,Bf,l4,Dg,c_,c4,u4,d4;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof ag=="object"&&ag];for(var j=0;j<y.length;++j){var D=y[j];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function a(y,j){if(j)e:{var D=r;y=y.split(".");for(var F=0;F<y.length-1;F++){var X=y[F];if(!(X in D))break e;D=D[X]}y=y[y.length-1],F=D[y],j=j(F),j!=F&&j!=null&&e(D,y,{configurable:!0,writable:!0,value:j})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(j){var D=[],F;for(F in j)Object.prototype.hasOwnProperty.call(j,F)&&D.push([F,j[F]]);return D}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function d(y){var j=typeof y;return j=="object"&&y!=null||j=="function"}function f(y,j,D){return y.call.apply(y.bind,arguments)}function h(y,j,D){return h=f,h.apply(null,arguments)}function p(y,j){var D=Array.prototype.slice.call(arguments,1);return function(){var F=D.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function g(y,j){function D(){}D.prototype=j.prototype,y.Z=j.prototype,y.prototype=new D,y.prototype.constructor=y,y.Ob=function(F,X,ae){for(var ve=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ve[$e-2]=arguments[$e];return j.prototype[X].apply(F,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const j=y.length;if(j>0){const D=Array(j);for(let F=0;F<j;F++)D[F]=y[F];return D}return[]}function E(y,j){for(let F=1;F<arguments.length;F++){const X=arguments[F];var D=typeof X;if(D=D!="object"?D:X?Array.isArray(X)?"array":D:"null",D=="array"||D=="object"&&typeof X.length=="number"){D=y.length||0;const ae=X.length||0;y.length=D+ae;for(let ve=0;ve<ae;ve++)y[D+ve]=X[ve]}else y.push(X)}}class A{constructor(j,D){this.i=j,this.j=D,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function S(y){l.setTimeout(()=>{throw y},0)}function O(){var y=N;let j=null;return y.g&&(j=y.g,y.g=y.g.next,y.g||(y.h=null),j.next=null),j}class U{constructor(){this.h=this.g=null}add(j,D){const F=k.get();F.set(j,D),this.h?this.h.next=F:this.g=F,this.h=F}}var k=new A(()=>new C,y=>y.reset());class C{constructor(){this.next=this.g=this.h=null}set(j,D){this.h=j,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let P,z=!1,N=new U,M=()=>{const y=Promise.resolve(void 0);P=()=>{y.then(T)}};function T(){for(var y;y=O();){try{y.h.call(y.g)}catch(D){S(D)}var j=k;j.j(y),j.h<100&&(j.h++,y.next=j.g,j.g=y)}z=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(y,j){this.type=y,this.g=this.target=j,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,j=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const D=()=>{};l.addEventListener("test",D,j),l.removeEventListener("test",D,j)}catch{}return y})();function $(y){return/^[\s\xa0]*$/.test(y)}function ne(y,j){L.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,j)}g(ne,L),ne.prototype.init=function(y,j){const D=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=j,j=y.relatedTarget,j||(D=="mouseover"?j=y.fromElement:D=="mouseout"&&(j=y.toElement)),this.relatedTarget=j,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(y,j,D,F,X){this.listener=y,this.proxy=null,this.src=j,this.type=D,this.capture=!!F,this.ha=X,this.key=++Y,this.da=this.fa=!1}function H(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function K(y,j,D){for(const F in y)j.call(D,y[F],F,y)}function se(y,j){for(const D in y)j.call(void 0,y[D],D,y)}function q(y){const j={};for(const D in y)j[D]=y[D];return j}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(y,j){let D,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(D in F)y[D]=F[D];for(let ae=0;ae<re.length;ae++)D=re[ae],Object.prototype.hasOwnProperty.call(F,D)&&(y[D]=F[D])}}function ye(y){this.src=y,this.g={},this.h=0}ye.prototype.add=function(y,j,D,F,X){const ae=y.toString();y=this.g[ae],y||(y=this.g[ae]=[],this.h++);const ve=ke(y,j,F,X);return ve>-1?(j=y[ve],D||(j.fa=!1)):(j=new oe(j,this.src,ae,!!F,X),j.fa=D,y.push(j)),j};function Ce(y,j){const D=j.type;if(D in y.g){var F=y.g[D],X=Array.prototype.indexOf.call(F,j,void 0),ae;(ae=X>=0)&&Array.prototype.splice.call(F,X,1),ae&&(H(j),y.g[D].length==0&&(delete y.g[D],y.h--))}}function ke(y,j,D,F){for(let X=0;X<y.length;++X){const ae=y[X];if(!ae.da&&ae.listener==j&&ae.capture==!!D&&ae.ha==F)return X}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Nt={};function ce(y,j,D,F,X){if(Array.isArray(j)){for(let ae=0;ae<j.length;ae++)ce(y,j[ae],D,F,X);return null}return D=Ys(D),y&&y[pe]?y.J(j,D,d(F)?!!F.capture:!1,X):Ue(y,j,D,!1,F,X)}function Ue(y,j,D,F,X,ae){if(!j)throw Error("Invalid event type");const ve=d(X)?!!X.capture:!!X;let $e=Zt(y);if($e||(y[Pe]=$e=new ye(y)),D=$e.add(j,D,F,ve,ae),D.proxy)return D;if(F=He(),D.proxy=F,F.src=y,F.listener=D,y.addEventListener)V||(X=ve),X===void 0&&(X=!1),y.addEventListener(j.toString(),F,X);else if(y.attachEvent)y.attachEvent(Ge(j.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return D}function He(){function y(D){return j.call(y.src,y.listener,D)}const j=An;return y}function ge(y,j,D,F,X){if(Array.isArray(j))for(var ae=0;ae<j.length;ae++)ge(y,j[ae],D,F,X);else F=d(F)?!!F.capture:!!F,D=Ys(D),y&&y[pe]?(y=y.i,ae=String(j).toString(),ae in y.g&&(j=y.g[ae],D=ke(j,D,F,X),D>-1&&(H(j[D]),Array.prototype.splice.call(j,D,1),j.length==0&&(delete y.g[ae],y.h--)))):y&&(y=Zt(y))&&(j=y.g[j.toString()],y=-1,j&&(y=ke(j,D,F,X)),(D=y>-1?j[y]:null)&&Xt(D))}function Xt(y){if(typeof y!="number"&&y&&!y.da){var j=y.src;if(j&&j[pe])Ce(j.i,y);else{var D=y.type,F=y.proxy;j.removeEventListener?j.removeEventListener(D,F,y.capture):j.detachEvent?j.detachEvent(Ge(D),F):j.addListener&&j.removeListener&&j.removeListener(F),(D=Zt(j))?(Ce(D,y),D.h==0&&(D.src=null,j[Pe]=null)):H(y)}}}function Ge(y){return y in Nt?Nt[y]:Nt[y]="on"+y}function An(y,j){if(y.da)y=!0;else{j=new ne(j,this);const D=y.listener,F=y.ha||y.src;y.fa&&Xt(y),y=D.call(F,j)}return y}function Zt(y){return y=y[Pe],y instanceof ye?y:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ys(y){return typeof y=="function"?y:(y[Lr]||(y[Lr]=function(j){return y.handleEvent(j)}),y[Lr])}function ln(){R.call(this),this.i=new ye(this),this.M=this,this.G=null}g(ln,R),ln.prototype[pe]=!0,ln.prototype.removeEventListener=function(y,j,D,F){ge(this,y,j,D,F)};function Sn(y,j){var D,F=y.G;if(F)for(D=[];F;F=F.G)D.push(F);if(y=y.M,F=j.type||j,typeof j=="string")j=new L(j,y);else if(j instanceof L)j.target=j.target||y;else{var X=j;j=new L(F,y),me(j,X)}X=!0;let ae,ve;if(D)for(ve=D.length-1;ve>=0;ve--)ae=j.g=D[ve],X=Qs(ae,F,!0,j)&&X;if(ae=j.g=y,X=Qs(ae,F,!0,j)&&X,X=Qs(ae,F,!1,j)&&X,D)for(ve=0;ve<D.length;ve++)ae=j.g=D[ve],X=Qs(ae,F,!1,j)&&X}ln.prototype.N=function(){if(ln.Z.N.call(this),this.i){var y=this.i;for(const j in y.g){const D=y.g[j];for(let F=0;F<D.length;F++)H(D[F]);delete y.g[j],y.h--}}this.G=null},ln.prototype.J=function(y,j,D,F){return this.i.add(String(y),j,!1,D,F)},ln.prototype.K=function(y,j,D,F){return this.i.add(String(y),j,!0,D,F)};function Qs(y,j,D,F){if(j=y.i.g[String(j)],!j)return!0;j=j.concat();let X=!0;for(let ae=0;ae<j.length;++ae){const ve=j[ae];if(ve&&!ve.da&&ve.capture==D){const $e=ve.listener,en=ve.ha||ve.src;ve.fa&&Ce(y.i,ve),X=$e.call(en,F)!==!1&&X}}return X&&!F.defaultPrevented}function q0(y,j){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:l.setTimeout(y,j||0)}function Nm(y){y.g=q0(()=>{y.g=null,y.i&&(y.i=!1,Nm(y))},y.l);const j=y.h;y.h=null,y.m.apply(null,j)}class dr extends R{constructor(j,D){super(),this.m=j,this.l=D,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Nm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dl(y){R.call(this),this.h=y,this.g={}}g(dl,R);var Sd=[];function jd(y){K(y.g,function(j,D){this.g.hasOwnProperty(D)&&Xt(j)},y),y.g={}}dl.prototype.N=function(){dl.Z.N.call(this),jd(this)},dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=l.JSON.stringify,H0=l.JSON.parse,Tm=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function Cm(){}function Om(){}var ka={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qn(){L.call(this,"d")}g(qn,L);function aa(){L.call(this,"c")}g(aa,L);var Jt={},Im=null;function Tc(){return Im=Im||new ln}Jt.Ia="serverreachability";function km(y){L.call(this,Jt.Ia,y)}g(km,L);function ii(y){const j=Tc();Sn(j,new km(j))}Jt.STAT_EVENT="statevent";function fl(y,j){L.call(this,Jt.STAT_EVENT,y),this.stat=j}g(fl,L);function cn(y){const j=Tc();Sn(j,new fl(j,y))}Jt.Ja="timingevent";function si(y,j){L.call(this,Jt.Ja,y),this.size=j}g(si,L);function oi(y,j){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},j)}function Pa(){this.g=!0}Pa.prototype.ua=function(){this.g=!1};function G0(y,j,D,F,X,ae){y.info(function(){if(y.g)if(ae){var ve="",$e=ae.split("&");for(let ut=0;ut<$e.length;ut++){var en=$e[ut].split("=");if(en.length>1){const Dt=en[0];en=en[1];const la=Dt.split("_");ve=la.length>=2&&la[1]=="type"?ve+(Dt+"="+en+"&"):ve+(Dt+"=redacted&")}}}else ve=null;else ve=ae;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+j+`
`+D+`
`+ve})}function Pm(y,j,D,F,X,ae,ve){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+j+`
`+D+`
`+ae+" "+ve})}function li(y,j,D,F){y.info(function(){return"XMLHTTP TEXT ("+j+"): "+K0(y,D)+(F?" "+F:"")})}function hl(y,j){y.info(function(){return"TIMEOUT: "+j})}Pa.prototype.info=function(){};function K0(y,j){if(!y.g)return j;if(!j)return null;try{const ae=JSON.parse(j);if(ae){for(y=0;y<ae.length;y++)if(Array.isArray(ae[y])){var D=ae[y];if(!(D.length<2)){var F=D[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<F.length;ve++)F[ve]=""}}}}return Xs(ae)}catch{return j}}var ml={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Td;function pl(){}g(pl,Cm),pl.prototype.g=function(){return new XMLHttpRequest},Td=new pl;function Xi(y){return encodeURIComponent(String(y))}function Rm(y){var j=1;y=y.split(":");const D=[];for(;j>0&&y.length;)D.push(y.shift()),j--;return y.length&&D.push(y.join(":")),D}function Ra(y,j,D,F){this.j=y,this.i=j,this.l=D,this.S=F||1,this.V=new dl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Da}function Da(){this.i=null,this.g="",this.h=!1}var un={},Pn={};function ci(y,j,D){y.M=1,y.A=gl(fn(j)),y.u=D,y.R=!0,Cc(y,null)}function Cc(y,j){y.F=Date.now(),ui(y),y.B=fn(y.A);var D=y.B,F=y.S;Array.isArray(F)||(F=[String(F)]),Pc(D.i,"t",F),y.C=0,D=y.j.L,y.h=new Da,y.g=Ym(y.j,D?j:null,!y.u),y.P>0&&(y.O=new dr(h(y.Y,y,y.g),y.P)),j=y.V,D=y.g,F=y.ba;var X="readystatechange";Array.isArray(X)||(X&&(Sd[0]=X.toString()),X=Sd);for(let ae=0;ae<X.length;ae++){const ve=ce(D,X[ae],F||j.handleEvent,!1,j.h||j);if(!ve)break;j.g[ve.key]=ve}j=y.J?q(y.J):{},y.u?(y.v||(y.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,j)):(y.v="GET",y.g.ea(y.B,y.v,null,j)),ii(),G0(y.i,y.v,y.B,y.l,y.S,y.u)}Ra.prototype.ba=function(y){y=y.target;const j=this.O;j&&Ua(y)==3?j.j():this.Y(y)},Ra.prototype.Y=function(y){try{if(y==this.g)e:{const $e=Ua(this.g),en=this.g.ya(),ut=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||$e!=4||en==7||(en==8||ut<=0?ii(3):ii(2)),di(this);var j=this.g.ca();this.X=j;var D=W0(this);if(this.o=j==200,Pm(this.i,this.v,this.B,this.l,this.S,$e,j),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(F)){var ae=F;break t}}ae=null}if(y=ae)li(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,y);else{this.o=!1,this.m=3,cn(12),Ur(this),ia(this);break e}}if(this.R){y=!0;let Dt;for(;!this.K&&this.C<D.length;)if(Dt=Mm(this,D),Dt==Pn){$e==4&&(this.m=4,cn(14),y=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==un){this.m=4,cn(15),li(this.i,this.l,D,"[Invalid Chunk]"),y=!1;break}else li(this.i,this.l,Dt,null),fi(this,Dt);if(Dm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||D.length!=0||this.h.h||(this.m=1,cn(16),y=!1),this.o=this.o&&y,!y)li(this.i,this.l,D,"[Invalid Chunked Response]"),Ur(this),ia(this);else if(D.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),Fd(ve),ve.P=!0,cn(11))}}else li(this.i,this.l,D,null),fi(this,D);$e==4&&Ur(this),this.o&&!this.K&&($e==4?Hm(this.j,this):(this.o=!1,ui(this)))}else Ji(this.g),j==400&&D.indexOf("Unknown SID")>0?(this.m=3,cn(12)):(this.m=0,cn(13)),Ur(this),ia(this)}}}catch{}finally{}};function W0(y){if(!Dm(y))return y.g.la();const j=Hn(y.g);if(j==="")return"";let D="";const F=j.length,X=Ua(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ur(y),ia(y),"";y.h.i=new l.TextDecoder}for(let ae=0;ae<F;ae++)y.h.h=!0,D+=y.h.i.decode(j[ae],{stream:!(X&&ae==F-1)});return j.length=0,y.h.g+=D,y.C=0,y.h.g}function Dm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Mm(y,j){var D=y.C,F=j.indexOf(`
`,D);return F==-1?Pn:(D=Number(j.substring(D,F)),isNaN(D)?un:(F+=1,F+D>j.length?Pn:(j=j.slice(F,F+D),y.C=F+D,j)))}Ra.prototype.cancel=function(){this.K=!0,Ur(this)};function ui(y){y.T=Date.now()+y.H,Oc(y,y.H)}function Oc(y,j){if(y.D!=null)throw Error("WatchDog timer not null");y.D=oi(h(y.aa,y),j)}function di(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Ra.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(hl(this.i,this.B),this.M!=2&&(ii(),cn(17)),Ur(this),this.m=2,ia(this)):Oc(this,this.T-y)};function ia(y){y.j.I==0||y.K||Hm(y.j,y)}function Ur(y){di(y);var j=y.O;j&&typeof j.dispose=="function"&&j.dispose(),y.O=null,jd(y.V),y.g&&(j=y.g,y.g=null,j.abort(),j.dispose())}function fi(y,j){try{var D=y.j;if(D.I!=0&&(D.g==y||mi(D.h,y))){if(!y.L&&mi(D.h,y)&&D.I==3){try{var F=D.Ba.g.parse(j)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<y.F)Uc(D),io(D);else break e;El(D),cn(18)}}else D.xa=X[1],0<D.xa-D.K&&X[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=oi(h(D.Va,D),6e3));hi(D.h)<=1&&D.ta&&(D.ta=void 0)}else bi(D,11)}else if((y.L||D.g==y)&&Uc(D),!$(j))for(X=D.Ba.g.parse(j),j=0;j<X.length;j++){let ut=X[j];const Dt=ut[0];if(!(Dt<=D.K))if(D.K=Dt,ut=ut[1],D.I==2)if(ut[0]=="c"){D.M=ut[1],D.ba=ut[2];const la=ut[3];la!=null&&(D.ka=la,D.j.info("VER="+D.ka));const wi=ut[4];wi!=null&&(D.za=wi,D.j.info("SVER="+D.za));const za=ut[5];za!=null&&typeof za=="number"&&za>0&&(F=1.5*za,D.O=F,D.j.info("backChannelRequestTimeoutMs_="+F)),F=D;const Va=y.g;if(Va){const Al=Va.g?Va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Al){var ae=F.h;ae.g||Al.indexOf("spdy")==-1&&Al.indexOf("quic")==-1&&Al.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Id(ae,ae.h),ae.h=null))}if(F.G){const zc=Va.g?Va.g.getResponseHeader("X-HTTP-Session-Id"):null;zc&&(F.wa=zc,mt(F.J,F.G,zc))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-y.F,D.j.info("Handshake RTT: "+D.T+"ms")),F=D;var ve=y;if(F.na=Wm(F,F.L?F.ba:null,F.W),ve.L){kd(F.h,ve);var $e=ve,en=F.O;en&&($e.H=en),$e.D&&(di($e),ui($e)),F.g=ve}else Fm(F);D.i.length>0&&xi(D)}else ut[0]!="stop"&&ut[0]!="close"||bi(D,7);else D.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?bi(D,7):$d(D):ut[0]!="noop"&&D.l&&D.l.qa(ut),D.A=0)}}ii(4)}catch{}}var dn=class{constructor(y,j){this.g=y,this.map=j}};function Cd(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Od(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function hi(y){return y.h?1:y.g?y.g.size:0}function mi(y,j){return y.h?y.h==j:y.g?y.g.has(j):!1}function Id(y,j){y.g?y.g.add(j):y.h=j}function kd(y,j){y.h&&y.h==j?y.h=null:y.g&&y.g.has(j)&&y.g.delete(j)}Cd.prototype.cancel=function(){if(this.i=Pd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Pd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let j=y.i;for(const D of y.g.values())j=j.concat(D.G);return j}return b(y.i)}var Lm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(y,j){if(y){y=y.split("&");for(let D=0;D<y.length;D++){const F=y[D].indexOf("=");let X,ae=null;F>=0?(X=y[D].substring(0,F),ae=y[D].substring(F+1)):X=y[D],j(X,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function zr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;y instanceof zr?(this.l=y.l,Rn(this,y.j),this.o=y.o,this.g=y.g,Zs(this,y.u),this.h=y.h,Rd(this,$m(y.i)),this.m=y.m):y&&(j=String(y).match(Lm))?(this.l=!1,Rn(this,j[1]||"",!0),this.o=pi(j[2]||""),this.g=pi(j[3]||"",!0),Zs(this,j[4]),this.h=pi(j[5]||"",!0),Rd(this,j[6]||"",!0),this.m=pi(j[7]||"")):(this.l=!1,this.i=new eo(null,this.l))}zr.prototype.toString=function(){const y=[];var j=this.j;j&&y.push(yl(j,kc,!0),":");var D=this.g;return(D||j=="file")&&(y.push("//"),(j=this.o)&&y.push(yl(j,kc,!0),"@"),y.push(Xi(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&y.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&y.push("/"),y.push(yl(D,D.charAt(0)=="/"?Dd:Um,!0))),(D=this.i.toString())&&y.push("?",D),(D=this.m)&&y.push("#",yl(D,zm)),y.join("")},zr.prototype.resolve=function(y){const j=fn(this);let D=!!y.j;D?Rn(j,y.j):D=!!y.o,D?j.o=y.o:D=!!y.g,D?j.g=y.g:D=y.u!=null;var F=y.h;if(D)Zs(j,y.u);else if(D=!!y.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=j.h.lastIndexOf("/");X!=-1&&(F=j.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const ae=[];for(let ve=0;ve<X.length;){const $e=X[ve++];$e=="."?F&&ve==X.length&&ae.push(""):$e==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),F&&ve==X.length&&ae.push("")):(ae.push($e),F=!0)}F=ae.join("/")}else F=X}return D?j.h=F:D=y.i.toString()!=="",D?Rd(j,$m(y.i)):D=!!y.m,D&&(j.m=y.m),j};function fn(y){return new zr(y)}function Rn(y,j,D){y.j=D?pi(j,!0):j,y.j&&(y.j=y.j.replace(/:$/,""))}function Zs(y,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);y.u=j}else y.u=null}function Rd(y,j,D){j instanceof eo?(y.i=j,Rc(y.i,y.l)):(D||(j=yl(j,Js)),y.i=new eo(j,y.l))}function mt(y,j,D){y.i.set(j,D)}function gl(y){return mt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function pi(y,j){return y?j?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function yl(y,j,D){return typeof y=="string"?(y=encodeURI(y).replace(j,Er),D&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Er(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var kc=/[#\/\?@]/g,Um=/[#\?:]/g,Dd=/[#\?]/g,Js=/[#\?@]/g,zm=/#/g;function eo(y,j){this.h=this.g=null,this.i=y||null,this.j=!!j}function Ar(y){y.g||(y.g=new Map,y.h=0,y.i&&Ic(y.i,function(j,D){y.add(decodeURIComponent(j.replace(/\+/g," ")),D)}))}t=eo.prototype,t.add=function(y,j){Ar(this),this.i=null,y=to(this,y);let D=this.g.get(y);return D||this.g.set(y,D=[]),D.push(j),this.h+=1,this};function Vm(y,j){Ar(y),j=to(y,j),y.g.has(j)&&(y.i=null,y.h-=y.g.get(j).length,y.g.delete(j))}function Md(y,j){return Ar(y),j=to(y,j),y.g.has(j)}t.forEach=function(y,j){Ar(this),this.g.forEach(function(D,F){D.forEach(function(X){y.call(j,X,F,this)},this)},this)};function Ld(y,j){Ar(y);let D=[];if(typeof j=="string")Md(y,j)&&(D=D.concat(y.g.get(to(y,j))));else for(y=Array.from(y.g.values()),j=0;j<y.length;j++)D=D.concat(y[j]);return D}t.set=function(y,j){return Ar(this),this.i=null,y=to(this,y),Md(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[j]),this.h+=1,this},t.get=function(y,j){return y?(y=Ld(this,y),y.length>0?String(y[0]):j):j};function Pc(y,j,D){Vm(y,j),D.length>0&&(y.i=null,y.g.set(to(y,j),b(D)),y.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],j=Array.from(this.g.keys());for(let F=0;F<j.length;F++){var D=j[F];const X=Xi(D);D=Ld(this,D);for(let ae=0;ae<D.length;ae++){let ve=X;D[ae]!==""&&(ve+="="+Xi(D[ae])),y.push(ve)}}return this.i=y.join("&")};function $m(y){const j=new eo;return j.i=y.i,y.g&&(j.g=new Map(y.g),j.h=y.h),j}function to(y,j){return j=String(j),y.j&&(j=j.toLowerCase()),j}function Rc(y,j){j&&!y.j&&(Ar(y),y.i=null,y.g.forEach(function(D,F){const X=F.toLowerCase();F!=X&&(Vm(this,F),Pc(this,X,D))},y)),y.j=j}function Ma(y,j){const D=new Pa;if(l.Image){const F=new Image;F.onload=p(sa,D,"TestLoadImage: loaded",!0,j,F),F.onerror=p(sa,D,"TestLoadImage: error",!1,j,F),F.onabort=p(sa,D,"TestLoadImage: abort",!1,j,F),F.ontimeout=p(sa,D,"TestLoadImage: timeout",!1,j,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else j(!1)}function Ud(y,j){const D=new Pa,F=new AbortController,X=setTimeout(()=>{F.abort(),sa(D,"TestPingServer: timeout",!1,j)},1e4);fetch(y,{signal:F.signal}).then(ae=>{clearTimeout(X),ae.ok?sa(D,"TestPingServer: ok",!0,j):sa(D,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(X),sa(D,"TestPingServer: error",!1,j)})}function sa(y,j,D,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(D)}catch{}}function no(){this.g=new Tm}function gi(y){this.i=y.Sb||null,this.h=y.ab||!1}g(gi,Cm),gi.prototype.g=function(){return new vl(this.i,this.h)};function vl(y,j){ln.call(this),this.H=y,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(vl,ln),t=vl.prototype,t.open=function(y,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=j,this.readyState=1,La(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(j.body=y),(this.H||l).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var j=y.value?y.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!y.done}))&&(this.response=this.responseText+=j)}y.done?ro(this):La(this),this.readyState==3&&Dc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ro(this))},t.Na=function(y){this.g&&(this.response=y,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(y){y.readyState=4,y.l=null,y.j=null,y.B=null,La(y)}t.setRequestHeader=function(y,j){this.A.append(y,j)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],j=this.h.entries();for(var D=j.next();!D.done;)D=D.value,y.push(D[0]+": "+D[1]),D=j.next();return y.join(`\r
`)};function La(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function oa(y){let j="";return K(y,function(D,F){j+=F,j+=":",j+=D,j+=`\r
`}),j}function xl(y,j,D){e:{for(F in D){var F=!1;break e}F=!0}F||(D=oa(D),typeof y=="string"?D!=null&&Xi(D):mt(y,j,D))}function xt(y){ln.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(xt,ln);var yi=/^https?$/i,zd=["POST","PUT"];t=xt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,j,D,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);j=j?j.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Td.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(j,String(y),!0),this.B=!1}catch(ae){bl(this,ae);return}if(y=D||"",D=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)D.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ae of F.keys())D.set(ae,F.get(ae));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(D.keys()).find(ae=>ae.toLowerCase()=="content-type"),X=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(zd,j,void 0)>=0)||F||X||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ve]of D)this.g.setRequestHeader(ae,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ae){bl(this,ae)}};function bl(y,j){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=j,y.o=5,Vd(y),Zi(y)}function Vd(y){y.A||(y.A=!0,Sn(y,"complete"),Sn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Sn(this,"complete"),Sn(this,"abort"),Zi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),xt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wl(this):this.Xa())},t.Xa=function(){wl(this)};function wl(y){if(y.h&&typeof s<"u"){if(y.v&&Ua(y)==4)setTimeout(y.Ca.bind(y),0);else if(Sn(y,"readystatechange"),Ua(y)==4){y.h=!1;try{const ae=y.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var D;if(!(D=j)){var F;if(F=ae===0){let ve=String(y.D).match(Lm)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),F=!yi.test(ve?ve.toLowerCase():"")}D=F}if(D)Sn(y,"complete"),Sn(y,"success");else{y.o=6;try{var X=Ua(y)>2?y.g.statusText:""}catch{X=""}y.l=X+" ["+y.ca()+"]",Vd(y)}}finally{Zi(y)}}}}function Zi(y,j){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const D=y.g;y.g=null,j||Sn(y,"ready");try{D.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ua(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ua(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var j=this.g.responseText;return y&&j.indexOf(y)==0&&(j=j.substring(y.length)),H0(j)}};function Hn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(y){const j={};y=(y.g&&Ua(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if($(y[F]))continue;var D=Rm(y[F]);const X=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ae=j[X]||[];j[X]=ae,ae.push(D)}se(j,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(y,j,D){return D&&D.internalChannelParams&&D.internalChannelParams[y]||j}function ao(y){this.za=0,this.i=[],this.j=new Pa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,y),this.Za=vi("retryDelaySeedMs",1e4,y),this.Ta=vi("forwardChannelMaxRetries",2,y),this.va=vi("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Cd(y&&y.concurrentRequestLimit),this.Ba=new no,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ao.prototype,t.ka=8,t.I=1,t.connect=function(y,j,D,F){cn(0),this.W=y,this.H=j||{},D&&F!==void 0&&(this.H.OSID=D,this.H.OAID=F),this.F=this.X,this.J=Wm(this,null,this.W),xi(this)};function $d(y){if(Mc(y),y.I==3){var j=y.V++,D=fn(y.J);if(mt(D,"SID",y.M),mt(D,"RID",j),mt(D,"TYPE","terminate"),_l(y,D),j=new Ra(y,y.j,j),j.M=2,j.A=gl(fn(D)),D=!1,l.navigator&&l.navigator.sendBeacon)try{D=l.navigator.sendBeacon(j.A.toString(),"")}catch{}!D&&l.Image&&(new Image().src=j.A,D=!0),D||(j.g=Ym(j.j,null),j.g.ea(j.A)),j.F=Date.now(),ui(j)}Km(y)}function io(y){y.g&&(Fd(y),y.g.cancel(),y.g=null)}function Mc(y){io(y),y.v&&(l.clearTimeout(y.v),y.v=null),Uc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function xi(y){if(!Od(y.h)&&!y.m){y.m=!0;var j=y.Ea;P||M(),z||(P(),z=!0),N.add(j,y),y.D=0}}function Lc(y,j){return hi(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=j.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=oi(h(y.Ea,y,j),Gm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const X=new Ra(this,this.j,y);let ae=this.o;if(this.U&&(ae?(ae=q(ae),me(ae,this.U)):ae=this.U),this.u!==null||this.R||(X.J=ae,ae=null),this.S)e:{for(var j=0,D=0;D<this.i.length;D++){t:{var F=this.i[D];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(j+=F,j>4096){j=D;break e}if(j===4096||D===this.i.length-1){j=D+1;break e}}j=1e3}else j=1e3;j=Bm(this,X,j),D=fn(this.J),mt(D,"RID",y),mt(D,"CVER",22),this.G&&mt(D,"X-HTTP-Session-Id",this.G),_l(this,D),ae&&(this.R?j="headers="+Xi(oa(ae))+"&"+j:this.u&&xl(D,this.u,ae)),Id(this.h,X),this.Ra&&mt(D,"TYPE","init"),this.S?(mt(D,"$req",j),mt(D,"SID","null"),X.U=!0,ci(X,D,null)):ci(X,D,j),this.I=2}}else this.I==3&&(y?Bd(this,y):this.i.length==0||Od(this.h)||Bd(this))};function Bd(y,j){var D;j?D=j.l:D=y.V++;const F=fn(y.J);mt(F,"SID",y.M),mt(F,"RID",D),mt(F,"AID",y.K),_l(y,F),y.u&&y.o&&xl(F,y.u,y.o),D=new Ra(y,y.j,D,y.D+1),y.u===null&&(D.J=y.o),j&&(y.i=j.G.concat(y.i)),j=Bm(y,D,1e3),D.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Id(y.h,D),ci(D,F,j)}function _l(y,j){y.H&&K(y.H,function(D,F){mt(j,F,D)}),y.l&&K({},function(D,F){mt(j,F,D)})}function Bm(y,j,D){D=Math.min(y.i.length,D);const F=y.l?h(y.l.Ka,y.l,y):null;e:{var X=y.i;let $e=-1;for(;;){const en=["count="+D];$e==-1?D>0?($e=X[0].g,en.push("ofs="+$e)):$e=0:en.push("ofs="+$e);let ut=!0;for(let Dt=0;Dt<D;Dt++){var ae=X[Dt].g;const la=X[Dt].map;if(ae-=$e,ae<0)$e=Math.max(0,X[Dt].g-100),ut=!1;else try{ae="req"+ae+"_"||"";try{var ve=la instanceof Map?la:Object.entries(la);for(const[wi,za]of ve){let Va=za;d(za)&&(Va=Xs(za)),en.push(ae+wi+"="+encodeURIComponent(Va))}}catch(wi){throw en.push(ae+"type="+encodeURIComponent("_badmap")),wi}}catch{F&&F(la)}}if(ut){ve=en.join("&");break e}}ve=void 0}return y=y.i.splice(0,D),j.G=y,ve}function Fm(y){if(!y.g&&!y.v){y.Y=1;var j=y.Da;P||M(),z||(P(),z=!0),N.add(j,y),y.A=0}}function El(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=oi(h(y.Da,y),Gm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,qm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=oi(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,cn(10),io(this),qm(this))};function Fd(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function qm(y){y.g=new Ra(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var j=fn(y.na);mt(j,"RID","rpc"),mt(j,"SID",y.M),mt(j,"AID",y.K),mt(j,"CI",y.F?"0":"1"),!y.F&&y.ia&&mt(j,"TO",y.ia),mt(j,"TYPE","xmlhttp"),_l(y,j),y.u&&y.o&&xl(j,y.u,y.o),y.O&&(y.g.H=y.O);var D=y.g;y=y.ba,D.M=1,D.A=gl(fn(j)),D.u=null,D.R=!0,Cc(D,y)}t.Va=function(){this.C!=null&&(this.C=null,io(this),El(this),cn(19))};function Uc(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function Hm(y,j){var D=null;if(y.g==j){Uc(y),Fd(y),y.g=null;var F=2}else if(mi(y.h,j))D=j.G,kd(y.h,j),F=1;else return;if(y.I!=0){if(j.o)if(F==1){D=j.u?j.u.length:0,j=Date.now()-j.F;var X=y.D;F=Tc(),Sn(F,new si(F,D)),xi(y)}else Fm(y);else if(X=j.m,X==3||X==0&&j.X>0||!(F==1&&Lc(y,j)||F==2&&El(y)))switch(D&&D.length>0&&(j=y.h,j.i=j.i.concat(D)),X){case 1:bi(y,5);break;case 4:bi(y,10);break;case 3:bi(y,6);break;default:bi(y,2)}}}function Gm(y,j){let D=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(D*=2),D*j}function bi(y,j){if(y.j.info("Error code "+j),j==2){var D=h(y.bb,y),F=y.Ua;const X=!F;F=new zr(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rn(F,"https"),gl(F),X?Ma(F.toString(),D):Ud(F.toString(),D)}else cn(2);y.I=0,y.l&&y.l.pa(j),Km(y),Mc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function Km(y){if(y.I=0,y.ja=[],y.l){const j=Pd(y.h);(j.length!=0||y.i.length!=0)&&(E(y.ja,j),E(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function Wm(y,j,D){var F=D instanceof zr?fn(D):new zr(D);if(F.g!="")j&&(F.g=j+"."+F.g),Zs(F,F.u);else{var X=l.location;F=X.protocol,j=j?j+"."+X.hostname:X.hostname,X=+X.port;const ae=new zr(null);F&&Rn(ae,F),j&&(ae.g=j),X&&Zs(ae,X),D&&(ae.h=D),F=ae}return D=y.G,j=y.wa,D&&j&&mt(F,D,j),mt(F,"VER",y.ka),_l(y,F),F}function Ym(y,j,D){if(j&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=y.Aa&&!y.ma?new xt(new gi({ab:D})):new xt(y.ma),j.Fa(y.L),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qm(){}t=Qm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function so(){}so.prototype.g=function(y,j){return new fr(y,j)};function fr(y,j){ln.call(this),this.g=new ao(j),this.l=y,this.h=j&&j.messageUrlParams||null,y=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(y?y["X-WebChannel-Content-Type"]=j.messageContentType:y={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(y?y["X-WebChannel-Client-Profile"]=j.sa:y={"X-WebChannel-Client-Profile":j.sa}),this.g.U=y,(y=j&&j.Qb)&&!$(y)&&(this.g.u=y),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!$(j)&&(this.g.G=j,y=this.h,y!==null&&j in y&&(y=this.h,j in y&&delete y[j])),this.j=new es(this)}g(fr,ln),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){$d(this.g)},fr.prototype.o=function(y){var j=this.g;if(typeof y=="string"){var D={};D.__data__=y,y=D}else this.v&&(D={},D.__data__=Xs(y),y=D);j.i.push(new dn(j.Ya++,y)),j.I==3&&xi(j)},fr.prototype.N=function(){this.g.l=null,delete this.j,$d(this.g),delete this.g,fr.Z.N.call(this)};function Xm(y){qn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var j=y.__sm__;if(j){e:{for(const D in j){y=D;break e}y=void 0}(this.i=y)&&(y=this.i,j=j!==null&&y in j?j[y]:void 0),this.data=j}else this.data=y}g(Xm,qn);function Zm(){aa.call(this),this.status=1}g(Zm,aa);function es(y){this.g=y}g(es,Qm),es.prototype.ra=function(){Sn(this.g,"a")},es.prototype.qa=function(y){Sn(this.g,new Xm(y))},es.prototype.pa=function(y){Sn(this.g,new Zm)},es.prototype.oa=function(){Sn(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,d4=function(){return new so},u4=function(){return Tc()},c4=Jt,c_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ml.NO_ERROR=0,ml.TIMEOUT=8,ml.HTTP_ERROR=6,Dg=ml,Nd.COMPLETE="complete",l4=Nd,Om.EventType=ka,ka.OPEN="a",ka.CLOSE="b",ka.ERROR="c",ka.MESSAGE="d",ln.prototype.listen=ln.prototype.J,Bf=Om,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,o4=xt}).apply(typeof ag<"u"?ag:typeof self<"u"?self:typeof window<"u"?window:{});const pO="@firebase/firestore",gO="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ar=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new zE("@firebase/firestore");function xu(){return oc.logLevel}function _e(t,...e){if(oc.logLevel<=Je.DEBUG){const n=e.map(ZE);oc.debug(`Firestore (${sd}): ${t}`,...n)}}function ks(t,...e){if(oc.logLevel<=Je.ERROR){const n=e.map(ZE);oc.error(`Firestore (${sd}): ${t}`,...n)}}function Vu(t,...e){if(oc.logLevel<=Je.WARN){const n=e.map(ZE);oc.warn(`Firestore (${sd}): ${t}`,...n)}}function ZE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,f4(t,r,n)}function f4(t,e,n){let r=`FIRESTORE (${sd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ks(r),new Error(r)}function ht(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||f4(e,a,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ar.UNAUTHENTICATED)))}shutdown(){}}class rH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aH{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new js;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new js,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new js)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new h4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new ar(e)}}class iH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=lH(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function u_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return iw(a)===iw(s)?et(a,s):iw(a)?1:-1}return et(t.length,e.length)}const cH=55296,uH=57343;function iw(t){const e=t.charCodeAt(0);return e>=cH&&e<=uH}function $u(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="__name__";class ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=ji.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return et(e.length,n.length)}static compareSegments(e,n){const r=ji.isNumericId(e),a=ji.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ji.extractNumericId(e).compare(ji.extractNumericId(n)):u_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $o.fromString(e.substring(4,e.length-2))}}class Ct extends ji{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const dH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends ji{construct(e,n,r){return new Zn(e,n,r)}static isValidIdentifier(e){return dH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vO}static keyField(){return new Zn([vO])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new be(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(l=!l,a++):d!=="."||l?(r+=d,a++):(s(),a++)}if(s(),l)throw new be(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(n)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ct.fromString(e))}static fromName(e){return new Ie(Ct.fromString(e).popFirst(5))}static empty(){return new Ie(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e,n){if(!n)throw new be(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fH(t,e,n,r){if(e===!0&&r===!0)throw new be(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xO(t){if(!Ie.isDocumentKey(t))throw new be(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bO(t){if(Ie.isDocumentKey(t))throw new be(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function p4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Av(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Ja(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Av(t);throw new be(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hH(t,e){if(e<=0)throw new be(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gh(t,e){if(!p4(t))throw new be(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new be(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=-62135596800,_O=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_O);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wO)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_O}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gh(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:bn("string",at._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new at(0,0))}static max(){return new Le(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=-1;function mH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Ho(a,Ie.empty(),e)}function pH(t){return new Ho(t.readTime,t.key,ch)}class Ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ho(Le.min(),Ie.empty(),ch)}static max(){return new Ho(Le.max(),Ie.empty(),ch)}}function gH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==yH)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let a=0,s=0,l=!1;e.forEach((d=>{++a,d.next((()=>{++s,l&&s===a&&n()}),(f=>r(f)))})),l=!0,s===a&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((a=>a?he.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,a)=>{const s=e.length,l=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++d,d===s&&r(l)}),(p=>a(p)))}}))}static doWhile(e,n){return new he(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function xH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ld(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=-1;function jv(t){return t==null}function ry(t){return t===0&&1/t==-1/0}function bH(t){return typeof t=="number"&&Number.isInteger(t)&&!ry(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="";function wH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EO(e)),e=_H(t.get(n),e);return EO(e)}function _H(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case g4:n+="";break;default:n+=s}}return n}function EO(t){return t+g4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Xn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ig(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ig(this.root,e,this.comparator,!1)}getReverseIterator(){return new ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ig(this.root,e,this.comparator,!0)}}class ig{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??Xn.RED,this.left=a??Xn.EMPTY,this.right=s??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new Xn(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Xn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new Xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SO(this.data.getIterator())}getIteratorFrom(e){return new SO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class SO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new Qr([])}unionWith(e){let n=new Tn(Zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $u(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new v4("Invalid base64 string: "+s):s}})(e);return new er(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s})(e);return new er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const EH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=EH.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ko(t){return typeof t=="string"?er.fromBase64String(t):er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="server_timestamp",b4="__type__",w4="__previous_value__",_4="__local_write_time__";function tA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[b4])==null?void 0:r.stringValue)===x4}function Nv(t){const e=t.mapValue.fields[w4];return tA(e)?Nv(e):e}function uh(t){const e=Go(t.mapValue.fields[_4].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n,r,a,s,l,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const ay="(default)";class dh{constructor(e,n){this.projectId=e,this.database=n||ay}static empty(){return new dh("","")}get isDefaultDatabase(){return this.database===ay}isEqual(e){return e instanceof dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="__type__",SH="__max__",sg={mapValue:{}},A4="__vector__",iy="value";function Wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tA(t)?4:NH(t)?9007199254740991:jH(t)?10:11:Me(28295,{value:t})}function Ui(t,e){if(t===e)return!0;const n=Wo(t);if(n!==Wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uh(t).isEqual(uh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=Go(a.timestampValue),d=Go(s.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Ko(a.bytesValue).isEqual(Ko(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return an(a.geoPointValue.latitude)===an(s.geoPointValue.latitude)&&an(a.geoPointValue.longitude)===an(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return an(a.integerValue)===an(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=an(a.doubleValue),d=an(s.doubleValue);return l===d?ry(l)===ry(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return $u(t.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(a,s){const l=a.mapValue.fields||{},d=s.mapValue.fields||{};if(AO(l)!==AO(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!Ui(l[f],d[f])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function fh(t,e){return(t.values||[]).find((n=>Ui(n,e)))!==void 0}function Bu(t,e){if(t===e)return 0;const n=Wo(t),r=Wo(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const d=an(s.integerValue||s.doubleValue),f=an(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return jO(t.timestampValue,e.timestampValue);case 4:return jO(uh(t),uh(e));case 5:return u_(t.stringValue,e.stringValue);case 6:return(function(s,l){const d=Ko(s),f=Ko(l);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const d=s.split("/"),f=l.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=et(d[h],f[h]);if(p!==0)return p}return et(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const d=et(an(s.latitude),an(l.latitude));return d!==0?d:et(an(s.longitude),an(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return NO(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var v,b,E,A;const d=s.fields||{},f=l.fields||{},h=(v=d[iy])==null?void 0:v.arrayValue,p=(b=f[iy])==null?void 0:b.arrayValue,g=et(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((A=p==null?void 0:p.values)==null?void 0:A.length)||0);return g!==0?g:NO(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===sg.mapValue&&l===sg.mapValue)return 0;if(s===sg.mapValue)return 1;if(l===sg.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const v=u_(f[g],p[g]);if(v!==0)return v;const b=Bu(d[f[g]],h[p[g]]);if(b!==0)return b}return et(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function jO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Go(t),r=Go(e),a=et(n.seconds,r.seconds);return a!==0?a:et(n.nanos,r.nanos)}function NO(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Bu(n[a],r[a]);if(s)return s}return et(n.length,r.length)}function Fu(t){return d_(t)}function d_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Go(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ko(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=d_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${d_(n.fields[l])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Mg(t){switch(Wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nv(t);return e?16+Mg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+Mg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return rl(r.fields,((s,l)=>{a+=s.length+Mg(l)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function TO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f_(t){return!!t&&"integerValue"in t}function nA(t){return!!t&&"arrayValue"in t}function CO(t){return!!t&&"nullValue"in t}function OO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lg(t){return!!t&&"mapValue"in t}function jH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[E4])==null?void 0:r.stringValue)===A4}function Zf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return rl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return{...t}}function NH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=Zn.emptyPath(),r={},a=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}l?r[d.lastSegment()]=Zf(l):a.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());Lg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Lg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){rl(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new Pr(Zf(this.value))}}function S4(t){const e=[];return rl(t.fields,((n,r)=>{const a=new Zn([n]);if(Lg(r)){const s=S4(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)})),new Qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r,a,s,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new ir(e,0,Le.min(),Le.min(),Le.min(),Pr.empty(),0)}static newFoundDocument(e,n,r,a){return new ir(e,1,n,Le.min(),r,a,0)}static newNoDocument(e,n){return new ir(e,2,n,Le.min(),Le.min(),Pr.empty(),0)}static newUnknownDocument(e,n){return new ir(e,3,n,Le.min(),Le.min(),Pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.position=e,this.inclusive=n}}function IO(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],l=t.position[a];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=Bu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function TH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{}class xn extends j4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OH(e,n,r):n==="array-contains"?new PH(e,r):n==="in"?new RH(e,r):n==="not-in"?new DH(e,r):n==="array-contains-any"?new MH(e,r):new xn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IH(e,r):new kH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bu(n,this.value)):n!==null&&Wo(this.value)===Wo(n)&&this.matchesComparison(Bu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends j4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ei(e,n)}matches(e){return N4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N4(t){return t.op==="and"}function T4(t){return CH(t)&&N4(t)}function CH(t){for(const e of t.filters)if(e instanceof ei)return!1;return!0}function h_(t){if(t instanceof xn)return t.field.canonicalString()+t.op.toString()+Fu(t.value);if(T4(t))return t.filters.map((e=>h_(e))).join(",");{const e=t.filters.map((n=>h_(n))).join(",");return`${t.op}(${e})`}}function C4(t,e){return t instanceof xn?(function(r,a){return a instanceof xn&&r.op===a.op&&r.field.isEqual(a.field)&&Ui(r.value,a.value)})(t,e):t instanceof ei?(function(r,a){return a instanceof ei&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,l,d)=>s&&C4(l,a.filters[d])),!0):!1})(t,e):void Me(19439)}function O4(t){return t instanceof xn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fu(n.value)}`})(t):t instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(O4).join(" ,")+"}"})(t):"Filter"}class OH extends xn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class IH extends xn{constructor(e,n){super(e,"in",n),this.keys=I4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kH extends xn{constructor(e,n){super(e,"not-in",n),this.keys=I4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function I4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ie.fromName(r.referenceValue)))}class PH extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nA(n)&&fh(n.arrayValue,this.value)}}class RH extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fh(this.value.arrayValue,n)}}class DH extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fh(this.value.arrayValue,n)}}class MH extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n=null,r=[],a=[],s=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=d,this.Te=null}}function PO(t,e=null,n=[],r=[],a=null,s=null,l=null){return new LH(t,e,n,r,a,s,l)}function rA(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>h_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),jv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fu(r))).join(",")),e.Te=n}return e.Te}function aA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kO(t.startAt,e.startAt)&&kO(t.endAt,e.endAt)}function m_(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n=null,r=[],a=[],s=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UH(t,e,n,r,a,s,l,d){return new cd(t,e,n,r,a,s,l,d)}function iA(t){return new cd(t)}function RO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function k4(t){return t.collectionGroup!==null}function Jf(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Tn(Zn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new hh(s,r))})),n.has(Zn.keyField().canonicalString())||e.Ie.push(new hh(Zn.keyField(),r))}return e.Ie}function ki(t){const e=Ve(t);return e.Ee||(e.Ee=zH(e,Jf(t))),e.Ee}function zH(t,e){if(t.limitType==="F")return PO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new hh(a.field,s)}));const n=t.endAt?new sy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sy(t.startAt.position,t.startAt.inclusive):null;return PO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function p_(t,e){const n=t.filters.concat([e]);return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function oy(t,e,n){return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tv(t,e){return aA(ki(t),ki(e))&&t.limitType===e.limitType}function P4(t){return`${rA(ki(t))}|lt:${t.limitType}`}function bu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>O4(a))).join(", ")}]`),jv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Fu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Fu(a))).join(",")),`Target(${r})`})(ki(t))}; limitType=${t.limitType})`}function Cv(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of Jf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,d,f){const h=IO(l,d,f);return l.inclusive?h<=0:h<0})(r.startAt,Jf(r),a)||r.endAt&&!(function(l,d,f){const h=IO(l,d,f);return l.inclusive?h>=0:h>0})(r.endAt,Jf(r),a))})(t,e)}function VH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R4(t){return(e,n)=>{let r=!1;for(const a of Jf(t)){const s=$H(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function $H(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(s,l,d){const f=l.data.field(s),h=d.data.field(s);return f!==null&&h!==null?Bu(f,h):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return y4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=new Bt(Ie.comparator);function Ps(){return BH}const D4=new Bt(Ie.comparator);function Ff(...t){let e=D4;for(const n of t)e=e.insert(n.key,n);return e}function M4(t){let e=D4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Hl(){return eh()}function L4(){return eh()}function eh(){return new wc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FH=new Bt(Ie.comparator),qH=new Tn(Ie.comparator);function tt(...t){let e=qH;for(const n of t)e=e.add(n);return e}const HH=new Tn(et);function GH(){return HH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ry(e)?"-0":e}}function U4(t){return{integerValue:""+t}}function KH(t,e){return bH(e)?U4(e):sA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this._=void 0}}function WH(t,e,n){return t instanceof mh?(function(a,s){const l={fields:{[b4]:{stringValue:x4},[_4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&tA(s)&&(s=Nv(s)),s&&(l.fields[w4]=s),{mapValue:l}})(n,e):t instanceof ph?V4(t,e):t instanceof gh?$4(t,e):(function(a,s){const l=z4(a,s),d=DO(l)+DO(a.Ae);return f_(l)&&f_(a.Ae)?U4(d):sA(a.serializer,d)})(t,e)}function YH(t,e,n){return t instanceof ph?V4(t,e):t instanceof gh?$4(t,e):n}function z4(t,e){return t instanceof ly?(function(r){return f_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class mh extends Ov{}class ph extends Ov{constructor(e){super(),this.elements=e}}function V4(t,e){const n=B4(e);for(const r of t.elements)n.some((a=>Ui(a,r)))||n.push(r);return{arrayValue:{values:n}}}class gh extends Ov{constructor(e){super(),this.elements=e}}function $4(t,e){let n=B4(e);for(const r of t.elements)n=n.filter((a=>!Ui(a,r)));return{arrayValue:{values:n}}}class ly extends Ov{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function DO(t){return an(t.integerValue||t.doubleValue)}function B4(t){return nA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,n){this.field=e,this.transform=n}}function XH(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof ph&&a instanceof ph||r instanceof gh&&a instanceof gh?$u(r.elements,a.elements,Ui):r instanceof ly&&a instanceof ly?Ui(r.Ae,a.Ae):r instanceof mh&&a instanceof mh})(t.transform,e.transform)}class ZH{constructor(e,n){this.version=e,this.transformResults=n}}class _a{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _a}static exists(e){return new _a(void 0,e)}static updateTime(e){return new _a(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ug(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Iv{}function F4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oA(t.key,_a.none()):new Kh(t.key,t.data,_a.none());{const n=t.data,r=Pr.empty();let a=new Tn(Zn.comparator);for(let s of e.fields)if(!a.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new al(t.key,r,new Qr(a.toArray()),_a.none())}}function JH(t,e,n){t instanceof Kh?(function(a,s,l){const d=a.value.clone(),f=LO(a.fieldTransforms,s,l.transformResults);d.setAll(f),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof al?(function(a,s,l){if(!Ug(a.precondition,s))return void s.convertToUnknownDocument(l.version);const d=LO(a.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(q4(a)),f.setAll(d),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function th(t,e,n,r){return t instanceof Kh?(function(s,l,d,f){if(!Ug(s.precondition,l))return d;const h=s.value.clone(),p=UO(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof al?(function(s,l,d,f){if(!Ug(s.precondition,l))return d;const h=UO(s.fieldTransforms,f,l),p=l.data;return p.setAll(q4(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,d){return Ug(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function eG(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=z4(r.transform,a||null);s!=null&&(n===null&&(n=Pr.empty()),n.set(r.field,s))}return n||null}function MO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&$u(r,a,((s,l)=>XH(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kh extends Iv{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class al extends Iv{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function q4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function LO(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],l=s.transform,d=e.data.field(s.field);r.set(s.field,YH(l,d,n[a]))}return r}function UO(t,e,n){const r=new Map;for(const a of t){const s=a.transform,l=n.data.field(a.field);r.set(a.field,WH(s,l,e))}return r}class oA extends Iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tG extends Iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&JH(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=L4();return this.mutations.forEach((a=>{const s=e.get(a.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=n.has(a.key)?null:d;const f=F4(l,d);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&$u(this.mutations,e.mutations,((n,r)=>MO(n,r)))&&$u(this.baseMutations,e.baseMutations,((n,r)=>MO(n,r)))}}class lA{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return FH})();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new lA(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,rt;function iG(t){switch(t){case de.OK:return Me(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function H4(t){if(t===void 0)return ks("GRPC error has no .code"),de.UNKNOWN;switch(t){case yn.OK:return de.OK;case yn.CANCELLED:return de.CANCELLED;case yn.UNKNOWN:return de.UNKNOWN;case yn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case yn.INTERNAL:return de.INTERNAL;case yn.UNAVAILABLE:return de.UNAVAILABLE;case yn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case yn.NOT_FOUND:return de.NOT_FOUND;case yn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case yn.ABORTED:return de.ABORTED;case yn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case yn.DATA_LOSS:return de.DATA_LOSS;default:return Me(39323,{code:t})}}(rt=yn||(yn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG=new $o([4294967295,4294967295],0);function zO(t){const e=sG().encode(t),n=new s4;return n.update(e),new Uint8Array(n.digest())}function VO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $o([n,r],0),new $o([a,s],0)]}class cA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qf(`Invalid padding: ${n}`);if(r<0)throw new qf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$o.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply($o.fromNumber(r)));return a.compare(oG)===1&&(a=new $o([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zO(e),[r,a]=VO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new cA(s,a,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=zO(e),[r,a]=VO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Wh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kv(Le.min(),a,new Bt(et),Ps(),tt())}}class Wh{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wh(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class G4{constructor(e,n){this.targetId=e,this.Ce=n}}class K4{constructor(e,n,r=er.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class $O{constructor(){this.ve=0,this.Fe=BO(),this.Me=er.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Me(38017,{changeType:s})}})),new Wh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=BO()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lG{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ps(),this.Je=og(),this.He=og(),this.Ye=new Bt(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(m_(s))if(r===0){const l=new Ie(s.path);this.et(n,l,ir.newNoDocument(l,Le.min()))}else ht(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),f=d?this.ct(d,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let l,d;try{l=Ko(r).toUint8Array()}catch(f){if(f instanceof v4)return Vu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new cA(l,a,s)}catch(f){return Vu(f instanceof qf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const d=this.ot(l);if(d){if(s.current&&m_(d.target)){const f=new Ie(d.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,ir.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=tt();this.He.forEach(((s,l)=>{let d=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const a=new kv(e,n,this.Ye,this.je,r);return this.je=Ps(),this.Je=og(),this.He=og(),this.Ye=new Bt(et),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $O,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tn(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tn(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $O),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function og(){return new Bt(Ie.comparator)}function BO(){return new Bt(Ie.comparator)}const cG={asc:"ASCENDING",desc:"DESCENDING"},uG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dG={and:"AND",or:"OR"};class fG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g_(t,e){return t.useProto3Json||jv(e)?e:{value:e}}function cy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hG(t,e){return cy(t,e.toTimestamp())}function Pi(t){return ht(!!t,49232),Le.fromTimestamp((function(n){const r=Go(n);return new at(r.seconds,r.nanos)})(t))}function uA(t,e){return y_(t,e).canonicalString()}function y_(t,e){const n=(function(a){return new Ct(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Y4(t){const e=Ct.fromString(t);return ht(e6(e),10190,{key:e.toString()}),e}function v_(t,e){return uA(t.databaseId,e.path)}function sw(t,e){const n=Y4(e);if(n.get(1)!==t.databaseId.projectId)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(X4(n))}function Q4(t,e){return uA(t.databaseId,e)}function mG(t){const e=Y4(t);return e.length===4?Ct.emptyPath():X4(e)}function x_(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function X4(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FO(t,e,n){return{name:v_(t,e),fields:n.value.mapValue.fields}}function pG(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Me(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(ht(p===void 0||typeof p=="string",58123),er.fromBase64String(p||"")):(ht(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),er.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(h){const p=h.code===void 0?de.UNKNOWN:H4(h.code);return new be(p,h.message||"")})(l);n=new K4(r,a,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=sw(t,r.document.name),s=Pi(r.document.updateTime),l=r.document.createTime?Pi(r.document.createTime):Le.min(),d=new Pr({mapValue:{fields:r.document.fields}}),f=ir.newFoundDocument(a,s,l,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new zg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=sw(t,r.document),s=r.readTime?Pi(r.readTime):Le.min(),l=ir.newNoDocument(a,s),d=r.removedTargetIds||[];n=new zg([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=sw(t,r.document),s=r.removedTargetIds||[];n=new zg([],s,a,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new aG(a,s),d=r.targetId;n=new G4(d,l)}}return n}function gG(t,e){let n;if(e instanceof Kh)n={update:FO(t,e.key,e.value)};else if(e instanceof oA)n={delete:v_(t,e.key)};else if(e instanceof al)n={update:FO(t,e.key,e.data),updateMask:SG(e.fieldMask)};else{if(!(e instanceof tG))return Me(16599,{Vt:e.type});n={verify:v_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const d=l.transform;if(d instanceof mh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ph)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ly)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw Me(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:hG(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me(27497)})(t,e.precondition)),n}function yG(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(a,s){let l=a.updateTime?Pi(a.updateTime):Pi(s);return l.isEqual(Le.min())&&(l=Pi(s)),new ZH(l,a.transformResults||[])})(n,e)))):[]}function vG(t,e){return{documents:[Q4(t,e.path)]}}function xG(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q4(t,a);const s=(function(h){if(h.length!==0)return J4(ei.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:wu(v.field),direction:_G(v.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=g_(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function bG(t){let e=mG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ht(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const v=Z4(g);return v instanceof ei&&T4(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((v=>(function(E){return new hh(_u(E.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let v;return v=typeof g=="object"?g.value:g,jv(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(g){const v=!!g.before,b=g.values||[];return new sy(b,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const v=!g.before,b=g.values||[];return new sy(b,v)})(n.endAt)),UH(e,a,l,s,d,"F",f,h)}function wG(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_u(n.unaryFilter.field);return xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=_u(n.unaryFilter.field);return xn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_u(n.unaryFilter.field);return xn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_u(n.unaryFilter.field);return xn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xn.create(_u(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((r=>Z4(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function _G(t){return cG[t]}function EG(t){return uG[t]}function AG(t){return dG[t]}function wu(t){return{fieldPath:t.canonicalString()}}function _u(t){return Zn.fromServerFormat(t.fieldPath)}function J4(t){return t instanceof xn?(function(n){if(n.op==="=="){if(OO(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NAN"}};if(CO(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OO(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NAN"}};if(CO(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(n.field),op:EG(n.op),value:n.value}}})(t):t instanceof ei?(function(n){const r=n.getFilters().map((a=>J4(a)));return r.length===1?r[0]:{compositeFilter:{op:AG(n.op),filters:r}}})(t):Me(54877,{filter:t})}function SG(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function e6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,r,a,s=Le.min(),l=Le.min(),d=er.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.yt=e}}function NG(t){const e=bG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.Cn=new CG}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Ho.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class CG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Tn(Ct.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Tn(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t6=41943040;class Ir{static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(t6,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qu(0)}static cr(){return new qu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="LruGarbageCollector",OG=1048576;function GO([t,e],[n,r]){const a=et(t,n);return a===0?et(e,r):a}class IG{constructor(e){this.Ir=e,this.buffer=new Tn(GO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(HO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ld(n)?_e(HO,"Ignoring IndexedDB error during garbage collection: ",n):await od(n)}await this.Vr(3e5)}))}}class PG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Sv.ce);const r=new IG(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(qO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qO):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,l,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,l=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),xu()<=Je.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${a} in `+(d-l)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function RG(t,e){return new PG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.changes=new wc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&th(r.mutation,a,Qr.empty(),at.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const a=Hl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let l=Ff();return s.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Hl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,a){let s=Ps();const l=eh(),d=(function(){return eh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof al)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),th(p.mutation,h,p.mutation.getFieldMask(),at.now())):l.set(h.key,Qr.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>d.set(h,new MG(p,l.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=eh();let a=new Bt(((l,d)=>l-d)),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||Qr.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(a.get(d.batchId)||tt()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const l=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=L4();p.forEach((v=>{if(!s.has(v)){const b=F4(n.get(v),r.get(v));b!==null&&g.set(v,b),s=s.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return he.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):he.resolve(Hl());let d=ch,f=s;return l.next((h=>he.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{f=f.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,tt()))).next((p=>({batchId:d,changes:M4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let a=Ff();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let l=Ff();return this.indexManager.getCollectionParents(e,s).next((d=>he.forEach(d,(f=>{const h=(function(g,v){return new cd(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,v)=>{l=l.insert(g,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,ir.newInvalidDocument(p)))}));let d=Ff();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&th(p.mutation,h,Qr.empty(),at.now()),Cv(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Pi(a.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:NG(a.bundledQuery),readTime:Pi(a.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(){this.overlays=new Bt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hl();return he.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const a=Hl(),s=n.length+1,l=new Ie(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new Bt(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Hl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Hl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=a)););return he.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new rG(n,r));let s=this.qr.get(n);s===void 0&&(s=tt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(){this.sessionToken=er.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.Qr=new Tn(Un.$r),this.Ur=new Tn(Un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Un(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Un(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ie(new Ct([])),r=new Un(n,e),a=new Un(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Ct([])),r=new Un(n,e),a=new Un(n,e+1);let s=tt();return this.Ur.forEachInRange([r,a],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Un(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tn(Un.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new nG(s,n,r,a);this.mutationQueue.push(l);for(const d of a)this.Zr=this.Zr.add(new Un(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?eA:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Un(n,0),a=new Un(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(l=>{const d=this.Xr(l.Yr);s.push(d)})),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(et);return n.forEach((a=>{const s=new Un(a,0),l=new Un(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(d=>{r=r.add(d.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const l=new Un(new Ie(s),0);let d=new Tn(et);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),l),he.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,(a=>{const s=new Un(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Un(n,0),a=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(n))}getEntries(e,n){let r=Ps();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():ir.newInvalidDocument(a))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=Ps();const l=n.path,d=new Ie(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||gH(pH(p),r)<=0||(a.has(p.key)||Cv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Me(9500)}ii(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new FG(this)}getSize(e){return he.resolve(this.size)}}class FG extends DG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e){this.persistence=e,this.si=new wc((n=>rA(n)),aA),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new dA,this.targetCount=0,this.ai=qu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),he.waitFor(s).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((l=>{s.push(a.markPotentiallyOrphaned(e,l))})),he.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sv(0),this.li=!1,this.li=!0,this.hi=new VG,this.referenceDelegate=e(this),this.Pi=new qG(this),this.indexManager=new TG,this.remoteDocumentCache=(function(a){return new BG(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new jG(n),this.Ii=new UG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $G(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const a=new HG(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class HG extends vH{constructor(e){super(),this.currentSequenceNumber=e}}class fA{constructor(e){this.persistence=e,this.Ri=new dA,this.Vi=null}static mi(e){return new fA(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const a=Ie.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uy{constructor(e,n){this.persistence=e,this.pi=new wc((r=>wH(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=RG(this,n)}static mi(e,n){return new uy(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?he.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((d=>{d||(r++,s.removeEntry(l,Le.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mg(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=tt(),a=tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new hA(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v7()?8:xH(cr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new GG;return this.Ss(e,n,l).next((d=>{if(s.result=d,this.Vs)return this.bs(e,n,l,d.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(xu()<=Je.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",bu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(xu()<=Je.DEBUG&&_e("QueryEngine","Query:",bu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(xu()<=Je.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",bu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):he.resolve())}ys(e,n){if(RO(n))return he.resolve(null);let r=ki(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=oy(n,null,"F"),r=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=tt(...s);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,l,f.readTime)?this.ys(e,oy(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return RO(n)||a.isEqual(Le.min())?he.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,a)?he.resolve(null):(xu()<=Je.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bu(n)),this.vs(e,l,n,mH(a,ch)).next((d=>d)))}))}Ds(e,n){let r=new Tn(R4(e));return n.forEach(((a,s)=>{Cv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return xu()<=Je.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",bu(n)),this.ps.getDocumentsMatchingQuery(e,n,Ho.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="LocalStore",WG=3e8;class YG{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Bt(et),this.xs=new wc((s=>rA(s)),aA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function QG(t,e,n,r){return new YG(t,e,n,r)}async function r6(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],d=[];let f=tt();for(const h of a){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:d})))}))}))}function XG(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,v=g.keys();let b=he.resolve();return v.forEach((E=>{b=b.next((()=>p.getEntry(f,E))).next((A=>{const S=h.docVersions.get(E);ht(S!==null,48541),A.version.compareTo(S)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=tt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function a6(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ZG(t,e){const n=Ve(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const v=a.get(g);if(!v)return;d.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(er.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),a=a.insert(g,b),(function(A,S,O){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=WG?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,b,p)&&d.push(n.Pi.updateTargetData(s,b))}));let f=Ps(),h=tt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(JG(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Le.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return he.waitFor(d).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=a,s)))}function JG(t,e,n){let r=tt(),a=tt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Ps();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):_e(mA,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:a}}))}function eK(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=eA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tK(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,he.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new Uo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function b_(t,e,n){const r=Ve(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!ld(l))throw l;_e(mA,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function KO(t,e,n){const r=Ve(t);let a=Le.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const g=Ve(f),v=g.xs.get(p);return v!==void 0?he.resolve(g.Ms.get(v)):g.Pi.getTargetData(h,p)})(r,l,ki(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:Le.min(),n?s:tt()))).next((d=>(nK(r,VH(e),d),{documents:d,Qs:s})))))}function nK(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class WO{constructor(){this.activeTargetIds=GH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rK{constructor(){this.Mo=new WO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="ConnectivityMonitor";class QO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(YO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(YO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg=null;function w_(){return lg===null?lg=(function(){return 268435456+Math.round(2147483648*Math.random())})():lg++,"0x"+lg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="RestConnection",iK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===ay?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const l=w_(),d=this.zo(e,n.toUriEncodedString());_e(ow,`Sending RPC '${e}' ${l}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:h}=new URL(d),p=tl(h);return this.Jo(e,d,f,r,p).then((g=>(_e(ow,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Vu(ow,`RPC '${e}' ${l} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,s,l){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=iK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="WebChannelConnection";class lK extends sK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const l=w_();return new Promise(((d,f)=>{const h=new o4;h.setWithCredentials(!0),h.listenOnce(l4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Dg.NO_ERROR:const g=h.getResponseJson();_e(nr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),d(g);break;case Dg.TIMEOUT:_e(nr,`RPC '${e}' ${l} timed out`),f(new be(de.DEADLINE_EXCEEDED,"Request time out"));break;case Dg.HTTP_ERROR:const v=h.getStatus();if(_e(nr,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const A=(function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(U)>=0?U:de.UNKNOWN})(E.status);f(new be(A,E.message))}else f(new be(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new be(de.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{_e(nr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(a);_e(nr,`RPC '${e}' ${l} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=w_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=d4(),d=u4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");_e(nr,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=l.createWebChannel(p,f);this.I_(g);let v=!1,b=!1;const E=new oK({Yo:S=>{b?_e(nr,`Not sending because RPC '${e}' stream ${a} is closed:`,S):(v||(_e(nr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),v=!0),_e(nr,`RPC '${e}' stream ${a} sending:`,S),g.send(S))},Zo:()=>g.close()}),A=(S,O,U)=>{S.listen(O,(k=>{try{U(k)}catch(C){setTimeout((()=>{throw C}),0)}}))};return A(g,Bf.EventType.OPEN,(()=>{b||(_e(nr,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),A(g,Bf.EventType.CLOSE,(()=>{b||(b=!0,_e(nr,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),A(g,Bf.EventType.ERROR,(S=>{b||(b=!0,Vu(nr,`RPC '${e}' stream ${a} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new be(de.UNAVAILABLE,"The operation could not be completed")))})),A(g,Bf.EventType.MESSAGE,(S=>{var O;if(!b){const U=S.data[0];ht(!!U,16349);const k=U,C=(k==null?void 0:k.error)||((O=k[0])==null?void 0:O.error);if(C){_e(nr,`RPC '${e}' stream ${a} received error:`,C);const P=C.status;let z=(function(T){const R=yn[T];if(R!==void 0)return H4(R)})(P),N=C.message;z===void 0&&(z=de.INTERNAL,N="Unknown error status: "+P+" with message "+C.message),b=!0,E.a_(new be(z,N)),g.close()}else _e(nr,`RPC '${e}' stream ${a} received:`,U),E.u_(U)}})),A(d,c4.STAT_EVENT,(S=>{S.stat===c_.PROXY?_e(nr,`RPC '${e}' stream ${a} detected buffering proxy`):S.stat===c_.NOPROXY&&_e(nr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function lw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t){return new fG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="PersistentStream";class s6{constructor(e,n,r,a,s,l,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(ks(n.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new be(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(XO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(XO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cK extends s6{constructor(e,n,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pG(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Le.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?Pi(l.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=x_(this.serializer),n.addTarget=(function(s,l){let d;const f=l.target;if(d=m_(f)?{documents:vG(s,f)}:{query:xG(s,f).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=W4(s,l.resumeToken);const h=g_(s,l.expectedCount);h!==null&&(d.expectedCount=h)}else if(l.snapshotVersion.compareTo(Le.min())>0){d.readTime=cy(s,l.snapshotVersion.toTimestamp());const h=g_(s,l.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=wG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=x_(this.serializer),n.removeTarget=e,this.q_(n)}}class uK extends s6{constructor(e,n,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yG(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=x_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gG(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{}class fK extends dK{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,y_(n,r),a,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(de.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,y_(n,r),a,l,d,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ks(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="RemoteStore";class mK{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{_c(this)&&(_e(lc,"Restarting streams for network reachability change."),await(async function(f){const h=Ve(f);h.Ea.add(4),await Yh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Rv(h)})(this))}))})),this.Ra=new hK(r,a)}}async function Rv(t){if(_c(t))for(const e of t.da)await e(!0)}async function Yh(t){for(const e of t.da)await e(!1)}function o6(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vA(n)?yA(n):ud(n).O_()&&gA(n,e))}function pA(t,e){const n=Ve(t),r=ud(n);n.Ia.delete(e),r.O_()&&l6(n,e),n.Ia.size===0&&(r.O_()?r.L_():_c(n)&&n.Ra.set("Unknown"))}function gA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ud(t).Y_(e)}function l6(t,e){t.Va.Ue(e),ud(t).Z_(e)}function yA(t){t.Va=new lG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ud(t).start(),t.Ra.ua()}function vA(t){return _c(t)&&!ud(t).x_()&&t.Ia.size>0}function _c(t){return Ve(t).Ea.size===0}function c6(t){t.Va=void 0}async function pK(t){t.Ra.set("Online")}async function gK(t){t.Ia.forEach(((e,n)=>{gA(t,e)}))}async function yK(t,e){c6(t),vA(t)?(t.Ra.ha(e),yA(t)):t.Ra.set("Unknown")}async function vK(t,e,n){if(t.Ra.set("Online"),e instanceof K4&&e.state===2&&e.cause)try{await(async function(a,s){const l=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,l),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){_e(lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dy(t,r)}else if(e instanceof zg?t.Va.Ze(e):e instanceof G4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await a6(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const d=s.Va.Tt(l);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(er.EMPTY_BYTE_STRING,p.snapshotVersion)),l6(s,f);const g=new Uo(p.target,f,h,p.sequenceNumber);gA(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){_e(lc,"Failed to raise snapshot:",r),await dy(t,r)}}async function dy(t,e,n){if(!ld(e))throw e;t.Ea.add(1),await Yh(t),t.Ra.set("Offline"),n||(n=()=>a6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(lc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rv(t)}))}function u6(t,e){return e().catch((n=>dy(t,n,e)))}async function Dv(t){const e=Ve(t),n=Yo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eA;for(;xK(e);)try{const a=await eK(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,bK(e,a)}catch(a){await dy(e,a)}d6(e)&&f6(e)}function xK(t){return _c(t)&&t.Ta.length<10}function bK(t,e){t.Ta.push(e);const n=Yo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function d6(t){return _c(t)&&!Yo(t).x_()&&t.Ta.length>0}function f6(t){Yo(t).start()}async function wK(t){Yo(t).ra()}async function _K(t){const e=Yo(t);for(const n of t.Ta)e.ea(n.mutations)}async function EK(t,e,n){const r=t.Ta.shift(),a=lA.from(r,e,n);await u6(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Dv(t)}async function AK(t,e){e&&Yo(t).X_&&await(async function(r,a){if((function(l){return iG(l)&&l!==de.ABORTED})(a.code)){const s=r.Ta.shift();Yo(r).B_(),await u6(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await Dv(r)}})(t,e),d6(t)&&f6(t)}async function ZO(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),_e(lc,"RemoteStore received new credentials");const r=_c(n);n.Ea.add(3),await Yh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rv(n)}async function SK(t,e){const n=Ve(t);e?(n.Ea.delete(2),await Rv(n)):e||(n.Ea.add(2),await Yh(n),n.Ra.set("Unknown"))}function ud(t){return t.ma||(t.ma=(function(n,r,a){const s=Ve(n);return s.sa(),new cK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:pK.bind(null,t),t_:gK.bind(null,t),r_:yK.bind(null,t),H_:vK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),vA(t)?yA(t):t.Ra.set("Unknown")):(await t.ma.stop(),c6(t))}))),t.ma}function Yo(t){return t.fa||(t.fa=(function(n,r,a){const s=Ve(n);return s.sa(),new uK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wK.bind(null,t),r_:AK.bind(null,t),ta:_K.bind(null,t),na:EK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Dv(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(lc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const l=Date.now()+r,d=new xA(e,n,l,a,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bA(t,e){if(ks("AsyncQueue",`${e}: ${t}`),ld(t))return new be(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{static emptySet(e){return new Ru(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Ff(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.ga=new Bt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Hu{constructor(e,n,r,a,s,l,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,s){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new Hu(e,n,Ru.emptySet(n),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NK{constructor(){this.queries=eI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ve(n),s=a.queries;a.queries=eI(),s.forEach(((l,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new be(de.ABORTED,"Firestore shutting down"))}}function eI(){return new wc((t=>P4(t)),Tv)}async function h6(t,e){const n=Ve(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new jK,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const d=bA(l,`Initialization of query '${bu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&wA(n)}async function m6(t,e){const n=Ve(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TK(t,e){const n=Ve(t);let r=!1;for(const a of e){const s=a.query,l=n.queries.get(s);if(l){for(const d of l.Sa)d.Fa(a)&&(r=!0);l.wa=a}}r&&wA(n)}function CK(t,e,n){const r=Ve(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function wA(t){t.Ca.forEach((e=>{e.next()}))}var __,tI;(tI=__||(__={})).Ma="default",tI.Cache="cache";class p6{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==__.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.key=e}}class y6{constructor(e){this.key=e}}class OK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=R4(e),this.tu=new Ru(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new JO,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const v=a.get(p),b=Cv(this.query,g)?g:null,E=!!v&&this.mutatedKeys.has(v.key),A=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;v&&b?v.data.isEqual(b.data)?E!==A&&(r.track({type:3,doc:b}),S=!0):this.su(v,b)||(r.track({type:2,doc:b}),S=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(d=!0)):!v&&b?(r.track({type:0,doc:b}),S=!0):v&&!b&&(r.track({type:1,doc:v}),S=!0,(f||h)&&(d=!0)),S&&(b?(l=l.add(b),s=A?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(b,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:S})}};return A(b)-A(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Hu(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new y6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new g6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _A="SyncEngine";class IK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kK{constructor(e){this.key=e,this.hu=!1}}class PK{constructor(e,n,r,a,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new wc((d=>P4(d)),Tv),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Ie.comparator),this.Au=new Map,this.Ru=new dA,this.Vu={},this.mu=new Map,this.fu=qu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RK(t,e,n=!0){const r=E6(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await v6(r,e,n,!0),a}async function DK(t,e){const n=E6(t);await v6(n,e,!0,!1)}async function v6(t,e,n,r){const a=await tK(t.localStore,ki(e)),s=a.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await MK(t,e,s,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&o6(t.remoteStore,a),d}async function MK(t,e,n,r,a){t.pu=(g,v,b)=>(async function(A,S,O,U){let k=S.view.ru(O);k.Cs&&(k=await KO(A.localStore,S.query,!1).then((({documents:N})=>S.view.ru(N,k))));const C=U&&U.targetChanges.get(S.targetId),P=U&&U.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(k,A.isPrimaryClient,C,P);return rI(A,S.targetId,z.au),z.snapshot})(t,g,v,b);const s=await KO(t.localStore,e,!0),l=new OK(e,s.Qs),d=l.ru(s.documents),f=Wh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=l.applyChanges(d,t.isPrimaryClient,f);rI(t,n,h.au);const p=new IK(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function LK(t,e,n){const r=Ve(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((l=>!Tv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await b_(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&pA(r.remoteStore,a.targetId),E_(r,a.targetId)})).catch(od)):(E_(r,a.targetId),await b_(r.localStore,a.targetId,!0))}async function UK(t,e){const n=Ve(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pA(n.remoteStore,r.targetId))}async function zK(t,e,n){const r=GK(t);try{const a=await(function(l,d){const f=Ve(l),h=at.now(),p=d.reduce(((b,E)=>b.add(E.key)),tt());let g,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let E=Ps(),A=tt();return f.Ns.getEntries(b,p).next((S=>{E=S,E.forEach(((O,U)=>{U.isValidDocument()||(A=A.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,E))).next((S=>{g=S;const O=[];for(const U of d){const k=eG(U,g.get(U.key).overlayedDocument);k!=null&&O.push(new al(U.key,k,S4(k.value.mapValue),_a.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,O,d)})).next((S=>{v=S;const O=S.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(b,S.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:M4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,d,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new Bt(et)),h=h.insert(d,f),l.Vu[l.currentUser.toKey()]=h})(r,a.batchId,n),await Qh(r,a.changes),await Dv(r.remoteStore)}catch(a){const s=bA(a,"Failed to persist write");n.reject(s)}}async function x6(t,e){const n=Ve(t);try{const r=await ZG(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const l=n.Au.get(s);l&&(ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?ht(l.hu,14607):a.removedDocuments.size>0&&(ht(l.hu,42227),l.hu=!1))})),await Qh(n,r,e)}catch(r){await od(r)}}function nI(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,l)=>{const d=l.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(l,d){const f=Ve(l);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const v of g.Sa)v.va(d)&&(h=!0)})),h&&wA(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VK(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let l=new Bt(Ie.comparator);l=l.insert(s,ir.newNoDocument(s,Le.min()));const d=tt().add(s),f=new kv(Le.min(),new Map,new Bt(et),l,d);await x6(r,f),r.du=r.du.remove(s),r.Au.delete(e),EA(r)}else await b_(r.localStore,e,!1).then((()=>E_(r,e,n))).catch(od)}async function $K(t,e){const n=Ve(t),r=e.batch.batchId;try{const a=await XG(n.localStore,e);w6(n,r,null),b6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qh(n,a)}catch(a){await od(a)}}async function BK(t,e,n){const r=Ve(t);try{const a=await(function(l,d){const f=Ve(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(ht(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);w6(r,e,n),b6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qh(r,a)}catch(a){await od(a)}}function b6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function w6(t,e,n){const r=Ve(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function E_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||_6(t,r)}))}function _6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(pA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),EA(t))}function rI(t,e,n){for(const r of n)r instanceof g6?(t.Ru.addReference(r.key,e),FK(t,r)):r instanceof y6?(_e(_A,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||_6(t,r.key)):Me(19791,{wu:r})}function FK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(_e(_A,"New document in limbo: "+n),t.Eu.add(r),EA(t))}function EA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new kK(n)),t.du=t.du.insert(n,r),o6(t.remoteStore,new Uo(ki(iA(n.path)),r,"TargetPurposeLimboResolution",Sv.ce))}}async function Qh(t,e,n){const r=Ve(t),a=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{l.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=hA.As(f.targetId,h);s.push(g)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(f,h){const p=Ve(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>he.forEach(h,(v=>he.forEach(v.Es,(b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b))).next((()=>he.forEach(v.ds,(b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))))))}catch(g){if(!ld(g))throw g;_e(mA,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.Ms.get(v),E=b.snapshotVersion,A=b.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(v,A)}}})(r.localStore,s))}async function qK(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){_e(_A,"User change. New user:",e.toKey());const r=await r6(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new be(de.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qh(n,r.Ls)}}function HK(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let a=tt();const s=n.Iu.get(e);if(!s)return a;for(const l of s){const d=n.Tu.get(l);a=a.unionWith(d.view.nu)}return a}}function E6(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VK.bind(null,e),e.Pu.H_=TK.bind(null,e.eventManager),e.Pu.yu=CK.bind(null,e.eventManager),e}function GK(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$K.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BK.bind(null,e),e}class fy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QG(this.persistence,new KG,e.initialUser,this.serializer)}Cu(e){return new n6(fA.mi,this.serializer)}Du(e){return new rK}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fy.provider={build:()=>new fy};class KK extends fy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof uy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new n6((r=>uy.mi(r,n)),this.serializer)}}class A_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qK.bind(null,this.syncEngine),await SK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NK})()}createDatastore(e){const n=Pv(e.databaseInfo.databaseId),r=(function(s){return new lK(s)})(e.databaseInfo);return(function(s,l,d,f){return new fK(s,l,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,l,d){return new mK(r,a,s,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>nI(this.syncEngine,n,0)),(function(){return QO.v()?new QO:new aK})())}createSyncEngine(e,n){return(function(a,s,l,d,f,h,p){const g=new PK(a,s,l,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const s=Ve(a);_e(lc,"RemoteStore shutting down."),s.Ea.add(5),await Yh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}A_.provider={build:()=>new A_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="FirestoreClient";class WK{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=ar.UNAUTHENTICATED,this.clientId=JE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{_e(Qo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(_e(Qo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cw(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Qo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await r6(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function aI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YK(t);_e(Qo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ZO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>ZO(e.remoteStore,a))),t._onlineComponents=e}async function YK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Qo,"Using user provided OfflineComponentProvider");try{await cw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Vu("Error using user provided cache. Falling back to memory cache: "+n),await cw(t,new fy)}}else _e(Qo,"Using default OfflineComponentProvider"),await cw(t,new KK(void 0));return t._offlineComponents}async function S6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Qo,"Using user provided OnlineComponentProvider"),await aI(t,t._uninitializedComponentsProvider._online)):(_e(Qo,"Using default OnlineComponentProvider"),await aI(t,new A_))),t._onlineComponents}function QK(t){return S6(t).then((e=>e.syncEngine))}async function j6(t){const e=await S6(t),n=e.eventManager;return n.onListen=RK.bind(null,e.syncEngine),n.onUnlisten=LK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UK.bind(null,e.syncEngine),n}function XK(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,h){const p=new A6({next:v=>{p.Nu(),l.enqueueAndForget((()=>m6(s,g)));const b=v.docs.has(d);!b&&v.fromCache?h.reject(new be(de.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&f&&f.source==="server"?h.reject(new be(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new p6(iA(d.path),p,{includeMetadataChanges:!0,qa:!0});return h6(s,g)})(await j6(t),t.asyncQueue,e,n,r))),r.promise}function ZK(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,d,f,h){const p=new A6({next:v=>{p.Nu(),l.enqueueAndForget((()=>m6(s,g))),v.fromCache&&f.source==="server"?h.reject(new be(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new p6(d,p,{includeMetadataChanges:!0,qa:!0});return h6(s,g)})(await j6(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="firestore.googleapis.com",sI=!0;class oI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T6,this.ssl=sI}else this.host=e.host,this.ssl=e.ssl??sI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OG)throw new be(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mv{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nH;switch(r.type){case"firstParty":return new sH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=iI.get(n);r&&(_e("ComponentProvider","Removing Datastore"),iI.delete(n),r.terminate())})(this),Promise.resolve()}}function JK(t,e,n,r={}){var h;t=Ja(t,Mv);const a=tl(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(LE(`https://${d}`),UE("Firestore",!0)),s.host!==T6&&s.host!==d&&Vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:r};if(!rc(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=ar.MOCK_USER;else{p=xM(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new be(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ar(v)}t._authCredentials=new rH(new h4(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new il(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gh(n,sn._jsonSchema))return new sn(e,r||null,new Ie(Ct.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:bn("string",sn._jsonSchemaVersion),referencePath:bn("string")};class Bo extends il{constructor(e,n,r){super(e,n,iA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ie(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function it(t,e,...n){if(t=jt(t),m4("collection","path",e),t instanceof Mv){const r=Ct.fromString(e,...n);return bO(r),new Bo(t,null,r)}{if(!(t instanceof sn||t instanceof Bo))throw new be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return bO(r),new Bo(t.firestore,null,r)}}function qe(t,e,...n){if(t=jt(t),arguments.length===1&&(e=JE.newId()),m4("doc","path",e),t instanceof Mv){const r=Ct.fromString(e,...n);return xO(r),new sn(t,null,new Ie(r))}{if(!(t instanceof sn||t instanceof Bo))throw new be(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return xO(r),new sn(t.firestore,t instanceof Bo?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="AsyncQueue";class cI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i6(this,"async_queue_retry"),this._c=()=>{const r=lw();r&&_e(lI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=lw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ld(e))throw e;_e(lI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ks("INTERNAL UNHANDLED ERROR: ",uI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=xA.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:uI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ec extends Mv{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new cI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cI(e),this._firestoreClient=void 0,await e}}}function eW(t,e){const n=typeof t=="object"?t:$E(),r=typeof t=="string"?t:ay,a=xv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=gM("firestore");s&&JK(a,...s)}return a}function AA(t){if(t._terminated)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tW(t),t._firestoreClient}function tW(t){var r,a,s;const e=t._freezeSettings(),n=(function(d,f,h,p){return new AH(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,N6(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new WK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(er.fromBase64String(e))}catch(n){throw new be(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ba._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gh(e,ba._jsonSchema))return ba.fromBase64String(e.bytes)}}ba._jsonSchemaVersion="firestore/bytes/1.0",ba._jsonSchema={type:bn("string",ba._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(Gh(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:bn("string",Ri._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gh(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Di(e.vectorValues);throw new be(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:bn("string",Di._jsonSchemaVersion),vectorValues:bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=/^__.*__$/;class rW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new al(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kh(e,this.data,n,this.fieldTransforms)}}class C6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new al(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function O6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class SA{constructor(e,n,r,a,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new SA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O6(this.Ac)&&nW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pv(e)}Cc(e,n,r,a=!1){return new SA({Ac:e,methodName:n,Dc:r,path:Zn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zv(t){const e=t._freezeSettings(),n=Pv(t._databaseId);return new aW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function I6(t,e,n,r,a,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);NA("Data must be an object, but it was:",l,r);const d=k6(r,l);let f,h;if(s.merge)f=new Qr(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const v=S_(e,g,n);if(!l.contains(v))throw new be(de.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);R6(p,v)||p.push(v)}f=new Qr(p),h=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=l.fieldTransforms;return new rW(new Pr(d),f,h)}class Vv extends Uv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vv}}class jA extends Uv{_toFieldTransform(e){return new QH(e.path,new mh)}isEqual(e){return e instanceof jA}}function iW(t,e,n,r){const a=t.Cc(1,e,n);NA("Data must be an object, but it was:",a,r);const s=[],l=Pr.empty();rl(r,((f,h)=>{const p=TA(e,f,n);h=jt(h);const g=a.yc(p);if(h instanceof Vv)s.push(p);else{const v=Xh(h,g);v!=null&&(s.push(p),l.set(p,v))}}));const d=new Qr(s);return new C6(l,d,a.fieldTransforms)}function sW(t,e,n,r,a,s){const l=t.Cc(1,e,n),d=[S_(e,r,n)],f=[a];if(s.length%2!=0)throw new be(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)d.push(S_(e,s[v])),f.push(s[v+1]);const h=[],p=Pr.empty();for(let v=d.length-1;v>=0;--v)if(!R6(h,d[v])){const b=d[v];let E=f[v];E=jt(E);const A=l.yc(b);if(E instanceof Vv)h.push(b);else{const S=Xh(E,A);S!=null&&(h.push(b),p.set(b,S))}}const g=new Qr(h);return new C6(p,g,l.fieldTransforms)}function oW(t,e,n,r=!1){return Xh(n,t.Cc(r?4:3,e))}function Xh(t,e){if(P6(t=jt(t)))return NA("Unsupported field value:",e,t),k6(t,e);if(t instanceof Uv)return(function(r,a){if(!O6(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let l=0;for(const d of r){let f=Xh(d,a.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KH(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:cy(a.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cy(a.serializer,s)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ba)return{bytesValue:W4(a.serializer,r._byteString)};if(r instanceof sn){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uA(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Di)return(function(l,d){return{mapValue:{fields:{[E4]:{stringValue:A4},[iy]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return sA(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Av(r)}`)})(t,e)}function k6(t,e){const n={};return y4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rl(t,((r,a)=>{const s=Xh(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function P6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Ri||t instanceof ba||t instanceof sn||t instanceof Uv||t instanceof Di)}function NA(t,e,n){if(!P6(n)||!p4(n)){const r=Av(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function S_(t,e,n){if((e=jt(e))instanceof Lv)return e._internalPath;if(typeof e=="string")return TA(t,e);throw hy("Field path arguments must be of type string or ",t,!1,void 0,n)}const lW=new RegExp("[~\\*/\\[\\]]");function TA(t,e,n){if(e.search(lW)>=0)throw hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lv(...e.split("."))._internalPath}catch{throw hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hy(t,e,n,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new be(de.INVALID_ARGUMENT,d+t+f)}function R6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($v("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cW extends D6{data(){return super.data()}}function $v(t,e){return typeof e=="string"?TA(t,e):e instanceof Lv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CA{}class OA extends CA{}function Dr(t,e,...n){let r=[];e instanceof CA&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof IA)).length,d=s.filter((f=>f instanceof Bv)).length;if(l>1||l>0&&d>0)throw new be(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Bv extends OA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bv(e,n,r)}_apply(e){const n=this._parse(e);return M6(e._query,n),new il(e.firestore,e.converter,p_(e._query,n))}_parse(e){const n=zv(e.firestore);return(function(s,l,d,f,h,p,g){let v;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new be(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){fI(g,p);const E=[];for(const A of g)E.push(dI(f,s,A));v={arrayValue:{values:E}}}else v=dI(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||fI(g,p),v=oW(d,l,g,p==="in"||p==="not-in");return xn.create(h,p,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rs(t,e,n){const r=e,a=$v("where",t);return Bv._create(a,r,n)}class IA extends CA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new IA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let l=a;const d=s.getFlattenedFilters();for(const f of d)M6(l,f),l=p_(l,f)})(e._query,n),new il(e.firestore,e.converter,p_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kA extends OA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kA(e,n)}_apply(e){const n=(function(a,s,l){if(a.startAt!==null)throw new be(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new be(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hh(s,l)})(e._query,this._field,this._direction);return new il(e.firestore,e.converter,(function(a,s){const l=a.explicitOrderBy.concat([s]);return new cd(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Zh(t,e="asc"){const n=e,r=$v("orderBy",t);return kA._create(r,n)}class PA extends OA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new PA(e,n,r)}_apply(e){return new il(e.firestore,e.converter,oy(e._query,this._limit,this._limitType))}}function Fv(t){return hH("limit",t),PA._create("limit",t,"F")}function dI(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new be(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k4(e)&&n.indexOf("/")!==-1)throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!Ie.isDocumentKey(r))throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TO(t,new Ie(r))}if(n instanceof sn)return TO(t,n._key);throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Av(n)}.`)}function fI(t,e){if(!Array.isArray(t)||t.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M6(t,e){const n=(function(a,s){for(const l of a)for(const d of l.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dW{convertValue(e,n="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rl(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,a,s;const n=(s=(a=(r=e.fields)==null?void 0:r[iy].arrayValue)==null?void 0:a.values)==null?void 0:s.map((l=>an(l.doubleValue)));return new Di(n)}convertGeoPoint(e){return new Ri(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uh(e));default:return null}}convertTimestamp(e){const n=Go(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);ht(e6(r),9688,{name:e});const a=new dh(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return a.isEqual(n)||ks(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Hf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ql extends D6{constructor(e,n,r,a,s,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($v("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ql._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ql._jsonSchema={type:bn("string",Ql._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class Vg extends Ql{data(e={}){return super.data(e)}}class Du{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Hf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Vg(this._firestore,this._userDataWriter,r.key,r,new Hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((d=>{const f=new Vg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new Vg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),p=l.indexOf(d.doc.key)),{type:fW(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=JE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){t=Ja(t,sn);const e=Ja(t.firestore,Ec);return XK(AA(e),t._key).then((n=>hW(e,t,n)))}Du._jsonSchemaVersion="firestore/querySnapshot/1.0",Du._jsonSchema={type:bn("string",Du._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};class U6 extends dW{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function $n(t){t=Ja(t,il);const e=Ja(t.firestore,Ec),n=AA(e),r=new U6(e);return uW(t._query),ZK(n,t._query).then((a=>new Du(e,r,t,a)))}function Ya(t,e,n){t=Ja(t,sn);const r=Ja(t.firestore,Ec),a=L6(t.converter,e,n);return qv(r,[I6(zv(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,_a.none())])}function vr(t,e,n,...r){t=Ja(t,sn);const a=Ja(t.firestore,Ec),s=zv(a);let l;return l=typeof(e=jt(e))=="string"||e instanceof Lv?sW(s,"updateDoc",t._key,e,n,r):iW(s,"updateDoc",t._key,e),qv(a,[l.toMutation(t._key,_a.exists(!0))])}function cc(t){return qv(Ja(t.firestore,Ec),[new oA(t._key,_a.none())])}function xr(t,e){const n=Ja(t.firestore,Ec),r=qe(t),a=L6(t.converter,e);return qv(n,[I6(zv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,_a.exists(!1))]).then((()=>r))}function qv(t,e){return(function(r,a){const s=new js;return r.asyncQueue.enqueueAndForget((async()=>zK(await QK(r),a,s))),s.promise})(AA(t),e)}function hW(t,e,n){const r=n.docs.get(e._key),a=new U6(t);return new Ql(t,a,e._key,r,new Hf(n.hasPendingWrites,n.fromCache),e.converter)}function or(){return new jA("serverTimestamp")}(function(e,n=!0){(function(a){sd=a})(bc),ac(new qo("firestore",((r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),d=new Ec(new aH(r.getProvider("auth-internal")),new oH(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new be(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(h.options.projectId,p)})(l,a),l);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Oi(pO,gO,e),Oi(pO,gO,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="firebasestorage.googleapis.com",V6="storageBucket",mW=120*1e3,pW=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends Gi{constructor(e,n,r=0){super(uw(e),`Firebase Storage: ${n} (${uw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wt||(Wt={}));function uw(t){return"storage/"+t}function RA(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Wt.UNKNOWN,t)}function gW(t){return new Qt(Wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yW(t){return new Qt(Wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Wt.UNAUTHENTICATED,t)}function xW(){return new Qt(Wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bW(t){return new Qt(Wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wW(){return new Qt(Wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _W(){return new Qt(Wt.CANCELED,"User canceled the upload/download.")}function EW(t){return new Qt(Wt.INVALID_URL,"Invalid URL '"+t+"'.")}function AW(t){return new Qt(Wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function SW(){return new Qt(Wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+V6+"' property when initializing the app?")}function jW(){return new Qt(Wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NW(){return new Qt(Wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TW(t){return new Qt(Wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function j_(t){return new Qt(Wt.INVALID_ARGUMENT,t)}function $6(){return new Qt(Wt.APP_DELETED,"The Firebase app was deleted.")}function CW(t){return new Qt(Wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nh(t,e){return new Qt(Wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Of(t){throw new Qt(Wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gr.makeFromUrl(e,n)}catch{return new gr(e,"")}if(r.path==="")return r;throw AW(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+a+l,"i"),f={bucket:1,path:3};function h(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${p}/b/${a}/o${v}`,"i"),E={bucket:1,path:3},A=n===z6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",O=new RegExp(`^https?://${A}/${a}/${S}`,"i"),k=[{regex:d,indices:f,postModify:s},{regex:b,indices:E,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let C=0;C<k.length;C++){const P=k[C],z=P.regex.exec(e);if(z){const N=z[P.indices.bucket];let M=z[P.indices.path];M||(M=""),r=new gr(N,M),P.postModify(r);break}}if(r==null)throw EW(e);return r}}class OW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t,e,n){let r=1,a=null,s=null,l=!1,d=0;function f(){return d===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){a=setTimeout(()=>{a=null,t(b,f())},S)}function v(){s&&clearTimeout(s)}function b(S,...O){if(h){v();return}if(S){v(),p.call(null,S,...O);return}if(f()||l){v(),p.call(null,S,...O);return}r<64&&(r*=2);let k;d===1?(d=2,k=0):k=(r+Math.random())*1e3,g(k)}let E=!1;function A(S){E||(E=!0,v(),!h&&(a!==null?(S||(d=2),clearTimeout(a),g(0)):S||(d=1)))}return g(0),s=setTimeout(()=>{l=!0,A(!0)},n),A}function kW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t){return t!==void 0}function RW(t){return typeof t=="object"&&!Array.isArray(t)}function DA(t){return typeof t=="string"||t instanceof String}function hI(t){return MA()&&t instanceof Blob}function MA(){return typeof Blob<"u"}function N_(t,e,n,r){if(r<e)throw j_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw j_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function B6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Xl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xl||(Xl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n,r,a,s,l,d,f,h,p,g,v=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new cg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const d=s.getErrorCode()===Xl.NO_ERROR,f=s.getStatus();if(!d||DW(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Xl.ABORT;r(!1,new cg(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new cg(h,s))})},n=(r,a)=>{const s=this.resolve_,l=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());PW(f)?s(f):s()}catch(f){l(f)}else if(d!==null){const f=RA();f.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,f)):l(f)}else if(a.canceled){const f=this.appDelete_?$6():_W();l(f)}else{const f=wW();l(f)}};this.canceled_?n(!1,new cg(!1,null,!0)):this.backoffId_=IW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $W(t,e,n,r,a,s,l=!0,d=!1){const f=B6(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return zW(p,e),LW(p,n),UW(p,s),VW(p,r),new MW(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FW(...t){const e=BW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(MA())return new Blob(t);throw new Qt(Wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t){if(typeof atob>"u")throw TW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dw{constructor(e,n){this.data=e,this.contentType=n||null}}function GW(t,e){switch(t){case Ti.RAW:return new dw(F6(e));case Ti.BASE64:case Ti.BASE64URL:return new dw(q6(t,e));case Ti.DATA_URL:return new dw(WW(e),YW(e))}throw RA()}function F6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,l=t.charCodeAt(++n);r=65536|(s&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function KW(t){let e;try{e=decodeURIComponent(t)}catch{throw nh(Ti.DATA_URL,"Malformed data URL.")}return F6(e)}function q6(t,e){switch(t){case Ti.BASE64:{const a=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(a||s)throw nh(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ti.BASE64URL:{const a=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(a||s)throw nh(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HW(e)}catch(a){throw a.message.includes("polyfill")?a:nh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class H6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nh(Ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=QW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function WW(t){const e=new H6(t);return e.base64?q6(Ti.BASE64,e.rest):KW(e.rest)}function YW(t){return new H6(t).contentType}function QW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){let r=0,a="";hI(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(hI(this.data_)){const r=this.data_,a=qW(r,e,n);return a===null?null:new Mo(a)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Mo(r,!0)}}static getBlob(...e){if(MA()){const n=e.map(r=>r instanceof Mo?r.data_:r);return new Mo(FW.apply(null,n))}else{const n=e.map(l=>DA(l)?GW(Ti.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const a=new Uint8Array(r);let s=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)a[s++]=l[d]}),new Mo(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){let e;try{e=JSON.parse(t)}catch{return null}return RW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ZW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function G6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t,e){return e}class mr{constructor(e,n,r,a){this.server=e,this.local=n||e,this.writable=!!r,this.xform=a||JW}}let ug=null;function eY(t){return!DA(t)||t.length<2?t:G6(t)}function UA(){if(ug)return ug;const t=[];t.push(new mr("bucket")),t.push(new mr("generation")),t.push(new mr("metageneration")),t.push(new mr("name","fullPath",!0));function e(s,l){return eY(l)}const n=new mr("name");n.xform=e,t.push(n);function r(s,l){return l!==void 0?Number(l):l}const a=new mr("size");return a.xform=r,t.push(a),t.push(new mr("timeCreated")),t.push(new mr("updated")),t.push(new mr("md5Hash",null,!0)),t.push(new mr("cacheControl",null,!0)),t.push(new mr("contentDisposition",null,!0)),t.push(new mr("contentEncoding",null,!0)),t.push(new mr("contentLanguage",null,!0)),t.push(new mr("contentType",null,!0)),t.push(new mr("metadata","customMetadata",!0)),ug=t,ug}function tY(t,e){function n(){const r=t.bucket,a=t.fullPath,s=new gr(r,a);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function nY(t,e,n){const r={};r.type="file";const a=n.length;for(let s=0;s<a;s++){const l=n[s];r[l.local]=l.xform(r,e[l.server])}return tY(r,t),r}function K6(t,e,n){const r=LA(e);return r===null?null:nY(t,r,n)}function rY(t,e,n,r){const a=LA(e);if(a===null||!DA(a.downloadTokens))return null;const s=a.downloadTokens;if(s.length===0)return null;const l=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,g=t.fullPath,v="/b/"+l(p)+"/o/"+l(g),b=dd(v,n,r),E=B6({alt:"media",token:h});return b+E})[0]}function aY(t,e){const n={},r=e.length;for(let a=0;a<r;a++){const s=e[a];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="prefixes",pI="items";function iY(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[mI])for(const a of n[mI]){const s=a.replace(/\/$/,""),l=t._makeStorageReference(new gr(e,s));r.prefixes.push(l)}if(n[pI])for(const a of n[pI]){const s=t._makeStorageReference(new gr(e,a.name));r.items.push(s)}return r}function sY(t,e,n){const r=LA(n);return r===null?null:iY(t,e,r)}class Jh{constructor(e,n,r,a){this.url=e,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){if(!t)throw RA()}function W6(t,e){function n(r,a){const s=K6(t,a,e);return zA(s!==null),s}return n}function oY(t,e){function n(r,a){const s=sY(t,e,a);return zA(s!==null),s}return n}function lY(t,e){function n(r,a){const s=K6(t,a,e);return zA(s!==null),rY(s,a,t.host,t._protocol)}return n}function VA(t){function e(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=xW():a=vW():n.getStatus()===402?a=yW(t.bucket):n.getStatus()===403?a=bW(t.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return e}function $A(t){const e=VA(t);function n(r,a){let s=e(r,a);return r.getStatus()===404&&(s=gW(t.path)),s.serverResponse=a.serverResponse,s}return n}function cY(t,e,n){const r=e.fullServerUrl(),a=dd(r,t.host,t._protocol),s="GET",l=t.maxOperationRetryTime,d=new Jh(a,s,W6(t,n),l);return d.errorHandler=$A(e),d}function uY(t,e,n,r,a){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),a&&(s.maxResults=a);const l=e.bucketOnlyServerUrl(),d=dd(l,t.host,t._protocol),f="GET",h=t.maxOperationRetryTime,p=new Jh(d,f,oY(t,e.bucket),h);return p.urlParams=s,p.errorHandler=VA(e),p}function dY(t,e,n){const r=e.fullServerUrl(),a=dd(r,t.host,t._protocol),s="GET",l=t.maxOperationRetryTime,d=new Jh(a,s,lY(t,n),l);return d.errorHandler=$A(e),d}function fY(t,e){const n=e.fullServerUrl(),r=dd(n,t.host,t._protocol),a="DELETE",s=t.maxOperationRetryTime;function l(f,h){}const d=new Jh(r,a,l,s);return d.successCodes=[200,204],d.errorHandler=$A(e),d}function hY(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mY(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hY(null,e)),r}function pY(t,e,n,r,a){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let k="";for(let C=0;C<2;C++)k=k+Math.random().toString().slice(2);return k}const f=d();l["Content-Type"]="multipart/related; boundary="+f;const h=mY(e,r,a),p=aY(h,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,v=`\r
--`+f+"--",b=Mo.getBlob(g,r,v);if(b===null)throw jW();const E={name:h.fullPath},A=dd(s,t.host,t._protocol),S="POST",O=t.maxUploadRetryTime,U=new Jh(A,S,W6(t,n),O);return U.urlParams=E,U.headers=l,U.body=b.uploadData(),U.errorHandler=VA(e),U}class gY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,a,s){if(this.sent_)throw Of("cannot .send() more than once");if(tl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Of("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Of("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Of("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Of("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yY extends gY{initXhr(){this.xhr_.responseType="text"}}function em(){return new yY}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this._service=e,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new uc(e,n)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G6(this._location.path)}get storage(){return this._service}get parent(){const e=XW(this._location.path);if(e===null)return null;const n=new gr(this._location.bucket,e);return new uc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CW(e)}}function vY(t,e,n){t._throwIfRoot("uploadBytes");const r=pY(t.storage,t._location,UA(),new Mo(e,!0),n);return t.storage.makeRequestWithTokens(r,em).then(a=>({metadata:a,ref:t}))}function xY(t){const e={prefixes:[],items:[]};return Y6(t,e).then(()=>e)}async function Y6(t,e,n){const a=await bY(t,{pageToken:n});e.prefixes.push(...a.prefixes),e.items.push(...a.items),a.nextPageToken!=null&&await Y6(t,e,a.nextPageToken)}function bY(t,e){e!=null&&typeof e.maxResults=="number"&&N_("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=uY(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,em)}function wY(t){t._throwIfRoot("getMetadata");const e=cY(t.storage,t._location,UA());return t.storage.makeRequestWithTokens(e,em)}function _Y(t){t._throwIfRoot("getDownloadURL");const e=dY(t.storage,t._location,UA());return t.storage.makeRequestWithTokens(e,em).then(n=>{if(n===null)throw NW();return n})}function EY(t){t._throwIfRoot("deleteObject");const e=fY(t.storage,t._location);return t.storage.makeRequestWithTokens(e,em)}function AY(t,e){const n=ZW(t._location.path,e),r=new gr(t._location.bucket,n);return new uc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t){return/^[A-Za-z]+:\/\//.test(t)}function jY(t,e){return new uc(t,e)}function Q6(t,e){if(t instanceof BA){const n=t;if(n._bucket==null)throw SW();const r=new uc(n,n._bucket);return e!=null?Q6(r,e):r}else return e!==void 0?AY(t,e):t}function NY(t,e){if(e&&SY(e)){if(t instanceof BA)return jY(t,e);throw j_("To use ref(service, url), the first argument must be a Storage instance.")}else return Q6(t,e)}function gI(t,e){const n=e==null?void 0:e[V6];return n==null?null:gr.makeFromBucketSpec(n,t)}function TY(t,e,n,r={}){t.host=`${e}:${n}`;const a=tl(e);a&&(LE(`https://${t.host}/b`),UE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:xM(s,t.app.options.projectId))}class BA{constructor(e,n,r,a,s,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=z6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mW,this._maxUploadRetryTime=pW,this._requests=new Set,a!=null?this._bucket=gr.makeFromBucketSpec(a,this._host):this._bucket=gI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=gI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uc(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new OW($6());{const l=$W(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const yI="@firebase/storage",vI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="storage";function Z6(t,e,n){return t=jt(t),vY(t,e,n)}function CY(t){return t=jt(t),wY(t)}function OY(t){return t=jt(t),xY(t)}function FA(t){return t=jt(t),_Y(t)}function IY(t){return t=jt(t),EY(t)}function my(t,e){return t=jt(t),NY(t,e)}function kY(t=$E(),e){t=jt(t);const r=xv(t,X6).getImmediate({identifier:e}),a=gM("storage");return a&&PY(r,...a),r}function PY(t,e,n,r={}){TY(t,e,n,r)}function RY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new BA(n,r,a,e,bc)}function DY(){ac(new qo(X6,RY,"PUBLIC").setMultipleInstances(!0)),Oi(yI,vI,""),Oi(yI,vI,"esm2020")}DY();const MY={apiKey:"AIzaSyCEEQBoSXPKiG0mEX_H6bA1aSn072FD_DA",authDomain:"gcse-a7ffe.firebaseapp.com",projectId:"gcse-a7ffe",storageBucket:"gcse-a7ffe.firebasestorage.app",messagingSenderId:"266952172762",appId:"1:266952172762:web:9ef234cf67a8ab32afb1e3"},qA=_M(MY),je=i4(qA),we=eW(qA),yh=kY(qA),LY=new ys,ti=["testadmin@example.com","sami8051@gmail.com"],Qa=["sami8051@gmail.com"],rh={terms:"1.0",privacy:"1.0",educationalDisclaimer:"1.0"},J6=async t=>{try{const e=await ea(qe(we,"users",t));if(e.exists()){const n=e.data();return n.hasConsented===!0&&n.consentVersion===rh.terms}return!1}catch(e){return console.error("Error checking consent:",e),!1}},e3=async t=>{try{const e=await ea(qe(we,"users",t));return e.exists()&&e.data().isAdmin===!0}catch(e){return console.error("Error checking admin status:",e),!1}},t3=async(t,e,n,r,a,s,l,d="email")=>{try{const f=new Date;let h="unknown";try{h=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{console.warn("Could not fetch IP for consent log")}const p=navigator.userAgent,g={userId:t,email:e,ageGroup:n,consents:{termsAndPrivacy:{accepted:r,version:rh.terms,timestamp:f},educationalDisclaimer:{accepted:a,version:rh.educationalDisclaimer,timestamp:f},marketingOptIn:{accepted:l,timestamp:l?f:null}},metadata:{ipAddress:h,userAgent:p,country:"UK"},createdAt:f};return n==="13-15"&&(g.consents.parentalConfirmation={confirmed:s,timestamp:f}),await Ya(qe(we,"userConsents",t),{...g,signUpMethod:d,consentSourcePage:"signup-consent-v1"}),await Ya(qe(we,"users",t),{hasConsented:!0,consentVersion:rh.terms,ageGroup:n,signUpMethod:d,marketingOptIn:l,lastConsentUpdate:or()},{merge:!0}),console.log("Consent saved for user:",t),!0}catch(f){return console.error("Failed to save consent:",f),!1}},n3=async(t,e)=>{try{const n=qe(we,"users",t);return await vr(n,e),console.log("User consent updated for user:",t),!0}catch(n){return console.error("Failed to update user consent:",n),!1}},UY=async(t,e,n,r,a)=>{var s,l;try{await xr(it(we,"activityLogs"),{action:t,actionType:e,userId:((s=je.currentUser)==null?void 0:s.uid)||"unknown",userEmail:((l=je.currentUser)==null?void 0:l.email)||"unknown",targetType:n,targetId:r,details:a,timestamp:or()})}catch(d){console.error("Failed to log admin action",d)}},zY=async(t,e,n)=>{var r;try{await xr(it(we,"loginEvents"),{email:t,userId:((r=je.currentUser)==null?void 0:r.uid)||"unknown",success:e,reason:n,timestamp:or()})}catch(a){console.error("Failed to log login event",a)}},r3=async()=>{try{return(await lq(je,LY)).user}catch(t){throw console.error("Error signing in",t),t}},a3=async(t,e,n)=>{try{const r=await MF(je,e,n);return await KM(r.user,{displayName:t}),r.user}catch(r){throw console.error("Error registering",r),r}},i3=async()=>{je.currentUser&&await UF(je.currentUser)},HA=async(t,e)=>{try{return await KM(t,e),!0}catch(n){throw console.error("Error updating profile",n),n}},VY=async(t,e)=>{try{const n=my(yh,`profile_pictures/${t.uid}`);await Z6(n,e);const r=await FA(n);return await HA(t,{photoURL:r}),r}catch(n){throw console.error("Error uploading profile picture",n),n}},GA=async(t,e)=>{try{return(await LF(je,t,e)).user}catch(n){throw console.error("Error signing in with password",n),n}},fd=async()=>{try{await BF(je)}catch(t){throw console.error("Error signing out",t),t}},s3=async(t,e,n,r)=>{try{const a={userId:t,...e,score:e.totalScore,date:at.now(),paperData:n,fullAnswers:r},s=new Promise((f,h)=>setTimeout(()=>h(new Error("Firestore save timed out")),1e4)),l=xr(it(we,"examResults"),a),d=await Promise.race([l,s]);return console.log("Document written with ID: ",d.id),d.id}catch(a){return console.error("Error adding document: ",a),null}},$Y=async(t,e)=>{try{const n=qe(we,"examResults",t);await vr(n,{pdfUrl:e}),console.log("Updated document with PDF URL")}catch(n){console.error("Error updating PDF URL",n)}},py=async t=>{try{const e=qe(we,"examResults",t);return await cc(e),console.log("Document deleted with ID: ",t),!0}catch(e){return console.error("Error deleting document: ",e),!1}},BY=async(t,e,n)=>{try{const r=my(yh,`exam-pdfs/${t}/${e}.pdf`);await Z6(r,n);const a=await FA(r);return console.log("PDF Uploaded to:",a),a}catch(r){return console.error("Error uploading PDF",r),null}},KA=async t=>{console.time("fetchHistory");try{const e=Dr(it(we,"examResults"),Rs("userId","==",t)),r=(await $n(e)).docs.map(a=>({id:a.id,...a.data()}));return r.sort((a,s)=>{const l=d=>d?d.seconds?d.seconds*1e3:new Date(d).getTime():0;return l(s.date)-l(a.date)}),console.timeEnd("fetchHistory"),r.slice(0,20)}catch(e){return console.timeEnd("fetchHistory"),console.error("Error fetching history: ",e),[]}},o3=async(t,e,n,r)=>{try{return await xr(it(we,"labSessions"),{userId:t,method:e,text:n,feedback:r,date:at.now()}),!0}catch(a){return console.error("Error saving lab session:",a),!1}},l3=async t=>{var e;if(t)try{const n=qe(we,"users",t.uid);await Ya(n,{uid:t.uid,email:t.email,displayName:(t==null?void 0:t.displayName)||((e=t==null?void 0:t.email)==null?void 0:e.split("@")[0]),photoURL:t.photoURL,lastActive:at.now()},{merge:!0});const r=await ea(n);if(r.exists()){const a=r.data();ti.includes(t.email)&&(!a.isAdmin||!a.isApproved)?await vr(n,{isAdmin:!0,isApproved:!0}):(a.isAdmin===void 0||a.isApproved===void 0)&&await vr(n,{isAdmin:a.isAdmin??!1,isApproved:a.isApproved??!1})}else{const a=ti.includes(t.email);await vr(n,{isAdmin:a,isApproved:a})}}catch(n){console.error("Error syncing user profile:",n)}},FY=async(t,e)=>{try{const n=qe(we,"users",t);return await vr(n,{isApproved:e}),!0}catch(n){return console.error("Error updating user status:",n),!1}},Ac=async()=>{try{return(await $n(it(we,"users"))).docs.map(e=>({...e.data(),id:e.id}))}catch(t){return console.error("Admin: Error fetching users",t),[]}},WA=async()=>{try{const t=Dr(it(we,"examResults"),Zh("date","desc"),Fv(100));return(await $n(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Admin: Error fetching exam results",t),[]}},c3=async(t,e)=>{try{const n=qe(we,"examResults",t);return await vr(n,e),!0}catch(n){return console.error("Admin: Error updating exam",n),!1}},u3=async t=>{try{await cc(qe(we,"users",t));const e=Dr(it(we,"examResults"),Rs("userId","==",t)),r=(await $n(e)).docs.map(a=>cc(a.ref));return await Promise.all(r),!0}catch(e){return console.error("Admin: Error deleting user data",e),!1}},YA=Object.freeze(Object.defineProperty({__proto__:null,ADMIN_EMAILS:ti,LEGAL_VERSIONS:rh,SUPER_ADMIN_EMAILS:Qa,auth:je,checkIsAdmin:e3,checkUserConsent:J6,db:we,deleteExamResult:py,deleteUserData:u3,getAllExamResults:WA,getAllUsers:Ac,getUserHistory:KA,logAdminAction:UY,logInWithEmailAndPassword:GA,logLoginEvent:zY,logOut:fd,registerWithEmailAndPassword:a3,saveExamResult:s3,saveLabSession:o3,saveUserConsent:t3,sendVerification:i3,signInWithGoogle:r3,storage:yh,syncUserProfile:l3,updateExamResultData:c3,updateExamWithPdf:$Y,updateUserConsent:n3,updateUserProfile:HA,updateUserStatus:FY,uploadExamPdf:BY,uploadProfilePicture:VY},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),xI=t=>{const e=HY(t);return e.charAt(0).toUpperCase()+e.slice(1)},d3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),GY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:l,...d},f)=>w.createElement("svg",{ref:f,...KY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:d3("lucide",a),...!s&&!GY(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>w.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=w.forwardRef(({className:r,...a},s)=>w.createElement(WY,{ref:s,iconNode:e,className:d3(`lucide-${qY(xI(t))}`,`lucide-${t}`,r),...a}));return n.displayName=xI(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],gy=xe("activity",YY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ni=xe("arrow-left",QY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Hv=xe("arrow-right",XY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],fw=xe("arrow-up",ZY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],f3=xe("award",JY);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tQ=xe("ban",eQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],h3=xe("bell",nQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jn=xe("book-open",rQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dc=xe("calendar",aQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],m3=xe("chart-column",iQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],oQ=xe("chart-pie",sQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],QA=xe("check",lQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],p3=xe("chevron-down",cQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],XA=xe("chevron-left",uQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vh=xe("chevron-right",dQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],g3=xe("chevron-up",fQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gu=xe("circle-alert",hQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wi=xe("circle-check-big",mQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gQ=xe("circle-x",pQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gv=xe("clock",yQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],xQ=xe("cookie",vQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ZA=xe("crown",bQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],JA=xe("download",wQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],EQ=xe("external-link",_Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y3=xe("eye-off",AQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tm=xe("eye",SQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fc=xe("file-text",jQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],bI=xe("flag",NQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],dg=xe("folder",TQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],v3=xe("funnel",CQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Kv=xe("graduation-cap",OQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],kQ=xe("grid-3x3",IQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],RQ=xe("grip-vertical",PQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],MQ=xe("highlighter",DQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],yy=xe("house",LQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zQ=xe("image",UQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],T_=xe("info",VQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],BQ=xe("key",$Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],qQ=xe("layers",FQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eS=xe("layout-dashboard",HQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],KQ=xe("lightbulb",GQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],vy=xe("log-in",WQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ah=xe("lock",YQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hd=xe("log-out",QQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],x3=xe("mail",XQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],JQ=xe("map-pin",ZQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tX=xe("menu",eX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rX=xe("message-square",nX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],b3=xe("moon",aX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],sX=xe("panels-top-left",iX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],$g=xe("pen-tool",oX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wv=xe("pen",lX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tS=xe("plus",cX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],w3=xe("printer",uX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],fX=xe("quote",dX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nS=xe("refresh-cw",hX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xy=xe("save",mX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xr=xe("search",pX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rS=xe("settings",gX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],vX=xe("shield-alert",yX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],bX=xe("shield-off",xX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yi=xe("shield",wX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xa=xe("sparkles",_X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_3=xe("sun",EX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],E3=xe("target",AX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],hw=xe("toggle-left",SX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],mw=xe("toggle-right",jX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ea=xe("trash-2",NX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pw=xe("trending-up",TX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mi=xe("triangle-alert",CX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],IX=xe("type",OX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],PX=xe("user-check",kX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],DX=xe("user-plus",RX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ku=xe("user",MX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Aa=xe("users",LX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ri=xe("x",UX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VX=xe("zap",zX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],BX=xe("zoom-in",$X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],qX=xe("zoom-out",FX);var Gf=(t=>(t.PAPER_1="PAPER_1",t.PAPER_2="PAPER_2",t))(Gf||{});const HX="modulepreload",GX=function(t){return"/"+t},wI={},by=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=l(n.map(h=>{if(h=GX(h),h in wI)return;wI[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":HX,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((b,E)=>{v.addEventListener("load",b),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return a.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};class xh{constructor(){console.log("GeminiService initialized (Backend Mode)")}async post(e,n){try{const{auth:r}=await by(async()=>{const{auth:g}=await Promise.resolve().then(()=>YA);return{auth:g}},[]),a=r.currentUser;let s={"Content-Type":"application/json"};if(a){const g=await a.getIdToken();s.Authorization=`Bearer ${g}`}else console.warn(`Attempting to call ${e} without a user. This may fail if the endpoint is protected.`);const l=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";console.log(`[GeminiService Mode Check] Hostname: ${window.location.hostname}, isLocalhost: ${l}, ImportMetaProd: true`);const d=!l,h=`${d?"https://us-central1-gcse-a7ffe.cloudfunctions.net/api":"/api"}/${e}`;console.log(`[GeminiService] Calling ${d?"PRODUCTION":"DEV"} API: ${h}`);const p=await fetch(h,{method:"POST",headers:s,body:JSON.stringify(n)});if(p.status===401||p.status===403)throw new Error(`Authentication Error: ${p.statusText}. Please log in.`);if(!p.ok)throw new Error(`API Error: ${p.statusText}`);return await p.json()}catch(r){throw console.error(`Failed to call ${e}:`,r),r}}async generateExam(e,n="1K"){return this.post("generate-exam",{type:e,imageSize:n})}async markExam(e,n){return this.post("mark-exam",{paper:e,answers:n})}async generateModelAnswers(e){return(await this.post("model-answers",{paper:e})).text}async analyzeTextForMethods(e){return this.post("analyze-text",{text:e})}async evaluateWritingPractice(e,n){return this.post("evaluate-writing",{text:e,targetMethod:n})}async generatePracticeSet(e,n,r){return this.post("generate-practice-set",{topic:e,difficulty:n,numQuestions:r})}}const aS="/assets/logo-BcVET0cA.png",A3=({title:t,description:e})=>(w.useEffect(()=>{if(document.title=`${t} | GoGCSE`,e){let n=document.querySelector("meta[name='description']");n||(n=document.createElement("meta"),n.setAttribute("name","description"),document.head.appendChild(n)),n.setAttribute("content",e)}},[t,e]),null),KX=()=>{const t=Ft(),[e,n]=w.useState(!1),[r,a]=w.useState(""),[s,l]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(""),[g,v]=w.useState(null),[b,E]=w.useState(!1),[A,S]=w.useState({paper1Enabled:!0,paper2Enabled:!0,languageLabEnabled:!0});w.useEffect(()=>{const C=wv(je,async P=>{if(v(P),P){l3(P);try{if(ti.includes(P.email||"")){E(!0);return}const z=qe(we,"users",P.uid),N=await ea(z);N.exists()&&N.data().isApproved?E(!0):E(!1)}catch(z){console.error("Error fetching approval",z),E(!1)}}else E(!1)});return()=>C()},[]),w.useEffect(()=>{(async()=>{try{const P=qe(we,"systemSettings","config"),z=await ea(P);if(z.exists()){const N=z.data();N.featureFlags&&S({paper1Enabled:N.featureFlags.paper1Enabled??!0,paper2Enabled:N.featureFlags.paper2Enabled??!0,languageLabEnabled:N.featureFlags.languageLabEnabled??!0})}}catch(P){console.error("Failed to load feature flags",P)}})()},[]),w.useEffect(()=>{},[]);const O=async C=>{if(!g){t("/login");return}if(g&&!b){alert("Your account is pending approval. You cannot start an exam yet.");return}if(C===Gf.PAPER_1&&!A.paper1Enabled){alert("Paper 1 is currently disabled.");return}if(C===Gf.PAPER_2&&!A.paper2Enabled){alert("Paper 2 is currently disabled.");return}localStorage.getItem("gemini_api_key"),n(!0),a("Creating your unique exam...");try{const z=await new xh().generateExam(C,"1K");if(z.questions){const N=z.questions.flatMap(M=>M.images||[]);N.length>0&&(a("Preparing materials..."),await Promise.all(N.map(M=>new Promise(T=>{const R=new Image;R.onload=()=>T(!0),R.onerror=()=>T(!1),R.src=M}))))}t(`/exam/${C}`,{state:{examData:z}})}catch(P){console.error(P),alert("Failed to generate exam."),n(!1)}},U=()=>{if(!g){t("/login");return}if(!A.languageLabEnabled){alert("Language Lab is currently disabled.");return}t("/language-lab")},k=()=>{h.trim()&&(localStorage.setItem("gemini_api_key",h.trim()),l(!1),p(""),alert("API key saved!"))};return e?c.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-white",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-20 h-20 border-4 border-indigo-200 rounded-full animate-spin border-t-indigo-600"}),c.jsx(Xa,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-indigo-600",size:32})]}),c.jsx("p",{className:"text-gray-600 mt-8 text-lg",children:r})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-purple-50/30 overflow-y-auto overflow-x-hidden",children:[c.jsx(A3,{title:"Edexcel GCSE English Language Exam Simulator & Practice",description:"Sit realistic Edexcel GCSE English mock exams online. Get instant AI marking, feedback, and grade estimates. Perfect for Paper 1 & 2 revision."}),c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-4",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center bg-white/70 backdrop-blur-xl rounded-2xl px-6 py-3 shadow-lg shadow-purple-500/5 border border-white/50",children:[c.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>t("/"),children:[c.jsx("img",{src:aS,alt:"Logo",className:"w-9 h-9 rounded-xl shadow-sm"}),c.jsx("span",{className:"font-bold text-gray-900 hidden sm:block",children:"Go GCSE"})]}),c.jsx("div",{className:"flex items-center gap-3",children:g?c.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-500/25 transition-all text-sm",children:[c.jsx(eS,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}):c.jsx("button",{onClick:()=>t("/login"),className:"px-5 py-2.5 bg-gray-900 text-white rounded-xl font-semibold hover:bg-gray-800 transition-all text-sm",children:"Sign In"})})]})}),c.jsx("section",{className:"pt-32 pb-20 px-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsxs("div",{className:"inline-flex mb-8 bg-amber-50 border border-amber-200 rounded-lg px-4 py-2 text-xs text-amber-800",children:[c.jsx("span",{className:"font-semibold",children:" Disclaimer:"}),c.jsx("span",{className:"ml-2",children:"This is an independent educational tool. Not affiliated with exam boards or educational authorities."})]}),c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-medium mb-8",children:[c.jsx(VX,{size:14}),"Powered by AI"]}),c.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 mb-6 leading-tight tracking-tight",children:["Master Your",c.jsx("span",{className:"block bg-gradient-to-r from-purple-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent py-2",children:"English GCSE"})]}),c.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto mb-12 leading-relaxed",children:"Unlimited AI-generated mock exams with instant marking, grade predictions, and personalized feedback."}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[c.jsxs("button",{onClick:()=>f(!0),disabled:g&&!b,className:`group flex items-center gap-3 px-8 py-4 rounded-2xl font-bold text-lg transition-all ${g&&!b?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800 hover:shadow-xl hover:scale-[1.02]"}`,children:[g&&!b?"Approval Pending":"Start Mock Exam",(!g||b)&&c.jsx(Hv,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),c.jsxs("button",{onClick:U,disabled:!A.languageLabEnabled,className:`flex items-center gap-3 px-8 py-4 rounded-2xl font-bold text-lg border-2 transition-all ${A.languageLabEnabled?"border-gray-200 text-gray-700 hover:border-purple-300 hover:bg-purple-50":"border-gray-100 text-gray-300 cursor-not-allowed"}`,children:[c.jsx($g,{size:20}),"Language Lab"]})]})]})}),c.jsx("section",{className:"py-20 px-6",children:c.jsx("div",{className:"max-w-6xl mx-auto",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"group p-8 bg-white rounded-3xl border border-gray-100 hover:border-purple-200 hover:shadow-xl hover:shadow-purple-500/5 transition-all",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:c.jsx(Xa,{size:24,className:"text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"AI-Generated Papers"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Every exam is unique, crafted by advanced AI to match real Edexcel specifications."})]}),c.jsxs("div",{className:"group p-8 bg-white rounded-3xl border border-gray-100 hover:border-purple-200 hover:shadow-xl hover:shadow-purple-500/5 transition-all",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:c.jsx(E3,{size:24,className:"text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Instant Marking"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Get detailed feedback and model answers the moment you submit."})]}),c.jsxs("div",{className:"group p-8 bg-white rounded-3xl border border-gray-100 hover:border-purple-200 hover:shadow-xl hover:shadow-purple-500/5 transition-all",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:c.jsx(f3,{size:24,className:"text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Grade Predictions"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Track your progress with accurate grade estimates based on Edexcel boundaries."})]})]})})}),d&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"Choose Your Paper"}),c.jsx("p",{className:"text-gray-500",children:"Select the type of exam you want to practice."})]}),c.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>{O(Gf.PAPER_1),f(!1)},disabled:!A.paper1Enabled,className:`relative group p-6 rounded-2xl border-2 text-left transition-all ${A.paper1Enabled?"border-gray-100 hover:border-purple-600 hover:bg-purple-50 hover:shadow-xl":"border-gray-100 opacity-50 cursor-not-allowed"}`,children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:c.jsx(Jn,{size:24})}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Fiction & Imaginative Writing"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Paper 1  1 hour 45 mins"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"19th Century Fiction"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"Creative Writing"]})]})]}),c.jsxs("button",{onClick:()=>{O(Gf.PAPER_2),f(!1)},disabled:!A.paper2Enabled,className:`relative group p-6 rounded-2xl border-2 text-left transition-all ${A.paper2Enabled?"border-gray-100 hover:border-teal-600 hover:bg-teal-50 hover:shadow-xl":"border-gray-100 opacity-50 cursor-not-allowed"}`,children:[c.jsx("div",{className:"w-12 h-12 bg-teal-100 text-teal-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:c.jsx(fc,{size:24})}),c.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Non-Fiction & Transactional"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Paper 2  2 hours 05 mins"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-teal-400 rounded-full"}),"20th/21st Century Texts"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-teal-400 rounded-full"}),"Persuasive Writing"]})]})]})]})]})}),s&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure API Key"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Enter your Gemini API key to generate exams."}),c.jsx("div",{className:"bg-purple-50 border border-purple-100 rounded-2xl p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-purple-800",children:["Get your key at ",c.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline font-semibold",children:"Google AI Studio"})]})}),c.jsx("input",{type:"password",value:h,onChange:C=>p(C.target.value),placeholder:"Paste API key...",className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl mb-6 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",onKeyDown:C=>C.key==="Enter"&&k()}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{l(!1),p("")},className:"flex-1 py-4 text-gray-600 font-semibold bg-gray-100 hover:bg-gray-200 rounded-2xl transition-colors",children:"Cancel"}),c.jsx("button",{onClick:k,className:"flex-1 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-2xl hover:shadow-lg transition-all",children:"Save Key"})]})]})})]})},WX=({sources:t=[],isOpen:e,onToggle:n})=>{var v;const[r,a]=w.useState(((v=t==null?void 0:t[0])==null?void 0:v.id)||"A"),[s,l]=w.useState(16),[d,f]=w.useState(1.8),[h,p]=w.useState(!1);w.useEffect(()=>{t&&t.length>0&&a(t[0].id)},[t]);const g=(t==null?void 0:t.find(b=>b.id===r))||(t==null?void 0:t[0]);return e?c.jsxs("div",{className:`fixed inset-y-0 left-0 z-40 w-full md:w-1/2 lg:w-[45%] bg-white shadow-2xl transform transition-transform duration-300 flex flex-col border-r border-gray-200 ${h?"bg-gray-900 text-yellow-50":""}`,children:[c.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${h?"border-gray-700 bg-gray-800":"border-gray-200 bg-edexcel-light"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:n,className:"md:hidden p-1 text-gray-600 hover:bg-black/10 rounded-full",children:c.jsx(ri,{size:20})}),c.jsxs("h2",{className:"font-bold text-lg text-edexcel-dark flex items-center gap-2",children:[c.jsx(qQ,{size:20}),c.jsx("span",{children:"SOURCE BOOKLET"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>l(b=>Math.max(12,b-2)),className:"p-1 hover:bg-black/10 rounded",title:"Decrease Font",children:c.jsx(qX,{size:18})}),c.jsx("button",{onClick:()=>l(b=>Math.min(24,b+2)),className:"p-1 hover:bg-black/10 rounded",title:"Increase Font",children:c.jsx(BX,{size:18})}),c.jsx("button",{onClick:()=>f(b=>b>=2.2?1.6:2.2),className:"p-1 hover:bg-black/10 rounded",title:"Toggle Line Height",children:c.jsx(IX,{size:18})}),c.jsx("button",{onClick:()=>p(!h),className:`p-1 rounded ${h?"bg-yellow-400 text-black":"hover:bg-black/10"}`,title:"High Contrast",children:c.jsx(MQ,{size:18})})]})]}),t&&t.length>1&&c.jsx("div",{className:"flex border-b border-gray-200",children:t.map(b=>c.jsxs("button",{onClick:()=>a(b.id),className:`flex-1 py-3 text-sm font-semibold border-b-2 transition-colors ${r===b.id?"border-edexcel-blue text-edexcel-blue bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} ${h?"bg-gray-800 border-gray-700 text-gray-300":""}`,children:["Source ",b.id]},b.id))}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 source-scroll",children:g?c.jsxs("article",{className:"max-w-2xl mx-auto ",style:{fontSize:`${s}px`,lineHeight:d},children:[c.jsxs("div",{className:`mb-8 p-4 rounded-lg text-sm italic border-l-4 no-print ${h?"bg-gray-800 border-gray-600 text-gray-300":"bg-gray-100 border-gray-400 text-gray-700"}`,children:[c.jsx("strong",{className:`block not-italic mb-1 text-lg ${h?"text-white":"text-gray-900"}`,children:g.title||`Source ${g.id}`}),c.jsxs("div",{className:"text-base font-serif mb-2",children:[g.author&&`By ${g.author}`," ",g.year&&`(${g.year})`]}),c.jsx("p",{className:`mt-2 ${h?"text-gray-400":"text-gray-600"}`,children:g.summary})]}),c.jsx("div",{className:"font-serif select-text relative",style:{textAlign:"justify",textJustify:"inter-word"},children:g.content.split(`
`).filter(b=>b.trim()!=="").map((b,E)=>c.jsx("div",{className:"mb-5",children:c.jsx("p",{className:"mb-0",children:b})},E))})]}):c.jsx("div",{className:"p-8 text-center text-gray-500",children:t.length===0?"Sources are generating...":"No active source selected."})})]}):null},YX=({paper:t,onFinish:e,onDiscard:n})=>{var $,ne,pe,Y,oe;const[r,a]=w.useState(0),[s,l]=w.useState({}),[d,f]=w.useState(!0),[h,p]=w.useState(t.timeLimitMinutes*60),[g,v]=w.useState(!1),[b,E]=w.useState(!1),[A,S]=w.useState(!1),[O,U]=w.useState({});w.useEffect(()=>{const H=localStorage.getItem(`exam_draft_${t.id}`);if(H){const K=JSON.parse(H);l(K);const se={};t.questions.forEach(q=>{var re;q.optionalGroup&&((re=K[q.id])!=null&&re.text)&&(se[q.optionalGroup]=q.id)}),U(q=>({...q,...se}))}else{const K={};t.questions.forEach(se=>{K[se.id]={questionId:se.id,text:"",timestamp:Date.now(),isFlagged:!1}}),l(K)}},[t]),w.useEffect(()=>{const H=setInterval(()=>{p(K=>K<=0?(clearInterval(H),0):K-1)},1e3);return()=>clearInterval(H)},[]);const k=H=>{const K=Math.floor(H/3600),se=Math.floor(H%3600/60),q=H%60;return`${K}:${se.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},C=t.questions[r],P=!!C.optionalGroup,z=P?O[C.optionalGroup]:null,N=(H,K)=>{U(q=>({...q,[K]:H}));const se=t.questions.findIndex(q=>q.id===H);se!==-1&&a(se)},M=(($=s[C.id])==null?void 0:$.text)||"",T=H=>{const K={...s,[C.id]:{...s[C.id],text:H,timestamp:Date.now()}};C.optionalGroup&&U(se=>({...se,[C.optionalGroup]:C.id})),l(K),localStorage.setItem(`exam_draft_${t.id}`,JSON.stringify(K))},R=H=>{const K={...s,[C.id]:{...s[C.id],selectedImageIndex:H,timestamp:Date.now()}};l(K)},L=()=>{const H={...s,[C.id]:{...s[C.id],isFlagged:!s[C.id].isFlagged}};l(H),localStorage.setItem(`exam_draft_${t.id}`,JSON.stringify(H))},V=M.trim().split(/\s+/).filter(H=>H.length>0).length;return c.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden font-sans",children:[c.jsx(WX,{sources:t.sources,isOpen:d,onToggle:()=>f(!d)}),c.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${d?"md:ml-[45%] lg:ml-[45%]":""}`,children:[c.jsxs("div",{className:"bg-amber-50 border-b border-amber-200 px-4 lg:px-6 py-3 flex gap-2 items-start",children:[c.jsx(Mi,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-xs text-amber-800 font-medium",children:"This is a practice exam. Grades are AI-generated estimates and not official qualifications. Use for revision purposes only."})]}),c.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 lg:px-6 z-20 shadow-sm shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>f(!d),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${d?"bg-edexcel-dark text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(Jn,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:d?"Hide Sources":"Show Sources"})]}),c.jsx("button",{onClick:()=>S(!A),className:"lg:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-md",children:c.jsx(kQ,{size:20})}),c.jsxs("div",{className:"hidden lg:block",children:[c.jsx("h1",{className:"text-sm font-bold text-gray-800",children:t.title}),c.jsxs("span",{className:"text-xs text-gray-500",children:["Specimen 1EN0  ",t.timeLimitMinutes," mins"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:`flex items-center gap-2 font-mono text-lg font-bold ${h<300?"text-red-600 animate-pulse":"text-edexcel-dark"}`,children:[c.jsx(Gv,{size:20}),k(h)]}),c.jsxs("button",{onClick:()=>E(!0),className:"px-3 md:px-4 py-2 border border-red-200 text-red-600 hover:bg-red-50 rounded-md font-bold text-xs md:text-sm transition-all flex items-center gap-2",title:"Leave & Discard Progress",children:[c.jsx(hd,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Leave Exam"})]}),c.jsx("button",{onClick:()=>v(!0),className:"bg-edexcel-blue hover:bg-edexcel-dark text-white px-4 md:px-6 py-2 rounded-md font-bold text-xs md:text-sm shadow-sm transition-transform active:scale-95",children:"Finish & Submit"})]})]}),c.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[c.jsx("div",{className:`${A?"absolute inset-y-0 left-0 w-64 bg-white shadow-xl z-30 transform translate-x-0":"hidden lg:flex lg:w-20 lg:flex-col lg:items-center lg:border-r lg:bg-gray-50 lg:py-4"} transition-transform duration-200 overflow-y-auto`,children:c.jsxs("div",{className:"w-full px-4 lg:px-2 space-y-2 pb-20 pt-4 lg:pt-0",children:[c.jsxs("div",{className:"flex justify-between items-center lg:hidden mb-4 px-2",children:[c.jsx("h3",{className:"font-bold text-gray-500",children:"Questions"}),c.jsx("button",{onClick:()=>S(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:c.jsx(ri,{size:20,className:"text-gray-500"})})]}),t.questions.map((H,K)=>{var Pe,Nt;const se=s[H.id],q=K===r,re=(se==null?void 0:se.text.length)>5,me=se==null?void 0:se.isFlagged,ye=H.optionalGroup&&(!((Pe=t.questions[K-1])!=null&&Pe.optionalGroup)||t.questions[K-1].optionalGroup!==H.optionalGroup);H.optionalGroup&&(!((Nt=t.questions[K+1])!=null&&Nt.optionalGroup)||(t.questions[K+1].optionalGroup,H.optionalGroup));const Ce=H.optionalGroup?O[H.optionalGroup]===H.id:!0,ke=H.optionalGroup&&O[H.optionalGroup]&&!Ce;return c.jsxs("div",{children:[ye&&c.jsx("div",{className:"text-[10px] text-center uppercase font-bold text-gray-400 mt-2 mb-1",children:"OR"}),c.jsxs("button",{onClick:()=>{a(K),S(!1),H.optionalGroup&&N(H.id,H.optionalGroup)},className:`w-full lg:w-12 lg:h-12 flex items-center lg:justify-center px-4 py-3 lg:p-0 rounded-lg text-left lg:text-center text-sm font-bold transition-all
                          ${q?"bg-edexcel-blue text-white shadow-md ring-2 ring-blue-300":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-100"}
                          ${me?"ring-2 ring-orange-400":""}
                          ${re&&!q?"bg-blue-50 border-blue-200 text-edexcel-dark":""}
                          ${ke?"opacity-40 grayscale":""}
                        `,children:[c.jsx("span",{className:"lg:hidden mr-2",children:"Question"}),H.number,me&&c.jsx(bI,{size:10,className:"ml-auto lg:absolute lg:top-1 lg:right-1 text-orange-500"})]})]},H.id)})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-3 md:p-4 lg:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[P&&c.jsxs("div",{className:"mb-6 bg-white p-4 rounded-lg shadow-sm border border-purple-200 flex flex-col sm:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Mi,{className:"text-purple-600",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Choice of Question"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["You must answer EITHER Question ",t.questions.filter(H=>H.optionalGroup===C.optionalGroup)[0].number," OR Question ",t.questions.filter(H=>H.optionalGroup===C.optionalGroup)[1].number,"."]})]})]}),c.jsx("div",{className:"flex gap-2",children:t.questions.filter(H=>H.optionalGroup===C.optionalGroup).map(H=>c.jsxs("button",{onClick:()=>N(H.id,H.optionalGroup),className:`px-4 py-2 rounded text-sm font-bold border ${O[H.optionalGroup]===H.id?"bg-purple-600 text-white border-purple-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:["Q",H.number]},H.id))})]}),c.jsxs("div",{className:`bg-white rounded-xl shadow-sm border transition-opacity duration-300 ${P&&z&&z!==C.id?"opacity-50 pointer-events-none grayscale":"opacity-100 border-gray-200"}`,children:[c.jsxs("div",{className:"p-4 md:p-6 lg:p-10 border-b border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2",children:[c.jsxs("span",{className:"bg-edexcel-dark text-white px-3 py-1 rounded text-xs md:text-sm font-bold shadow-sm",children:["Question ",C.number]}),P&&c.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Option"})]}),c.jsxs("div",{className:"text-xs md:text-sm font-medium text-gray-500",children:[C.marks," Marks  ",C.aos.join(", ")]})]}),c.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-gray-400 uppercase tracking-wide bg-gray-100 px-2 py-1 rounded",children:["Section ",C.section]})]}),C.sourceRef&&c.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-100 rounded-lg p-3 flex items-start gap-3",children:[c.jsx(Jn,{className:"text-edexcel-blue mt-0.5 shrink-0",size:18}),c.jsxs("div",{className:"text-xs md:text-sm text-edexcel-dark font-medium",children:["Refer to: ",C.sourceRef]})]}),c.jsx("h2",{className:"text-lg md:text-xl lg:text-2xl font-serif text-gray-900 leading-relaxed",children:C.text}),C.images&&C.images.length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsx("p",{className:"text-sm font-bold text-gray-500 mb-4 uppercase tracking-wider",children:"Select an image prompt:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.images.map((H,K)=>{var se,q;return c.jsxs("div",{onClick:()=>R(K),className:`relative group cursor-pointer rounded-lg overflow-hidden border-4 transition-all ${((se=s[C.id])==null?void 0:se.selectedImageIndex)===K?"border-edexcel-blue ring-4 ring-blue-100":"border-transparent hover:border-gray-300"}`,children:[c.jsx("img",{src:H,alt:`Prompt ${K+1}`,className:"w-full h-48 object-cover"}),c.jsxs("div",{className:"absolute top-2 left-2 bg-black/60 text-white px-2 py-1 rounded text-xs font-bold backdrop-blur-sm",children:["Option ",K+1]}),((q=s[C.id])==null?void 0:q.selectedImageIndex)===K&&c.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center backdrop-blur-[1px]",children:c.jsx(Wi,{className:"text-white drop-shadow-md",size:48})})]},K)})})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:M,onChange:H=>T(H.target.value),className:"w-full min-h-[400px] p-4 md:p-10 text-base md:text-lg leading-relaxed bg-white rounded-b-xl focus:bg-blue-50/30 outline-none resize-y font-serif",placeholder:P&&z!==C.id?"You have selected the other option.":"Start typing your answer here...",spellCheck:!1,disabled:P&&z!==C.id}),c.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-4 text-xs text-gray-400 font-sans pointer-events-none bg-white/80 p-2 rounded backdrop-blur",children:[c.jsxs("span",{className:(ne=s[C.id])!=null&&ne.text?"text-green-600 flex items-center gap-1":"opacity-0",children:[c.jsx(xy,{size:12})," Saved"]}),c.jsxs("span",{children:[V," words ",C.wordCountTarget?`/ ~${C.wordCountTarget}`:""]})]})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-8",children:[c.jsxs("button",{disabled:r===0,onClick:()=>a(H=>H-1),className:"flex items-center gap-2 px-4 md:px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 transition-colors shadow-sm text-sm md:text-base",children:[c.jsx(XA,{size:20})," ",c.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),c.jsxs("button",{onClick:L,className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded transition-colors ${(pe=s[C.id])!=null&&pe.isFlagged?"text-orange-600 bg-orange-50":"text-gray-500 hover:bg-gray-100"}`,children:[c.jsx(bI,{size:16,fill:(Y=s[C.id])!=null&&Y.isFlagged?"currentColor":"none"}),(oe=s[C.id])!=null&&oe.isFlagged?"Flagged":"Flag"]}),c.jsxs("button",{disabled:r===t.questions.length-1,onClick:()=>a(H=>H+1),className:"flex items-center gap-2 px-4 md:px-6 py-3 bg-edexcel-dark text-white rounded-lg font-medium hover:bg-gray-800 disabled:opacity-50 transition-colors shadow-sm text-sm md:text-base",children:[c.jsx("span",{className:"hidden sm:inline",children:"Next"})," ",c.jsx(vh,{size:20})]})]})]})})]})]}),g&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-8 shadow-2xl",children:[c.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900",children:"Finish Exam?"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["You are about to submit your assessment.",c.jsx("br",{}),"Note: Unanswered optional questions will be ignored."]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"text-gray-600",children:"Answered"}),c.jsxs("span",{className:"font-bold",children:[Object.values(s).filter(H=>H.text.trim().length>0).length," Questions"]})]}),c.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-edexcel-blue",style:{width:`${Object.values(s).filter(H=>H.text.trim().length>0).length/t.questions.length*100}%`}})})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>v(!1),className:"flex-1 py-3 text-gray-700 font-medium bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Return"}),c.jsx("button",{onClick:()=>{localStorage.removeItem(`exam_draft_${t.id}`);const H=t.timeLimitMinutes*60-h;e(s,H)},className:"flex-1 py-3 bg-edexcel-blue text-white font-bold rounded-lg hover:bg-edexcel-dark shadow-lg transition-colors",children:"Submit Now"})]})]})}),b&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-8 shadow-2xl",children:[c.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-600 rounded-full flex items-center justify-center mb-6 mx-auto",children:c.jsx(Mi,{size:32})}),c.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900 text-center",children:"Discard Exam?"}),c.jsxs("p",{className:"text-gray-600 mb-8 text-center",children:["Are you sure you want to leave? All your progress and answers for this paper will be ",c.jsx("strong",{children:"permanently deleted"}),"."]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 text-gray-700 font-medium bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Stay & Continue"}),c.jsx("button",{onClick:()=>{localStorage.removeItem(`exam_draft_${t.id}`),n()},className:"flex-1 py-3 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 shadow-lg transition-colors",children:"Discard & Exit"})]})]})})]})},QX=()=>{var d;const t=ra(),e=Ft(),n=(d=t.state)==null?void 0:d.examData,[r,a]=w.useState(!1);if(!n)return c.jsx(Yl,{to:"/"});const s=async(f,h)=>{console.log("Starting handleFinishExam with answers:",f),a(!0);try{const p=new xh;console.log("Calling gemini.markExam...");const g=await p.markExam(n,f);console.log("gemini.markExam completed:",g),g.duration=h,console.log("Calling gemini.generateModelAnswers...");const v=await p.generateModelAnswers(n);if(console.log("gemini.generateModelAnswers completed"),g.generatedModelAnswers=v,je.currentUser){const b=je.currentUser.uid;console.log("Saving result to Firebase for user:",b);const E=await s3(b,g,n,f);if(E){console.log("Save to Firebase successful, ID:",E);try{const{PdfService:A}=await by(async()=>{const{PdfService:C}=await import("./PdfService-DmQ_MBdw.js").then(P=>P.P);return{PdfService:C}},[]),S=A.generateExamPdf(g,n),{uploadExamPdf:O,updateExamWithPdf:U}=await by(async()=>{const{uploadExamPdf:C,updateExamWithPdf:P}=await Promise.resolve().then(()=>YA);return{uploadExamPdf:C,updateExamWithPdf:P}},void 0),k=await O(b,E,S);k&&(await U(E,k),console.log("PDF linked to exam result successfully"))}catch(A){console.error("PDF Generation/Upload Failed:",A)}}else console.error("Failed to save exam result document")}else console.log("Skipping Firebase save: User not logged in");console.log("Navigating to /results..."),e("/results",{state:{examResult:g,examData:n,answers:f}})}catch(p){console.error("Marking failed DETAILS:",p);let g="Marking failed. Please try again.";p.message.includes("API key")&&(g="AI Marking unavailable: Missing API Key."),p.message.includes("generate content")&&(g="AI Service Error: Failed to generate report."),alert(`${g}

Technical Details: ${p.message||p}`),a(!1)}},l=()=>{e("/dashboard")};return r?c.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 text-center p-8",children:[c.jsx("div",{className:"animate-spin text-edexcel-blue mb-6",children:c.jsx(Xa,{size:48})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Grading Assessment"}),c.jsx("p",{className:"text-gray-500 max-w-md",children:"AI Examiner is marking your scripts against the Edexcel 1EN0 criteria..."})]}):c.jsx(YX,{paper:n,onFinish:s,onDiscard:l})};function S3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=S3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=S3(t))&&(r&&(r+=" "),r+=e);return r}var XX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function iS(t){if(typeof t!="string")return!1;var e=XX;return e.includes(t)}var ZX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JX=new Set(ZX);function j3(t){return typeof t!="string"?!1:JX.has(t)}function N3(t){return typeof t=="string"&&t.startsWith("data-")}function br(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(j3(n)||N3(n))&&(e[n]=t[n]);return e}function hc(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return br(e)}return typeof t=="object"&&!Array.isArray(t)?br(t):null}function ur(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(j3(n)||N3(n)||iS(n))&&(e[n]=t[n]);return e}function eZ(t){return t==null?null:w.isValidElement(t)?ur(t.props):typeof t=="object"&&!Array.isArray(t)?ur(t):null}var tZ=["children","width","height","viewBox","className","style","title","desc"];function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(null,arguments)}function nZ(t,e){if(t==null)return{};var n,r,a=rZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function rZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T3=w.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:l,style:d,title:f,desc:h}=t,p=nZ(t,tZ),g=s||{width:r,height:a,x:0,y:0},v=lt("recharts-surface",l);return w.createElement("svg",C_({},ur(p),{className:v,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,f),w.createElement("desc",null,h),n)}),aZ=["children","className"];function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(null,arguments)}function iZ(t,e){if(t==null)return{};var n,r,a=sZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yt=w.forwardRef((t,e)=>{var{children:n,className:r}=t,a=iZ(t,aZ),s=lt("recharts-layer",r);return w.createElement("g",O_({className:s},ur(a),{ref:e}),n)}),oZ=w.createContext(null);function Tt(t){return function(){return t}}const C3=Math.cos,wy=Math.sin,ai=Math.sqrt,_y=Math.PI,Yv=2*_y,I_=Math.PI,k_=2*I_,$l=1e-6,lZ=k_-$l;function O3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return O3;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class uZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?O3:cZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=r-e,h=a-n,p=l-e,g=d-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>$l)if(!(Math.abs(g*f-h*p)>$l)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-l,E=a-d,A=f*f+h*h,S=b*b+E*E,O=Math.sqrt(A),U=Math.sqrt(v),k=s*Math.tan((I_-Math.acos((A+v-S)/(2*O*U)))/2),C=k/U,P=k/O;Math.abs(C-1)>$l&&this._append`L${e+C*p},${n+C*g}`,this._append`A${s},${s},0,0,${+(g*b>p*E)},${this._x1=e+P*f},${this._y1=n+P*h}`}}arc(e,n,r,a,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),f=r*Math.sin(a),h=e+d,p=n+f,g=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>$l||Math.abs(this._y1-p)>$l)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%k_+k_),v>lZ?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:v>$l&&this._append`A${r},${r},0,${+(v>=I_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function sS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new uZ(e)}function oS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function I3(t){this._context=t}I3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qv(t){return new I3(t)}function k3(t){return t[0]}function P3(t){return t[1]}function R3(t,e){var n=Tt(!0),r=null,a=Qv,s=null,l=sS(d);t=typeof t=="function"?t:t===void 0?k3:Tt(t),e=typeof e=="function"?e:e===void 0?P3:Tt(e);function d(f){var h,p=(f=oS(f)).length,g,v=!1,b;for(r==null&&(s=a(b=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(g,h,f),+e(g,h,f));if(b)return s=null,b+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Tt(!!f),d):n},d.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),d):a},d.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),d):r},d}function fg(t,e,n){var r=null,a=Tt(!0),s=null,l=Qv,d=null,f=sS(h);t=typeof t=="function"?t:t===void 0?k3:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?P3:Tt(+n);function h(g){var v,b,E,A=(g=oS(g)).length,S,O=!1,U,k=new Array(A),C=new Array(A);for(s==null&&(d=l(U=f())),v=0;v<=A;++v){if(!(v<A&&a(S=g[v],v,g))===O)if(O=!O)b=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=v-1;E>=b;--E)d.point(k[E],C[E]);d.lineEnd(),d.areaEnd()}O&&(k[v]=+t(S,v,g),C[v]=+e(S,v,g),d.point(r?+r(S,v,g):k[v],n?+n(S,v,g):C[v]))}if(U)return d=null,U+""||null}function p(){return R3().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Tt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Tt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Tt(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class D3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function dZ(t){return new D3(t,!0)}function fZ(t){return new D3(t,!1)}const lS={draw(t,e){const n=ai(e/_y);t.moveTo(n,0),t.arc(0,0,n,0,Yv)}},hZ={draw(t,e){const n=ai(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},M3=ai(1/3),mZ=M3*2,pZ={draw(t,e){const n=ai(e/mZ),r=n*M3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gZ={draw(t,e){const n=ai(e),r=-n/2;t.rect(r,r,n,n)}},yZ=.8908130915292852,L3=wy(_y/10)/wy(7*_y/10),vZ=wy(Yv/10)*L3,xZ=-C3(Yv/10)*L3,bZ={draw(t,e){const n=ai(e*yZ),r=vZ*n,a=xZ*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const l=Yv*s/5,d=C3(l),f=wy(l);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*a,f*r+d*a)}t.closePath()}},gw=ai(3),wZ={draw(t,e){const n=-ai(e/(gw*3));t.moveTo(0,n*2),t.lineTo(-gw*n,-n),t.lineTo(gw*n,-n),t.closePath()}},ya=-.5,va=ai(3)/2,P_=1/ai(12),_Z=(P_/2+1)*3,EZ={draw(t,e){const n=ai(e/_Z),r=n/2,a=n*P_,s=r,l=n*P_+n,d=-s,f=l;t.moveTo(r,a),t.lineTo(s,l),t.lineTo(d,f),t.lineTo(ya*r-va*a,va*r+ya*a),t.lineTo(ya*s-va*l,va*s+ya*l),t.lineTo(ya*d-va*f,va*d+ya*f),t.lineTo(ya*r+va*a,ya*a-va*r),t.lineTo(ya*s+va*l,ya*l-va*s),t.lineTo(ya*d+va*f,ya*f-va*d),t.closePath()}};function AZ(t,e){let n=null,r=sS(a);t=typeof t=="function"?t:Tt(t||lS),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Ey(){}function Ay(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function U3(t){this._context=t}U3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ay(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ay(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SZ(t){return new U3(t)}function z3(t){this._context=t}z3.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ay(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jZ(t){return new z3(t)}function V3(t){this._context=t}V3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ay(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NZ(t){return new V3(t)}function $3(t){this._context=t}$3.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TZ(t){return new $3(t)}function _I(t){return t<0?-1:1}function EI(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),d=(s*a+l*r)/(r+a);return(_I(s)+_I(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function AI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yw(t,e,n){var r=t._x0,a=t._y0,s=t._x1,l=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,a+d*e,s-d,l-d*n,s,l)}function Sy(t){this._context=t}Sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yw(this,this._t0,AI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yw(this,AI(this,n=EI(this,t,e)),n);break;default:yw(this,this._t0,n=EI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function B3(t){this._context=new F3(t)}(B3.prototype=Object.create(Sy.prototype)).point=function(t,e){Sy.prototype.point.call(this,e,t)};function F3(t){this._context=t}F3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function CZ(t){return new Sy(t)}function OZ(t){return new B3(t)}function q3(t){this._context=t}q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=SI(t),a=SI(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SI(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function IZ(t){return new q3(t)}function Xv(t,e){this._context=t,this._t=e}Xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function kZ(t){return new Xv(t,.5)}function PZ(t){return new Xv(t,0)}function RZ(t){return new Xv(t,1)}function Wu(t,e){if((l=t.length)>1)for(var n=1,r,a,s=t[e[0]],l,d=s.length;n<l;++n)for(a=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function R_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function DZ(t,e){return t[e]}function MZ(t){const e=[];return e.key=t,e}function LZ(){var t=Tt([]),e=R_,n=Wu,r=DZ;function a(s){var l=Array.from(t.apply(this,arguments),MZ),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+r(g,l[d].key,h,s)]).data=g;for(d=0,p=oS(e(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Tt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?R_:typeof s=="function"?s:Tt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Wu,a):n},a}function UZ(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,l;a<s;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Wu(t,e)}}function zZ(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var l=0,d=0;l<a;++l)d+=t[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}Wu(t,e)}}function VZ(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,l;r<s;++r){for(var d=0,f=0,h=0;d<l;++d){for(var p=t[e[d]],g=p[r][1]||0,v=p[r-1][1]||0,b=(g-v)/2,E=0;E<d;++E){var A=t[e[E]],S=A[r][1]||0,O=A[r-1][1]||0;b+=S-O}f+=g,h+=b*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Wu(t,e)}}var vw={},xw={},jI;function $Z(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(xw)),xw}var bw={},NI;function H3(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(bw)),bw}var ww={},TI;function cS(){return TI||(TI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(ww)),ww}var _w={},Ew={},CI;function BZ(){return CI||(CI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Ew)),Ew}var OI;function uS(){return OI||(OI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BZ(),n=cS();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],l=a.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=a[d];h?g==="\\"&&d+1<l?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(_w)),_w}var II;function dS(){return II||(II=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Z(),n=H3(),r=cS(),a=uS();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(vw)),vw}var Aw,kI;function FZ(){return kI||(kI=1,Aw=dS().get),Aw}var qZ=FZ();const mc=Hi(qZ);var Vn=t=>t===0?0:t>0?1:-1,Na=t=>typeof t=="number"&&t!=+t,Ds=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ee=t=>(typeof t=="number"||t instanceof Number)&&!Na(t),zi=t=>Ee(t)||typeof t=="string",HZ=0,bh=t=>{var e=++HZ;return"".concat(t||"").concat(e)},lr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&typeof e!="string")return r;var s;if(Ds(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Na(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},G3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function ft(t,e,n){return Ee(t)&&Ee(e)?t+n*(e-t):e}function K3(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):mc(r,e))===n)}var Pt=t=>t===null||typeof t>"u",nm=t=>Pt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function GZ(t){return t!=null}function rm(){}var KZ=["type","size","sizeType"];function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(null,arguments)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return(e=YZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YZ(t){var e=QZ(t,"string");return typeof e=="symbol"?e:e+""}function QZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XZ(t,e){if(t==null)return{};var n,r,a=ZZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ZZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var W3={symbolCircle:lS,symbolCross:hZ,symbolDiamond:pZ,symbolSquare:gZ,symbolStar:bZ,symbolTriangle:wZ,symbolWye:EZ},JZ=Math.PI/180,eJ=t=>{var e="symbol".concat(nm(t));return W3[e]||lS},tJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*JZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},nJ=(t,e)=>{W3["symbol".concat(nm(t))]=e},Y3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=XZ(t,KZ),s=RI(RI({},a),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var d=()=>{var v=eJ(l),b=AZ().type(v).size(tJ(n,r,l)),E=b();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=ur(s);return Ee(h)&&Ee(p)&&Ee(n)?w.createElement("path",D_({},g,{className:lt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Y3.registerSymbol=nJ;var Q3=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,fS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{iS(a)&&(r[a]=(s=>n[a](n,s)))}),r},rJ=(t,e,n)=>r=>(t(e,n,r),null),Zv=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];iS(a)&&typeof s=="function"&&(r||(r={}),r[a]=rJ(s,e,n))}),r};function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){iJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iJ(t,e,n){return(e=sJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=oJ(t,"string");return typeof e=="symbol"?e:e+""}function oJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function En(t,e){var n=aJ({},t),r=e,a=Object.keys(e),s=a.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return s}var Sw={},jw={},MI;function lJ(){return MI||(MI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const l=n[s],d=r(l);a.has(d)||a.set(d,l)}return Array.from(a.values())}t.uniqBy=e})(jw)),jw}var Nw={},LI;function X3(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Nw)),Nw}var Tw={},Cw={},Ow={},UI;function cJ(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Ow)),Ow}var zI;function hS(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Cw)),Cw}var Iw={},VI;function uJ(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Iw)),Iw}var $I;function dJ(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hS(),n=uJ();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(Tw)),Tw}var kw={},Pw={},BI;function fJ(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dS();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Pw)),Pw}var Rw={},Dw={},Mw={},Lw={},FI;function Z3(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Lw)),Lw}var Uw={},qI;function J3(){return qI||(qI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Uw)),Uw}var zw={},HI;function e5(){return HI||(HI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(zw)),zw}var GI;function hJ(){return GI||(GI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z3(),n=J3(),r=e5();function a(p,g,v){return typeof v!="function"?a(p,g,()=>{}):s(p,g,function b(E,A,S,O,U,k){const C=v(E,A,S,O,U,k);return C!==void 0?!!C:s(E,A,b,k)},new Map)}function s(p,g,v,b){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,v,b);case"function":return Object.keys(g).length>0?s(p,{...g},v,b):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,v,b){if(g==null)return!0;if(Array.isArray(g))return f(p,g,v,b);if(g instanceof Map)return d(p,g,v,b);if(g instanceof Set)return h(p,g,v,b);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(b!=null&&b.has(g))return b.get(g)===p;b==null||b.set(g,p);try{for(let A=0;A<E.length;A++){const S=E[A];if(!n.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!v(p[S],g[S],S,p,g,b))return!1}return!0}finally{b==null||b.delete(g)}}function d(p,g,v,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,A]of g.entries()){const S=p.get(E);if(v(S,A,E,p,g,b)===!1)return!1}return!0}function f(p,g,v,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let A=0;A<g.length;A++){const S=g[A];let O=!1;for(let U=0;U<p.length;U++){if(E.has(U))continue;const k=p[U];let C=!1;if(v(k,S,A,p,g,b)&&(C=!0),C){E.add(U),O=!0;break}}if(!O)return!1}return!0}function h(p,g,v,b){return g.size===0?!0:p instanceof Set?f([...p],[...g],v,b):!1}t.isMatchWith=a,t.isSetMatch=h})(Mw)),Mw}var KI;function t5(){return KI||(KI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hJ();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Dw)),Dw}var Vw={},$w={},Bw={},WI;function mJ(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Bw)),Bw}var Fw={},YI;function n5(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Fw)),Fw}var qw={},QI;function r5(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",b="[object Object]",E="[object Error]",A="[object DataView]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",U="[object Uint16Array]",k="[object Uint32Array]",C="[object BigUint64Array]",P="[object Int8Array]",z="[object Int16Array]",N="[object Int32Array]",M="[object BigInt64Array]",T="[object Float32Array]",R="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=v,t.arrayTag=p,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=C,t.booleanTag=a,t.dataViewTag=A,t.dateTag=d,t.errorTag=E,t.float32ArrayTag=T,t.float64ArrayTag=R,t.functionTag=g,t.int16ArrayTag=z,t.int32ArrayTag=N,t.int8ArrayTag=P,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=U,t.uint32ArrayTag=k,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=O})(qw)),qw}var Hw={},XI;function pJ(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Hw)),Hw}var ZI;function a5(){return ZI||(ZI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mJ(),n=n5(),r=r5(),a=J3(),s=pJ();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,v,b=new Map,E=void 0){const A=E==null?void 0:E(p,g,v,b);if(A!==void 0)return A;if(a.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const S=new Array(p.length);b.set(p,S);for(let O=0;O<p.length;O++)S[O]=d(p[O],O,v,b,E);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;b.set(p,S);for(const[O,U]of p)S.set(O,d(U,O,v,b,E));return S}if(p instanceof Set){const S=new Set;b.set(p,S);for(const O of p)S.add(d(O,void 0,v,b,E));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,S);for(let O=0;O<p.length;O++)S[O]=d(p[O],O,v,b,E);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,S),f(S,p,v,b,E),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return b.set(p,S),f(S,p,v,b,E),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return b.set(p,S),f(S,p,v,b,E),S}if(p instanceof Error){const S=new p.constructor;return b.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,v,b,E),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return b.set(p,S),f(S,p,v,b,E),S}if(p instanceof Number){const S=new Number(p.valueOf());return b.set(p,S),f(S,p,v,b,E),S}if(p instanceof String){const S=new String(p.valueOf());return b.set(p,S),f(S,p,v,b,E),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return b.set(p,S),f(S,p,v,b,E),S}return p}function f(p,g,v=p,b,E){const A=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<A.length;S++){const O=A[S],U=Object.getOwnPropertyDescriptor(p,O);(U==null||U.writable)&&(p[O]=d(g[O],O,v,b,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=d,t.copyProperties=f})($w)),$w}var JI;function gJ(){return JI||(JI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Vw)),Vw}var ek;function yJ(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t5(),n=gJ();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(Rw)),Rw}var Gw={},Kw={},Ww={},tk;function vJ(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a5(),n=r5();function r(a,s){return e.cloneDeepWith(a,(l,d,f,h)=>{const p=s==null?void 0:s(l,d,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Ww)),Ww}var nk;function xJ(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Kw)),Kw}var Yw={},Qw={},rk;function i5(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Qw)),Qw}var Xw={},ak;function bJ(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n5();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Xw)),Xw}var ik;function wJ(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H3(),n=i5(),r=bJ(),a=uS();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Yw)),Yw}var sk;function _J(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t5(),n=cS(),r=xJ(),a=dS(),s=wJ();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(Gw)),Gw}var ok;function EJ(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X3(),n=fJ(),r=yJ(),a=_J();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(kw)),kw}var lk;function AJ(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lJ(),n=X3(),r=dJ(),a=EJ();function s(l,d=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(d)):[]}t.uniqBy=s})(Sw)),Sw}var Zw,ck;function SJ(){return ck||(ck=1,Zw=AJ().uniqBy),Zw}var jJ=SJ();const uk=Hi(jJ);function NJ(t,e,n){return e===!0?uk(t,n):typeof e=="function"?uk(t,e):t}var Jw={exports:{}},e1={},t1={exports:{}},n1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function TJ(){if(dk)return n1;dk=1;var t=td();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(g,v){var b=v(),E=r({inst:{value:b,getSnapshot:v}}),A=E[0].inst,S=E[1];return s(function(){A.value=b,A.getSnapshot=v,f(A)&&S({inst:A})},[g,b,v]),a(function(){return f(A)&&S({inst:A}),g(function(){f(A)&&S({inst:A})})},[g]),l(b),b}function f(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!n(g,b)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return n1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,n1}var fk;function CJ(){return fk||(fk=1,t1.exports=TJ()),t1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk;function OJ(){if(hk)return e1;hk=1;var t=td(),e=CJ();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return e1.useSyncExternalStoreWithSelector=function(h,p,g,v,b){var E=s(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=d(function(){function O(z){if(!U){if(U=!0,k=z,z=v(z),b!==void 0&&A.hasValue){var N=A.value;if(b(N,z))return C=N}return C=z}if(N=C,r(k,z))return N;var M=v(z);return b!==void 0&&b(N,M)?(k=z,N):(k=z,C=M)}var U=!1,k,C,P=g===void 0?null:g;return[function(){return O(p())},P===null?void 0:function(){return O(P())}]},[p,g,v,b]);var S=a(h,E[0],E[1]);return l(function(){A.hasValue=!0,A.value=S},[S]),f(S),S},e1}var mk;function IJ(){return mk||(mk=1,Jw.exports=OJ()),Jw.exports}var kJ=IJ(),mS=w.createContext(null),PJ=t=>t,Vt=()=>{var t=w.useContext(mS);return t?t.store.dispatch:PJ},Bg=()=>{},RJ=()=>Bg,DJ=(t,e)=>t===e;function Ne(t){var e=w.useContext(mS);return kJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:RJ,e?e.store.getState:Bg,e?e.store.getState:Bg,e?t:Bg,DJ)}function MJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function LJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function UJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var pk=t=>Array.isArray(t)?t:[t];function zJ(t){const e=Array.isArray(t[0])?t[0]:t;return UJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function VJ(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var $J=class{constructor(t){this.value=t}deref(){return this.value}},BJ=typeof WeakRef<"u"?WeakRef:$J,FJ=0,gk=1;function hg(){return{s:FJ,v:void 0,o:null,p:null}}function s5(t,e={}){let n=hg();const{resultEqualityCheck:r}=e;let a,s=0;function l(){var g;let d=n;const{length:f}=arguments;for(let v=0,b=f;v<b;v++){const E=arguments[v];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=d.o;A===null&&(d.o=A=new WeakMap);const S=A.get(E);S===void 0?(d=hg(),A.set(E,d)):d=S}else{let A=d.p;A===null&&(d.p=A=new Map);const S=A.get(E);S===void 0?(d=hg(),A.set(E,d)):d=S}}const h=d;let p;if(d.s===gk)p=d.v;else if(p=t.apply(null,arguments),s++,r){const v=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;v!=null&&r(v,p)&&(p=v,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new BJ(p):p}return h.s=gk,h.v=p,p}return l.clearCache=()=>{n=hg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function qJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,l=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),MJ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:b=s5,argsMemoizeOptions:E=[]}=p,A=pk(v),S=pk(E),O=zJ(a),U=g(function(){return s++,h.apply(null,arguments)},...A),k=b(function(){l++;const P=VJ(O,arguments);return d=U.apply(null,P),d},...S);return Object.assign(k,{resultFunc:h,memoizedResultFunc:U,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var J=qJ(s5),HJ=Object.assign((t,e=J)=>{LJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>HJ}),r1={},a1={},i1={},yk;function GJ(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const l=e(r),d=e(a);if(l===d&&l===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};t.compareValues=n})(i1)),i1}var s1={},o1={},vk;function o5(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(o1)),o1}var xk;function KJ(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=a})(s1)),s1}var bk;function WJ(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GJ(),n=KJ(),r=uS();function a(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const h=(b,E)=>{let A=b;for(let S=0;S<E.length&&A!=null;++S)A=A[E[S]];return A},p=(b,E)=>E==null||b==null?E:typeof b=="object"&&"key"in b?Object.hasOwn(E,b.key)?E[b.key]:h(E,b.path):typeof b=="function"?b(E):Array.isArray(b)?h(E,b):typeof E=="object"?E[b]:E,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return s.map(b=>({original:b,criteria:g.map(E=>p(E,b))})).slice().sort((b,E)=>{for(let A=0;A<g.length;A++){const S=e.compareValues(b.criteria[A],E.criteria[A],d[A]);if(S!==0)return S}return 0}).map(b=>b.original)}t.orderBy=a})(a1)),a1}var l1={},wk;function YJ(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(n,0),a}t.flatten=e})(l1)),l1}var c1={},_k;function l5(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i5(),n=hS(),r=Z3(),a=e5();function s(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.eq(f[d],l):!1}t.isIterateeCall=s})(c1)),c1}var Ek;function QJ(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WJ(),n=YJ(),r=l5();function a(s,...l){const d=l.length;return d>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=a})(r1)),r1}var u1,Ak;function XJ(){return Ak||(Ak=1,u1=QJ().sortBy),u1}var ZJ=XJ();const Jv=Hi(ZJ);var c5=t=>t.legend.settings,JJ=t=>t.legend.size,eee=t=>t.legend.payload;J([eee,c5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Jv(r,n):r});var mg=1;function tee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>mg||Math.abs(l.left-e.left)>mg||Math.abs(l.top-e.top)>mg||Math.abs(l.width-e.width)>mg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Qn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nee=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sk=nee,d1=()=>Math.random().toString(36).substring(7).split("").join("."),ree={INIT:`@@redux/INIT${d1()}`,REPLACE:`@@redux/REPLACE${d1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${d1()}`},jy=ree;function pS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function u5(t,e,n){if(typeof t!="function")throw new Error(Qn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qn(1));return n(u5)(t,e)}let r=t,a=e,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((S,O)=>{l.set(O,S)}))}function p(){if(f)throw new Error(Qn(3));return a}function g(S){if(typeof S!="function")throw new Error(Qn(4));if(f)throw new Error(Qn(5));let O=!0;h();const U=d++;return l.set(U,S),function(){if(O){if(f)throw new Error(Qn(6));O=!1,h(),l.delete(U),s=null}}}function v(S){if(!pS(S))throw new Error(Qn(7));if(typeof S.type>"u")throw new Error(Qn(8));if(typeof S.type!="string")throw new Error(Qn(17));if(f)throw new Error(Qn(9));try{f=!0,a=r(a,S)}finally{f=!1}return(s=l).forEach(U=>{U()}),S}function b(S){if(typeof S!="function")throw new Error(Qn(10));r=S,v({type:jy.REPLACE})}function E(){const S=g;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Qn(11));function U(){const C=O;C.next&&C.next(p())}return U(),{unsubscribe:S(U)}},[Sk](){return this}}}return v({type:jy.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:b,[Sk]:E}}function aee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:jy.INIT})>"u")throw new Error(Qn(12));if(typeof n(void 0,{type:jy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qn(13))})}function d5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{aee(n)}catch(s){a=s}return function(l={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],b=l[g],E=v(b,d);if(typeof E>"u")throw d&&d.type,new Error(Qn(14));h[g]=E,f=f||E!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Ny(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function iee(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(Qn(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(l));return s=Ny(...d)(a.dispatch),{...a,dispatch:s}}}function f5(t){return pS(t)&&"type"in t&&typeof t.type=="string"}var h5=Symbol.for("immer-nothing"),jk=Symbol.for("immer-draftable"),wr=Symbol.for("immer-state");function qa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Zr=Object,Yu=Zr.getPrototypeOf,Ty="constructor",e0="prototype",M_="configurable",Cy="enumerable",Fg="writable",wh="value",Ms=t=>!!t&&!!t[wr];function Vi(t){var e;return t?m5(t)||t0(t)||!!t[jk]||!!((e=t[Ty])!=null&&e[jk])||n0(t)||r0(t):!1}var see=Zr[e0][Ty].toString(),Nk=new WeakMap;function m5(t){if(!t||!gS(t))return!1;const e=Yu(t);if(e===null||e===Zr[e0])return!0;const n=Zr.hasOwnProperty.call(e,Ty)&&e[Ty];if(n===Object)return!0;if(!Eu(n))return!1;let r=Nk.get(n);return r===void 0&&(r=Function.toString.call(n),Nk.set(n,r)),r===see}function am(t,e,n=!0){im(t)===0?(n?Reflect.ownKeys(t):Zr.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function im(t){const e=t[wr];return e?e.type_:t0(t)?1:n0(t)?2:r0(t)?3:0}var Tk=(t,e,n=im(t))=>n===2?t.has(e):Zr[e0].hasOwnProperty.call(t,e),L_=(t,e,n=im(t))=>n===2?t.get(e):t[e],Oy=(t,e,n,r=im(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function oee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var t0=Array.isArray,n0=t=>t instanceof Map,r0=t=>t instanceof Set,gS=t=>typeof t=="object",Eu=t=>typeof t=="function",f1=t=>typeof t=="boolean",gs=t=>t.copy_||t.base_,yS=t=>t.modified_?t.copy_:t.base_;function U_(t,e){if(n0(t))return new Map(t);if(r0(t))return new Set(t);if(t0(t))return Array[e0].slice.call(t);const n=m5(t);if(e===!0||e==="class_only"&&!n){const r=Zr.getOwnPropertyDescriptors(t);delete r[wr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],d=r[l];d[Fg]===!1&&(d[Fg]=!0,d[M_]=!0),(d.get||d.set)&&(r[l]={[M_]:!0,[Fg]:!0,[Cy]:d[Cy],[wh]:t[l]})}return Zr.create(Yu(t),r)}else{const r=Yu(t);if(r!==null&&n)return{...t};const a=Zr.create(r);return Zr.assign(a,t)}}function vS(t,e=!1){return a0(t)||Ms(t)||(im(t)>1&&Zr.defineProperties(t,{set:pg,add:pg,clear:pg,delete:pg}),Zr.freeze(t),e&&am(t,(n,r)=>{vS(r,!0)},!1)),t}function lee(){qa(2)}var pg={[wh]:lee};function a0(t){return t===null||!gS(t)?!0:Zr.isFrozen(t)}var Iy="MapSet",z_="Patches",p5={};function Qu(t){const e=p5[t];return e||qa(0,t),e}var cee=t=>!!p5[t],_h,g5=()=>_h,uee=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:cee(Iy)?Qu(Iy):void 0});function Ck(t,e){e&&(t.patchPlugin_=Qu(z_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function V_(t){$_(t),t.drafts_.forEach(dee),t.drafts_=null}function $_(t){t===_h&&(_h=t.parent_)}var Ok=t=>_h=uee(_h,t);function dee(t){const e=t[wr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Ik(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[wr].modified_&&(V_(e),qa(4)),Vi(t)&&(t=kk(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[wr].base_,t,e)}else t=kk(e,n);return fee(e,t,!0),V_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==h5?t:void 0}function kk(t,e){if(a0(e))return e;const n=e[wr];if(!n)return xS(e,t.handledSet_,t);if(!i0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);x5(n,t)}return n.copy_}function fee(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&vS(e,n)}function y5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var i0=(t,e)=>t.scope_===e,hee=[];function v5(t,e,n,r){const a=gs(t),s=t.type_;if(r!==void 0&&L_(a,r,s)===e){Oy(a,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;am(a,(f,h)=>{if(Ms(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=t.draftLocations_.get(e)??hee;for(const d of l)Oy(a,d,n,s)}function mee(t,e,n){t.callbacks_.push(function(a){var d;const s=e;if(!s||!i0(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const l=yS(s);v5(t,s.draft_??s,l,n),x5(s,a)})}function x5(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}y5(t)}}function pee(t,e,n){const{scope_:r}=t;if(Ms(n)){const a=n[wr];i0(a,r)&&a.callbacks_.push(function(){qg(t);const l=yS(a);v5(t,n,l,e)})}else Vi(n)&&t.callbacks_.push(function(){const s=gs(t);L_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&xS(L_(t.copy_,e,t.type_),r.handledSet_,r)})}function xS(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ms(t)||e.has(t)||!Vi(t)||a0(t)||(e.add(t),am(t,(r,a)=>{if(Ms(a)){const s=a[wr];if(i0(s,n)){const l=yS(s);Oy(t,r,l,t.type_),y5(s)}}else Vi(a)&&xS(a,e,n)})),t}function gee(t,e){const n=t0(t),r={type_:n?1:0,scope_:e?e.scope_:g5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=bS;n&&(a=[r],s=Eh);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=l,[d,r]}var bS={get(t,e){if(e===wr)return t;const n=gs(t);if(!Tk(n,e,t.type_))return yee(t,n,e);const r=n[e];if(t.finalized_||!Vi(r))return r;if(r===h1(t.base_,e)){qg(t);const a=t.type_===1?+e:e,s=F_(t.scope_,r,t,a);return t.copy_[a]=s}return r},has(t,e){return e in gs(t)},ownKeys(t){return Reflect.ownKeys(gs(t))},set(t,e,n){const r=b5(gs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=h1(gs(t),e),s=a==null?void 0:a[wr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(oee(n,a)&&(n!==void 0||Tk(t.base_,e,t.type_)))return!0;qg(t),B_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),pee(t,e,n)),!0},deleteProperty(t,e){return qg(t),h1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),B_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=gs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Fg]:!0,[M_]:t.type_!==1||e!=="length",[Cy]:r[Cy],[wh]:n[e]}},defineProperty(){qa(11)},getPrototypeOf(t){return Yu(t.base_)},setPrototypeOf(){qa(12)}},Eh={};am(bS,(t,e)=>{Eh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Eh.deleteProperty=function(t,e){return Eh.set.call(this,t,e,void 0)};Eh.set=function(t,e,n){return bS.set.call(this,t[0],e,n,t[0])};function h1(t,e){const n=t[wr];return(n?gs(n):t)[e]}function yee(t,e,n){var a;const r=b5(e,n);return r?wh in r?r[wh]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function b5(t,e){if(!(e in t))return;let n=Yu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Yu(n)}}function B_(t){t.modified_||(t.modified_=!0,t.parent_&&B_(t.parent_))}function qg(t){t.copy_||(t.assigned_=new Map,t.copy_=U_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Eu(n)&&!Eu(r)){const l=r;r=n;const d=this;return function(h=l,...p){return d.produce(h,g=>r.call(this,g,...p))}}Eu(r)||qa(6),a!==void 0&&!Eu(a)&&qa(7);let s;if(Vi(n)){const l=Ok(this),d=F_(l,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?V_(l):$_(l)}return Ck(l,a),Ik(s,l)}else if(!n||!gS(n)){if(s=r(n),s===void 0&&(s=n),s===h5&&(s=void 0),this.autoFreeze_&&vS(s,!0),a){const l=[],d=[];Qu(z_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:d}),a(l,d)}return s}else qa(1,n)},this.produceWithPatches=(n,r)=>{if(Eu(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let a,s;return[this.produce(n,r,(d,f)=>{a=d,s=f}),a,s]},f1(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),f1(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),f1(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Vi(e)||qa(8),Ms(e)&&(e=Za(e));const n=Ok(this),r=F_(n,e,void 0);return r[wr].isManual_=!0,$_(n),r}finishDraft(e,n){const r=e&&e[wr];(!r||!r.isManual_)&&qa(9);const{scope_:a}=r;return Ck(a,n),Ik(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Qu(z_).applyPatches_;return Ms(e)?a(e,n):this.produce(e,s=>a(s,n))}};function F_(t,e,n,r){const[a,s]=n0(e)?Qu(Iy).proxyMap_(e,n):r0(e)?Qu(Iy).proxySet_(e,n):gee(e,n);return((n==null?void 0:n.scope_)??g5()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?mee(n,s,r):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function Za(t){return Ms(t)||qa(10,t),w5(t)}function w5(t){if(!Vi(t)||a0(t))return t;const e=t[wr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=U_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=U_(t,!0);return am(n,(a,s)=>{Oy(n,a,w5(s))},r),e&&(e.finalized_=!1),n}var xee=new vee,_5=xee.produce;function E5(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var bee=E5(),wee=E5,_ee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ny:Ny.apply(null,arguments)};function Ta(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Jr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>f5(r)&&r.type===t,n}var A5=class Kf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kf.prototype)}static get[Symbol.species](){return Kf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Kf(...e[0].concat(this)):new Kf(...e.concat(this))}};function Pk(t){return Vi(t)?_5(t,()=>{}):t}function gg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Eee(t){return typeof t=="boolean"}var Aee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let l=new A5;return n&&(Eee(n)?l.push(bee):l.push(wee(n.extraArgument))),l},S5="RTK_autoBatch",Lt=()=>t=>({payload:t,meta:{[S5]:!0}}),Rk=t=>e=>{setTimeout(e,t)},j5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,l=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Rk(10):t.type==="callback"?t.queueNotification:Rk(t.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),v=r.subscribe(g);return d.add(p),()=>{v(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[S5]),s=!a,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},See=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new A5(t);return r&&a.push(j5(typeof r=="object"?r:void 0)),a};function jee(t){const e=Aee(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(pS(n))d=d5(n);else throw new Error(Jr(1));let f;typeof r=="function"?f=r(e):f=e();let h=Ny;a&&(h=_ee({trace:!1,...typeof a=="object"&&a}));const p=iee(...f),g=See(p);let v=typeof l=="function"?l(g):g();const b=h(...v);return u5(d,s,b)}function N5(t){const e={},n=[];let r;const a={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Jr(28));if(d in e)throw new Error(Jr(29));return e[d]=l,a},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return n.push({matcher:s,reducer:l}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function Nee(t){return typeof t=="function"}function Tee(t,e){let[n,r,a]=N5(e),s;if(Nee(t))s=()=>Pk(t());else{const d=Pk(t);s=()=>d}function l(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Ms(p)){const b=g(p,f);return b===void 0?p:b}else{if(Vi(p))return _5(p,v=>g(v,f));{const v=g(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},d)}return l.getInitialState=s,l}var Cee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Oee=(t=21)=>{let e="",n=t;for(;n--;)e+=Cee[Math.random()*64|0];return e},Iee=Symbol.for("rtk-slice-createasyncthunk");function kee(t,e){return`${t}/${e}`}function Pee({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Iee];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(Jr(11));const d=(typeof a.reducers=="function"?a.reducers(Dee()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,P){const z=typeof C=="string"?C:C.type;if(!z)throw new Error(Jr(12));if(z in h.sliceCaseReducersByType)throw new Error(Jr(13));return h.sliceCaseReducersByType[z]=P,p},addMatcher(C,P){return h.sliceMatchers.push({matcher:C,reducer:P}),p},exposeAction(C,P){return h.actionCreators[C]=P,p},exposeCaseReducer(C,P){return h.sliceCaseReducersByName[C]=P,p}};f.forEach(C=>{const P=d[C],z={reducerName:C,type:kee(s,C),createNotation:typeof a.reducers=="function"};Lee(P)?zee(z,P,p,e):Mee(z,P,p)});function g(){const[C={},P=[],z=void 0]=typeof a.extraReducers=="function"?N5(a.extraReducers):[a.extraReducers],N={...C,...h.sliceCaseReducersByType};return Tee(a.initialState,M=>{for(let T in N)M.addCase(T,N[T]);for(let T of h.sliceMatchers)M.addMatcher(T.matcher,T.reducer);for(let T of P)M.addMatcher(T.matcher,T.reducer);z&&M.addDefaultCase(z)})}const v=C=>C,b=new Map,E=new WeakMap;let A;function S(C,P){return A||(A=g()),A(C,P)}function O(){return A||(A=g()),A.getInitialState()}function U(C,P=!1){function z(M){let T=M[C];return typeof T>"u"&&P&&(T=gg(E,z,O)),T}function N(M=v){const T=gg(b,P,()=>new WeakMap);return gg(T,M,()=>{const R={};for(const[L,V]of Object.entries(a.selectors??{}))R[L]=Ree(V,M,()=>gg(E,M,O),P);return R})}return{reducerPath:C,getSelectors:N,get selectors(){return N(z)},selectSlice:z}}const k={name:s,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:O,...U(l),injectInto(C,{reducerPath:P,...z}={}){const N=P??l;return C.inject({reducerPath:N,reducer:S},z),{...k,...U(N,!0)}}};return k}}function Ree(t,e,n,r){function a(s,...l){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...l)}return a.unwrapped=t,a}var Mr=Pee();function Dee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Mee({type:t,reducerName:e,createNotation:n},r,a){let s,l;if("reducer"in r){if(n&&!Uee(r))throw new Error(Jr(17));s=r.reducer,l=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Ta(t,l):Ta(t))}function Lee(t){return t._reducerDefinitionType==="asyncThunk"}function Uee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function zee({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Jr(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=n,g=a(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||yg,pending:d||yg,rejected:f||yg,settled:h||yg})}function yg(){}var Vee="task",T5="listener",C5="completed",wS="cancelled",$ee=`task-${wS}`,Bee=`task-${C5}`,q_=`${T5}-${wS}`,Fee=`${T5}-${C5}`,s0=class{constructor(t){Bb(this,"name","TaskAbortError");Bb(this,"message");this.code=t,this.message=`${Vee} ${wS} (reason: ${t})`}},_S=(t,e)=>{if(typeof t!="function")throw new TypeError(Jr(32))},ky=()=>{},O5=(t,e=ky)=>(t.catch(e),t),I5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Jl=t=>{if(t.aborted){const{reason:e}=t;throw new s0(e)}};function k5(t,e){let n=ky;return new Promise((r,a)=>{const s=()=>a(new s0(t.reason));if(t.aborted){s();return}n=I5(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=ky})}var qee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof s0?"cancelled":"rejected",error:n}}finally{e==null||e()}},Py=t=>e=>O5(k5(t,e).then(n=>(Jl(t),n))),P5=t=>{const e=Py(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Mu}=Object,Dk={},o0="listenerMiddleware",Hee=(t,e)=>{const n=r=>I5(t,()=>Zl(r,t.reason));return(r,a)=>{_S(r);const s=new AbortController;n(s);const l=qee(async()=>{Jl(t),Jl(s.signal);const d=await r({pause:Py(s.signal),delay:P5(s.signal),signal:s.signal});return Jl(s.signal),d},()=>Zl(s,Bee));return a!=null&&a.autoJoin&&e.push(l.catch(ky)),{result:Py(t)(l),cancel(){Zl(s,$ee)}}}},Gee=(t,e)=>{const n=async(r,a)=>{Jl(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await k5(e,Promise.race(d));return Jl(e),f}finally{s()}};return(r,a)=>O5(n(r,a))},R5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Ta(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Jr(21));return _S(s),{predicate:a,type:e,effect:s}},D5=Mu(t=>{const{type:e,predicate:n,effect:r}=R5(t);return{id:Oee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Jr(22))}}},{withTypes:()=>D5}),Mk=(t,e)=>{const{type:n,effect:r,predicate:a}=R5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},H_=t=>{t.pending.forEach(e=>{Zl(e,q_)})},Kee=(t,e)=>()=>{for(const n of e.keys())H_(n);t.clear()},Lk=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},M5=Mu(Ta(`${o0}/add`),{withTypes:()=>M5}),Wee=Ta(`${o0}/removeAll`),L5=Mu(Ta(`${o0}/remove`),{withTypes:()=>L5}),Yee=(...t)=>{console.error(`${o0}/error`,...t)},sm=(t={})=>{const e=new Map,n=new Map,r=b=>{const E=n.get(b)??0;n.set(b,E+1)},a=b=>{const E=n.get(b)??1;E===1?n.delete(b):n.set(b,E-1)},{extra:s,onError:l=Yee}=t;_S(l);const d=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),E=>{b.unsubscribe(),E!=null&&E.cancelActive&&H_(b)}),f=b=>{const E=Mk(e,b)??D5(b);return d(E)};Mu(f,{withTypes:()=>f});const h=b=>{const E=Mk(e,b);return E&&(E.unsubscribe(),b.cancelActive&&H_(E)),!!E};Mu(h,{withTypes:()=>h});const p=async(b,E,A,S)=>{const O=new AbortController,U=Gee(f,O.signal),k=[];try{b.pending.add(O),r(b),await Promise.resolve(b.effect(E,Mu({},A,{getOriginalState:S,condition:(C,P)=>U(C,P).then(Boolean),take:U,delay:P5(O.signal),pause:Py(O.signal),extra:s,signal:O.signal,fork:Hee(O.signal,k),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((C,P,z)=>{C!==O&&(Zl(C,q_),z.delete(C))})},cancel:()=>{Zl(O,q_),b.pending.delete(O)},throwIfCancelled:()=>{Jl(O.signal)}})))}catch(C){C instanceof s0||Lk(l,C,{raisedBy:"effect"})}finally{await Promise.all(k),Zl(O,Fee),a(b),b.pending.delete(O)}},g=Kee(e,n);return{middleware:b=>E=>A=>{if(!f5(A))return E(A);if(M5.match(A))return f(A.payload);if(Wee.match(A)){g();return}if(L5.match(A))return h(A.payload);let S=b.getState();const O=()=>{if(S===Dk)throw new Error(Jr(23));return S};let U;try{if(U=E(A),e.size>0){const k=b.getState(),C=Array.from(e.values());for(const P of C){let z=!1;try{z=P.predicate(A,k,S)}catch(N){z=!1,Lk(l,N,{raisedBy:"predicate"})}z&&p(P,A,b,O)}}}finally{S=Dk}return U},startListening:f,stopListening:h,clearListeners:g}};function Jr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Qee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},U5=Mr({name:"chartLayout",initialState:Qee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Xee,setLayout:Zee,setChartSize:Jee,setScale:ete}=U5.actions,tte=U5.reducer;function z5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nte(t,e,n){return(e=rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t){var e=ate(t,"string");return typeof e=="symbol"?e:e+""}function ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vt(t,e,n){return Pt(t)||Pt(e)?n:zi(e)?mc(t,e,n):typeof e=="function"?e(t):n}var ite=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:l,layout:d}=e;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Ee(t[s]))return ju(ju({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Ee(t[l]))return ju(ju({},t),{},{[l]:t[l]+(a||0)})}return t},Qi=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",V5=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,s,l=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate));return a||l.push(e),s||l.push(n),l},$5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:v,axisType:b}=t;if(!l)return null;var E=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,A=a==="category"&&l.bandwidth?l.bandwidth()/E:0;if(A=b==="angleAxis"&&s&&s.length>=2?Vn(s[0]-s[1])*2*A:A,g||v){var S=(g||v||[]).map((O,U)=>{var k=r?r.indexOf(O):O;return{coordinate:l(k)+A,value:O,offset:A,index:U}});return S.filter(O=>!Na(O.coordinate))}return f&&h?h.map((O,U)=>({coordinate:l(O)+A,value:O,index:U,offset:A})):l.ticks&&p!=null?l.ticks(p).map((O,U)=>({coordinate:l(O)+A,value:O,offset:A,index:U})):l.domain().map((O,U)=>({coordinate:l(O)+A,value:r?r[O]:O,index:U,offset:A}))},zk=1e-4,ste=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-zk,s=Math.max(r[0],r[1])+zk,l=t(e[0]),d=t(e[n-1]);(l<a||l>s||d<a||d>s)&&t.domain([e[0],e[n-1]])}},ote=(t,e)=>{if(!e||e.length!==2||!Ee(e[0])||!Ee(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Ee(t[0])||t[0]<n)&&(a[0]=n),(!Ee(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},lte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,l=0;l<e;++l){var d=Na(t[l][n][1])?t[l][n][0]:t[l][n][1];d>=0?(t[l][n][0]=a,t[l][n][1]=a+d,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+d,s=t[l][n][1])}},cte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var l=Na(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},ute={sign:lte,expand:UZ,none:Wu,silhouette:zZ,wiggle:VZ,positive:cte},dte=(t,e,n)=>{var r=ute[n],a=LZ().keys(e).value((s,l)=>Number(vt(s,l,0))).order(R_).offset(r);return a(t)};function B5(t){return t==null?void 0:String(t)}function Ry(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Pt(a[e.dataKey])){var d=K3(n,"value",a[e.dataKey]);if(d)return d.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=vt(a,Pt(l)?e.dataKey:l);return Pt(f)?null:e.scale(f)}var Vk=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var d=vt(s,e.dataKey,e.scale.domain()[l]);return Pt(d)?null:e.scale(d)-a/2+r},fte=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},hte=t=>{var e=t.flat(2).filter(Ee);return[Math.min(...e),Math.max(...e)]},mte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],pte=(t,e,n)=>{if(t!=null)return mte(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:l}=s,d=l.reduce((f,h)=>{var p=z5(h,e,n),g=hte(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},$k=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xo=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=Jv(e,p=>p.coordinate),s=1/0,l=1,d=a.length;l<d;l++){var f=a[l],h=a[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function Fk(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return ju(ju({},e),{},{dataKey:n,payload:r,value:a,name:s})}function sl(t,e){if(t)return String(t);if(typeof e=="string")return e}var gte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},yte=(t,e)=>e==="centric"?t.angle:t.radius,Fs=t=>t.layout.width,qs=t=>t.layout.height,vte=t=>t.layout.scale,F5=t=>t.layout.margin,l0=J(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),c0=J(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),q5="data-recharts-item-index",H5="data-recharts-item-data-key",om=60;function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e,n){return(e=bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _te=t=>t.brush.height;function Ete(t){var e=c0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:om;return n+a}return n},0)}function Ate(t){var e=c0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:om;return n+a}return n},0)}function Ste(t){var e=l0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function jte(t){var e=l0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Cn=J([Fs,qs,F5,_te,Ete,Ate,Ste,jte,c5,JJ],(t,e,n,r,a,s,l,d,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+d},v=vg(vg({},g),p),b=v.bottom;v.bottom+=r,v=ite(v,f,h);var E=t-v.left-v.right,A=e-v.top-v.bottom;return vg(vg({brushBottom:b},v),{},{width:Math.max(E,0),height:Math.max(A,0)})}),Nte=J(Cn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),ES=J(Fs,qs,(t,e)=>({x:0,y:0,width:t,height:e})),Tte=w.createContext(null),Bn=()=>w.useContext(Tte)!=null,u0=t=>t.brush,d0=J([u0,Cn,F5],(t,e,n)=>({height:t.height,x:Ee(t.x)?t.x:e.left,y:Ee(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ee(t.width)?t.width:e.width})),m1={},p1={},g1={},Hk;function Cte(){return Hk||(Hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),A()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},E=()=>{v!==null&&(clearTimeout(v),v=null)},A=()=>{E(),l=void 0,d=null},S=()=>{p()},O=function(...U){if(a!=null&&a.aborted)return;l=this,d=U;const k=v==null;b(),f&&k&&p()};return O.schedule=b,O.cancel=A,O.flush=S,a==null||a.addEventListener("abort",A,{once:!0}),O}t.debounce=e})(g1)),g1}var Gk;function Ote(){return Gk||(Gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cte();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const v=e.debounce(function(...A){p=r.apply(this,A),g=null},a,{edges:h}),b=function(...A){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,A),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,A),p)},E=()=>(v.flush(),p);return b.cancel=v.cancel,b.flush=E,b}t.debounce=n})(p1)),p1}var Kk;function Ite(){return Kk||(Kk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ote();function n(r,a=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return e.debounce(r,a,{leading:l,maxWait:a,trailing:d})}t.throttle=n})(m1)),m1}var y1,Wk;function kte(){return Wk||(Wk=1,y1=Ite().throttle),y1}var Pte=kte();const Rte=Hi(Pte);var Dy=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>a[l++]))}},G5=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:l}=n,d=Ds(r)?t:Number(r),f=Ds(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},Dte={width:0,height:0,overflow:"visible"},Mte={width:0,overflowX:"visible"},Lte={height:0,overflowY:"visible"},Ute={},zte=t=>{var{width:e,height:n}=t,r=Ds(e),a=Ds(n);return r&&a?Dte:r?Mte:a?Lte:Ute};function Vte(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function Rt(t){return Number.isFinite(t)}function $i(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(null,arguments)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){$te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $te(t,e,n){return(e=Bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K5=w.createContext({width:-1,height:-1});function qte(t){return $i(t.width)&&$i(t.height)}function W5(t){var{children:e,width:n,height:r}=t,a=w.useMemo(()=>({width:n,height:r}),[n,r]);return qte(a)?w.createElement(K5.Provider,{value:a},e):null}var AS=()=>w.useContext(K5),Hte=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:v,onResize:b,style:E={}}=t,A=w.useRef(null),S=w.useRef();S.current=b,w.useImperativeHandle(e,()=>A.current);var[O,U]=w.useState({containerWidth:r.width,containerHeight:r.height}),k=w.useCallback((M,T)=>{U(R=>{var L=Math.round(M),V=Math.round(T);return R.containerWidth===L&&R.containerHeight===V?R:{containerWidth:L,containerHeight:V}})},[]);w.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return rm;var M=V=>{var $,{width:ne,height:pe}=V[0].contentRect;k(ne,pe),($=S.current)===null||$===void 0||$.call(S,ne,pe)};p>0&&(M=Rte(M,p,{trailing:!0,leading:!1}));var T=new ResizeObserver(M),{width:R,height:L}=A.current.getBoundingClientRect();return k(R,L),T.observe(A.current),()=>{T.disconnect()}},[k,p]);var{containerWidth:C,containerHeight:P}=O;Dy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:N}=G5(C,P,{width:a,height:s,aspect:n,maxHeight:f});return Dy(z!=null&&z>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,N,a,s,l,d,n),w.createElement("div",{id:g?"".concat(g):void 0,className:lt("recharts-responsive-container",v),style:Qk(Qk({},E),{},{width:a,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:A},w.createElement("div",{style:zte({width:a,height:s})},w.createElement(W5,{width:z,height:N},h)))}),Au=w.forwardRef((t,e)=>{var n=AS();if($i(n.width)&&$i(n.height))return t.children;var{width:r,height:a}=Vte({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=G5(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ee(s)&&Ee(l)?w.createElement(W5,{width:s,height:l},t.children):w.createElement(Hte,G_({},t,{width:r,height:a,ref:e}))});function Y5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var f0=()=>{var t,e=Bn(),n=Ne(Nte),r=Ne(d0),a=(t=Ne(u0))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Gte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Q5=()=>{var t;return(t=Ne(Cn))!==null&&t!==void 0?t:Gte},X5=()=>Ne(Fs),Z5=()=>Ne(qs),Qe=t=>t.layout.layoutType,Sc=()=>Ne(Qe),Kte=()=>{var t=Sc();if(t==="horizontal"||t==="vertical")return t},Wte=()=>{var t=Sc();return t!==void 0},h0=t=>{var e=Vt(),n=Bn(),{width:r,height:a}=t,s=AS(),l=r,d=a;return s&&(l=s.width>0?s.width:r,d=s.height>0?s.height:a),w.useEffect(()=>{!n&&$i(l)&&$i(d)&&e(Jee({width:l,height:d}))},[e,n,l,d]),null},J5=Symbol.for("immer-nothing"),Xk=Symbol.for("immer-draftable"),ta=Symbol.for("immer-state");function Ha(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ah=Object.getPrototypeOf;function Xu(t){return!!t&&!!t[ta]}function pc(t){var e;return t?eL(t)||Array.isArray(t)||!!t[Xk]||!!((e=t.constructor)!=null&&e[Xk])||lm(t)||p0(t):!1}var Yte=Object.prototype.constructor.toString(),Zk=new WeakMap;function eL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Zk.get(n);return r===void 0&&(r=Function.toString.call(n),Zk.set(n,r)),r===Yte}function My(t,e,n=!0){m0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function m0(t){const e=t[ta];return e?e.type_:Array.isArray(t)?1:lm(t)?2:p0(t)?3:0}function K_(t,e){return m0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function tL(t,e,n){const r=m0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Qte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function lm(t){return t instanceof Map}function p0(t){return t instanceof Set}function Bl(t){return t.copy_||t.base_}function W_(t,e){if(lm(t))return new Map(t);if(p0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=eL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ta];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[l]})}return Object.create(Ah(t),r)}else{const r=Ah(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function SS(t,e=!1){return g0(t)||Xu(t)||!pc(t)||(m0(t)>1&&Object.defineProperties(t,{set:xg,add:xg,clear:xg,delete:xg}),Object.freeze(t),e&&Object.values(t).forEach(n=>SS(n,!0))),t}function Xte(){Ha(2)}var xg={value:Xte};function g0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Zte={};function gc(t){const e=Zte[t];return e||Ha(0,t),e}var Sh;function nL(){return Sh}function Jte(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jk(t,e){e&&(gc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Y_(t){Q_(t),t.drafts_.forEach(ene),t.drafts_=null}function Q_(t){t===Sh&&(Sh=t.parent_)}function eP(t){return Sh=Jte(Sh,t)}function ene(t){const e=t[ta];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function tP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ta].modified_&&(Y_(e),Ha(4)),pc(t)&&(t=Ly(e,t),e.parent_||Uy(e,t)),e.patches_&&gc("Patches").generateReplacementPatches_(n[ta].base_,t,e.patches_,e.inversePatches_)):t=Ly(e,n,[]),Y_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==J5?t:void 0}function Ly(t,e,n){if(g0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[ta];if(!a)return My(e,(s,l)=>nP(t,a,e,s,l,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Uy(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,d=!1;a.type_===3&&(l=new Set(s),s.clear(),d=!0),My(l,(f,h)=>nP(t,a,s,f,h,n,d),r),Uy(t,s,!1),n&&t.patches_&&gc("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function nP(t,e,n,r,a,s,l){if(a==null||typeof a!="object"&&!l)return;const d=g0(a);if(!(d&&!l)){if(Xu(a)){const f=s&&e&&e.type_!==3&&!K_(e.assigned_,r)?s.concat(r):void 0,h=Ly(t,a,f);if(tL(n,r,h),Xu(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(pc(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;Ly(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(lm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Uy(t,a)}}}function Uy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&SS(e,n)}function tne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:nL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=jS;n&&(a=[r],s=jh);const{revoke:l,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=l,d}var jS={get(t,e){if(e===ta)return t;const n=Bl(t);if(!K_(n,e))return nne(t,n,e);const r=n[e];return t.finalized_||!pc(r)?r:r===v1(t.base_,e)?(x1(t),t.copy_[e]=Z_(r,t)):r},has(t,e){return e in Bl(t)},ownKeys(t){return Reflect.ownKeys(Bl(t))},set(t,e,n){const r=rL(Bl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=v1(Bl(t),e),s=a==null?void 0:a[ta];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Qte(n,a)&&(n!==void 0||K_(t.base_,e)))return!0;x1(t),X_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return v1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,x1(t),X_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Bl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ha(11)},getPrototypeOf(t){return Ah(t.base_)},setPrototypeOf(){Ha(12)}},jh={};My(jS,(t,e)=>{jh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jh.deleteProperty=function(t,e){return jh.set.call(this,t,e,void 0)};jh.set=function(t,e,n){return jS.set.call(this,t[0],e,n,t[0])};function v1(t,e){const n=t[ta];return(n?Bl(n):t)[e]}function nne(t,e,n){var a;const r=rL(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function rL(t,e){if(!(e in t))return;let n=Ah(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ah(n)}}function X_(t){t.modified_||(t.modified_=!0,t.parent_&&X_(t.parent_))}function x1(t){t.copy_||(t.copy_=W_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var rne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Ha(6),r!==void 0&&typeof r!="function"&&Ha(7);let a;if(pc(e)){const s=eP(this),l=Z_(e,void 0);let d=!0;try{a=n(l),d=!1}finally{d?Y_(s):Q_(s)}return Jk(s,r),tP(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===J5&&(a=void 0),this.autoFreeze_&&SS(a,!0),r){const s=[],l=[];gc("Patches").generateReplacementPatches_(e,a,s,l),r(s,l)}return a}else Ha(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...d)=>this.produceWithPatches(l,f=>e(f,...d));let r,a;return[this.produce(e,n,(l,d)=>{r=l,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){pc(t)||Ha(8),Xu(t)&&(t=ane(t));const e=eP(this),n=Z_(t,void 0);return n[ta].isManual_=!0,Q_(e),n}finishDraft(t,e){const n=t&&t[ta];(!n||!n.isManual_)&&Ha(9);const{scope_:r}=n;return Jk(r,e),tP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=gc("Patches").applyPatches_;return Xu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function Z_(t,e){const n=lm(t)?gc("MapSet").proxyMap_(t,e):p0(t)?gc("MapSet").proxySet_(t,e):tne(t,e);return(e?e.scope_:nL()).drafts_.push(n),n}function ane(t){return Xu(t)||Ha(10,t),aL(t)}function aL(t){if(!pc(t)||g0(t))return t;const e=t[ta];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=W_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=W_(t,!0);return My(n,(a,s)=>{tL(n,a,aL(s))},r),e&&(e.finalized_=!1),n}var ine=new rne;ine.produce;var sne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iL=Mr({name:"legend",initialState:sne,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Lt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Za(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:Lt()},removeLegendPayload:{reducer(t,e){var n=Za(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Lt()}}}),{setLegendSize:Hye,setLegendSettings:Gye,addLegendPayload:sL,replaceLegendPayload:oL,removeLegendPayload:lL}=iL.actions,one=iL.reducer;function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(null,arguments)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function b1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e,n){return(e=cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dne(t){return Array.isArray(t)&&zi(t[0])&&zi(t[1])?t.join(" ~ "):t}var fne=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=!1}=t,b=()=>{if(s&&s.length){var P={padding:0,margin:0},z=(d?Jv(s,d):s).map((N,M)=>{if(N.type==="none")return null;var T=N.formatter||l||dne,{value:R,name:L}=N,V=R,$=L;if(T){var ne=T(R,L,N,M,s);if(Array.isArray(ne))[V,$]=ne;else if(ne!=null)V=ne;else return null}var pe=b1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:pe},zi($)?w.createElement("span",{className:"recharts-tooltip-item-name"},$):null,zi($)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},V),w.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:P},z)}return null},E=b1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=b1({margin:0},a),S=!Pt(p),O=S?p:"",U=lt("recharts-default-tooltip",f),k=lt("recharts-tooltip-label",h);S&&g&&s!==void 0&&s!==null&&(O=g(p,s));var C=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",J_({className:U,style:E},C),w.createElement("p",{className:k,style:A},w.isValidElement(O)?O:"".concat(O)),b())},If="recharts-tooltip-wrapper",hne={visibility:"hidden"};function mne(t){var{coordinate:e,translateX:n,translateY:r}=t;return lt(If,{["".concat(If,"-right")]:Ee(n)&&e&&Ee(e.x)&&n>=e.x,["".concat(If,"-left")]:Ee(n)&&e&&Ee(e.x)&&n<e.x,["".concat(If,"-bottom")]:Ee(r)&&e&&Ee(e.y)&&r>=e.y,["".concat(If,"-top")]:Ee(r)&&e&&Ee(e.y)&&r<e.y})}function aP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Ee(s[r]))return s[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return l[r]?p:g;var v=f[r];if(v==null)return 0;if(l[r]){var b=p,E=v;return b<E?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var A=g+d,S=v+h;return A>S?Math.max(p,v):Math.max(g,v)}function pne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function gne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:d,viewBox:f}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=aP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=aP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=pne({translateX:p,translateY:g,useTranslate3d:d})):h=hne,{cssProperties:h,cssClasses:mne({translateX:p,translateY:g,coordinate:n})}}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){eE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eE(t,e,n){return(e=yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yne(t){var e=vne(t,"string");return typeof e=="symbol"?e:e+""}function vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xne extends w.PureComponent{constructor(){super(...arguments),eE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),eE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:b,wrapperStyle:E,lastBoundingBox:A,innerRef:S,hasPortalFromProps:O}=this.props,{cssClasses:U,cssProperties:k}=gne({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:v,viewBox:b}),C=O?{}:bg(bg({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),P=bg(bg({},C),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},E);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:P,ref:S},s)}}var bne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ol={devToolsEnabled:!1,isSsr:bne()},cL=()=>{var t;return(t=Ne(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(null,arguments)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e,n){return(e=_ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ne(t){var e=Ene(t,"string");return typeof e=="symbol"?e:e+""}function Ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lP={curveBasisClosed:jZ,curveBasisOpen:NZ,curveBasis:SZ,curveBumpX:dZ,curveBumpY:fZ,curveLinearClosed:TZ,curveLinear:Qv,curveMonotoneX:CZ,curveMonotoneY:OZ,curveNatural:IZ,curveStep:kZ,curveStepAfter:RZ,curveStepBefore:PZ},zy=t=>Rt(t.x)&&Rt(t.y),cP=t=>t.base!=null&&zy(t.base)&&zy(t),kf=t=>t.x,Pf=t=>t.y,Ane=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(nm(t));return(n==="curveMonotone"||n==="curveBump")&&e?lP["".concat(n).concat(e==="vertical"?"Y":"X")]:lP[n]||Qv},Sne=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,l=Ane(e,a),d=s?n.filter(zy):n,f;if(Array.isArray(r)){var h=n.map((b,E)=>oP(oP({},b),{},{base:r[E]}));a==="vertical"?f=fg().y(Pf).x1(kf).x0(b=>b.base.x):f=fg().x(kf).y1(Pf).y0(b=>b.base.y);var p=f.defined(cP).curve(l),g=s?h.filter(cP):h;return p(g)}a==="vertical"&&Ee(r)?f=fg().y(Pf).x1(kf).x0(r):Ee(r)?f=fg().x(kf).y1(Pf).y0(r):f=R3().x(kf).y(Pf);var v=f.defined(zy).curve(l);return v(d)},Lu=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Sne(t):r;return w.createElement("path",tE({},br(t),fS(t),{className:lt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},jne=["x","y","top","left","width","height","className"];function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(null,arguments)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){Tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tne(t,e,n){return(e=Cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ine(t,e){if(t==null)return{};var n,r,a=kne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pne=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Rne=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:l=0,className:d}=t,f=Ine(t,jne),h=Nne({x:e,y:n,top:r,left:a,width:s,height:l},f);return!Ee(e)||!Ee(n)||!Ee(s)||!Ee(l)||!Ee(r)||!Ee(a)?null:w.createElement("path",nE({},ur(h),{className:lt("recharts-cross",d),d:Pne(e,n,s,l,r,a)}))};function Dne(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){Mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mne(t,e,n){return(e=Lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=Une(t,"string");return typeof e=="symbol"?e:e+""}function Une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),uL=(t,e,n)=>t.map(r=>"".concat(zne(r)," ").concat(e,"ms ").concat(n)).join(","),Vne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Nh=(t,e)=>Object.keys(e).reduce((n,r)=>fP(fP({},n),{},{[r]:t(r,e[r])}),{});function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){$ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e,n){return(e=Bne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vy=(t,e,n)=>t+(e-t)*n,rE=t=>{var{from:e,to:n}=t;return e!==n},dL=(t,e,n)=>{var r=Nh((a,s)=>{if(rE(s)){var[l,d]=t(s.from,s.to,s.velocity);return Nn(Nn({},s),{},{from:l,velocity:d})}return s},e);return n<1?Nh((a,s)=>rE(s)?Nn(Nn({},s),{},{velocity:Vy(s.velocity,r[a].velocity,n),from:Vy(s.from,r[a].from,n)}):s,e):dL(t,r,n-1)};function qne(t,e,n,r,a,s){var l,d=r.reduce((v,b)=>Nn(Nn({},v),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>Nh((v,b)=>b.from,d),h=()=>!Object.values(d).filter(rE).length,p=null,g=v=>{l||(l=v);var b=v-l,E=b/n.dt;d=dL(n,d,E),a(Nn(Nn(Nn({},t),e),f())),l=v,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function Hne(t,e,n,r,a,s,l){var d=null,f=a.reduce((g,v)=>Nn(Nn({},g),{},{[v]:[t[v],e[v]]}),{}),h,p=g=>{h||(h=g);var v=(g-h)/r,b=Nh((A,S)=>Vy(...S,n(v)),f);if(s(Nn(Nn(Nn({},t),e),b)),v<1)d=l.setTimeout(p);else{var E=Nh((A,S)=>Vy(...S,n(1)),f);s(Nn(Nn(Nn({},t),e),E))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const Gne=(t,e,n,r,a,s)=>{var l=Vne(t,e);return n==null?()=>(a(Nn(Nn({},t),e)),()=>{}):n.isStepper===!0?qne(t,e,n,l,a,s):Hne(t,e,n,r,l,a,s)};var $y=1e-4,fL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],hL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),mP=(t,e)=>n=>{var r=fL(t,e);return hL(r,n)},Kne=(t,e)=>n=>{var r=fL(t,e),a=[...r.map((s,l)=>s*l).slice(1),0];return hL(a,n)},Wne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},Yne=(t,e,n,r)=>{var a=mP(t,n),s=mP(e,r),l=Kne(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,v=0;v<8;++v){var b=a(g)-p,E=l(g);if(Math.abs(b-p)<$y||E<$y)return s(g);g=d(g-b/E)}return s(g)};return f.isStepper=!1,f},pP=function(){return Yne(...Wne(...arguments))},Qne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(l,d,f)=>{var h=-(l-d)*n,p=f*r,g=f+(h-p)*a/1e3,v=f*a/1e3+l;return Math.abs(v-d)<$y&&Math.abs(g)<$y?[d,0]:[v,g]};return s.isStepper=!0,s.dt=a,s},Xne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pP(t);case"spring":return Qne();default:if(t.split("(")[0]==="cubic-bezier")return pP(t)}return typeof t=="function"?t:null};function Zne(t){var e,n=()=>null,r=!1,a=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,h),f);return}s(f),a=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Jne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function ere(){return Zne(new Jne)}var tre=w.createContext(ere);function nre(t,e){var n=w.useContext(tre);return w.useMemo(()=>e??n(t),[t,e,n])}var rre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gP={t:0},w1={t:1};function md(t){var e=En(t,rre),{isActive:n,canBegin:r,duration:a,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!ol.isSsr:n,g=nre(e.animationId,e.animationManager),[v,b]=w.useState(p?gP:w1),E=w.useRef(null);return w.useEffect(()=>{p||b(w1)},[p]),w.useEffect(()=>{if(!p||!r)return rm;var A=Gne(gP,w1,Xne(s),a,b,g.getTimeoutController()),S=()=>{E.current=A()};return g.start([f,l,S,a,d]),()=>{g.stop(),E.current&&E.current(),d()}},[p,r,a,s,l,f,d,g]),h(v.t)}function pd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(bh(e)),r=w.useRef(t);return r.current!==t&&(n.current=bh(e),r.current=t),n.current}var are=["radius"],ire=["radius"];function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sre(t,e,n){return(e=ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ore(t){var e=lre(t,"string");return typeof e=="symbol"?e:e+""}function lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(null,arguments)}function xP(t,e){if(t==null)return{};var n,r,a=cre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bP=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=a[g]>s?s:a[g];h="M".concat(t,",").concat(e+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*p[1])),h+="L ".concat(t+n,",").concat(e+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var b=Math.min(s,a);h="M ".concat(t,",").concat(e+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+d*b,",").concat(e,`
            L `).concat(t+n-d*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*b,`
            L `).concat(t+n,",").concat(e+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-d*b,",").concat(e+r,`
            L `).concat(t+d*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},wP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mL=t=>{var e=En(t,wP),n=w.useRef(null),[r,a]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&a(oe)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:v,animationBegin:b,isAnimationActive:E,isUpdateAnimationActive:A}=e,S=w.useRef(d),O=w.useRef(f),U=w.useRef(s),k=w.useRef(l),C=w.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),P=pd(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var z=lt("recharts-rectangle",p);if(!A){var N=ur(e),{radius:M}=N,T=xP(N,are);return w.createElement("path",By({},T,{radius:typeof h=="number"?h:void 0,className:z,d:bP(s,l,d,f,h)}))}var R=S.current,L=O.current,V=U.current,$=k.current,ne="0px ".concat(r===-1?1:r,"px"),pe="".concat(r,"px 0px"),Y=uL(["strokeDasharray"],v,typeof g=="string"?g:wP.animationEasing);return w.createElement(md,{animationId:P,key:P,canBegin:r>0,duration:v,easing:g,isActive:A,begin:b},oe=>{var H=ft(R,d,oe),K=ft(L,f,oe),se=ft(V,s,oe),q=ft($,l,oe);n.current&&(S.current=H,O.current=K,U.current=se,k.current=q);var re;E?oe>0?re={transition:Y,strokeDasharray:pe}:re={strokeDasharray:ne}:re={strokeDasharray:pe};var me=ur(e),{radius:ye}=me,Ce=xP(me,ire);return w.createElement("path",By({},Ce,{radius:typeof h=="number"?h:void 0,className:z,d:bP(se,q,H,K,h),ref:n,style:vP(vP({},re),e.style)}))})};function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ure(t,e,n){return(e=dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=fre(t,"string");return typeof e=="symbol"?e:e+""}function fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fy=Math.PI/180,hre=t=>t*180/Math.PI,wn=(t,e,n,r)=>({x:t+Math.cos(-Fy*r)*n,y:e+Math.sin(-Fy*r)*n}),pL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},mre=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},pre=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,l=mre({x:n,y:r},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var d=(n-a)/l,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:l,angle:hre(f),angleInRadian:f}},gre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},yre=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(a,s);return t+l*360},vre=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=pre({x:n,y:r},e),{innerRadius:l,outerRadius:d}=e;if(a<l||a>d||a===0)return null;var{startAngle:f,endAngle:h}=gre(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?EP(EP({},e),{},{radius:a,angle:yre(p,e)}):null};function gL(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,l=wn(e,n,r,a),d=wn(e,n,r,s);return{points:[l,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(null,arguments)}var xre=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},wg=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=t,h=d*(l?1:-1)+r,p=Math.asin(d/h)/Fy,g=f?a:a+s*p,v=wn(e,n,h,g),b=wn(e,n,r,g),E=f?a-s*p:a,A=wn(e,n,h*Math.cos(p*Fy),E);return{center:v,circleTangency:b,lineTangency:A,theta:p}},yL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:l}=t,d=xre(s,l),f=s+d,h=wn(e,n,a,s),p=wn(e,n,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=wn(e,n,r,s),b=wn(e,n,r,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},bre=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=Vn(h-f),{circleTangency:g,lineTangency:v,theta:b}=wg({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:E,lineTangency:A,theta:S}=wg({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),O=d?Math.abs(f-h):Math.abs(f-h)-b-S;if(O<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):yL({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var U="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:C,theta:P}=wg({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:z,lineTangency:N,theta:M}=wg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),T=d?Math.abs(f-h):Math.abs(f-h)-P-M;if(T<0&&s===0)return"".concat(U,"L").concat(e,",").concat(n,"Z");U+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(p>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else U+="L".concat(e,",").concat(n,"Z");return U},wre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vL=t=>{var e=En(t,wre),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<a||h===p)return null;var v=lt("recharts-sector",g),b=s-a,E=lr(l,b,0,!0),A;return E>0&&Math.abs(h-p)<360?A=bre({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):A=yL({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),w.createElement("path",aE({},ur(e),{className:v,d:A}))};function _re(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Q3(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:l,angle:d}=e,f=wn(r,a,s,d),h=wn(r,a,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return gL(e)}}var _1={},E1={},A1={},AP;function Ere(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(A1)),A1}var SP;function Are(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ere();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(E1)),E1}var jP;function Sre(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l5(),n=Are();function r(a,s,l){l&&typeof l!="number"&&e.isIterateeCall(a,s,l)&&(s=l=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),l=l===void 0?a<s?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=l;return f}t.range=r})(_1)),_1}var S1,NP;function jre(){return NP||(NP=1,S1=Sre().range),S1}var Nre=jre();const xL=Hi(Nre);function Fo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NS(t){let e,n,r;t.length!==2?(e=Fo,n=(d,f)=>Fo(t(d),f),r=(d,f)=>t(d)-f):(e=t===Fo||t===Tre?t:Cre,n=t,r=t);function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:a,center:l,right:s}}function Cre(){return 0}function bL(t){return t===null?NaN:+t}function*Ore(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ire=NS(Fo),cm=Ire.right;NS(bL).center;class TP extends Map{constructor(e,n=Rre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(CP(this,e))}has(e){return super.has(CP(this,e))}set(e,n){return super.set(kre(this,e),n)}delete(e){return super.delete(Pre(this,e))}}function CP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function kre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Pre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Rre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Dre(t=Fo){if(t===Fo)return wL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Mre=Math.sqrt(50),Lre=Math.sqrt(10),Ure=Math.sqrt(2);function qy(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),l=s>=Mre?10:s>=Lre?5:s>=Ure?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/l,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*l,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?qy(t,e,n*2):[d,f,h]}function iE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,l]=r?qy(e,t,n):qy(t,e,n);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(a+h)/-l;else for(let h=0;h<d;++h)f[h]=(a+h)*l;return f}function sE(t,e,n){return e=+e,t=+t,n=+n,qy(t,e,n)[2]}function oE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?sE(e,t,n):sE(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function OP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _L(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?wL:Dre(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*g/f+v)),E=Math.min(r,Math.floor(e+(f-h)*g/f+v));_L(t,e,b,E,a)}const s=t[e];let l=n,d=r;for(Rf(t,n,e),a(t[r],s)>0&&Rf(t,n,r);l<d;){for(Rf(t,l,d),++l,--d;a(t[l],s)<0;)++l;for(;a(t[d],s)>0;)--d}a(t[n],s)===0?Rf(t,n,d):(++d,Rf(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Rf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function zre(t,e,n){if(t=Float64Array.from(Ore(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return IP(t);if(e>=1)return OP(t);var r,a=(r-1)*e,s=Math.floor(a),l=OP(_L(t,s).subarray(0,s+1)),d=IP(t.subarray(s+1));return l+(d-l)*(a-s)}}function Vre(t,e,n=bL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),l=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return l+(d-l)*(a-s)}}function $re(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function Ia(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Hs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lE=Symbol("implicit");function TS(){var t=new TP,e=[],n=[],r=lE;function a(s){let l=t.get(s);if(l===void 0){if(r!==lE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new TP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return TS(e,n).unknown(r)},Ia.apply(a,arguments),a}function CS(){var t=TS().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,l,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var v=e().length,b=a<r,E=b?a:r,A=b?r:a;s=(A-E)/Math.max(1,v-f+h*2),d&&(s=Math.floor(s)),E+=(A-E-s*(v-f))*p,l=s*(1-f),d&&(E=Math.round(E),l=Math.round(l));var S=$re(v).map(function(O){return E+s*O});return n(b?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(v){return arguments.length?(d=!!v,g()):d},t.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),g()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},t.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},t.copy=function(){return CS(e(),[r,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},Ia.apply(g(),arguments)}function EL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EL(e())},t}function Bre(){return EL(CS.apply(null,arguments).paddingInner(1))}function OS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function AL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function um(){}var Th=.7,Hy=1/Th,Uu="\\s*([+-]?\\d+)\\s*",Ch="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fre=/^#([0-9a-f]{3,8})$/,qre=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),Hre=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),Gre=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${Ch}\\)$`),Kre=new RegExp(`^rgba\\(${Li},${Li},${Li},${Ch}\\)$`),Wre=new RegExp(`^hsl\\(${Ch},${Li},${Li}\\)$`),Yre=new RegExp(`^hsla\\(${Ch},${Li},${Li},${Ch}\\)$`),kP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OS(um,Oh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PP,formatHex:PP,formatHex8:Qre,formatHsl:Xre,formatRgb:RP,toString:RP});function PP(){return this.rgb().formatHex()}function Qre(){return this.rgb().formatHex8()}function Xre(){return SL(this).formatHsl()}function RP(){return this.rgb().formatRgb()}function Oh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Fre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?DP(e):n===3?new Rr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?_g(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?_g(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qre.exec(t))?new Rr(e[1],e[2],e[3],1):(e=Hre.exec(t))?new Rr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Gre.exec(t))?_g(e[1],e[2],e[3],e[4]):(e=Kre.exec(t))?_g(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wre.exec(t))?UP(e[1],e[2]/100,e[3]/100,1):(e=Yre.exec(t))?UP(e[1],e[2]/100,e[3]/100,e[4]):kP.hasOwnProperty(t)?DP(kP[t]):t==="transparent"?new Rr(NaN,NaN,NaN,0):null}function DP(t){return new Rr(t>>16&255,t>>8&255,t&255,1)}function _g(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rr(t,e,n,r)}function Zre(t){return t instanceof um||(t=Oh(t)),t?(t=t.rgb(),new Rr(t.r,t.g,t.b,t.opacity)):new Rr}function cE(t,e,n,r){return arguments.length===1?Zre(t):new Rr(t,e,n,r??1)}function Rr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}OS(Rr,cE,AL(um,{brighter(t){return t=t==null?Hy:Math.pow(Hy,t),new Rr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Th:Math.pow(Th,t),new Rr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rr(ec(this.r),ec(this.g),ec(this.b),Gy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MP,formatHex:MP,formatHex8:Jre,formatRgb:LP,toString:LP}));function MP(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function Jre(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function LP(){const t=Gy(this.opacity);return`${t===1?"rgb(":"rgba("}${ec(this.r)}, ${ec(this.g)}, ${ec(this.b)}${t===1?")":`, ${t})`}`}function Gy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ec(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=ec(t),(t<16?"0":"")+t.toString(16)}function UP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ga(t,e,n,r)}function SL(t){if(t instanceof Ga)return new Ga(t.h,t.s,t.l,t.opacity);if(t instanceof um||(t=Oh(t)),!t)return new Ga;if(t instanceof Ga)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,d=s-a,f=(s+a)/2;return d?(e===s?l=(n-r)/d+(n<r)*6:n===s?l=(r-e)/d+2:l=(e-n)/d+4,d/=f<.5?s+a:2-s-a,l*=60):d=f>0&&f<1?0:l,new Ga(l,d,f,t.opacity)}function eae(t,e,n,r){return arguments.length===1?SL(t):new Ga(t,e,n,r??1)}function Ga(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}OS(Ga,eae,AL(um,{brighter(t){return t=t==null?Hy:Math.pow(Hy,t),new Ga(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Th:Math.pow(Th,t),new Ga(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Rr(j1(t>=240?t-240:t+120,a,r),j1(t,a,r),j1(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ga(zP(this.h),Eg(this.s),Eg(this.l),Gy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gy(this.opacity);return`${t===1?"hsl(":"hsla("}${zP(this.h)}, ${Eg(this.s)*100}%, ${Eg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zP(t){return t=(t||0)%360,t<0?t+360:t}function Eg(t){return Math.max(0,Math.min(1,t||0))}function j1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const IS=t=>()=>t;function tae(t,e){return function(n){return t+n*e}}function nae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function rae(t){return(t=+t)==1?jL:function(e,n){return n-e?nae(e,n,t):IS(isNaN(e)?n:e)}}function jL(t,e){var n=e-t;return n?tae(t,n):IS(isNaN(t)?e:t)}const VP=(function t(e){var n=rae(e);function r(a,s){var l=n((a=cE(a)).r,(s=cE(s)).r),d=n(a.g,s.g),f=n(a.b,s.b),h=jL(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function aae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function iae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)a[l]=gd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(d){for(l=0;l<r;++l)s[l]=a[l](d);return s}}function oae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ky(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function lae(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=gd(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var uE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N1=new RegExp(uE.source,"g");function cae(t){return function(){return t}}function uae(t){return function(e){return t(e)+""}}function dae(t,e){var n=uE.lastIndex=N1.lastIndex=0,r,a,s,l=-1,d=[],f=[];for(t=t+"",e=e+"";(r=uE.exec(t))&&(a=N1.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(a=a[0])?d[l]?d[l]+=a:d[++l]=a:(d[++l]=null,f.push({i:l,x:Ky(r,a)})),n=N1.lastIndex;return n<e.length&&(s=e.slice(n),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?uae(f[0].x):cae(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function gd(t,e){var n=typeof e,r;return e==null||n==="boolean"?IS(e):(n==="number"?Ky:n==="string"?(r=Oh(e))?(e=r,VP):dae:e instanceof Oh?VP:e instanceof Date?oae:iae(e)?aae:Array.isArray(e)?sae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lae:Ky)(t,e)}function kS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fae(t,e){e===void 0&&(e=t,t=gd);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[d](l-d)}}function hae(t){return function(){return t}}function Wy(t){return+t}var $P=[0,1];function yr(t){return t}function dE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:hae(isNaN(e)?NaN:.5)}function mae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function pae(t,e,n){var r=t[0],a=t[1],s=e[0],l=e[1];return a<r?(r=dE(a,r),s=n(l,s)):(r=dE(r,a),s=n(s,l)),function(d){return s(r(d))}}function gae(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=dE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(d){var f=cm(t,d,1,r)-1;return s[f](a[f](d))}}function dm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function y0(){var t=$P,e=$P,n=gd,r,a,s,l=yr,d,f,h;function p(){var v=Math.min(t.length,e.length);return l!==yr&&(l=mae(t[0],t[v-1])),d=v>2?gae:pae,f=h=null,g}function g(v){return v==null||isNaN(v=+v)?s:(f||(f=d(t.map(r),e,n)))(r(l(v)))}return g.invert=function(v){return l(a((h||(h=d(e,t.map(r),Ky)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,Wy),p()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),n=kS,p()},g.clamp=function(v){return arguments.length?(l=v?!0:yr,p()):l!==yr},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,b){return r=v,a=b,p()}}function PS(){return y0()(yr,yr)}function yae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Zu(t){return t=Yy(Math.abs(t)),t?t[1]:NaN}function vae(t,e){return function(n,r){for(var a=n.length,s=[],l=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(a-=d,a+d)),!((f+=d+1)>r));)d=t[l=(l+1)%t.length];return s.reverse().join(e)}}function xae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var bae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ih(t){if(!(e=bae.exec(t)))throw new Error("invalid format: "+t);var e;return new RS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ih.prototype=RS.prototype;function RS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wae(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var NL;function _ae(t,e){var n=Yy(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(NL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Yy(t,Math.max(0,e+s-1))[0]}function BP(t,e){var n=Yy(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const FP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>BP(t*100,e),r:BP,s:_ae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qP(t){return t}var HP=Array.prototype.map,GP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Eae(t){var e=t.grouping===void 0||t.thousands===void 0?qP:vae(HP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?qP:xae(HP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Ih(g);var v=g.fill,b=g.align,E=g.sign,A=g.symbol,S=g.zero,O=g.width,U=g.comma,k=g.precision,C=g.trim,P=g.type;P==="n"?(U=!0,P="g"):FP[P]||(k===void 0&&(k=12),C=!0,P="g"),(S||v==="0"&&b==="=")&&(S=!0,v="0",b="=");var z=A==="$"?n:A==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",N=A==="$"?r:/[%p]/.test(P)?l:"",M=FP[P],T=/[defgprs%]/.test(P);k=k===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function R(L){var V=z,$=N,ne,pe,Y;if(P==="c")$=M(L)+$,L="";else{L=+L;var oe=L<0||1/L<0;if(L=isNaN(L)?f:M(Math.abs(L),k),C&&(L=wae(L)),oe&&+L==0&&E!=="+"&&(oe=!1),V=(oe?E==="("?E:d:E==="-"||E==="("?"":E)+V,$=(P==="s"?GP[8+NL/3]:"")+$+(oe&&E==="("?")":""),T){for(ne=-1,pe=L.length;++ne<pe;)if(Y=L.charCodeAt(ne),48>Y||Y>57){$=(Y===46?a+L.slice(ne+1):L.slice(ne))+$,L=L.slice(0,ne);break}}}U&&!S&&(L=e(L,1/0));var H=V.length+L.length+$.length,K=H<O?new Array(O-H+1).join(v):"";switch(U&&S&&(L=e(K+L,K.length?O-$.length:1/0),K=""),b){case"<":L=V+L+$+K;break;case"=":L=V+K+L+$;break;case"^":L=K.slice(0,H=K.length>>1)+V+L+$+K.slice(H);break;default:L=K+V+L+$;break}return s(L)}return R.toString=function(){return g+""},R}function p(g,v){var b=h((g=Ih(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Zu(v)/3)))*3,A=Math.pow(10,-E),S=GP[8+E/3];return function(O){return b(A*O)+S}}return{format:h,formatPrefix:p}}var Ag,DS,TL;Aae({thousands:",",grouping:[3],currency:["$",""]});function Aae(t){return Ag=Eae(t),DS=Ag.format,TL=Ag.formatPrefix,Ag}function Sae(t){return Math.max(0,-Zu(Math.abs(t)))}function jae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(e)/3)))*3-Zu(Math.abs(t)))}function Nae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zu(e)-Zu(t))+1}function CL(t,e,n,r){var a=oE(t,e,n),s;switch(r=Ih(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=jae(a,l))&&(r.precision=s),TL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Nae(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Sae(a))&&(r.precision=s-(r.type==="%")*2);break}}return DS(r)}function ll(t){var e=t.domain;return t.ticks=function(n){var r=e();return iE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return CL(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,l=r[a],d=r[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=sE(l,d,n),h===f)return r[a]=l,r[s]=d,e(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function OL(){var t=PS();return t.copy=function(){return dm(t,OL())},Ia.apply(t,arguments),ll(t)}function IL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Wy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return IL(t).unknown(e)},t=arguments.length?Array.from(t,Wy):[0,1],ll(n)}function kL(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],l;return s<a&&(l=n,n=r,r=l,l=a,a=s,s=l),t[n]=e.floor(a),t[r]=e.ceil(s),t}function KP(t){return Math.log(t)}function WP(t){return Math.exp(t)}function Tae(t){return-Math.log(-t)}function Cae(t){return-Math.exp(-t)}function Oae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Iae(t){return t===10?Oae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function YP(t){return(e,n)=>-t(-e,n)}function MS(t){const e=t(KP,WP),n=e.domain;let r=10,a,s;function l(){return a=kae(r),s=Iae(r),n()[0]<0?(a=YP(a),s=YP(s),t(Tae,Cae)):t(KP,WP),e}return e.base=function(d){return arguments.length?(r=+d,l()):r},e.domain=function(d){return arguments.length?(n(d),l()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=a(h),b=a(p),E,A;const S=d==null?10:+d;let O=[];if(!(r%1)&&b-v<S){if(v=Math.floor(v),b=Math.ceil(b),h>0){for(;v<=b;++v)for(E=1;E<r;++E)if(A=v<0?E/s(-v):E*s(v),!(A<h)){if(A>p)break;O.push(A)}}else for(;v<=b;++v)for(E=r-1;E>=1;--E)if(A=v>0?E/s(-v):E*s(v),!(A<h)){if(A>p)break;O.push(A)}O.length*2<S&&(O=iE(h,p,S))}else O=iE(v,b,Math.min(b-v,S)).map(s);return g?O.reverse():O},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Ih(f)).precision==null&&(f.trim=!0),f=DS(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(kL(n(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function PL(){const t=MS(y0()).domain([1,10]);return t.copy=()=>dm(t,PL()).base(t.base()),Ia.apply(t,arguments),t}function QP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function XP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function LS(t){var e=1,n=t(QP(e),XP(e));return n.constant=function(r){return arguments.length?t(QP(e=+r),XP(e)):e},ll(n)}function RL(){var t=LS(y0());return t.copy=function(){return dm(t,RL()).constant(t.constant())},Ia.apply(t,arguments)}function ZP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Pae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Rae(t){return t<0?-t*t:t*t}function US(t){var e=t(yr,yr),n=1;function r(){return n===1?t(yr,yr):n===.5?t(Pae,Rae):t(ZP(n),ZP(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},ll(e)}function zS(){var t=US(y0());return t.copy=function(){return dm(t,zS()).exponent(t.exponent())},Ia.apply(t,arguments),t}function Dae(){return zS.apply(null,arguments).exponent(.5)}function JP(t){return Math.sign(t)*t*t}function Mae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function DL(){var t=PS(),e=[0,1],n=!1,r;function a(s){var l=Mae(t(s));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(s){return t.invert(JP(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Wy)).map(JP)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return DL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ia.apply(a,arguments),ll(a)}function ML(){var t=[],e=[],n=[],r;function a(){var l=0,d=Math.max(1,e.length);for(n=new Array(d-1);++l<d;)n[l-1]=Vre(t,l/d);return s}function s(l){return l==null||isNaN(l=+l)?r:e[cm(n,l)]}return s.invertExtent=function(l){var d=e.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let d of l)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Fo),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return ML().domain(t).range(e).unknown(r)},Ia.apply(s,arguments)}function LL(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[cm(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},l.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,d()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return LL().domain([t,e]).range(a).unknown(s)},Ia.apply(ll(l),arguments)}function UL(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[cm(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return UL().domain(t).range(e).unknown(n)},Ia.apply(a,arguments)}const T1=new Date,C1=new Date;function On(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),d=a.ceil(s);return s-l<d-s?l:d},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<l);return f},a.filter=s=>On(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;e(l,-1),!s(l););else for(;--d>=0;)for(;e(l,1),!s(l););}),n&&(a.count=(s,l)=>(T1.setTime(+s),C1.setTime(+l),t(T1),t(C1),Math.floor(n(T1,C1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?l=>r(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Qy=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Qy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Qy);Qy.range;const _s=1e3,wa=_s*60,Es=wa*60,Ls=Es*24,VS=Ls*7,eR=Ls*30,O1=Ls*365,Kl=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getUTCSeconds());Kl.range;const $S=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_s)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getMinutes());$S.range;const BS=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getUTCMinutes());BS.range;const FS=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_s-t.getMinutes()*wa)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getHours());FS.range;const qS=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCHours());qS.range;const fm=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wa)/Ls,t=>t.getDate()-1);fm.range;const v0=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>t.getUTCDate()-1);v0.range;const zL=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>Math.floor(t/Ls));zL.range;function jc(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*wa)/VS)}const x0=jc(0),Xy=jc(1),Lae=jc(2),Uae=jc(3),Ju=jc(4),zae=jc(5),Vae=jc(6);x0.range;Xy.range;Lae.range;Uae.range;Ju.range;zae.range;Vae.range;function Nc(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/VS)}const b0=Nc(0),Zy=Nc(1),$ae=Nc(2),Bae=Nc(3),ed=Nc(4),Fae=Nc(5),qae=Nc(6);b0.range;Zy.range;$ae.range;Bae.range;ed.range;Fae.range;qae.range;const HS=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());HS.range;const GS=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());GS.range;const Us=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Us.range;const zs=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zs.range;function VL(t,e,n,r,a,s){const l=[[Kl,1,_s],[Kl,5,5*_s],[Kl,15,15*_s],[Kl,30,30*_s],[s,1,wa],[s,5,5*wa],[s,15,15*wa],[s,30,30*wa],[a,1,Es],[a,3,3*Es],[a,6,6*Es],[a,12,12*Es],[r,1,Ls],[r,2,2*Ls],[n,1,VS],[e,1,eR],[e,3,3*eR],[t,1,O1]];function d(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const b=g&&typeof g.range=="function"?g:f(h,p,g),E=b?b.range(h,+p+1):[];return v?E.reverse():E}function f(h,p,g){const v=Math.abs(p-h)/g,b=NS(([,,S])=>S).right(l,v);if(b===l.length)return t.every(oE(h/O1,p/O1,g));if(b===0)return Qy.every(Math.max(oE(h,p,g),1));const[E,A]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return E.every(A)}return[d,f]}const[Hae,Gae]=VL(zs,GS,b0,zL,qS,BS),[Kae,Wae]=VL(Us,HS,x0,fm,FS,$S);function I1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function k1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Df(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Yae(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,l=t.shortDays,d=t.months,f=t.shortMonths,h=Mf(a),p=Lf(a),g=Mf(s),v=Lf(s),b=Mf(l),E=Lf(l),A=Mf(d),S=Lf(d),O=Mf(f),U=Lf(f),k={a:oe,A:H,b:K,B:se,c:null,d:sR,e:sR,f:vie,g:Tie,G:Oie,H:pie,I:gie,j:yie,L:$L,m:xie,M:bie,p:q,q:re,Q:cR,s:uR,S:wie,u:_ie,U:Eie,V:Aie,w:Sie,W:jie,x:null,X:null,y:Nie,Y:Cie,Z:Iie,"%":lR},C={a:me,A:ye,b:Ce,B:ke,c:null,d:oR,e:oR,f:Die,g:Hie,G:Kie,H:kie,I:Pie,j:Rie,L:FL,m:Mie,M:Lie,p:Pe,q:Nt,Q:cR,s:uR,S:Uie,u:zie,U:Vie,V:$ie,w:Bie,W:Fie,x:null,X:null,y:qie,Y:Gie,Z:Wie,"%":lR},P={a:R,A:L,b:V,B:$,c:ne,d:aR,e:aR,f:die,g:rR,G:nR,H:iR,I:iR,j:oie,L:uie,m:sie,M:lie,p:T,q:iie,Q:hie,s:mie,S:cie,u:eie,U:tie,V:nie,w:Jae,W:rie,x:pe,X:Y,y:rR,Y:nR,Z:aie,"%":fie};k.x=z(n,k),k.X=z(r,k),k.c=z(e,k),C.x=z(n,C),C.X=z(r,C),C.c=z(e,C);function z(ce,Ue){return function(He){var ge=[],Xt=-1,Ge=0,An=ce.length,Zt,Lr,Ys;for(He instanceof Date||(He=new Date(+He));++Xt<An;)ce.charCodeAt(Xt)===37&&(ge.push(ce.slice(Ge,Xt)),(Lr=tR[Zt=ce.charAt(++Xt)])!=null?Zt=ce.charAt(++Xt):Lr=Zt==="e"?" ":"0",(Ys=Ue[Zt])&&(Zt=Ys(He,Lr)),ge.push(Zt),Ge=Xt+1);return ge.push(ce.slice(Ge,Xt)),ge.join("")}}function N(ce,Ue){return function(He){var ge=Df(1900,void 0,1),Xt=M(ge,ce,He+="",0),Ge,An;if(Xt!=He.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ue&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ge=k1(Df(ge.y,0,1)),An=Ge.getUTCDay(),Ge=An>4||An===0?Zy.ceil(Ge):Zy(Ge),Ge=v0.offset(Ge,(ge.V-1)*7),ge.y=Ge.getUTCFullYear(),ge.m=Ge.getUTCMonth(),ge.d=Ge.getUTCDate()+(ge.w+6)%7):(Ge=I1(Df(ge.y,0,1)),An=Ge.getDay(),Ge=An>4||An===0?Xy.ceil(Ge):Xy(Ge),Ge=fm.offset(Ge,(ge.V-1)*7),ge.y=Ge.getFullYear(),ge.m=Ge.getMonth(),ge.d=Ge.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),An="Z"in ge?k1(Df(ge.y,0,1)).getUTCDay():I1(Df(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(An+5)%7:ge.w+ge.U*7-(An+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,k1(ge)):I1(ge)}}function M(ce,Ue,He,ge){for(var Xt=0,Ge=Ue.length,An=He.length,Zt,Lr;Xt<Ge;){if(ge>=An)return-1;if(Zt=Ue.charCodeAt(Xt++),Zt===37){if(Zt=Ue.charAt(Xt++),Lr=P[Zt in tR?Ue.charAt(Xt++):Zt],!Lr||(ge=Lr(ce,He,ge))<0)return-1}else if(Zt!=He.charCodeAt(ge++))return-1}return ge}function T(ce,Ue,He){var ge=h.exec(Ue.slice(He));return ge?(ce.p=p.get(ge[0].toLowerCase()),He+ge[0].length):-1}function R(ce,Ue,He){var ge=b.exec(Ue.slice(He));return ge?(ce.w=E.get(ge[0].toLowerCase()),He+ge[0].length):-1}function L(ce,Ue,He){var ge=g.exec(Ue.slice(He));return ge?(ce.w=v.get(ge[0].toLowerCase()),He+ge[0].length):-1}function V(ce,Ue,He){var ge=O.exec(Ue.slice(He));return ge?(ce.m=U.get(ge[0].toLowerCase()),He+ge[0].length):-1}function $(ce,Ue,He){var ge=A.exec(Ue.slice(He));return ge?(ce.m=S.get(ge[0].toLowerCase()),He+ge[0].length):-1}function ne(ce,Ue,He){return M(ce,e,Ue,He)}function pe(ce,Ue,He){return M(ce,n,Ue,He)}function Y(ce,Ue,He){return M(ce,r,Ue,He)}function oe(ce){return l[ce.getDay()]}function H(ce){return s[ce.getDay()]}function K(ce){return f[ce.getMonth()]}function se(ce){return d[ce.getMonth()]}function q(ce){return a[+(ce.getHours()>=12)]}function re(ce){return 1+~~(ce.getMonth()/3)}function me(ce){return l[ce.getUTCDay()]}function ye(ce){return s[ce.getUTCDay()]}function Ce(ce){return f[ce.getUTCMonth()]}function ke(ce){return d[ce.getUTCMonth()]}function Pe(ce){return a[+(ce.getUTCHours()>=12)]}function Nt(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ue=z(ce+="",k);return Ue.toString=function(){return ce},Ue},parse:function(ce){var Ue=N(ce+="",!1);return Ue.toString=function(){return ce},Ue},utcFormat:function(ce){var Ue=z(ce+="",C);return Ue.toString=function(){return ce},Ue},utcParse:function(ce){var Ue=N(ce+="",!0);return Ue.toString=function(){return ce},Ue}}}var tR={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,Qae=/^%/,Xae=/[\\^$*+?|[\]().{}]/g;function ct(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function Zae(t){return t.replace(Xae,"\\$&")}function Mf(t){return new RegExp("^(?:"+t.map(Zae).join("|")+")","i")}function Lf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Jae(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function eie(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function tie(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function nie(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function rie(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function nR(t,e,n){var r=Fn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function rR(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iie(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function sie(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function aR(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function oie(t,e,n){var r=Fn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function iR(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function lie(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function cie(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function uie(t,e,n){var r=Fn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function die(t,e,n){var r=Fn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fie(t,e,n){var r=Qae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hie(t,e,n){var r=Fn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function mie(t,e,n){var r=Fn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function sR(t,e){return ct(t.getDate(),e,2)}function pie(t,e){return ct(t.getHours(),e,2)}function gie(t,e){return ct(t.getHours()%12||12,e,2)}function yie(t,e){return ct(1+fm.count(Us(t),t),e,3)}function $L(t,e){return ct(t.getMilliseconds(),e,3)}function vie(t,e){return $L(t,e)+"000"}function xie(t,e){return ct(t.getMonth()+1,e,2)}function bie(t,e){return ct(t.getMinutes(),e,2)}function wie(t,e){return ct(t.getSeconds(),e,2)}function _ie(t){var e=t.getDay();return e===0?7:e}function Eie(t,e){return ct(x0.count(Us(t)-1,t),e,2)}function BL(t){var e=t.getDay();return e>=4||e===0?Ju(t):Ju.ceil(t)}function Aie(t,e){return t=BL(t),ct(Ju.count(Us(t),t)+(Us(t).getDay()===4),e,2)}function Sie(t){return t.getDay()}function jie(t,e){return ct(Xy.count(Us(t)-1,t),e,2)}function Nie(t,e){return ct(t.getFullYear()%100,e,2)}function Tie(t,e){return t=BL(t),ct(t.getFullYear()%100,e,2)}function Cie(t,e){return ct(t.getFullYear()%1e4,e,4)}function Oie(t,e){var n=t.getDay();return t=n>=4||n===0?Ju(t):Ju.ceil(t),ct(t.getFullYear()%1e4,e,4)}function Iie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ct(e/60|0,"0",2)+ct(e%60,"0",2)}function oR(t,e){return ct(t.getUTCDate(),e,2)}function kie(t,e){return ct(t.getUTCHours(),e,2)}function Pie(t,e){return ct(t.getUTCHours()%12||12,e,2)}function Rie(t,e){return ct(1+v0.count(zs(t),t),e,3)}function FL(t,e){return ct(t.getUTCMilliseconds(),e,3)}function Die(t,e){return FL(t,e)+"000"}function Mie(t,e){return ct(t.getUTCMonth()+1,e,2)}function Lie(t,e){return ct(t.getUTCMinutes(),e,2)}function Uie(t,e){return ct(t.getUTCSeconds(),e,2)}function zie(t){var e=t.getUTCDay();return e===0?7:e}function Vie(t,e){return ct(b0.count(zs(t)-1,t),e,2)}function qL(t){var e=t.getUTCDay();return e>=4||e===0?ed(t):ed.ceil(t)}function $ie(t,e){return t=qL(t),ct(ed.count(zs(t),t)+(zs(t).getUTCDay()===4),e,2)}function Bie(t){return t.getUTCDay()}function Fie(t,e){return ct(Zy.count(zs(t)-1,t),e,2)}function qie(t,e){return ct(t.getUTCFullYear()%100,e,2)}function Hie(t,e){return t=qL(t),ct(t.getUTCFullYear()%100,e,2)}function Gie(t,e){return ct(t.getUTCFullYear()%1e4,e,4)}function Kie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ed(t):ed.ceil(t),ct(t.getUTCFullYear()%1e4,e,4)}function Wie(){return"+0000"}function lR(){return"%"}function cR(t){return+t}function uR(t){return Math.floor(+t/1e3)}var pu,HL,GL;Yie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yie(t){return pu=Yae(t),HL=pu.format,pu.parse,GL=pu.utcFormat,pu.utcParse,pu}function Qie(t){return new Date(t)}function Xie(t){return t instanceof Date?+t:+new Date(+t)}function KS(t,e,n,r,a,s,l,d,f,h){var p=PS(),g=p.invert,v=p.domain,b=h(".%L"),E=h(":%S"),A=h("%I:%M"),S=h("%I %p"),O=h("%a %d"),U=h("%b %d"),k=h("%B"),C=h("%Y");function P(z){return(f(z)<z?b:d(z)<z?E:l(z)<z?A:s(z)<z?S:r(z)<z?a(z)<z?O:U:n(z)<z?k:C)(z)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?v(Array.from(z,Xie)):v().map(Qie)},p.ticks=function(z){var N=v();return t(N[0],N[N.length-1],z??10)},p.tickFormat=function(z,N){return N==null?P:h(N)},p.nice=function(z){var N=v();return(!z||typeof z.range!="function")&&(z=e(N[0],N[N.length-1],z??10)),z?v(kL(N,z)):p},p.copy=function(){return dm(p,KS(t,e,n,r,a,s,l,d,f,h))},p}function Zie(){return Ia.apply(KS(Kae,Wae,Us,HS,x0,fm,FS,$S,Kl,HL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jie(){return Ia.apply(KS(Hae,Gae,zs,GS,b0,v0,qS,BS,Kl,GL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function w0(){var t=0,e=1,n,r,a,s,l=yr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(v){var b,E;return arguments.length?([b,E]=v,l=g(b,E),h):[l(0),l(1)]}}return h.range=p(gd),h.rangeRound=p(kS),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KL(){var t=ll(w0()(yr));return t.copy=function(){return cl(t,KL())},Hs.apply(t,arguments)}function WL(){var t=MS(w0()).domain([1,10]);return t.copy=function(){return cl(t,WL()).base(t.base())},Hs.apply(t,arguments)}function YL(){var t=LS(w0());return t.copy=function(){return cl(t,YL()).constant(t.constant())},Hs.apply(t,arguments)}function WS(){var t=US(w0());return t.copy=function(){return cl(t,WS()).exponent(t.exponent())},Hs.apply(t,arguments)}function ese(){return WS.apply(null,arguments).exponent(.5)}function QL(){var t=[],e=yr;function n(r){if(r!=null&&!isNaN(r=+r))return e((cm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Fo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>zre(t,s/r))},n.copy=function(){return QL(e).domain(t)},Hs.apply(n,arguments)}function _0(){var t=0,e=.5,n=1,r=1,a,s,l,d,f,h=yr,p,g=!1,v;function b(A){return isNaN(A=+A)?v:(A=.5+((A=+p(A))-s)*(r*A<r*s?d:f),h(g?Math.max(0,Math.min(1,A)):A))}b.domain=function(A){return arguments.length?([t,e,n]=A,a=p(t=+t),s=p(e=+e),l=p(n=+n),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),r=s<a?-1:1,b):[t,e,n]},b.clamp=function(A){return arguments.length?(g=!!A,b):g},b.interpolator=function(A){return arguments.length?(h=A,b):h};function E(A){return function(S){var O,U,k;return arguments.length?([O,U,k]=S,h=fae(A,[O,U,k]),b):[h(0),h(.5),h(1)]}}return b.range=E(gd),b.rangeRound=E(kS),b.unknown=function(A){return arguments.length?(v=A,b):v},function(A){return p=A,a=A(t),s=A(e),l=A(n),d=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),r=s<a?-1:1,b}}function XL(){var t=ll(_0()(yr));return t.copy=function(){return cl(t,XL())},Hs.apply(t,arguments)}function ZL(){var t=MS(_0()).domain([.1,1,10]);return t.copy=function(){return cl(t,ZL()).base(t.base())},Hs.apply(t,arguments)}function JL(){var t=LS(_0());return t.copy=function(){return cl(t,JL()).constant(t.constant())},Hs.apply(t,arguments)}function YS(){var t=US(_0());return t.copy=function(){return cl(t,YS()).exponent(t.exponent())},Hs.apply(t,arguments)}function tse(){return YS.apply(null,arguments).exponent(.5)}const Wf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:CS,scaleDiverging:XL,scaleDivergingLog:ZL,scaleDivergingPow:YS,scaleDivergingSqrt:tse,scaleDivergingSymlog:JL,scaleIdentity:IL,scaleImplicit:lE,scaleLinear:OL,scaleLog:PL,scaleOrdinal:TS,scalePoint:Bre,scalePow:zS,scaleQuantile:ML,scaleQuantize:LL,scaleRadial:DL,scaleSequential:KL,scaleSequentialLog:WL,scaleSequentialPow:WS,scaleSequentialQuantile:QL,scaleSequentialSqrt:ese,scaleSequentialSymlog:YL,scaleSqrt:Dae,scaleSymlog:RL,scaleThreshold:UL,scaleTime:Zie,scaleUtc:Jie,tickFormat:CL},Symbol.toStringTag,{value:"Module"}));var ul=t=>t.chartData,QS=J([ul],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),hm=(t,e,n,r)=>r?QS(t):ul(t);function Zo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Rt(e)&&Rt(n))return!0}return!1}function dR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function eU(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(Rt(n))a=n;else if(typeof n=="function")return;if(Rt(r))s=r;else if(typeof r=="function")return;var l=[a,s];if(Zo(l))return l}}function nse(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Zo(r))return dR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,l,d;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Ee(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&$k.test(a)){var f=$k.exec(a);if(f==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ee(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&Bk.test(s)){var p=Bk.exec(s);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var v=[l,d];if(Zo(v))return e==null?v:dR(v,e,n)}}}var yd=1e9,rse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZS,Ut=!0,Ca="[DecimalError] ",tc=Ca+"Invalid argument: ",XS=Ca+"Exponent out of range: ",vd=Math.floor,Fl=Math.pow,ase=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yr,zn=1e7,kt=7,tU=9007199254740991,Jy=vd(tU/kt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return Ns(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return St(Ns(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return _n(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Yr))throw Error(Ca+"NaN");if(n.s<1)throw Error(Ca+(n.s?"NaN":"-Infinity"));return n.eq(Yr)?new r(0):(Ut=!1,e=Ns(kh(n,s),kh(t,s),s),Ut=!0,St(e,a))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aU(e,t):nU(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Ca+"NaN");return n.s?(Ut=!1,e=Ns(n,t,0,1).times(t),Ut=!0,n.minus(e)):St(new r(n),a)};Ae.naturalExponential=Ae.exp=function(){return rU(this)};Ae.naturalLogarithm=Ae.ln=function(){return kh(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nU(e,t):aU(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tc+t);if(e=_n(a)+1,r=a.d.length-1,n=r*kt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,a,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Ca+"NaN")}for(t=_n(d),Ut=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Ci(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=vd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=l=n+3;;)if(s=r,r=s.plus(Ns(d,s,l+2)).times(.5),Ci(s.d).slice(0,l)===(e=Ci(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(St(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;l+=4}return Ut=!0,St(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,a,s,l,d,f,h,p=this,g=p.constructor,v=p.d,b=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=v.length,h=b.length,f<h&&(s=v,v=b,b=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)d=s[a]+b[r]*v[a-r-1]+e,s[a--]=d%zn|0,e=d/zn|0;s[a]=(s[a]+e)%zn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ut?St(t,g.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Bi(t,0,yd),e===void 0?e=r.rounding:Bi(e,0,8),St(n,t+_n(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=yc(r,!0):(Bi(t,0,yd),e===void 0?e=a.rounding:Bi(e,0,8),r=St(new a(r),t+1,e),n=yc(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?yc(a):(Bi(t,0,yd),e===void 0?e=s.rounding:Bi(e,0,8),r=St(new s(a),t+_n(a)+1,e),n=yc(r.abs(),!1,t+_n(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return St(new e(t),_n(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,a,s,l,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(Yr);if(d=new f(d),!d.s){if(t.s<1)throw Error(Ca+"Infinity");return d}if(d.eq(Yr))return d;if(r=f.precision,t.eq(Yr))return St(d,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=d.s,l){if((n=p<0?-p:p)<=tU){for(a=new f(Yr),e=Math.ceil(r/kt+4),Ut=!1;n%2&&(a=a.times(d),hR(a.d,e)),n=vd(n/2),n!==0;)d=d.times(d),hR(d.d,e);return Ut=!0,t.s<0?new f(Yr).div(a):St(a,r)}}else if(s<0)throw Error(Ca+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Ut=!1,a=t.times(kh(d,r+h)),Ut=!0,a=rU(a),a.s=s,a};Ae.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=_n(a),r=yc(a,n<=s.toExpNeg||n>=s.toExpPos)):(Bi(t,1,yd),e===void 0?e=s.rounding:Bi(e,0,8),a=St(new s(a),t,e),n=_n(a),r=yc(a,t<=n||n<=s.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Bi(t,1,yd),e===void 0?e=r.rounding:Bi(e,0,8)),St(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_n(t),n=t.constructor;return yc(t,e<=n.toExpNeg||e>=n.toExpPos)};function nU(t,e){var n,r,a,s,l,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ut?St(e,g):e;if(f=t.d,h=e.d,l=t.e,a=e.e,f=f.slice(),s=l-a,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,a=l,d=f.length),l=Math.ceil(g/kt),d=l>d?l+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/zn|0,f[s]%=zn;for(n&&(f.unshift(n),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,Ut?St(e,g):e}function Bi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tc+t)}function Ci(t){var e,n,r,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)r=t[e]+"",n=kt-r.length,n&&(s+=Io(n)),s+=r;l=t[e],r=l+"",n=kt-r.length,n&&(s+=Io(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ns=(function(){function t(r,a){var s,l=0,d=r.length;for(r=r.slice();d--;)s=r[d]*a+l,r[d]=s%zn|0,l=s/zn|0;return l&&r.unshift(l),r}function e(r,a,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=a[d]){f=r[d]>a[d]?1:-1;break}return f}function n(r,a,s){for(var l=0;s--;)r[s]-=l,l=r[s]<a[s]?1:0,r[s]=l*zn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,l){var d,f,h,p,g,v,b,E,A,S,O,U,k,C,P,z,N,M,T=r.constructor,R=r.s==a.s?1:-1,L=r.d,V=a.d;if(!r.s)return new T(r);if(!a.s)throw Error(Ca+"Division by zero");for(f=r.e-a.e,N=V.length,P=L.length,b=new T(R),E=b.d=[],h=0;V[h]==(L[h]||0);)++h;if(V[h]>(L[h]||0)&&--f,s==null?U=s=T.precision:l?U=s+(_n(r)-_n(a))+1:U=s,U<0)return new T(0);if(U=U/kt+2|0,h=0,N==1)for(p=0,V=V[0],U++;(h<P||p)&&U--;h++)k=p*zn+(L[h]||0),E[h]=k/V|0,p=k%V|0;else{for(p=zn/(V[0]+1)|0,p>1&&(V=t(V,p),L=t(L,p),N=V.length,P=L.length),C=N,A=L.slice(0,N),S=A.length;S<N;)A[S++]=0;M=V.slice(),M.unshift(0),z=V[0],V[1]>=zn/2&&++z;do p=0,d=e(V,A,N,S),d<0?(O=A[0],N!=S&&(O=O*zn+(A[1]||0)),p=O/z|0,p>1?(p>=zn&&(p=zn-1),g=t(V,p),v=g.length,S=A.length,d=e(g,A,v,S),d==1&&(p--,n(g,N<v?M:V,v))):(p==0&&(d=p=1),g=V.slice()),v=g.length,v<S&&g.unshift(0),n(A,g,S),d==-1&&(S=A.length,d=e(V,A,N,S),d<1&&(p++,n(A,N<S?M:V,S))),S=A.length):d===0&&(p++,A=[0]),E[h++]=p,d&&A[0]?A[S++]=L[C]||0:(A=[L[C]],S=1);while((C++<P||A[0]!==void 0)&&U--)}return E[0]||E.shift(),b.e=f,St(b,l?s+_n(b)+1:s)}})();function rU(t,e){var n,r,a,s,l,d,f=0,h=0,p=t.constructor,g=p.precision;if(_n(t)>16)throw Error(XS+_n(t));if(!t.s)return new p(Yr);for(Ut=!1,d=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Fl(2,h))/Math.LN10*2+5|0,d+=r,n=a=s=new p(Yr),p.precision=d;;){if(a=St(a.times(t),d),n=n.times(++f),l=s.plus(Ns(a,n,d)),Ci(l.d).slice(0,d)===Ci(s.d).slice(0,d)){for(;h--;)s=St(s.times(s),d);return p.precision=g,e==null?(Ut=!0,St(s,g)):s}s=l}}function _n(t){for(var e=t.e*kt,n=t.d[0];n>=10;n/=10)e++;return e}function P1(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(Ca+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function Io(t){for(var e="";t--;)e+="0";return e}function kh(t,e){var n,r,a,s,l,d,f,h,p,g=1,v=10,b=t,E=b.d,A=b.constructor,S=A.precision;if(b.s<1)throw Error(Ca+(b.s?"NaN":"-Infinity"));if(b.eq(Yr))return new A(0);if(e==null?(Ut=!1,h=S):h=e,b.eq(10))return e==null&&(Ut=!0),P1(A,h);if(h+=v,A.precision=h,n=Ci(E),r=n.charAt(0),s=_n(b),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Ci(b.d),r=n.charAt(0),g++;s=_n(b),r>1?(b=new A("0."+n),s++):b=new A(r+"."+n.slice(1))}else return f=P1(A,h+2,S).times(s+""),b=kh(new A(r+"."+n.slice(1)),h-v).plus(f),A.precision=S,e==null?(Ut=!0,St(b,S)):b;for(d=l=b=Ns(b.minus(Yr),b.plus(Yr),h),p=St(b.times(b),h),a=3;;){if(l=St(l.times(p),h),f=d.plus(Ns(l,new A(a),h)),Ci(f.d).slice(0,h)===Ci(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(P1(A,h+2,S).times(s+""))),d=Ns(d,new A(g),h),A.precision=S,e==null?(Ut=!0,St(d,S)):d;d=f,a+=2}}function fR(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=vd(n/kt),t.d=[],r=(n+1)%kt,n<0&&(r+=kt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=kt;r<a;)t.d.push(+e.slice(r,r+=kt));e=e.slice(r),r=kt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>Jy||t.e<-Jy))throw Error(XS+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,a,s,l,d,f,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=kt,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/kt),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=kt,a=r-kt+l}if(n!==void 0&&(s=Fl(10,l-a-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?a>0?h/Fl(10,l-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=_n(t),g.length=1,e=e-s-1,g[0]=Fl(10,(kt-e%kt)%kt),t.e=vd(-e/kt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Fl(10,kt-r),g[p]=a>0?(h/Fl(10,l-a)%Fl(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==zn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=zn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Ut&&(t.e>Jy||t.e<-Jy))throw Error(XS+_n(t));return t}function aU(t,e){var n,r,a,s,l,d,f,h,p,g,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ut?St(e,b):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,d=g.length):(n=g,r=h,d=f.length),a=Math.max(Math.ceil(b/kt),d)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=zn-1;--f[s],f[a]+=zn}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Ut?St(e,b):e):new v(0)}function yc(t,e,n){var r,a=_n(t),s=Ci(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Io(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Io(-a-1)+s,n&&(r=n-l)>0&&(s+=Io(r))):a>=l?(s+=Io(a+1-l),n&&(r=n-a-1)>0&&(s=s+"."+Io(r))):((r=a+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(s+="."),s+=Io(r))),t.s<0?"-"+s:s}function hR(t,e){if(t.length>e)return t.length=e,!0}function iU(t){var e,n,r;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(tc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return fR(l,s.toString())}else if(typeof s!="string")throw Error(tc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,ase.test(s))fR(l,s);else throw Error(tc+s)}if(a.prototype=Ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=iU,a.config=a.set=ise,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function ise(t){if(!t||typeof t!="object")throw Error(Ca+"Object expected");var e,n,r,a=["precision",1,yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(vd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(tc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tc+n+": "+r);return this}var ZS=iU(rse);Yr=new ZS(1);const yt=ZS;var sse=t=>t,sU={},oU=t=>t===sU,mR=t=>function e(){return arguments.length===0||arguments.length===1&&oU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},lU=(t,e)=>t===1?e:mR(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(l=>l!==sU).length;return s>=t?e(...r):lU(t-s,mR(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var h=r.map(p=>oU(p)?d.shift():p);return e(...h,...d)}))}),ose=t=>lU(t.length,t),fE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},lse=ose((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),cse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return sse;var a=n.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((d,f)=>f(d),s(...arguments))}},hE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function cU(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function uU(t,e,n){for(var r=new yt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var dU=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},fU=(t,e,n)=>{if(t.lte(0))return new yt(0);var r=cU(t.toNumber()),a=new yt(10).pow(r),s=t.div(a),l=r!==1?.05:.1,d=new yt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=d.mul(a);return e?new yt(f.toNumber()):new yt(Math.ceil(f.toNumber()))},use=(t,e,n)=>{var r=new yt(1),a=new yt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new yt(10).pow(cU(t)-1),a=new yt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new yt(Math.floor(t)))}else t===0?a=new yt(Math.floor((e-1)/2)):n||(a=new yt(Math.floor(t)));var l=Math.floor((e-1)/2),d=cse(lse(f=>a.add(new yt(f-l).mul(r)).toNumber()),fE);return d(0,e)},hU=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var l=fU(new yt(n).sub(e).div(r-1),a,s),d;e<=0&&n>=0?d=new yt(0):(d=new yt(e).add(n).div(2),d=d.sub(new yt(d).mod(l)));var f=Math.ceil(d.sub(e).div(l).toNumber()),h=Math.ceil(new yt(n).sub(d).div(l).toNumber()),p=f+h+1;return p>r?hU(e,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new yt(f).mul(l)),tickMax:d.add(new yt(h).mul(l))})},dse=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[d,f]=dU([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...fE(0,a-1).map(()=>1/0)]:[...fE(0,a-1).map(()=>-1/0),f];return n>r?hE(h):h}if(d===f)return use(d,a,s);var{step:p,tickMin:g,tickMax:v}=hU(d,f,l,s,0),b=uU(g,v.add(new yt(.1).mul(p)),p);return n>r?hE(b):b},fse=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=dU([r,a]);if(l===-1/0||d===1/0)return[r,a];if(l===d)return[l];var f=Math.max(n,2),h=fU(new yt(d).sub(l).div(f-1),s,0),p=[...uU(new yt(l),new yt(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>a?hE(p):p},mU=t=>t.rootProps.maxBarSize,hse=t=>t.rootProps.barGap,pU=t=>t.rootProps.barCategoryGap,mse=t=>t.rootProps.barSize,mm=t=>t.rootProps.stackOffset,gU=t=>t.rootProps.reverseStackOrder,JS=t=>t.options.chartName,ej=t=>t.rootProps.syncId,yU=t=>t.rootProps.syncMethod,tj=t=>t.options.eventEmitter,pse=t=>t.rootProps.baseValue,on={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Kr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},E0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},gse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:vs.reversed,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:vs.type,unit:void 0},yse={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,ticks:void 0,type:Kr.type,unit:void 0},vse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xse={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,ticks:void 0,type:"category",unit:void 0},nj=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?vse:gse,rj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?xse:yse,A0=t=>t.polarOptions,aj=J([Fs,qs,Cn],pL),vU=J([A0,aj],(t,e)=>{if(t!=null)return lr(t.innerRadius,e,0)}),xU=J([A0,aj],(t,e)=>{if(t!=null)return lr(t.outerRadius,e,e*.8)}),bse=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},bU=J([A0],bse);J([nj,bU],E0);var wU=J([aj,vU,xU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});J([rj,wU],E0);var _U=J([Qe,A0,vU,xU,Fs,qs],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=e;return{cx:lr(l,a,a/2),cy:lr(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),$t=(t,e)=>e,pm=(t,e,n)=>n;function S0(t){return t==null?void 0:t.id}function EU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,l=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=S0(d);h.forEach((g,v)=>{var b=s==null||a?v:String(vt(g,s,null)),E=vt(g,d.dataKey,0),A;l.has(b)?A=l.get(b):A={},Object.assign(A,{[p]:E}),l.set(b,A)})}}),Array.from(l.values())}function j0(t){return t.stackId!=null&&t.dataKey!=null}var N0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function T0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function wse(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var In=t=>{var e=Qe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},xd=t=>t.tooltip.settings.axisId;function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){_se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _se(t,e,n){return(e=Ese(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Ase(t,"string");return typeof e=="symbol"?e:e+""}function Ase(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mE=[0,"auto"],Mn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},AU=(t,e)=>t.cartesianAxis.xAxis[e],Gs=(t,e)=>{var n=AU(t,e);return n??Mn},Ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:om},SU=(t,e)=>t.cartesianAxis.yAxis[e],Ks=(t,e)=>{var n=SU(t,e);return n??Ln},Sse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ij=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Sse},qt=(t,e,n)=>{switch(e){case"xAxis":return Gs(t,n);case"yAxis":return Ks(t,n);case"zAxis":return ij(t,n);case"angleAxis":return nj(t,n);case"radiusAxis":return rj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jse=(t,e,n)=>{switch(e){case"xAxis":return Gs(t,n);case"yAxis":return Ks(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gm=(t,e,n)=>{switch(e){case"xAxis":return Gs(t,n);case"yAxis":return Ks(t,n);case"angleAxis":return nj(t,n);case"radiusAxis":return rj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function sj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ym=t=>t.graphicalItems.cartesianItems,Nse=J([$t,pm],sj),oj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),vm=J([ym,qt,Nse],oj,{memoizeOptions:{resultEqualityCheck:T0}}),NU=J([vm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(j0)),TU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Tse=J([vm],TU),lj=t=>t.map(e=>e.data).filter(Boolean).flat(1),Cse=J([vm],lj,{memoizeOptions:{resultEqualityCheck:T0}}),cj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},uj=J([Cse,hm],cj),dj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:vt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:vt(a,r)}))):t.map(r=>({value:r})),C0=J([uj,qt,vm],dj);function CU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Hg(t){if(zi(t)||t instanceof Date){var e=Number(t);if(Rt(e))return e}}function gR(t){if(Array.isArray(t)){var e=[Hg(t[0]),Hg(t[1])];return Zo(e)?e:void 0}var n=Hg(t);if(n!=null)return[n,n]}function Vs(t){return t.map(Hg).filter(GZ)}function Ose(t,e,n){return!n||typeof e!="number"||Na(e)?[]:n.length?Vs(n.flatMap(r=>{var a=vt(t,r.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Rt(s)||!Rt(l)))return[e-s,e+l]})):[]}var kn=t=>{var e=In(t),n=xd(t);return gm(t,e,n)},xm=J([kn],t=>t==null?void 0:t.dataKey),Ise=J([NU,hm,kn],EU),OU=(t,e,n,r)=>{var a={},s=e.reduce((l,d)=>(d.stackId==null||(l[d.stackId]==null&&(l[d.stackId]=[]),l[d.stackId].push(d)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=r?[...f].reverse():f,p=h.map(S0);return[d,{stackedData:dte(t,p,n),graphicalItems:h}]}))},Ph=J([Ise,NU,mm,gU],OU),IU=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=pte(t,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},kse=J([qt],t=>t.allowDataOverflow),fj=t=>{var e;if(t==null||!("domain"in t))return mE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Vs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:mE},hj=J([qt],fj),mj=J([hj,kse],eU),Pse=J([Ph,ul,$t,mj],IU,{memoizeOptions:{resultEqualityCheck:N0}}),O0=t=>t.errorBars,Rse=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>CU(n,r)),tv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},pj=(t,e,n,r,a)=>{var s,l;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(O=>CU(a,O)),v=vt(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),b=Ose(d,v,g);if(b.length>=2){var E=Math.min(...b),A=Math.max(...b);(s==null||E<s)&&(s=E),(l==null||A>l)&&(l=A)}var S=gR(v);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=gR(vt(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Rt(s)&&Rt(l))return[s,l]},Dse=J([uj,qt,Tse,O0,$t],pj,{memoizeOptions:{resultEqualityCheck:N0}});function Mse(t){var{value:e}=t;if(zi(e)||e instanceof Date)return e}var Lse=(t,e,n)=>{var r=t.map(Mse).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&G3(r))?xL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},kU=t=>t.referenceElements.dots,bd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Use=J([kU,$t,pm],bd),PU=t=>t.referenceElements.areas,zse=J([PU,$t,pm],bd),RU=t=>t.referenceElements.lines,Vse=J([RU,$t,pm],bd),DU=(t,e)=>{var n=Vs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$se=J(Use,$t,DU),MU=(t,e)=>{var n=Vs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Bse=J([zse,$t],MU);function Fse(t){var e;if(t.x!=null)return Vs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Vs(n)}function qse(t){var e;if(t.y!=null)return Vs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Vs(n)}var LU=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?Fse(r):qse(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Hse=J([Vse,$t],LU),Gse=J($se,Hse,Bse,(t,e,n)=>tv(t,n,e)),gj=(t,e,n,r,a,s,l,d)=>{if(n!=null)return n;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?tv(r,s,a):tv(s,a);return nse(e,h,t.allowDataOverflow)},Kse=J([qt,hj,mj,Pse,Dse,Gse,Qe,$t],gj,{memoizeOptions:{resultEqualityCheck:N0}}),Wse=[0,1],yj=(t,e,n,r,a,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=t,h=Qi(e,s);if(h&&d==null){var p;return xL(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?Lse(r,t,h):a==="expand"?Wse:l}},vj=J([qt,Qe,uj,C0,mm,$t,Kse],yj),UU=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(nm(s));return d in Wf?d:"point"}}},wd=J([qt,Qe,jU,JS,$t],UU);function Yse(t){if(t!=null){if(t in Wf)return Wf[t]();var e="scale".concat(nm(t));if(e in Wf)return Wf[e]()}}function xj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=Yse(e);if(a!=null){var s=a.domain(n).range(r);return ste(s),s}}}var bj=(t,e,n)=>{var r=fj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Zo(t))return dse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Zo(t))return fse(t,e.tickCount,e.allowDecimals)}},wj=J([vj,gm,wd],bj),_j=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Zo(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],l=e[1],d=n[n.length-1];return[Math.min(a,s),Math.max(l,d)]}return e},Qse=J([qt,vj,wj,$t],_j),Xse=J(C0,qt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Vs(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/a}}),zU=J(Xse,Qe,pU,Cn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!Rt(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var l=lr(n,t*s),d=t*s/2;return d-l-(d-l)/s*l}return 0}),Zse=(t,e)=>{var n=Gs(t,e);return n==null||typeof n.padding!="string"?0:zU(t,"xAxis",e,n.padding)},Jse=(t,e)=>{var n=Ks(t,e);return n==null||typeof n.padding!="string"?0:zU(t,"yAxis",e,n.padding)},eoe=J(Gs,Zse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),toe=J(Ks,Jse,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),noe=J([Cn,eoe,d0,u0,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),roe=J([Cn,Qe,toe,d0,u0,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:l}=a;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),bm=(t,e,n,r)=>{var a;switch(e){case"xAxis":return noe(t,n,r);case"yAxis":return roe(t,n,r);case"zAxis":return(a=ij(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return bU(t);case"radiusAxis":return wU(t,n);default:return}},VU=J([qt,bm],E0),_d=J([qt,wd,Qse,VU],xj);J([vm,O0,$t],Rse);function $U(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var I0=(t,e)=>e,k0=(t,e,n)=>n,aoe=J(l0,I0,k0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($U)),ioe=J(c0,I0,k0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($U)),BU=(t,e)=>({width:t.width,height:e.height}),soe=(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}},FU=J(Cn,Gs,BU),ooe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},loe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},coe=J(qs,Cn,aoe,I0,k0,(t,e,n,r,a)=>{var s={},l;return n.forEach(d=>{var f=BU(e,d);l==null&&(l=ooe(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),uoe=J(Fs,Cn,ioe,I0,k0,(t,e,n,r,a)=>{var s={},l;return n.forEach(d=>{var f=soe(e,d);l==null&&(l=loe(e,r,t));var h=r==="left"&&!a||r==="right"&&a;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),doe=(t,e)=>{var n=Gs(t,e);if(n!=null)return coe(t,n.orientation,n.mirror)},foe=J([Cn,Gs,doe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),hoe=(t,e)=>{var n=Ks(t,e);if(n!=null)return uoe(t,n.orientation,n.mirror)},moe=J([Cn,Ks,hoe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),qU=J(Cn,Ks,(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}}),yR=(t,e,n)=>{switch(e){case"xAxis":return FU(t,n).width;case"yAxis":return qU(t,n).height;default:return}},HU=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=n,d=Qi(t,r),f=e.map(h=>h.value);if(l&&d&&s==="category"&&a&&G3(f))return f}},Ej=J([Qe,C0,qt,$t],HU),GU=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,l=Qi(t,r);if(l&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},Aj=J([Qe,C0,gm,$t],GU),vR=J([Qe,jse,wd,_d,Ej,Aj,bm,wj,$t],(t,e,n,r,a,s,l,d,f)=>{if(e!=null){var h=Qi(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}}),poe=(t,e,n,r,a,s,l,d,f)=>{if(!(e==null||r==null)){var h=Qi(t,f),{type:p,ticks:g,tickCount:v}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/b:0;E=f==="angleAxis"&&s!=null&&s.length>=2?Vn(s[0]-s[1])*2*E:E;var A=g||a;if(A){var S=A.map((O,U)=>{var k=l?l.indexOf(O):O;return{index:U,coordinate:r(k)+E,value:O,offset:E}});return S.filter(O=>Rt(O.coordinate))}return h&&d?d.map((O,U)=>({coordinate:r(O)+E,value:O,index:U,offset:E})).filter(O=>Rt(O.coordinate)):r.ticks?r.ticks(v).map(O=>({coordinate:r(O)+E,value:O,offset:E})):r.domain().map((O,U)=>({coordinate:r(O)+E,value:l?l[O]:O,index:U,offset:E}))}},KU=J([Qe,gm,wd,_d,wj,bm,Ej,Aj,$t],poe),goe=(t,e,n,r,a,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=Qi(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Vn(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},Fi=J([Qe,gm,_d,bm,Ej,Aj,$t],goe),qi=J(qt,_d,(t,e)=>{if(!(t==null||e==null))return ev(ev({},t),{},{scale:e})}),yoe=J([qt,wd,vj,VU],xj);J((t,e,n)=>ij(t,n),yoe,(t,e)=>{if(!(t==null||e==null))return ev(ev({},t),{},{scale:e})});var voe=J([Qe,l0,c0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),WU=t=>t.options.defaultTooltipEventType,YU=t=>t.options.validateTooltipEventTypes;function QU(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Sj(t,e){var n=WU(t),r=YU(t);return QU(e,n,r)}function xoe(t){return Ne(e=>Sj(e,t))}var XU=(t,e)=>{var n,r=Number(e);if(!(Na(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},boe=t=>t.tooltip.settings,Lo={active:!1,index:null,dataKey:void 0,coordinate:void 0},woe={itemInteraction:{click:Lo,hover:Lo},axisInteraction:{click:Lo,hover:Lo},keyboardInteraction:Lo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ZU=Mr({name:"tooltip",initialState:woe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Lt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Za(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:Lt()},removeTooltipEntrySettings:{reducer(t,e){var n=Za(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Lt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:_oe,replaceTooltipEntrySettings:Eoe,removeTooltipEntrySettings:Aoe,setTooltipSettingsState:Soe,setActiveMouseOverItemIndex:JU,mouseLeaveItem:joe,mouseLeaveChart:ez,setActiveClickItemIndex:Noe,setMouseOverAxisIndex:tz,setMouseClickAxisIndex:Toe,setSyncInteraction:pE,setKeyboardInteraction:gE}=ZU.actions,Coe=ZU.reducer;function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ooe(t,e,n){return(e=Ioe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ioe(t){var e=koe(t,"string");return typeof e=="symbol"?e:e+""}function koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Poe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Roe(t){return t.index!=null}var nz=(t,e,n,r)=>{if(e==null)return Lo;var a=Poe(t,e,n);if(a==null)return Lo;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Roe(a)){if(s)return Sg(Sg({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Sg(Sg({},Lo),{},{coordinate:a.coordinate})};function Doe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Moe(t,e){var n=Doe(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),l=Math.max(r,a);return n>=s&&n<=l}function Loe(t,e,n){if(n==null||e==null)return!0;var r=vt(t,e);return r==null||!Zo(n)?!0:Moe(r,n)}var jj=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!Rt(s))return a;var l=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(l,Math.min(s,d)),h=e[f];return h==null||Loe(h,n,r)?String(f):null},rz=(t,e,n,r,a,s,l,d)=>{if(!(s==null||d==null)){var f=l[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=a==null?void 0:a[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},az=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},wm=t=>t.options.tooltipPayloadSearcher,Ed=t=>t.tooltip;function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){Uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uoe(t,e,n){return(e=zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zoe(t){var e=Voe(t,"string");return typeof e=="symbol"?e:e+""}function Voe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $oe(t,e){return t??e}var iz=(t,e,n,r,a,s,l)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((v,b)=>{var E,{dataDefinedOnItem:A,settings:S}=b,O=$oe(A,d),U=Array.isArray(O)?z5(O,h,p):O,k=(E=S==null?void 0:S.dataKey)!==null&&E!==void 0?E:r,C=S==null?void 0:S.nameKey,P;if(r&&Array.isArray(U)&&!Array.isArray(U[0])&&l==="axis"?P=K3(U,r,a):P=s(U,e,f,C),Array.isArray(P))P.forEach(N=>{var M=wR(wR({},S),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});v.push(Fk({tooltipEntrySettings:M,dataKey:N.dataKey,payload:N.payload,value:vt(N.payload,N.dataKey),name:N.name}))});else{var z;v.push(Fk({tooltipEntrySettings:S,dataKey:k,payload:P,value:vt(P,k),name:(z=vt(P,C))!==null&&z!==void 0?z:S==null?void 0:S.name}))}return v},g)}},Nj=J([kn,Qe,jU,JS,In],UU),Boe=J([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Foe=J([In,xd],sj),_m=J([Boe,kn,Foe],oj,{memoizeOptions:{resultEqualityCheck:T0}}),qoe=J([_m],t=>t.filter(j0)),Hoe=J([_m],lj,{memoizeOptions:{resultEqualityCheck:T0}}),Ad=J([Hoe,ul],cj),Goe=J([qoe,ul,kn],EU),Tj=J([Ad,kn,_m],dj),sz=J([kn],fj),Koe=J([kn],t=>t.allowDataOverflow),oz=J([sz,Koe],eU),Woe=J([_m],t=>t.filter(j0)),Yoe=J([Goe,Woe,mm,gU],OU),Qoe=J([Yoe,ul,In,oz],IU),Xoe=J([_m],TU),Zoe=J([Ad,kn,Xoe,O0,In],pj,{memoizeOptions:{resultEqualityCheck:N0}}),Joe=J([kU,In,xd],bd),ele=J([Joe,In],DU),tle=J([PU,In,xd],bd),nle=J([tle,In],MU),rle=J([RU,In,xd],bd),ale=J([rle,In],LU),ile=J([ele,ale,nle],tv),sle=J([kn,sz,oz,Qoe,Zoe,ile,Qe,In],gj),Em=J([kn,Qe,Ad,Tj,mm,In,sle],yj),ole=J([Em,kn,Nj],bj),lle=J([kn,Em,ole,In],_j),lz=t=>{var e=In(t),n=xd(t),r=!1;return bm(t,e,n,r)},cz=J([kn,lz],E0),uz=J([kn,Nj,lle,cz],xj),cle=J([Qe,Tj,kn,In],HU),ule=J([Qe,Tj,kn,In],GU),dle=(t,e,n,r,a,s,l,d)=>{if(e){var{type:f}=e,h=Qi(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Vn(a[0]-a[1])*2*g:g,h&&l?l.map((v,b)=>({coordinate:r(v)+g,value:v,index:b,offset:g})):r.domain().map((v,b)=>({coordinate:r(v)+g,value:s?s[v]:v,index:b,offset:g}))}}},Ws=J([Qe,kn,Nj,uz,lz,cle,ule,In],dle),Cj=J([WU,YU,boe],(t,e,n)=>QU(n.shared,t,e)),dz=t=>t.tooltip.settings.trigger,Oj=t=>t.tooltip.settings.defaultIndex,P0=J([Ed,Cj,dz,Oj],nz),Jo=J([P0,Ad,xm,Em],jj),fz=J([Ws,Jo],XU),hz=J([P0],t=>{if(t)return t.dataKey}),mz=J([Ed,Cj,dz,Oj],az),fle=J([Fs,qs,Qe,Cn,Ws,Oj,mz,wm],rz),hle=J([P0,fle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),mle=J([P0],t=>t.active),ple=J([mz,Jo,ul,xm,fz,wm,Cj],iz),gle=J([ple],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return(e=vle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vle(t){var e=xle(t,"string");return typeof e=="symbol"?e:e+""}function xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ble=()=>Ne(kn),wle=()=>{var t=ble(),e=Ne(Ws),n=Ne(uz);return Xo(!t||!n?void 0:ER(ER({},t),{},{scale:n}),e)};function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){_le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _le(t,e,n){return(e=Ele(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ele(t){var e=Ale(t,"string");return typeof e=="symbol"?e:e+""}function Ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sle=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},jle=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:l}=r;return gu(gu(gu({},r),wn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var d=a.coordinate,{angle:f}=r;return gu(gu(gu({},r),wn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Nle(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var pz=(t,e,n,r,a)=>{var s,l=-1,d=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Vn(p-h)!==Vn(g-p)){var b=[];if(Vn(g-p)===Vn(a[1]-a[0])){v=g;var E=p+a[1]-a[0];b[0]=Math.min(E,(E+h)/2),b[1]=Math.max(E,(E+h)/2)}else{v=h;var A=g+a[1]-a[0];b[0]=Math.min(p,(A+p)/2),b[1]=Math.max(p,(A+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){({index:l}=n[f]);break}}else{var O=Math.min(h,g),U=Math.max(h,g);if(t>(O+p)/2&&t<=(U+p)/2){({index:l}=n[f]);break}}}else if(e){for(var k=0;k<d;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<d-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===d-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:l}=e[k]);break}}return l},gz=()=>Ne(JS),Ij=(t,e)=>e,yz=(t,e,n)=>n,kj=(t,e,n,r)=>r,Tle=J(Ws,t=>Jv(t,e=>e.coordinate)),Pj=J([Ed,Ij,yz,kj],nz),Rj=J([Pj,Ad,xm,Em],jj),Cle=(t,e,n)=>{if(e!=null){var r=Ed(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},vz=J([Ed,Ij,yz,kj],az),nv=J([Fs,qs,Qe,Cn,Ws,kj,vz,wm],rz),Ole=J([Pj,nv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),xz=J([Ws,Rj],XU),Ile=J([vz,Rj,ul,xm,xz,wm,Ij],iz),kle=J([Pj,Rj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Ple=(t,e,n,r,a,s,l)=>{if(!(!t||!n||!r||!a)&&Nle(t,l)){var d=gte(t,e),f=pz(d,s,a,n,r),h=Sle(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Rle=(t,e,n,r,a,s,l)=>{if(!(!t||!r||!a||!s||!n)){var d=vre(t,n);if(d){var f=yte(d,e),h=pz(f,l,s,r,a),p=jle(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},Dle=(t,e,n,r,a,s,l,d)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?Ple(t,e,r,a,s,l,d):Rle(t,e,n,r,a,s,l)},Mle=J(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Lle=J(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(on)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:wse}});function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ule(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=Vle(t,"string");return typeof e=="symbol"?e:e+""}function Vle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $le={},Ble={zIndexMap:Object.values(on).reduce((t,e)=>jR(jR({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),$le)},Fle=new Set(Object.values(on));function qle(t){return Fle.has(t)}var bz=Mr({name:"zIndex",initialState:Ble,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Lt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!qle(n)&&delete t.zIndexMap[n])},prepare:Lt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:Lt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Lt()}}}),{registerZIndexPortal:Hle,unregisterZIndexPortal:Gle,registerZIndexPortalId:Kle,unregisterZIndexPortalId:Wle}=bz.actions,Yle=bz.reducer;function _r(t){var{zIndex:e,children:n}=t,r=Wte(),a=r&&e!==void 0&&e!==0,s=Bn(),l=Vt();w.useLayoutEffect(()=>a?(l(Hle({zIndex:e})),()=>{l(Gle({zIndex:e}))}):rm,[l,e,a]);var d=Ne(h=>Mle(h,e,s));if(!a)return n;if(!d)return null;var f=document.getElementById(d);return f?dM.createPortal(n,f):null}function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(null,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qle(t,e,n){return(e=Xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jle(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function ece(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,v=r,b=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,A,S;if(p==="ScatterChart")E=g,A=Rne,S=on.cursorLine;else if(p==="BarChart")E=Dne(d,g,s,l),A=mL,S=on.cursorRectangle;else if(d==="radial"&&Q3(g)){var{cx:O,cy:U,radius:k,startAngle:C,endAngle:P}=gL(g);E={cx:O,cy:U,startAngle:C,endAngle:P,innerRadius:k,outerRadius:k},A=vL,S=on.cursorLine}else E={points:_re(d,g,s)},A=Lu,S=on.cursorLine;var z=typeof f=="object"&&"className"in f?f.className:void 0,N=jg(jg(jg(jg({stroke:"#ccc",pointerEvents:"none"},s),E),hc(f)),{},{payload:v,payloadIndex:b,className:lt("recharts-tooltip-cursor",z)});return w.createElement(_r,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},w.createElement(Jle,{cursor:f,cursorComp:A,cursorProps:N}))}function tce(t){var e=wle(),n=Q5(),r=Sc(),a=gz();return e==null||n==null||r==null||a==null?null:w.createElement(ece,yE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var wz=w.createContext(null),nce=()=>w.useContext(wz),R1={exports:{}},TR;function rce(){return TR||(TR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new a(p,g||f,v),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],b]:f._events[E].push(b):(f._events[E]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,b=g.length,E=new Array(b);v<b;v++)E[v]=g[v].fn;return E},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,v,b,E){var A=n?n+h:h;if(!this._events[A])return!1;var S=this._events[A],O=arguments.length,U,k;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),O){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,v),!0;case 5:return S.fn.call(S.context,p,g,v,b),!0;case 6:return S.fn.call(S.context,p,g,v,b,E),!0}for(k=1,U=new Array(O-1);k<O;k++)U[k-1]=arguments[k];S.fn.apply(S.context,U)}else{var C=S.length,P;for(k=0;k<C;k++)switch(S[k].once&&this.removeListener(h,S[k].fn,void 0,!0),O){case 1:S[k].fn.call(S[k].context);break;case 2:S[k].fn.call(S[k].context,p);break;case 3:S[k].fn.call(S[k].context,p,g);break;case 4:S[k].fn.call(S[k].context,p,g,v);break;default:if(!U)for(P=1,U=new Array(O-1);P<O;P++)U[P-1]=arguments[P];S[k].fn.apply(S[k].context,U)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,v){var b=n?n+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var E=this._events[b];if(E.fn)E.fn===p&&(!v||E.once)&&(!g||E.context===g)&&l(this,b);else{for(var A=0,S=[],O=E.length;A<O;A++)(E[A].fn!==p||v&&!E[A].once||g&&E[A].context!==g)&&S.push(E[A]);S.length?this._events[b]=S.length===1?S[0]:S:l(this,b)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(R1)),R1.exports}var ace=rce();const ice=Hi(ace);var Rh=new ice,vE="recharts.syncEvent.tooltip",CR="recharts.syncEvent.brush";function R0(t,e){if(e){var n=Number.parseInt(e,10);if(!Na(n))return t==null?void 0:t[n]}}var sce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_z=Mr({name:"options",initialState:sce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),oce=_z.reducer,{createEventEmitter:lce}=_z.actions;function cce(t){return t.tooltip.syncInteraction}var uce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Ez=Mr({name:"chartData",initialState:uce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:OR,setDataStartEndIndexes:dce,setComputedData:Kye}=Ez.actions,fce=Ez.reducer,hce=["x","y"];function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){mce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mce(t,e,n){return(e=pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=gce(t,"string");return typeof e=="symbol"?e:e+""}function gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yce(t,e){if(t==null)return{};var n,r,a=vce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function vce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xce(){var t=Ne(ej),e=Ne(tj),n=Vt(),r=Ne(yU),a=Ne(Ws),s=Sc(),l=f0(),d=Ne(f=>f.rootProps.className);w.useEffect(()=>{if(t==null)return rm;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:E,y:A}=b,S=yce(b,hce),{x:O,y:U,width:k,height:C}=p.payload.sourceViewBox,P=yu(yu({},S),{},{x:l.x+(k?(E-O)/k:0)*l.width,y:l.y+(C?(A-U)/C:0)*l.height});n(yu(yu({},p),{},{payload:yu(yu({},p.payload),{},{coordinate:P})}))}else n(p);return}if(a!=null){var z;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},M=r(a,N);z=a[M]}else r==="value"&&(z=a.find(Y=>String(Y.value)===p.payload.label));var{coordinate:T}=p.payload;if(z==null||p.payload.active===!1||T==null||l==null){n(pE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:R,y:L}=T,V=Math.min(R,l.x+l.width),$=Math.min(L,l.y+l.height),ne={x:s==="horizontal"?z.coordinate:V,y:s==="horizontal"?$:z.coordinate},pe=pE({active:p.payload.active,coordinate:ne,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(pe)}}};return Rh.on(vE,f),()=>{Rh.off(vE,f)}},[d,n,e,t,r,a,s,l])}function bce(){var t=Ne(ej),e=Ne(tj),n=Vt();w.useEffect(()=>{if(t==null)return rm;var r=(a,s,l)=>{e!==l&&t===a&&n(dce(s))};return Rh.on(CR,r),()=>{Rh.off(CR,r)}},[n,e,t])}function wce(){var t=Vt();w.useEffect(()=>{t(lce())},[t]),xce(),bce()}function _ce(t,e,n,r,a,s){var l=Ne(b=>Cle(b,t,e)),d=Ne(tj),f=Ne(ej),h=Ne(yU),p=Ne(cce),g=p==null?void 0:p.active,v=f0();w.useEffect(()=>{if(!g&&f!=null&&d!=null){var b=pE({active:s,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:v});Rh.emit(vE,f,b,d)}},[g,n,l,a,r,d,f,h,s,v])}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return(e=Ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t){return t.dataKey}function Nce(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(fne,e)}var RR=[],Tce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ol.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Su(t){var e,n,r=En(t,Tce),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:v,position:b,reverseDirection:E,useTranslate3d:A,wrapperStyle:S,cursor:O,shared:U,trigger:k,defaultIndex:C,portal:P,axisId:z}=r,N=Vt(),M=typeof C=="number"?String(C):C;w.useEffect(()=>{N(Soe({shared:U,trigger:k,axisId:z,active:a,defaultIndex:M}))},[N,U,k,z,a,M]);var T=f0(),R=cL(),L=xoe(U),{activeIndex:V,isActive:$}=(e=Ne(Pe=>kle(Pe,L,k,M)))!==null&&e!==void 0?e:{},ne=Ne(Pe=>Ile(Pe,L,k,M)),pe=Ne(Pe=>xz(Pe,L,k,M)),Y=Ne(Pe=>Ole(Pe,L,k,M)),oe=ne,H=nce(),K=(n=a??$)!==null&&n!==void 0?n:!1,[se,q]=tee([oe,K]),re=L==="axis"?pe:void 0;_ce(L,k,Y,re,V,K);var me=P??H;if(me==null||T==null||L==null)return null;var ye=oe??RR;K||(ye=RR),h&&ye.length&&(ye=NJ(ye.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||r.includeHidden)),v,jce));var Ce=ye.length>0,ke=w.createElement(xne,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:K,coordinate:Y,hasPayload:Ce,offset:g,position:b,reverseDirection:E,useTranslate3d:A,viewBox:T,wrapperStyle:S,lastBoundingBox:se,innerRef:q,hasPortalFromProps:!!P},Nce(f,PR(PR({},r),{},{payload:ye,label:re,active:K,activeIndex:V,coordinate:Y,accessibilityLayer:R})));return w.createElement(w.Fragment,null,dM.createPortal(ke,me),K&&w.createElement(tce,{cursor:O,tooltipEventType:L,coordinate:Y,payload:ye,index:V}))}var Am=t=>null;Am.displayName="Cell";function Cce(t,e,n){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Ice(t,"string");return typeof e=="symbol"?e:e+""}function Ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kce{constructor(e){Cce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Rce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rce(t,e,n){return(e=Dce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dce(t){var e=Mce(t,"string");return typeof e=="symbol"?e:e+""}function Mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lce={cacheSize:2e3,enableCache:!0},Az=Pce({},Lce),MR=new kce(Az.cacheSize),Uce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LR="recharts_measurement_span";function zce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(d)}var UR=(t,e)=>{try{var n=document.getElementById(LR);n||(n=document.createElement("span"),n.setAttribute("id",LR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Uce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ih=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ol.isSsr)return{width:0,height:0};if(!Az.enableCache)return UR(e,n);var r=zce(e,n),a=MR.get(r);if(a)return a;var s=UR(e,n);return MR.set(r,s),s},zR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$ce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bce=Object.keys(Sz),Nu="NaN";function Fce(t,e){return t*Sz[e]}class Or{static parse(e){var n,[,r,a]=(n=$ce.exec(e))!==null&&n!==void 0?n:[];return new Or(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Na(e)&&(this.unit=""),n!==""&&!Vce.test(n)&&(this.num=NaN,this.unit=""),Bce.includes(n)&&(this.num=Fce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Or(NaN,""):new Or(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Or(NaN,""):new Or(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Or(NaN,""):new Or(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Or(NaN,""):new Or(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Na(this.num)}}function jz(t){if(t.includes(Nu))return Nu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=zR.exec(e))!==null&&n!==void 0?n:[],l=Or.parse(r??""),d=Or.parse(s??""),f=a==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Nu;e=e.replace(zR,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,v]=(h=VR.exec(e))!==null&&h!==void 0?h:[],b=Or.parse(p??""),E=Or.parse(v??""),A=g==="+"?b.add(E):b.subtract(E);if(A.isNaN())return Nu;e=e.replace(VR,A.toString())}return e}var $R=/\(([^()]*)\)/;function qce(t){for(var e=t,n;(n=$R.exec(e))!=null;){var[,r]=n;e=e.replace($R,jz(r))}return e}function Hce(t){var e=t.replace(/\s+/g,"");return e=qce(e),e=jz(e),e}function Gce(t){try{return Hce(t)}catch{return Nu}}function D1(t){var e=Gce(t.slice(5,-1));return e===Nu?"":e}var Kce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Wce=["dx","dy","angle","className","breakAll"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function BR(t,e){if(t==null)return{};var n,r,a=Yce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nz=/[ \f\n\r\t\v\u2028\u2029]+/,Tz=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];Pt(e)||(n?a=e.toString().split(""):a=e.toString().split(Nz));var s=a.map(d=>({word:d,width:ih(d,r).width})),l=n?0:ih("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Qce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Cz=(t,e,n,r)=>t.reduce((a,s)=>{var{word:l,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(l),f.width+=d+n;else{var h={words:[l],width:d};a.push(h)}return a},[]),Oz=t=>t.reduce((e,n)=>e.width>n.width?e:n),Xce="",FR=(t,e,n,r,a,s,l,d)=>{var f=t.slice(0,e),h=Tz({breakAll:n,style:r,children:f+Xce});if(!h)return[!1,[]];var p=Cz(h.wordsWithComputedWidth,s,l,d),g=p.length>a||Oz(p).width>Number(s);return[g,p]},Zce=(t,e,n,r,a)=>{var{maxLines:s,children:l,style:d,breakAll:f}=t,h=Ee(s),p=String(l),g=Cz(e,r,n,a);if(!h||a)return g;var v=g.length>s||Oz(g).width>Number(r);if(!v)return g;for(var b=0,E=p.length-1,A=0,S;b<=E&&A<=p.length-1;){var O=Math.floor((b+E)/2),U=O-1,[k,C]=FR(p,U,f,d,s,r,n,a),[P]=FR(p,O,f,d,s,r,n,a);if(!k&&!P&&(b=O+1),k&&P&&(E=O-1),!k&&P){S=C;break}A++}return S||g},qR=t=>{var e=Pt(t)?[]:t.toString().split(Nz);return[{words:e,width:void 0}]},Jce=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:l}=t;if((e||n)&&!ol.isSsr){var d,f,h=Tz({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return qR(r);return Zce({breakAll:s,children:r,maxLines:l,style:a},d,f,e,!!n)}return qR(r)},Iz="#808080",eue={angle:0,breakAll:!1,capHeight:"0.71em",fill:Iz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},D0=w.forwardRef((t,e)=>{var n=En(t,eue),{x:r,y:a,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=BR(n,Kce),v=w.useMemo(()=>Jce({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:b,dy:E,angle:A,className:S,breakAll:O}=g,U=BR(g,Wce);if(!zi(r)||!zi(a)||v.length===0)return null;var k=Number(r)+(Ee(b)?b:0),C=Number(a)+(Ee(E)?E:0);if(!Rt(k)||!Rt(C))return null;var P;switch(p){case"start":P=D1("calc(".concat(l,")"));break;case"middle":P=D1("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:P=D1("calc(".concat(v.length-1," * -").concat(s,")"));break}var z=[];if(f){var N=v[0].width,{width:M}=g;z.push("scale(".concat(Ee(M)&&Ee(N)?M/N:1,")"))}return A&&z.push("rotate(".concat(A,", ").concat(k,", ").concat(C,")")),z.length&&(U.transform=z.join(" ")),w.createElement("text",xE({},ur(U),{ref:e,x:k,y:C,className:lt("recharts-text",S),textAnchor:h,fill:d.includes("url")?Iz:d}),v.map((T,R)=>{var L=T.words.join(O?"":" ");return w.createElement("tspan",{x:k,dy:R===0?P:s,key:"".concat(L,"-").concat(R)},L)}))});D0.displayName="Text";var tue=["labelRef"];function nue(t,e){if(t==null)return{};var n,r,a=rue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return(e=iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=sue(t,"string");return typeof e=="symbol"?e:e+""}function sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(null,arguments)}var kz=w.createContext(null),oue=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l,children:d}=t,f=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l}),[e,n,r,a,s,l]);return w.createElement(kz.Provider,{value:f},d)},Pz=()=>{var t=w.useContext(kz),e=f0();return t||Y5(e)},lue=w.createContext(null),cue=()=>{var t=w.useContext(lue),e=Ne(_U);return t||e},uue=t=>{var{value:e,formatter:n}=t,r=Pt(t.children)?e:t.children;return typeof n=="function"?n(r):r},Dj=t=>t!=null&&typeof t=="function",due=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},fue=(t,e,n,r,a)=>{var{offset:s,className:l}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:b}=a,E=(h+p)/2,A=due(g,v),S=A>=0?1:-1,O,U;switch(e){case"insideStart":O=g+S*s,U=b;break;case"insideEnd":O=v-S*s,U=!b;break;case"end":O=v+S*s,U=b;break;default:throw new Error("Unsupported position ".concat(e))}U=A<=0?U:!U;var k=wn(d,f,E,O),C=wn(d,f,E,O+(U?1:-1)*359),P="M".concat(k.x,",").concat(k.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(U?0:1,`,
    `).concat(C.x,",").concat(C.y),z=Pt(t.id)?bh("recharts-radial-line-"):t.id;return w.createElement("text",xs({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:z,d:P})),w.createElement("textPath",{xlinkHref:"#".concat(z)},n))},hue=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=wn(r,a,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:b,y:E}=wn(r,a,v,h);return{x:b,y:E,textAnchor:"middle",verticalAnchor:"middle"}},bE=t=>"cx"in t&&Ee(t.cx),mue=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!bE(n)&&(s=n);var{x:l,y:d,upperWidth:f,lowerWidth:h,height:p}=e,g=l,v=l+(f-h)/2,b=(g+v)/2,E=(f+h)/2,A=g+f/2,S=p>=0?1:-1,O=S*r,U=S>0?"end":"start",k=S>0?"start":"end",C=f>=0?1:-1,P=C*r,z=C>0?"end":"start",N=C>0?"start":"end";if(a==="top"){var M={x:g+f/2,y:d-O,textAnchor:"middle",verticalAnchor:U};return rn(rn({},M),s?{height:Math.max(d-s.y,0),width:f}:{})}if(a==="bottom"){var T={x:v+h/2,y:d+p+O,textAnchor:"middle",verticalAnchor:k};return rn(rn({},T),s?{height:Math.max(s.y+s.height-(d+p),0),width:h}:{})}if(a==="left"){var R={x:b-P,y:d+p/2,textAnchor:z,verticalAnchor:"middle"};return rn(rn({},R),s?{width:Math.max(R.x-s.x,0),height:p}:{})}if(a==="right"){var L={x:b+E+P,y:d+p/2,textAnchor:N,verticalAnchor:"middle"};return rn(rn({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:p}:{})}var V=s?{width:E,height:p}:{};return a==="insideLeft"?rn({x:b+P,y:d+p/2,textAnchor:N,verticalAnchor:"middle"},V):a==="insideRight"?rn({x:b+E-P,y:d+p/2,textAnchor:z,verticalAnchor:"middle"},V):a==="insideTop"?rn({x:g+f/2,y:d+O,textAnchor:"middle",verticalAnchor:k},V):a==="insideBottom"?rn({x:v+h/2,y:d+p-O,textAnchor:"middle",verticalAnchor:U},V):a==="insideTopLeft"?rn({x:g+P,y:d+O,textAnchor:N,verticalAnchor:k},V):a==="insideTopRight"?rn({x:g+f-P,y:d+O,textAnchor:z,verticalAnchor:k},V):a==="insideBottomLeft"?rn({x:v+P,y:d+p-O,textAnchor:N,verticalAnchor:U},V):a==="insideBottomRight"?rn({x:v+h-P,y:d+p-O,textAnchor:z,verticalAnchor:U},V):a&&typeof a=="object"&&(Ee(a.x)||Ds(a.x))&&(Ee(a.y)||Ds(a.y))?rn({x:l+lr(a.x,E),y:d+lr(a.y,p),textAnchor:"end",verticalAnchor:"end"},V):rn({x:A,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},V)},pue={angle:0,offset:5,zIndex:on.label,position:"middle",textBreakAll:!1};function ko(t){var e=En(t,pue),{viewBox:n,position:r,value:a,children:s,content:l,className:d="",textBreakAll:f,labelRef:h}=e,p=cue(),g=Pz(),v=r==="center"?g:p??g,b,E,A;if(n==null?b=v:bE(n)?b=n:b=Y5(n),!b||Pt(a)&&Pt(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var S=rn(rn({},e),{},{viewBox:b});if(w.isValidElement(l)){var{labelRef:O}=S,U=nue(S,tue);return w.cloneElement(l,U)}if(typeof l=="function"){if(E=w.createElement(l,S),w.isValidElement(E))return E}else E=uue(e);var k=ur(e);if(bE(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return fue(e,r,E,k,b);A=hue(b,e.offset,e.position)}else A=mue(e,b);return w.createElement(_r,{zIndex:e.zIndex},w.createElement(D0,xs({ref:h,className:lt("recharts-label",d)},k,A,{textAnchor:Qce(k.textAnchor)?k.textAnchor:A.textAnchor,breakAll:f}),E))}ko.displayName="Label";var gue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(ko,xs({key:"label-implicit"},r)):zi(t)?w.createElement(ko,xs({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===ko?w.cloneElement(t,rn({key:"label-implicit"},r)):w.createElement(ko,xs({key:"label-implicit",content:t},r)):Dj(t)?w.createElement(ko,xs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(ko,xs({},t,{key:"label-implicit"},r)):null};function yue(t){var{label:e,labelRef:n}=t,r=Pz();return gue(e,r,n)||null}var M1={},L1={},GR;function vue(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(L1)),L1}var U1={},KR;function xue(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(U1)),U1}var WR;function bue(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vue(),n=xue(),r=hS();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(M1)),M1}var z1,YR;function wue(){return YR||(YR=1,z1=bue().last),z1}var _ue=wue();const Eue=Hi(_ue);var Aue=["valueAccessor"],Sue=["dataKey","clockWise","id","textBreakAll","zIndex"];function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(null,arguments)}function QR(t,e){if(t==null)return{};var n,r,a=jue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nue=t=>Array.isArray(t.value)?Eue(t.value):t.value,Rz=w.createContext(void 0),Mj=Rz.Provider,Dz=w.createContext(void 0),Tue=Dz.Provider;function Cue(){return w.useContext(Rz)}function Oue(){return w.useContext(Dz)}function Gg(t){var{valueAccessor:e=Nue}=t,n=QR(t,Aue),{dataKey:r,clockWise:a,id:s,textBreakAll:l,zIndex:d}=n,f=QR(n,Sue),h=Cue(),p=Oue(),g=h||p;return!g||!g.length?null:w.createElement(_r,{zIndex:d??on.label},w.createElement(Yt,{className:"recharts-label-list"},g.map((v,b)=>{var E,A=Pt(r)?e(v,b):vt(v&&v.payload,r),S=Pt(s)?{}:{id:"".concat(s,"-").concat(b)};return w.createElement(ko,rv({key:"label-".concat(b)},ur(v),f,S,{fill:(E=n.fill)!==null&&E!==void 0?E:v.fill,parentViewBox:v.parentViewBox,value:A,textBreakAll:l,viewBox:v.viewBox,index:b,zIndex:0}))})))}Gg.displayName="LabelList";function M0(t){var{label:e}=t;return e?e===!0?w.createElement(Gg,{key:"labelList-implicit"}):w.isValidElement(e)||Dj(e)?w.createElement(Gg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(Gg,rv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}var Mz=t=>{var{cx:e,cy:n,r,className:a}=t,s=lt("recharts-dot",a);return Ee(e)&&Ee(n)&&Ee(r)?w.createElement("circle",wE({},br(t),fS(t),{className:s,cx:e,cy:n,r})):null},Lz=t=>t.graphicalItems.polarItems,Iue=J([$t,pm],sj),L0=J([Lz,qt,Iue],oj),kue=J([L0],lj),U0=J([kue,QS],cj),Pue=J([U0,qt,L0],dj);J([U0,qt,L0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,l=vt(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:vt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var XR=()=>{},Rue=J([U0,qt,L0,O0,$t],pj),Due=J([qt,hj,mj,XR,Rue,XR,Qe,$t],gj),Uz=J([qt,Qe,U0,Pue,mm,$t,Due],yj),Mue=J([Uz,qt,wd],bj);J([qt,Uz,Mue,$t],_j);var Lue={radiusAxis:{},angleAxis:{}},zz=Mr({name:"polarAxis",initialState:Lue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Wye,removeRadiusAxis:Yye,addAngleAxis:Qye,removeAngleAxis:Xye}=zz.actions,Uue=zz.reducer;function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function JR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zue(t,e,n){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=$ue(t,"string");return typeof e=="symbol"?e:e+""}function $ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bue=(t,e)=>e,Lj=J([Lz,Bue],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Fue=[],Uj=(t,e,n)=>(n==null?void 0:n.length)===0?Fue:n,Vz=J([QS,Lj,Uj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>JR(JR({},e.presentationProps),s.props))),a!=null)return a}}),que=J([Vz,Lj,Uj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,l=vt(r,e.nameKey,e.name),d;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:sl(l,e.dataKey),color:d,payload:r,type:e.legendType}})}),Hue=J([Vz,Lj,Uj,Cn],(t,e,n,r)=>{if(!(e==null||t==null))return Gde({offset:r,pieSettings:e,displayedData:t,cells:n})}),V1={exports:{}},Et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD;function Gue(){if(eD)return Et;eD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function E(A){if(typeof A=="object"&&A!==null){var S=A.$$typeof;switch(S){case t:switch(A=A.type,A){case n:case a:case r:case f:case h:case v:return A;default:switch(A=A&&A.$$typeof,A){case l:case d:case g:case p:return A;case s:return A;default:return S}}case e:return S}}}return Et.ContextConsumer=s,Et.ContextProvider=l,Et.Element=t,Et.ForwardRef=d,Et.Fragment=n,Et.Lazy=g,Et.Memo=p,Et.Portal=e,Et.Profiler=a,Et.StrictMode=r,Et.Suspense=f,Et.SuspenseList=h,Et.isContextConsumer=function(A){return E(A)===s},Et.isContextProvider=function(A){return E(A)===l},Et.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},Et.isForwardRef=function(A){return E(A)===d},Et.isFragment=function(A){return E(A)===n},Et.isLazy=function(A){return E(A)===g},Et.isMemo=function(A){return E(A)===p},Et.isPortal=function(A){return E(A)===e},Et.isProfiler=function(A){return E(A)===a},Et.isStrictMode=function(A){return E(A)===r},Et.isSuspense=function(A){return E(A)===f},Et.isSuspenseList=function(A){return E(A)===h},Et.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===a||A===r||A===f||A===h||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===p||A.$$typeof===l||A.$$typeof===s||A.$$typeof===d||A.$$typeof===b||A.getModuleId!==void 0)},Et.typeOf=E,Et}var tD;function Kue(){return tD||(tD=1,V1.exports=Gue()),V1.exports}var Wue=Kue(),nD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",rD=null,$1=null,$z=t=>{if(t===rD&&Array.isArray($1))return $1;var e=[];return w.Children.forEach(t,n=>{Pt(n)||(Wue.isFragment(n)?e=e.concat($z(n.props.children)):e.push(n))}),$1=e,rD=t,e};function zj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>nD(a)):r=[nD(e)],$z(t).forEach(a=>{var s=mc(a,"type.displayName")||mc(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var Vj=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,B1={},aD;function Yue(){return aD||(aD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(B1)),B1}var F1,iD;function Que(){return iD||(iD=1,F1=Yue().isPlainObject),F1}var Xue=Que();const Zue=Hi(Xue);function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){Jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jue(t,e,n){return(e=ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ede(t){var e=tde(t,"string");return typeof e=="symbol"?e:e+""}function tde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}var lD=(t,e,n,r,a)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+a),l+="L ".concat(t+n-s/2-r,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},nde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rde=t=>{var e=En(t,nde),{x:n,y:r,upperWidth:a,lowerWidth:s,height:l,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,v=w.useRef(null),[b,E]=w.useState(-1),A=w.useRef(a),S=w.useRef(s),O=w.useRef(l),U=w.useRef(n),k=w.useRef(r),C=pd(t,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ne=v.current.getTotalLength();ne&&E(ne)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var P=lt("recharts-trapezoid",d);if(!g)return w.createElement("g",null,w.createElement("path",av({},ur(e),{className:P,d:lD(n,r,a,s,l)})));var z=A.current,N=S.current,M=O.current,T=U.current,R=k.current,L="0px ".concat(b===-1?1:b,"px"),V="".concat(b,"px 0px"),$=uL(["strokeDasharray"],h,f);return w.createElement(md,{animationId:C,key:C,canBegin:b>0,duration:h,easing:f,isActive:g,begin:p},ne=>{var pe=ft(z,a,ne),Y=ft(N,s,ne),oe=ft(M,l,ne),H=ft(T,n,ne),K=ft(R,r,ne);v.current&&(A.current=pe,S.current=Y,O.current=oe,U.current=H,k.current=K);var se=ne>0?{transition:$,strokeDasharray:V}:{strokeDasharray:L};return w.createElement("path",av({},ur(e),{className:P,d:lD(H,K,pe,Y,oe),ref:v,style:oD(oD({},se),e.style)}))})},ade=["option","shapeType","propTransformer","activeClassName"];function ide(t,e){if(t==null)return{};var n,r,a=sde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e,n){return(e=lde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lde(t){var e=cde(t,"string");return typeof e=="symbol"?e:e+""}function cde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ude(t,e){return iv(iv({},e),t)}function dde(t,e){return t==="symbols"}function uD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(mL,n);case"trapezoid":return w.createElement(rde,n);case"sector":return w.createElement(vL,n);case"symbols":if(dde(e))return w.createElement(Y3,n);break;case"curve":return w.createElement(Lu,n);default:return null}}function fde(t){return w.isValidElement(t)?t.props:t}function $j(t){var{option:e,shapeType:n,propTransformer:r=ude,activeClassName:a="recharts-active-shape"}=t,s=ide(t,ade),l;if(w.isValidElement(e))l=w.cloneElement(e,iv(iv({},s),fde(e)));else if(typeof e=="function")l=e(s);else if(Zue(e)&&typeof e!="boolean"){var d=r(e,s);l=w.createElement(uD,{shapeType:n,elementProps:d})}else{var f=s;l=w.createElement(uD,{shapeType:n,elementProps:f})}return s.isActive?w.createElement(Yt,{className:a},l):l}var Bj=(t,e)=>{var n=Vt();return(r,a)=>s=>{t==null||t(r,a,s),n(JU({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Fj=t=>{var e=Vt();return(n,r)=>a=>{t==null||t(n,r,a),e(joe())}},qj=(t,e)=>{var n=Vt();return(r,a)=>s=>{t==null||t(r,a,s),n(Noe({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function z0(t){var{tooltipEntrySettings:e}=t,n=Vt(),r=Bn(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(_oe(e)):a.current!==e&&n(Eoe({prev:a.current,next:e})),a.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{a.current&&(n(Aoe(a.current)),a.current=null)},[n]),null}function Hj(t){var{legendPayload:e}=t,n=Vt(),r=Bn(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(sL(e)):a.current!==e&&n(oL({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(lL(a.current)),a.current=null)},[n]),null}function hde(t){var{legendPayload:e}=t,n=Vt(),r=Ne(Qe),a=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(sL(e)):a.current!==e&&n(oL({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(lL(a.current)),a.current=null)},[n]),null}var q1,mde=()=>{var[t]=w.useState(()=>bh("uid-"));return t},pde=(q1=y9.useId)!==null&&q1!==void 0?q1:mde;function Bz(t,e){var n=pde();return e||(t?"".concat(t,"-").concat(n):n)}var gde=w.createContext(void 0),V0=t=>{var{id:e,type:n,children:r}=t,a=Bz("recharts-".concat(n),e);return w.createElement(gde.Provider,{value:a},r(a))},yde={cartesianItems:[],polarItems:[]},Fz=Mr({name:"graphicalItems",initialState:yde,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Lt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Za(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:Lt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Za(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Lt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Lt()},removePolarGraphicalItem:{reducer(t,e){var n=Za(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Lt()}}}),{addCartesianGraphicalItem:vde,replaceCartesianGraphicalItem:xde,removeCartesianGraphicalItem:bde,addPolarGraphicalItem:wde,removePolarGraphicalItem:_de}=Fz.actions,Ede=Fz.reducer,Ade=t=>{var e=Vt(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(vde(t)):n.current!==t&&e(xde({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(bde(n.current)),n.current=null)},[e]),null},Gj=w.memo(Ade);function Sde(t){var e=Vt();return w.useLayoutEffect(()=>(e(wde(t)),()=>{e(_de(t))}),[e,t]),null}var jde=["key"],Nde=["onMouseEnter","onClick","onMouseLeave"],Tde=["id"],Cde=["id"];function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){Ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ode(t,e,n){return(e=Ide(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=kde(t,"string");return typeof e=="symbol"?e:e+""}function kde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(null,arguments)}function $0(t,e){if(t==null)return{};var n,r,a=Pde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Pde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rde(t){var e=w.useMemo(()=>zj(t.children,Am),[t.children]),n=Ne(r=>que(r,t.id,e));return n==null?null:w.createElement(hde,{legendPayload:n})}var Dde=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:sl(d,e),hide:f,type:h,color:l,unit:""}};return w.createElement(z0,{tooltipEntrySettings:p})}),Mde=(t,e)=>t>e?"start":t<e?"end":"middle",Lde=(t,e,n)=>lr(typeof e=="function"?e(t):e,n,n*.8),Ude=(t,e,n)=>{var{top:r,left:a,width:s,height:l}=e,d=pL(s,l),f=a+lr(t.cx,s,s/2),h=r+lr(t.cy,l,l/2),p=lr(t.innerRadius,d,0),g=Lde(n,t.outerRadius,d),v=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:v}},zde=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Vde(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var $de=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=lt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=$0(e,jde);return w.createElement(Lu,el({},a,{type:"linear",className:n}))},Bde=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var a=lt("recharts-pie-label-text",Vde(t));return w.createElement(D0,el({},e,{alignmentBaseline:"middle",className:a}),r)};function Fde(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:l}=n;if(!r||!a||!e)return null;var d=br(n),f=hc(a),h=hc(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((v,b)=>{var E=(v.startAngle+v.endAngle)/2,A=wn(v.cx,v.cy,v.outerRadius+p,E),S=Kt(Kt(Kt(Kt({},d),v),{},{stroke:"none"},f),{},{index:b,textAnchor:Mde(A.x,v.cx)},A),O=Kt(Kt(Kt(Kt({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:b,points:[wn(v.cx,v.cy,v.outerRadius,E),A],key:"line"});return w.createElement(_r,{zIndex:on.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},w.createElement(Yt,null,s&&$de(s,O),Bde(a,S,vt(v,l))))});return w.createElement(Yt,{className:"recharts-pie-labels"},g)}function qde(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(M0,{label:a}):w.createElement(Fde,{sectors:e,props:n,showLabels:r})}function Hde(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s}=t,l=Ne(Jo),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,p=$0(a,Nde),g=Bj(d,a.dataKey),v=Fj(h),b=qj(f,a.dataKey);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((E,A)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var S=String(A)===l,O=l?r:null,U=n&&S?n:O,k=Kt(Kt({},E),{},{stroke:E.stroke,tabIndex:-1,[q5]:A,[H5]:a.dataKey});return w.createElement(Yt,el({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},Zv(p,E,A),{onMouseEnter:g(E,A),onMouseLeave:v(E,A),onClick:b(E,A)}),w.createElement($j,el({option:s??U,shapeType:"sector",isActive:S},k)))}))}function Gde(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,v=Math.abs(n.minAngle),b=zde(d,f),E=Math.abs(b),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(z=>vt(z,h,0)!==0).length,O=(E>=360?S:S-1)*A,U=E-S*v-O,k=r.reduce((z,N)=>{var M=vt(N,h,0);return z+(Ee(M)?M:0)},0),C;if(k>0){var P;C=r.map((z,N)=>{var M=vt(z,h,0),T=vt(z,p,N),R=Ude(n,s,z),L=(Ee(M)?M:0)/k,V,$=Kt(Kt({},z),a&&a[N]&&a[N].props);N?V=P.endAngle+Vn(b)*A*(M!==0?1:0):V=d;var ne=V+Vn(b)*((M!==0?v:0)+L*U),pe=(V+ne)/2,Y=(R.innerRadius+R.outerRadius)/2,oe=[{name:T,value:M,payload:$,dataKey:h,type:g}],H=wn(R.cx,R.cy,Y,pe);return P=Kt(Kt(Kt(Kt({},n.presentationProps),{},{percent:L,cornerRadius:typeof l=="string"?parseFloat(l):l,name:T,tooltipPayload:oe,midAngle:pe,middleRadius:Y,tooltipPosition:H},$),R),{},{value:M,startAngle:V,endAngle:ne,payload:$,paddingAngle:Vn(b)*A}),P})}return C}function Kde(t){var{showLabels:e,sectors:n,children:r}=t,a=w.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return w.createElement(Tue,{value:e?a:void 0},r)}function Wde(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,v=pd(e,"recharts-pie-"),b=n.current,[E,A]=w.useState(!1),S=w.useCallback(()=>{typeof g=="function"&&g(),A(!1)},[g]),O=w.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return w.createElement(Kde,{showLabels:!E,sectors:r},w.createElement(md,{animationId:v,begin:s,duration:l,isActive:a,easing:d,onAnimationStart:O,onAnimationEnd:S,key:v},U=>{var k=[],C=r&&r[0],P=C==null?void 0:C.startAngle;return r==null||r.forEach((z,N)=>{var M=b&&b[N],T=N>0?mc(z,"paddingAngle",0):0;if(M){var R=ft(M.endAngle-M.startAngle,z.endAngle-z.startAngle,U),L=Kt(Kt({},z),{},{startAngle:P+T,endAngle:P+R+T});k.push(L),P=L.endAngle}else{var{endAngle:V,startAngle:$}=z,ne=ft(0,V-$,U),pe=Kt(Kt({},z),{},{startAngle:P+T,endAngle:P+ne+T});k.push(pe),P=pe.endAngle}}),n.current=k,w.createElement(Yt,null,w.createElement(Hde,{sectors:k,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape}))}),w.createElement(qde,{showLabels:!E,sectors:r,props:e}),e.children)}var Yde={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ol.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:on.area};function Qde(t){var{id:e}=t,n=$0(t,Tde),{hide:r,className:a,rootTabIndex:s}=t,l=w.useMemo(()=>zj(t.children,Am),[t.children]),d=Ne(p=>Hue(p,e,l)),f=w.useRef(null),h=lt("recharts-pie",a);return r||d==null?(f.current=null,w.createElement(Yt,{tabIndex:s,className:h})):w.createElement(_r,{zIndex:t.zIndex},w.createElement(Dde,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),w.createElement(Yt,{tabIndex:s,className:h},w.createElement(Wde,{props:Kt(Kt({},n),{},{sectors:d}),previousSectorsRef:f})))}function qz(t){var e=En(t,Yde),{id:n}=e,r=$0(e,Cde),a=br(r);return w.createElement(V0,{id:n,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(Sde,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),w.createElement(Rde,el({},r,{id:s})),w.createElement(Qde,el({},r,{id:s}))))}qz.displayName="Pie";var Xde=["points"];function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function H1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){Zde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zde(t,e,n){return(e=Jde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jde(t){var e=efe(t,"string");return typeof e=="symbol"?e:e+""}function efe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(null,arguments)}function tfe(t,e){if(t==null)return{};var n,r,a=nfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rfe(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var a=lt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,d=tfe(s,Xde);return w.createElement(Mz,sv({},d,{className:a}))}function afe(t,e){return t==null?!1:e?!0:t.length===1}function Hz(t){var{points:e,dot:n,className:r,dotClassName:a,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=on.scatter}=t;if(!afe(e,n))return null;var p=Vj(n),g=eZ(n),v=e.map((E,A)=>{var S,O,U=H1(H1(H1({r:3},l),g),{},{index:A,cx:(S=E.x)!==null&&S!==void 0?S:void 0,cy:(O=E.y)!==null&&O!==void 0?O:void 0,dataKey:s,value:E.value,payload:E.payload,points:e});return w.createElement(rfe,{key:"dot-".concat(A),option:n,dotProps:U,className:a})}),b={};return d&&f!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),w.createElement(_r,{zIndex:h},w.createElement(Yt,sv({className:r},b),v))}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ife(t,e,n){return(e=sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sfe(t){var e=ofe(t,"string");return typeof e=="symbol"?e:e+""}function ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lfe={xAxis:{},yAxis:{},zAxis:{}},Gz=Mr({name:"cartesianAxis",initialState:lfe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Lt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Lt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Lt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Lt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Lt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Lt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Lt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Lt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Lt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=mD(mD({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:cfe,replaceXAxis:ufe,removeXAxis:dfe,addYAxis:ffe,replaceYAxis:hfe,removeYAxis:mfe,addZAxis:Zye,replaceZAxis:Jye,removeZAxis:eve,updateYAxisWidth:pfe}=Gz.actions,gfe=Gz.reducer,yfe=J([Cn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),vfe=J([yfe,Fs,qs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),B0=()=>Ne(vfe),xfe=()=>Ne(gle);function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function G1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){bfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bfe(t,e,n){return(e=wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wfe(t){var e=_fe(t,"string");return typeof e=="symbol"?e:e+""}function _fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Efe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:s,clipPath:l}=t;if(a===!1||e.x==null||e.y==null)return null;var d={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=G1(G1(G1({},d),hc(a)),fS(a)),h;return w.isValidElement(a)?h=w.cloneElement(a,f):typeof a=="function"?h=a(f):h=w.createElement(Mz,f),w.createElement(Yt,{className:"recharts-active-dot",clipPath:l},h)};function _E(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a,clipPath:s,zIndex:l=on.activeDot}=t,d=Ne(Jo),f=xfe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return Pt(h)?null:w.createElement(_r,{zIndex:l},w.createElement(Efe,{point:h,childIndex:Number(d),mainColor:n,dataKey:a,activeDot:r,clipPath:s}))}var Afe="Invariant failed";function Sfe(t,e){throw new Error(Afe)}var jfe=["x","y"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){Nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nfe(t,e,n){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=Cfe(t,"string");return typeof e=="symbol"?e:e+""}function Cfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ofe(t,e){if(t==null)return{};var n,r,a=Ife(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ife(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kfe(t,e){var{x:n,y:r}=t,a=Ofe(t,jfe),s="".concat(n),l=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||a.height),p=parseInt(h,10),g="".concat(e.width||a.width),v=parseInt(g,10);return Uf(Uf(Uf(Uf(Uf({},e),a),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function ov(t){return w.createElement($j,EE({shapeType:"rectangle",propTransformer:kfe,activeClassName:"recharts-active-bar"},t))}var Pfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Ee(e))return e;var s=Ee(r)||Pt(r);return s?e(r,a):(s||Sfe(),n)}},Rfe={},Kz=Mr({name:"errorBars",initialState:Rfe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:tve,replaceErrorBar:nve,removeErrorBar:rve}=Kz.actions,Dfe=Kz.reducer,Mfe=["children"];function Lfe(t,e){if(t==null)return{};var n,r,a=Ufe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ufe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vfe=w.createContext(zfe);function Wz(t){var{children:e}=t,n=Lfe(t,Mfe);return w.createElement(Vfe.Provider,{value:n},e)}function F0(t,e){var n,r,a=Ne(h=>Gs(h,t)),s=Ne(h=>Ks(h,e)),l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Mn.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Ln.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function Kj(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=B0(),{needClipX:s,needClipY:l,needClip:d}=F0(e,n);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}function $fe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Rt(t.zIndex)?t.zIndex:e}var K1={exports:{}},W1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD;function Bfe(){if(yD)return W1;yD=1;var t=td();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,d=t.useDebugValue;return W1.useSyncExternalStoreWithSelector=function(f,h,p,g,v){var b=a(null);if(b.current===null){var E={hasValue:!1,value:null};b.current=E}else E=b.current;b=l(function(){function S(P){if(!O){if(O=!0,U=P,P=g(P),v!==void 0&&E.hasValue){var z=E.value;if(v(z,P))return k=z}return k=P}if(z=k,n(U,P))return z;var N=g(P);return v!==void 0&&v(z,N)?(U=P,z):(U=P,k=N)}var O=!1,U,k,C=p===void 0?null:p;return[function(){return S(h())},C===null?void 0:function(){return S(C())}]},[h,p,g,v]);var A=r(f,b[0],b[1]);return s(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},W1}var vD;function Ffe(){return vD||(vD=1,K1.exports=Bfe()),K1.exports}Ffe();function qfe(t){t()}function Hfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){qfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var xD={notify(){},get:()=>[]};function Gfe(t,e){let n,r=xD,a=0,s=!1;function l(A){p();const S=r.subscribe(A);let O=!1;return()=>{O||(O=!0,S(),g())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){a++,n||(n=t.subscribe(f),r=Hfe())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=xD)}function v(){s||(s=!0,p())}function b(){s&&(s=!1,g())}const E={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return E}var Kfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wfe=Kfe(),Yfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Qfe=Yfe(),Xfe=()=>Wfe||Qfe?w.useLayoutEffect:w.useEffect,Zfe=Xfe();function bD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Jfe(t,e){if(bD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!bD(t[n[a]],e[n[a]]))return!1;return!0}var Y1=Symbol.for("react-redux-context"),Q1=typeof globalThis<"u"?globalThis:{};function ehe(){if(!w.createContext)return{};const t=Q1[Y1]??(Q1[Y1]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var the=ehe();function nhe(t){const{children:e,context:n,serverState:r,store:a}=t,s=w.useMemo(()=>{const f=Gfe(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),l=w.useMemo(()=>a.getState(),[a]);Zfe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=n||the;return w.createElement(d.Provider,{value:s},e)}var rhe=nhe,ahe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function ihe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Sm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(ahe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Jfe(t[r],e[r]))return!1}else if(!ihe(t[r],e[r]))return!1;return!0}var she=["onMouseEnter","onMouseLeave","onClick"],ohe=["value","background","tooltipPosition"],lhe=["id"],che=["onMouseEnter","onClick","onMouseLeave"];function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(null,arguments)}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){uhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uhe(t,e,n){return(e=dhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dhe(t){var e=fhe(t,"string");return typeof e=="symbol"?e:e+""}function fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lv(t,e){if(t==null)return{};var n,r,a=hhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function hhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mhe=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:sl(n,e),payload:t}]},phe=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:l,unit:d,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:sl(s,e),hide:l,type:f,color:a,unit:d}};return w.createElement(z0,{tooltipEntrySettings:h})});function ghe(t){var e=Ne(Jo),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=lv(s,she),p=Bj(l,r),g=Fj(d),v=qj(f,r);if(!a||n==null)return null;var b=hc(a);return w.createElement(_r,{zIndex:$fe(a,on.barBackground)},n.map((E,A)=>{var{value:S,background:O,tooltipPosition:U}=E,k=lv(E,ohe);if(!O)return null;var C=p(E,A),P=g(E,A),z=v(E,A),N=pr(pr(pr(pr(pr({option:a,isActive:String(A)===e},k),{},{fill:"#eee"},O),b),Zv(h,E,A)),{},{onMouseEnter:C,onMouseLeave:P,onClick:z,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return w.createElement(ov,$s({key:"background-bar-".concat(A)},N))}))}function yhe(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return pr(pr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return w.createElement(Mj,{value:e?a:void 0},n)}function vhe(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:l}=t,d=Ne(Jo),f=Ne(hz),h=n&&String(s)===d&&(f==null||l===f),p=h?n:e;return h?w.createElement(_r,{zIndex:on.activeBar},w.createElement(ov,$s({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:l}))):w.createElement(ov,$s({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function xhe(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return w.createElement(ov,$s({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function bhe(t){var e,{data:n,props:r}=t,a=(e=br(r))!==null&&e!==void 0?e:{},{id:s}=a,l=lv(a,lhe),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:v}=r,b=lv(r,che),E=Bj(p,f),A=Fj(v),S=qj(g,f);return n?w.createElement(w.Fragment,null,n.map((O,U)=>w.createElement(Yt,$s({key:"rectangle-".concat(O==null?void 0:O.x,"-").concat(O==null?void 0:O.y,"-").concat(O==null?void 0:O.value,"-").concat(U),className:"recharts-bar-rectangle"},Zv(b,O,U),{onMouseEnter:E(O,U),onMouseLeave:A(O,U),onClick:S(O,U)}),h?w.createElement(vhe,{shape:d,activeBar:h,baseProps:l,entry:O,index:U,dataKey:f}):w.createElement(xhe,{shape:d,baseProps:l,entry:O,index:U,dataKey:f})))):null}function whe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,v=pd(e,"recharts-bar-"),[b,E]=w.useState(!1),A=!b,S=w.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),O=w.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return w.createElement(yhe,{showLabels:A,rects:r},w.createElement(md,{animationId:v,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:S,onAnimationStart:O,key:v},U=>{var k=U===1?r:r==null?void 0:r.map((C,P)=>{var z=g&&g[P];if(z)return pr(pr({},C),{},{x:ft(z.x,C.x,U),y:ft(z.y,C.y,U),width:ft(z.width,C.width,U),height:ft(z.height,C.height,U)});if(a==="horizontal"){var N=ft(0,C.height,U),M=ft(C.stackedBarStart,C.y,U);return pr(pr({},C),{},{y:M,height:N})}var T=ft(0,C.width,U),R=ft(C.stackedBarStart,C.x,U);return pr(pr({},C),{},{width:T,x:R})});return U>0&&(n.current=k??null),k==null?null:w.createElement(Yt,null,w.createElement(bhe,{props:e,data:k}))}),w.createElement(M0,{label:e.label}),e.children)}function _he(t){var e=w.useRef(null);return w.createElement(whe,{previousRectanglesRef:e,props:t})}var Yz=0,Ehe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:vt(t,e)}};class Ahe extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=lt("recharts-bar",a),g=h;return w.createElement(Yt,{className:p,id:h},d&&w.createElement("defs",null,w.createElement(Kj,{clipPathId:g,xAxisId:s,yAxisId:l})),w.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},w.createElement(ghe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),w.createElement(_he,this.props)))}}var She={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Yz,xAxisId:0,yAxisId:0,zIndex:on.bar};function jhe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=F0(e,n),v=Sc(),b=Bn(),E=zj(t.children,Am),A=Ne(U=>eme(U,e,n,b,t.id,E));if(v!=="vertical"&&v!=="horizontal")return null;var S,O=A==null?void 0:A[0];return O==null||O.height==null||O.width==null?S=0:S=v==="vertical"?O.height/2:O.width/2,w.createElement(Wz,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:Ehe,errorBarOffset:S},w.createElement(Ahe,$s({},t,{layout:v,needClip:g,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Nhe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:v,cells:b,parentViewBox:E,dataStartIndex:A}=t,S=e==="horizontal"?d:l,O=p?S.scale.domain():null,U=fte({numericAxis:S}),k=S.scale(U);return g.map((C,P)=>{var z,N,M,T,R,L;p?z=ote(p[P+A],O):(z=vt(C,n),Array.isArray(z)||(z=[U,z]));var V=Pfe(r,Yz)(z[1],P);if(e==="horizontal"){var $,[ne,pe]=[d.scale(z[0]),d.scale(z[1])];N=Vk({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:C,index:P}),M=($=pe??ne)!==null&&$!==void 0?$:void 0,T=a.size;var Y=ne-pe;if(R=Na(Y)?0:Y,L={x:N,y:v.top,width:T,height:v.height},Math.abs(V)>0&&Math.abs(R)<Math.abs(V)){var oe=Vn(R||V)*(Math.abs(V)-Math.abs(R));M-=oe,R+=oe}}else{var[H,K]=[l.scale(z[0]),l.scale(z[1])];if(N=H,M=Vk({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:C,index:P}),T=K-H,R=a.size,L={x:v.left,y:M,width:v.width,height:R},Math.abs(V)>0&&Math.abs(T)<Math.abs(V)){var se=Vn(T||V)*(Math.abs(V)-Math.abs(T));T+=se}}if(N==null||M==null||T==null||R==null)return null;var q=pr(pr({},C),{},{stackedBarStart:k,x:N,y:M,width:T,height:R,value:p?z:z[1],payload:C,background:L,tooltipPosition:{x:N+T/2,y:M+R/2},parentViewBox:E},b&&b[P]&&b[P].props);return q}).filter(Boolean)}function The(t){var e=En(t,She),n=Bn();return w.createElement(V0,{id:e.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(Hj,{legendPayload:mhe(e)}),w.createElement(phe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),w.createElement(Gj,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:B5(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),w.createElement(_r,{zIndex:e.zIndex},w.createElement(jhe,$s({},e,{id:r})))))}var cv=w.memo(The,Sm);cv.displayName="Bar";function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){Che(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Che(t,e,n){return(e=Ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=Ihe(t,"string");return typeof e=="symbol"?e:e+""}function Ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var khe=(t,e)=>e,Phe=(t,e,n)=>n,Rhe=(t,e,n,r)=>r,Dhe=(t,e,n,r,a)=>a,jm=J([ym,Dhe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Mhe=J([jm],t=>t==null?void 0:t.maxBarSize),Lhe=(t,e,n,r,a,s)=>s,ED=(t,e,n)=>{var r=n??t;if(!Pt(r))return lr(r,e,0)},Uhe=J([Qe,ym,khe,Phe,Rhe],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),zhe=(t,e,n,r)=>{var a=Qe(t);return a==="horizontal"?Ph(t,"yAxis",n,r):Ph(t,"xAxis",e,r)},Vhe=(t,e,n)=>{var r=Qe(t);return r==="horizontal"?yR(t,"xAxis",e):yR(t,"yAxis",n)},$he=(t,e,n)=>{var r={},a=t.filter(j0),s=t.filter(h=>h.stackId==null),l=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(l).map(h=>{var[p,g]=h,v=g.map(E=>E.dataKey),b=ED(e,n,g[0].barSize);return{stackId:p,dataKeys:v,barSize:b}}),f=s.map(h=>{var p=[h.dataKey].filter(v=>v!=null),g=ED(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},Bhe=J([Uhe,mse,Vhe],$he),Fhe=(t,e,n,r,a)=>{var s,l,d=jm(t,e,n,r,a);if(d!=null){var f=Qe(t),h=mU(t),{maxBarSize:p}=d,g=Pt(p)?h:p,v,b;return f==="horizontal"?(v=qi(t,"xAxis",e,r),b=Fi(t,"xAxis",e,r)):(v=qi(t,"yAxis",n,r),b=Fi(t,"yAxis",n,r)),(s=(l=Xo(v,b,!0))!==null&&l!==void 0?l:g)!==null&&s!==void 0?s:0}},Qz=(t,e,n,r)=>{var a=Qe(t),s,l;return a==="horizontal"?(s=qi(t,"xAxis",e,r),l=Fi(t,"xAxis",e,r)):(s=qi(t,"yAxis",n,r),l=Fi(t,"yAxis",n,r)),Xo(s,l)};function qhe(t,e,n,r,a){var s=r.length;if(!(s<1)){var l=lr(t,n,0,!0),d,f=[];if(Rt(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((O,U)=>O+(U.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var v=(n-g)/2>>0,b={offset:v-l,size:0};d=r.reduce((O,U)=>{var k,C={stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:b.offset+b.size+l,size:h?p:(k=U.barSize)!==null&&k!==void 0?k:0}},P=[...O,C];return b=P[P.length-1].position,P},f)}else{var E=lr(e,n,0,!0);n-2*E-(s-1)*l<=0&&(l=0);var A=(n-2*E-(s-1)*l)/s;A>1&&(A>>=0);var S=Rt(a)?Math.min(A,a):A;d=r.reduce((O,U,k)=>[...O,{stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:E+(A+l)*k+(A-S)/2,size:S}}],f)}return d}}var Hhe=(t,e,n,r,a,s,l)=>{var d=Pt(l)?e:l,f=qhe(n,r,a!==s?a:s,t,d);return a!==s&&f!=null&&(f=f.map(h=>Ng(Ng({},h),{},{position:Ng(Ng({},h.position),{},{offset:h.position.offset-a/2})}))),f},Ghe=J([Bhe,mU,hse,pU,Fhe,Qz,Mhe],Hhe),Khe=(t,e,n,r)=>qi(t,"xAxis",e,r),Whe=(t,e,n,r)=>qi(t,"yAxis",n,r),Yhe=(t,e,n,r)=>Fi(t,"xAxis",e,r),Qhe=(t,e,n,r)=>Fi(t,"yAxis",n,r),Xhe=J([Ghe,jm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Zhe=(t,e)=>{var n=S0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===n)}}}},Jhe=J([zhe,jm],Zhe),eme=J([Cn,ES,Khe,Whe,Yhe,Qhe,Xhe,Qe,hm,Qz,Jhe,jm,Lhe],(t,e,n,r,a,s,l,d,f,h,p,g,v)=>{var{chartData:b,dataStartIndex:E,dataEndIndex:A}=f;if(!(g==null||l==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:S}=g,O;if(S!=null&&S.length>0?O=S:O=b==null?void 0:b.slice(E,A+1),O!=null)return Nhe({layout:d,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:O,offset:t,cells:v,dataStartIndex:E})}}),Xz=t=>{var{chartData:e}=t,n=Vt(),r=Bn();return w.useEffect(()=>r?()=>{}:(n(OR(e)),()=>{n(OR(void 0))}),[e,n,r]),null},AD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Zz=Mr({name:"brush",initialState:AD,reducers:{setBrushSettings(t,e){return e.payload==null?AD:e.payload}}}),{setBrushSettings:ave}=Zz.actions,tme=Zz.reducer;function nme(t,e,n){return(e=rme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rme(t){var e=ame(t,"string");return typeof e=="symbol"?e:e+""}function ame(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wj{static create(e){return new Wj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}nme(Wj,"EPS",1e-4);function ime(t){return(t%180+180)%180}var sme=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ime(a),l=s*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},ome={dots:[],areas:[],lines:[]},Jz=Mr({name:"referenceElements",initialState:ome,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Za(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Za(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Za(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ive,removeDot:sve,addArea:ove,removeArea:lve,addLine:cve,removeLine:uve}=Jz.actions,lme=Jz.reducer,cme=w.createContext(void 0),ume=t=>{var{children:e}=t,[n]=w.useState("".concat(bh("recharts"),"-clip")),r=B0();if(r==null)return null;var{x:a,y:s,width:l,height:d}=r;return w.createElement(cme.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:a,y:s,height:d,width:l}))),e)};function e8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function dme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return sme(r,n)}function fme(t,e,n){var r=n==="width",{x:a,y:s,width:l,height:d}=t;return e===1?{start:r?a:s,end:r?a+l:s+d}:{start:r?a+l:s+d,end:r?a:s}}function uv(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function hme(t,e){return e8(t,e+1)}function mme(t,e,n,r,a){for(var s=(r||[]).slice(),{start:l,end:d}=e,f=0,h=1,p=l,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:e8(r,h)};var A=f,S,O=()=>(S===void 0&&(S=n(E,A)),S),U=E.coordinate,k=f===0||uv(t,U,O,p,d);k||(f=0,p=l,h+=1),k&&(p=U+t*(O()/2+a),f+=h)},v;h<=s.length;)if(v=g(),v)return v.v;return[]}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pme(t,e,n){return(e=gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=yme(t,"string");return typeof e=="symbol"?e:e+""}function yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vme(t,e,n,r,a){for(var s=(r||[]).slice(),l=s.length,{start:d}=e,{end:f}=e,h=function(v){var b=s[v],E,A=()=>(E===void 0&&(E=n(b,v)),E);if(v===l-1){var S=t*(b.coordinate+t*A()/2-f);s[v]=b=rr(rr({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else s[v]=b=rr(rr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var O=uv(t,b.tickCoord,A,d,f);O&&(f=b.tickCoord-t*(A()/2+a),s[v]=rr(rr({},b),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function xme(t,e,n,r,a,s){var l=(r||[]).slice(),d=l.length,{start:f,end:h}=e;if(s){var p=r[d-1],g=n(p,d-1),v=t*(p.coordinate+t*g/2-h);if(l[d-1]=p=rr(rr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate}),p.tickCoord!=null){var b=uv(t,p.tickCoord,()=>g,f,h);b&&(h=p.tickCoord-t*(g/2+a),l[d-1]=rr(rr({},p),{},{isShow:!0}))}}for(var E=s?d-1:d,A=function(U){var k=l[U],C,P=()=>(C===void 0&&(C=n(k,U)),C);if(U===0){var z=t*(k.coordinate-t*P()/2-f);l[U]=k=rr(rr({},k),{},{tickCoord:z<0?k.coordinate-z*t:k.coordinate})}else l[U]=k=rr(rr({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var N=uv(t,k.tickCoord,P,f,h);N&&(f=k.tickCoord+t*(P()/2+a),l[U]=rr(rr({},k),{},{isShow:!0}))}},S=0;S<E;S++)A(S);return l}function Yj(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(Ee(f)||ol.isSsr){var v;return(v=hme(a,Ee(f)?f:0))!==null&&v!==void 0?v:[]}var b=[],E=d==="top"||d==="bottom"?"width":"height",A=p&&E==="width"?ih(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(k,C)=>{var P=typeof h=="function"?h(k.value,C):k.value;return E==="width"?dme(ih(P,{fontSize:e,letterSpacing:n}),A,g):ih(P,{fontSize:e,letterSpacing:n})[E]},O=a.length>=2?Vn(a[1].coordinate-a[0].coordinate):1,U=fme(s,O,E);return f==="equidistantPreserveStart"?mme(O,U,S,a,l):(f==="preserveStart"||f==="preserveStartEnd"?b=xme(O,U,S,a,l,f==="preserveStartEnd"):b=vme(O,U,S,a,l),b.filter(k=>k.isShow))}var bme=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=a+s,h=l+f+d+(n?r:0);return Math.round(h)}return 0},wme=["axisLine","width","height","className","hide","ticks","axisType"];function _me(t,e){if(t==null)return{};var n,r,a=Eme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Eme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(null,arguments)}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){Ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t,e,n){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=jme(t,"string");return typeof e=="symbol"?e:e+""}function jme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ts={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:on.axis};function Nme(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=vn(vn(vn({},f),br(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=vn(vn({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=vn(vn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return w.createElement("line",vc({},h,{className:lt("recharts-cartesian-axis-line",mc(d,"className"))}))}function Tme(t,e,n,r,a,s,l,d,f){var h,p,g,v,b,E,A=d?-1:1,S=t.tickSize||l,O=Ee(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,v=n+ +!d*a,g=v-A*S,E=g-A*f,b=O;break;case"left":g=v=t.coordinate,p=e+ +!d*r,h=p-A*S,b=h-A*f,E=O;break;case"right":g=v=t.coordinate,p=e+ +d*r,h=p+A*S,b=h+A*f,E=O;break;default:h=p=t.coordinate,v=n+ +d*a,g=v+A*S,E=g+A*f,b=O;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x:b,y:E}}}function Cme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Ome(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ime(t){var{option:e,tickProps:n,value:r}=t,a,s=lt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))a=w.cloneElement(e,vn(vn({},n),{},{className:s}));else if(typeof e=="function")a=e(vn(vn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=lt(l,e==null?void 0:e.className)),a=w.createElement(D0,vc({},n,{className:l}),r)}return a}var kme=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:v,y:b,width:E,height:A,tickSize:S,tickMargin:O,fontSize:U,letterSpacing:k,getTicksConfig:C,events:P,axisType:z}=t,N=Yj(vn(vn({},C),{},{ticks:n}),U,k),M=Cme(p,g),T=Ome(p,g),R=br(C),L=hc(r),V={};typeof a=="object"&&(V=a);var $=vn(vn({},R),{},{fill:"none"},V),ne=N.map(oe=>vn({entry:oe},Tme(oe,v,b,E,A,p,S,g,O))),pe=ne.map(oe=>{var{entry:H,line:K}=oe;return w.createElement(Yt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},a&&w.createElement("line",vc({},$,K,{className:lt("recharts-cartesian-axis-tick-line",mc(a,"className"))})))}),Y=ne.map((oe,H)=>{var{entry:K,tick:se}=oe,q=vn(vn(vn(vn({textAnchor:M,verticalAnchor:T},R),{},{stroke:"none",fill:s},L),se),{},{index:H,payload:K,visibleTicksCount:N.length,tickFormatter:l,padding:f},h);return w.createElement(Yt,vc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Zv(P,K,H)),r&&w.createElement(Ime,{option:r,tickProps:q,value:"".concat(typeof l=="function"?l(K.value,H):K.value).concat(d||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},Y.length>0&&w.createElement(_r,{zIndex:on.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},Y)),pe.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},pe))}),Pme=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:l,ticks:d,axisType:f}=t,h=_me(t,wme),[p,g]=w.useState(""),[v,b]=w.useState(""),E=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return bme({ticks:E.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=w.useCallback(S=>{if(S){var O=S.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=O;var U=O[0];if(U){var k=window.getComputedStyle(U),C=k.fontSize,P=k.letterSpacing;(C!==p||P!==v)&&(g(C),b(P))}}},[p,v]);return l||r!=null&&r<=0||a!=null&&a<=0?null:w.createElement(_r,{zIndex:t.zIndex},w.createElement(Yt,{className:lt("recharts-cartesian-axis",s)},w.createElement(Nme,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:br(t)}),w.createElement(kme,{ref:A,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(oue,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(yue,{label:t.label,labelRef:t.labelRef}),t.children)))}),Qj=w.forwardRef((t,e)=>{var n=En(t,Ts);return w.createElement(Pme,vc({},n,{ref:e}))});Qj.displayName="CartesianAxis";var Rme=["x1","y1","x2","y2","key"],Dme=["offset"],Mme=["xAxisId","yAxisId"],Lme=["xAxisId","yAxisId"];function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){Ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ume(t,e,n){return(e=zme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zme(t){var e=Vme(t,"string");return typeof e=="symbol"?e:e+""}function Vme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(null,arguments)}function dv(t,e){if(t==null)return{};var n,r,a=$me(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $me(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:l,ry:d}=t;return w.createElement("rect",{x:r,y:a,ry:d,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function t8(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:s,y1:l,x2:d,y2:f,key:h}=n,p=dv(n,Rme),g=(a=br(p))!==null&&a!==void 0?a:{},{offset:v}=g,b=dv(g,Dme);r=w.createElement("line",Wl({},b,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return r}function Fme(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,d=dv(t,Mme),f=a.map((h,p)=>{var g=sr(sr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return w.createElement(t8,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function qme(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,d=dv(t,Lme),f=a.map((h,p)=>{var g=sr(sr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(t8,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Hme(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var b=!h[v+1],E=b?a+l-g:h[v+1]-g;if(E<=0)return null;var A=v%e.length;return w.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:E,width:s,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Gme(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:l,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var b=!h[v+1],E=b?a+l-g:h[v+1]-g;if(E<=0)return null;var A=v%n.length;return w.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:E,height:d,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Kme=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return V5(Yj(sr(sr(sr({},Ts),n),{},{ticks:$5(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},Wme=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return V5(Yj(sr(sr(sr({},Ts),n),{},{ticks:$5(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},Yme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:on.grid};function Yf(t){var e=X5(),n=Z5(),r=Q5(),a=sr(sr({},En(t,Yme)),{},{x:Ee(t.x)?t.x:r.left,y:Ee(t.y)?t.y:r.top,width:Ee(t.width)?t.width:r.width,height:Ee(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:b}=a,E=Bn(),A=Ne(T=>vR(T,"xAxis",s,E)),S=Ne(T=>vR(T,"yAxis",l,E));if(!$i(h)||!$i(p)||!Ee(d)||!Ee(f))return null;var O=a.verticalCoordinatesGenerator||Kme,U=a.horizontalCoordinatesGenerator||Wme,{horizontalPoints:k,verticalPoints:C}=a;if((!k||!k.length)&&typeof U=="function"){var P=v&&v.length,z=U({yAxis:S?sr(sr({},S),{},{ticks:P?v:S.ticks}):void 0,width:e??h,height:n??p,offset:r},P?!0:g);Dy(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(k=z)}if((!C||!C.length)&&typeof O=="function"){var N=b&&b.length,M=O({xAxis:A?sr(sr({},A),{},{ticks:N?b:A.ticks}):void 0,width:e??h,height:n??p,offset:r},N?!0:g);Dy(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}return w.createElement(_r,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Bme,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(Hme,Wl({},a,{horizontalPoints:k})),w.createElement(Gme,Wl({},a,{verticalPoints:C})),w.createElement(Fme,Wl({},a,{offset:r,horizontalPoints:k,xAxis:A,yAxis:S})),w.createElement(qme,Wl({},a,{offset:r,verticalPoints:C,xAxis:A,yAxis:S}))))}Yf.displayName="CartesianGrid";var n8=(t,e,n,r)=>qi(t,"xAxis",e,r),r8=(t,e,n,r)=>Fi(t,"xAxis",e,r),a8=(t,e,n,r)=>qi(t,"yAxis",n,r),i8=(t,e,n,r)=>Fi(t,"yAxis",n,r),Qme=J([Qe,n8,a8,r8,i8],(t,e,n,r,a)=>Qi(t,"xAxis")?Xo(e,r,!1):Xo(n,a,!1)),Xme=(t,e,n,r,a)=>a;function Zme(t){return t.type==="line"}var Jme=J([ym,Xme],(t,e)=>t.filter(Zme).find(n=>n.id===e)),epe=J([Qe,n8,a8,r8,i8,Jme,Qme,hm],(t,e,n,r,a,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:v}=s,b;if(v!=null&&v.length>0?b=v:b=f==null?void 0:f.slice(h,p+1),b!=null)return bpe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:b})}});function s8(t){var e=hc(t),n=3,r=2;if(e!=null){var{r:a,strokeWidth:s}=e,l=Number(a),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(d)||d<0)&&(d=r),{r:l,strokeWidth:d}}return{r:n,strokeWidth:r}}var tpe=["id"],npe=["type","layout","connectNulls","needClip","shape"],rpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(null,arguments)}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){ape(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ape(t,e,n){return(e=ipe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ipe(t){var e=spe(t,"string");return typeof e=="symbol"?e:e+""}function spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xj(t,e){if(t==null)return{};var n,r,a=ope(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ope(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lpe=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:sl(n,e),payload:t}]},cpe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:sl(l,e),hide:d,type:h,color:r,unit:f}};return w.createElement(z0,{tooltipEntrySettings:p})}),o8=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function upe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var dpe=(t,e,n)=>{var r=n.reduce((g,v)=>g+v);if(!r)return o8(e,t);for(var a=Math.floor(t/r),s=t%r,l=e-t,d=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>s){d=[...n.slice(0,f),s-h];break}var p=d.length%2===0?[0,l]:[l];return[...upe(n,a),...d,...p].map(g=>"".concat(g,"px")).join(", ")};function fpe(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:s,needClip:l}=r,{id:d}=r,f=Xj(r,tpe),h=br(f);return w.createElement(Hz,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function hpe(t){var{showLabels:e,children:n,points:r}=t,a=w.useMemo(()=>r==null?void 0:r.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ni(Ni({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(Mj,{value:e?a:void 0},n)}function CD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:s}=t,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=Xj(s,npe),v=Ni(Ni({},ur(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:d,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return w.createElement(w.Fragment,null,(r==null?void 0:r.length)>1&&w.createElement($j,Dh({shapeType:"curve",option:p},v,{pathRef:n})),w.createElement(fpe,{points:r,clipPathId:e,props:s}))}function mpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ppe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:v,width:b,height:E,onAnimationEnd:A,onAnimationStart:S}=n,O=a.current,U=pd(l,"recharts-line-"),k=w.useRef(U),[C,P]=w.useState(!1),z=!C,N=w.useCallback(()=>{typeof A=="function"&&A(),P(!1)},[A]),M=w.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),T=mpe(r.current),R=w.useRef(0);k.current!==U&&(R.current=s.current,k.current=U);var L=R.current;return w.createElement(hpe,{points:l,showLabels:z},n.children,w.createElement(md,{animationId:U,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:N,onAnimationStart:M,key:U},V=>{var $=ft(L,T+L,V),ne=Math.min($,T),pe;if(f)if(d){var Y="".concat(d).split(/[,\s]+/gim).map(K=>parseFloat(K));pe=dpe(ne,T,Y)}else pe=o8(T,ne);else pe=d==null?void 0:String(d);if(V>0&&T>0&&(a.current=l,s.current=Math.max(s.current,ne)),O){var oe=O.length/l.length,H=V===1?l:l.map((K,se)=>{var q=Math.floor(se*oe);if(O[q]){var re=O[q];return Ni(Ni({},K),{},{x:ft(re.x,K.x,V),y:ft(re.y,K.y,V)})}return v?Ni(Ni({},K),{},{x:ft(b*2,K.x,V),y:ft(E/2,K.y,V)}):Ni(Ni({},K),{},{x:K.x,y:K.y})});return a.current=H,w.createElement(CD,{props:n,points:H,clipPathId:e,pathRef:r,strokeDasharray:pe})}return w.createElement(CD,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:pe})}),w.createElement(M0,{label:n.label}))}function gpe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),a=w.useRef(0),s=w.useRef(null);return w.createElement(ppe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:s})}var ype=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:vt(t.payload,e)}};class vpe extends w.Component{render(){var{hide:e,dot:n,points:r,className:a,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:g,needClip:v,zIndex:b}=this.props;if(e)return null;var E=lt("recharts-line",a),A=g,{r:S,strokeWidth:O}=s8(n),U=Vj(n),k=S*2+O,C=v?"url(#clipPath-".concat(U?"":"dots-").concat(A,")"):void 0;return w.createElement(_r,{zIndex:b},w.createElement(Yt,{className:E},v&&w.createElement("defs",null,w.createElement(Kj,{clipPathId:A,xAxisId:s,yAxisId:l}),!U&&w.createElement("clipPath",{id:"clipPath-dots-".concat(A)},w.createElement("rect",{x:f-k/2,y:d-k/2,width:h+k,height:p+k}))),w.createElement(Wz,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:ype,errorBarOffset:0},w.createElement(gpe,{props:this.props,clipPathId:A}))),w.createElement(_E,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var l8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:on.line,type:"linear"};function xpe(t){var e=En(t,l8),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:v,xAxisId:b,yAxisId:E,id:A}=e,S=Xj(e,rpe),{needClip:O}=F0(b,E),U=B0(),k=Sc(),C=Bn(),P=Ne(R=>epe(R,b,E,C,A));if(k!=="horizontal"&&k!=="vertical"||P==null||U==null)return null;var{height:z,width:N,x:M,y:T}=U;return w.createElement(vpe,Dh({},S,{id:A,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:v,xAxisId:b,yAxisId:E,points:P,layout:k,height:z,width:N,left:M,top:T,needClip:O}))}function bpe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=t;return f.map((h,p)=>{var g=vt(h,l);if(e==="horizontal"){var v=Ry({axis:n,ticks:a,bandSize:d,entry:h,index:p}),b=Pt(g)?null:r.scale(g);return{x:v,y:b,value:g,payload:h}}var E=Pt(g)?null:n.scale(g),A=Ry({axis:r,ticks:s,bandSize:d,entry:h,index:p});return E==null||A==null?null:{x:E,y:A,value:g,payload:h}}).filter(Boolean)}function wpe(t){var e=En(t,l8),n=Bn();return w.createElement(V0,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(Hj,{legendPayload:lpe(e)}),w.createElement(cpe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),w.createElement(Gj,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(xpe,Dh({},e,{id:r}))))}var c8=w.memo(wpe,Sm);c8.displayName="Line";var u8=(t,e,n,r)=>qi(t,"xAxis",e,r),d8=(t,e,n,r)=>Fi(t,"xAxis",e,r),f8=(t,e,n,r)=>qi(t,"yAxis",n,r),h8=(t,e,n,r)=>Fi(t,"yAxis",n,r),_pe=J([Qe,u8,f8,d8,h8],(t,e,n,r,a)=>Qi(t,"xAxis")?Xo(e,r,!1):Xo(n,a,!1)),Epe=(t,e,n,r,a)=>a,m8=J([ym,Epe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),Ape=(t,e,n,r,a)=>{var s,l=m8(t,e,n,r,a);if(l!=null){var d=Qe(t),f=Qi(d,"xAxis"),h;if(f?h=Ph(t,"yAxis",n,r):h=Ph(t,"xAxis",e,r),h!=null){var{stackId:p}=l,g=S0(l);if(!(p==null||g==null)){var v=(s=h[p])===null||s===void 0?void 0:s.stackedData;return v==null?void 0:v.find(b=>b.key===g)}}}},Spe=J([Qe,u8,f8,d8,h8,Ape,hm,_pe,m8,pse],(t,e,n,r,a,s,l,d,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:v}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||a==null||r.length===0||a.length===0||d==null)){var{data:b}=f,E;if(b&&b.length>0?E=b:E=p==null?void 0:p.slice(g,v+1),E!=null)return qpe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:g,areaSettings:f,stackedData:s,displayedData:E,chartBaseValue:h,bandSize:d})}}),jpe=["id"],Npe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(null,arguments)}function p8(t,e){if(t==null)return{};var n,r,a=Tpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Tpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){Cpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cpe(t,e,n){return(e=Ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ope(t){var e=Ipe(t,"string");return typeof e=="symbol"?e:e+""}function Ipe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fv(t,e){return t&&t!=="none"?t:e}var kpe=t=>{var{dataKey:e,name:n,stroke:r,fill:a,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:fv(r,a),value:sl(n,e),payload:t}]},Ppe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:d,unit:f,tooltipType:h}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:sl(l,e),hide:d,type:h,color:fv(r,s),unit:f}};return w.createElement(z0,{tooltipEntrySettings:p})});function Rpe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:a,dot:s,dataKey:l}=r,d=br(r);return w.createElement(Hz,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:d,needClip:a,clipPathId:e})}function Dpe(t){var{showLabels:e,children:n,points:r}=t,a=r.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Tu(Tu({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return w.createElement(Mj,{value:e?a:void 0},n)}function ID(t){var{points:e,baseLine:n,needClip:r,clipPathId:a,props:s}=t,{layout:l,type:d,stroke:f,connectNulls:h,isRange:p}=s,{id:g}=s,v=p8(s,jpe),b=br(v),E=ur(v);return w.createElement(w.Fragment,null,(e==null?void 0:e.length)>1&&w.createElement(Yt,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},w.createElement(Lu,nc({},E,{id:g,points:e,connectNulls:h,type:d,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&w.createElement(Lu,nc({},b,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&w.createElement(Lu,nc({},b,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:n}))),w.createElement(Rpe,{points:e,props:v,clipPathId:a}))}function Mpe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,s=r[0].y,l=r[r.length-1].y;if(!Rt(s)||!Rt(l))return null;var d=e*Math.abs(s-l),f=Math.max(...r.map(h=>h.x||0));return Ee(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.x||0),f)),Ee(f)?w.createElement("rect",{x:0,y:s<l?s:s-d,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}function Lpe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:a}=t,s=r[0].x,l=r[r.length-1].x;if(!Rt(s)||!Rt(l))return null;var d=e*Math.abs(s-l),f=Math.max(...r.map(h=>h.y||0));return Ee(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.y||0),f)),Ee(f)?w.createElement("rect",{x:s<l?s:s-d,y:0,width:d,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function Upe(t){var{alpha:e,layout:n,points:r,baseLine:a,strokeWidth:s}=t;return n==="vertical"?w.createElement(Mpe,{alpha:e,points:r,baseLine:a,strokeWidth:s}):w.createElement(Lpe,{alpha:e,points:r,baseLine:a,strokeWidth:s})}function zpe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s}=t,{points:l,baseLine:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:v,onAnimationEnd:b}=r,E=w.useMemo(()=>({points:l,baseLine:d}),[l,d]),A=pd(E,"recharts-area-"),S=Kte(),[O,U]=w.useState(!1),k=!O,C=w.useCallback(()=>{typeof b=="function"&&b(),U(!1)},[b]),P=w.useCallback(()=>{typeof v=="function"&&v(),U(!0)},[v]);if(S==null)return null;var z=a.current,N=s.current;return w.createElement(Dpe,{showLabels:k,points:l},r.children,w.createElement(md,{animationId:A,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:C,onAnimationStart:P,key:A},M=>{if(z){var T=z.length/l.length,R=M===1?l:l.map((V,$)=>{var ne=Math.floor($*T);if(z[ne]){var pe=z[ne];return Tu(Tu({},V),{},{x:ft(pe.x,V.x,M),y:ft(pe.y,V.y,M)})}return V}),L;return Ee(d)?L=ft(N,d,M):Pt(d)||Na(d)?L=ft(N,0,M):L=d.map((V,$)=>{var ne=Math.floor($*T);if(Array.isArray(N)&&N[ne]){var pe=N[ne];return Tu(Tu({},V),{},{x:ft(pe.x,V.x,M),y:ft(pe.y,V.y,M)})}return V}),M>0&&(a.current=R,s.current=L),w.createElement(ID,{points:R,baseLine:L,needClip:e,clipPathId:n,props:r})}return M>0&&(a.current=l,s.current=d),w.createElement(Yt,null,f&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(Upe,{alpha:M,points:l,baseLine:d,layout:S,strokeWidth:r.strokeWidth}))),w.createElement(Yt,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(ID,{points:l,baseLine:d,needClip:e,clipPathId:n,props:r})))}),w.createElement(M0,{label:r.label}))}function Vpe(t){var{needClip:e,clipPathId:n,props:r}=t,a=w.useRef(null),s=w.useRef();return w.createElement(zpe,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s})}class $pe extends w.PureComponent{render(){var{hide:e,dot:n,points:r,className:a,top:s,left:l,needClip:d,xAxisId:f,yAxisId:h,width:p,height:g,id:v,baseLine:b,zIndex:E}=this.props;if(e)return null;var A=lt("recharts-area",a),S=v,{r:O,strokeWidth:U}=s8(n),k=Vj(n),C=O*2+U,P=d?"url(#clipPath-".concat(k?"":"dots-").concat(S,")"):void 0;return w.createElement(_r,{zIndex:E},w.createElement(Yt,{className:A},d&&w.createElement("defs",null,w.createElement(Kj,{clipPathId:S,xAxisId:f,yAxisId:h}),!k&&w.createElement("clipPath",{id:"clipPath-dots-".concat(S)},w.createElement("rect",{x:l-C/2,y:s-C/2,width:p+C,height:g+C}))),w.createElement(Vpe,{needClip:d,clipPathId:S,props:this.props})),w.createElement(_E,{points:r,mainColor:fv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(b)&&w.createElement(_E,{points:b,mainColor:fv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var g8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:on.area};function Bpe(t){var e,n=En(t,g8),{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:v,legendType:b,stroke:E,xAxisId:A,yAxisId:S}=n,O=p8(n,Npe),U=Sc(),k=gz(),{needClip:C}=F0(A,S),P=Bn(),{points:z,isRange:N,baseLine:M}=(e=Ne(ne=>Spe(ne,A,S,P,t.id)))!==null&&e!==void 0?e:{},T=B0();if(U!=="horizontal"&&U!=="vertical"||T==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:R,width:L,x:V,y:$}=T;return!z||!z.length?null:w.createElement($pe,nc({},O,{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:M,connectNulls:d,dot:f,fill:h,fillOpacity:p,height:R,hide:g,layout:U,isAnimationActive:v==="auto"?!ol.isSsr:v,isRange:N,legendType:b,needClip:C,points:z,stroke:E,width:L,left:V,top:$,xAxisId:A,yAxisId:S}))}var Fpe=(t,e,n,r,a)=>{var s=n??e;if(Ee(s))return s;var l=t==="horizontal"?a:r,d=l.scale.domain();if(l.type==="number"){var f=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]};function qpe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:a,layout:s,chartBaseValue:l,xAxis:d,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:v,bandSize:b}=t,E=a&&a.length,A=Fpe(s,l,n,d,f),S=s==="horizontal",O=!1,U=h.map((C,P)=>{var z;E?z=a[p+P]:(z=vt(C,r),Array.isArray(z)?O=!0:z=[A,z]);var N=z[1]==null||E&&!e&&vt(C,r)==null;return S?{x:Ry({axis:d,ticks:g,bandSize:b,entry:C,index:P}),y:N?null:f.scale(z[1]),value:z,payload:C}:{x:N?null:d.scale(z[1]),y:Ry({axis:f,ticks:v,bandSize:b,entry:C,index:P}),value:z,payload:C}}),k;return E||O?k=U.map(C=>{var P=Array.isArray(C.value)?C.value[0]:null;return S?{x:C.x,y:P!=null&&C.y!=null?f.scale(P):null,payload:C.payload}:{x:P!=null?d.scale(P):null,y:C.y,payload:C.payload}}):k=S?f.scale(A):d.scale(A),{points:U,baseLine:k,isRange:O}}function Hpe(t){var e=En(t,g8),n=Bn();return w.createElement(V0,{id:e.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(Hj,{legendPayload:kpe(e)}),w.createElement(Ppe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),w.createElement(Gj,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:B5(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),w.createElement(Bpe,nc({},e,{id:r}))))}var y8=w.memo(Hpe,Sm);y8.displayName="Area";var Gpe=["domain","range"],Kpe=["domain","range"];function kD(t,e){if(t==null)return{};var n,r,a=Wpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Wpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function v8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=kD(t,Gpe),{domain:s,range:l}=e,d=kD(e,Kpe);return!PD(n,s)||!PD(r,l)?!1:Sm(a,d)}var Ype=["dangerouslySetInnerHTML","ticks"],Qpe=["id"];function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(null,arguments)}function RD(t,e){if(t==null)return{};var n,r,a=Xpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zpe(t){var e=Vt(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(cfe(t)):n.current!==t&&e(ufe({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(dfe(n.current)),n.current=null)},[e]),null}var Jpe=t=>{var{xAxisId:e,className:n}=t,r=Ne(ES),a=Bn(),s="xAxis",l=Ne(S=>_d(S,s,e,a)),d=Ne(S=>KU(S,s,e,a)),f=Ne(S=>FU(S,e)),h=Ne(S=>foe(S,e)),p=Ne(S=>AU(S,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=t,b=RD(t,Ype),{id:E}=p,A=RD(p,Qpe);return w.createElement(Qj,AE({},b,A,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:lt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d,axisType:s}))},ege={allowDataOverflow:Mn.allowDataOverflow,allowDecimals:Mn.allowDecimals,allowDuplicatedCategory:Mn.allowDuplicatedCategory,angle:Mn.angle,axisLine:Ts.axisLine,height:Mn.height,hide:!1,includeHidden:Mn.includeHidden,interval:Mn.interval,minTickGap:Mn.minTickGap,mirror:Mn.mirror,orientation:Mn.orientation,padding:Mn.padding,reversed:Mn.reversed,scale:Mn.scale,tick:Mn.tick,tickCount:Mn.tickCount,tickLine:Ts.tickLine,tickSize:Ts.tickSize,type:Mn.type,xAxisId:0},tge=t=>{var e=En(t,ege);return w.createElement(w.Fragment,null,w.createElement(Zpe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(Jpe,e))},Cu=w.memo(tge,v8);Cu.displayName="XAxis";var nge=["dangerouslySetInnerHTML","ticks"],rge=["id"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function DD(t,e){if(t==null)return{};var n,r,a=age(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function age(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ige(t){var e=Vt(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(ffe(t)):n.current!==t&&e(hfe({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(mfe(n.current)),n.current=null)},[e]),null}var sge=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=w.useRef(null),l=w.useRef(null),d=Ne(ES),f=Bn(),h=Vt(),p="yAxis",g=Ne(P=>_d(P,p,e,f)),v=Ne(P=>qU(P,e)),b=Ne(P=>moe(P,e)),E=Ne(P=>KU(P,p,e,f)),A=Ne(P=>SU(P,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Dj(a)||w.isValidElement(a)||A==null)){var P=s.current;if(P){var z=P.getCalculatedWidth();Math.round(v.width)!==Math.round(z)&&h(pfe({id:e,width:z}))}}},[E,v,h,a,e,r,A]),v==null||b==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:O}=t,U=DD(t,nge),{id:k}=A,C=DD(A,rge);return w.createElement(Qj,SE({},U,C,{ref:s,labelRef:l,scale:g,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:lt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:E,axisType:p}))},oge={allowDataOverflow:Ln.allowDataOverflow,allowDecimals:Ln.allowDecimals,allowDuplicatedCategory:Ln.allowDuplicatedCategory,angle:Ln.angle,axisLine:Ts.axisLine,hide:!1,includeHidden:Ln.includeHidden,interval:Ln.interval,minTickGap:Ln.minTickGap,mirror:Ln.mirror,orientation:Ln.orientation,padding:Ln.padding,reversed:Ln.reversed,scale:Ln.scale,tick:Ln.tick,tickCount:Ln.tickCount,tickLine:Ts.tickLine,tickSize:Ts.tickSize,type:Ln.type,width:Ln.width,yAxisId:0},lge=t=>{var e=En(t,oge);return w.createElement(w.Fragment,null,w.createElement(ige,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(sge,e))},Ou=w.memo(lge,v8);Ou.displayName="YAxis";var cge=(t,e)=>e,Zj=J([cge,Qe,_U,In,cz,Ws,Tle,Cn],Dle),Jj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},x8=Ta("mouseClick"),b8=sm();b8.startListening({actionCreator:x8,effect:(t,e)=>{var n=t.payload,r=Zj(e.getState(),Jj(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Toe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var jE=Ta("mouseMove"),w8=sm(),Tg=null;w8.startListening({actionCreator:jE,effect:(t,e)=>{var n=t.payload;Tg!==null&&cancelAnimationFrame(Tg);var r=Jj(n);Tg=requestAnimationFrame(()=>{var a=e.getState(),s=Sj(a,a.tooltip.settings.shared);if(s==="axis"){var l=Zj(a,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(tz({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(ez())}Tg=null})}});var MD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_8=Mr({name:"rootProps",initialState:MD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:MD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),uge=_8.reducer,{updateOptions:dge}=_8.actions,E8=Mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:fge}=E8.actions,hge=E8.reducer,A8=Ta("keyDown"),S8=Ta("focus"),eN=sm();eN.startListening({actionCreator:A8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=jj(a,Ad(n),xm(n),Em(n)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=Ws(n);if(s==="Enter"){var h=nv(n,"axis","hover",String(a.index));e.dispatch(gE({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var p=voe(n),g=p==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,b=d+v*g;if(!(f==null||b>=f.length||b<0)){var E=nv(n,"axis","hover",String(b));e.dispatch(gE({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});eN.startListening({actionCreator:S8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",l=nv(n,"axis","hover",String(s));e.dispatch(gE({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var xa=Ta("externalEvent"),j8=sm(),X1=new Map;j8.startListening({actionCreator:xa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=X1.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:hle(d),activeDataKey:hz(d),activeIndex:Jo(d),activeLabel:fz(d),activeTooltipIndex:Jo(d),isTooltipActive:mle(d)};n(f,r)}finally{X1.delete(a)}});X1.set(a,l)}}});var mge=J([Ed],t=>t.tooltipItemPayloads),pge=J([mge,wm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var l=e(s,n);return l}}}),N8=Ta("touchMove"),T8=sm();T8.startListening({actionCreator:N8,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=Sj(r,r.tooltip.settings.shared);if(a==="axis"){var s=Zj(r,Jj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(tz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(q5),p=(l=f.getAttribute(H5))!==null&&l!==void 0?l:void 0,g=pge(e.getState(),h,p);e.dispatch(JU({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var gge=d5({brush:tme,cartesianAxis:gfe,chartData:fce,errorBars:Dfe,graphicalItems:Ede,layout:tte,legend:one,options:oce,polarAxis:Uue,polarOptions:hge,referenceElements:lme,rootProps:uge,tooltip:Coe,zIndex:Yle}),yge=function(e){return jee({reducer:gge,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([b8.middleware,w8.middleware,eN.middleware,j8.middleware,T8.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(j5({type:"raf"}))},devTools:ol.devToolsEnabled})};function C8(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Bn(),s=w.useRef(null);if(a)return n;s.current==null&&(s.current=yge(e));var l=mS;return w.createElement(rhe,{context:l,store:s.current},n)}function vge(t){var{layout:e,margin:n}=t,r=Vt(),a=Bn();return w.useEffect(()=>{a||(r(Zee(e)),r(Xee(n)))},[r,a,e,n]),null}var O8=w.memo(vge,Sm);function I8(t){var e=Vt();return w.useEffect(()=>{e(dge(t))},[e,t]),null}function LD(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=Bz("".concat(r).concat(e)),s=Vt();return w.useLayoutEffect(()=>(s(Kle({zIndex:e,elementId:a,isPanorama:n})),()=>{s(Wle({zIndex:e,isPanorama:n}))}),[s,e,a,n]),w.createElement("g",{id:a})}function UD(t){var{children:e,isPanorama:n}=t,r=Ne(Lle);if(!r||r.length===0)return e;var a=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,a.map(l=>w.createElement(LD,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>w.createElement(LD,{key:l,zIndex:l,isPanorama:n})))}var xge=["children"];function bge(t,e){if(t==null)return{};var n,r,a=wge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function wge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}var _ge={width:"100%",height:"100%",display:"block"},Ege=w.forwardRef((t,e)=>{var n=X5(),r=Z5(),a=cL();if(!$i(n)||!$i(r))return null;var{children:s,otherAttributes:l,title:d,desc:f}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),w.createElement(T3,hv({},l,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:_ge,ref:e}),s)}),Age=t=>{var{children:e}=t,n=Ne(d0);if(!n)return null;var{width:r,height:a,y:s,x:l}=n;return w.createElement(T3,{width:r,height:a,x:l,y:s},e)},zD=w.forwardRef((t,e)=>{var{children:n}=t,r=bge(t,xge),a=Bn();return a?w.createElement(Age,null,w.createElement(UD,{isPanorama:!0},n)):w.createElement(Ege,hv({ref:e},r),w.createElement(UD,{isPanorama:!1},n))});function Sge(){var t=Vt(),[e,n]=w.useState(null),r=Ne(vte);return w.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Rt(s)&&s!==r&&t(ete(s))}},[e,t,r]),n}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){Nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nge(t,e,n){return(e=Tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tge(t){var e=Cge(t,"string");return typeof e=="symbol"?e:e+""}function Cge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(null,arguments)}var Oge=()=>(wce(),null);function mv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Ige=w.forwardRef((t,e)=>{var n,r,a=w.useRef(null),[s,l]=w.useState({containerWidth:mv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:mv((r=t.style)===null||r===void 0?void 0:r.height)}),d=w.useCallback((h,p)=>{l(g=>{var v=Math.round(h),b=Math.round(p);return g.containerWidth===v&&g.containerHeight===b?g:{containerWidth:v,containerHeight:b}})},[]),f=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var v=E=>{var{width:A,height:S}=E[0].contentRect;d(A,S)},b=new ResizeObserver(v);b.observe(h),a.current=b}},[e,d]);return w.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),w.createElement(w.Fragment,null,w.createElement(h0,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",xc({ref:f},t)))}),kge=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=w.useState({containerWidth:mv(n),containerHeight:mv(r)}),l=w.useCallback((f,h)=>{s(p=>{var g=Math.round(f),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),d=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(h0,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",xc({ref:d},t)))}),Pge=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(h0,{width:n,height:r}),w.createElement("div",xc({ref:e},t)))}),Rge=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ds(n)||Ds(r)?w.createElement(kge,xc({},t,{ref:e})):w.createElement(Pge,xc({},t,{ref:e}))});function Dge(t){return t===!0?Ige:Rge}var Mge=w.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:b,onTouchMove:E,onTouchStart:A,style:S,width:O,responsive:U,dispatchTouchEvents:k=!0}=t,C=w.useRef(null),P=Vt(),[z,N]=w.useState(null),[M,T]=w.useState(null),R=Sge(),L=AS(),V=(L==null?void 0:L.width)>0?L.width:O,$=(L==null?void 0:L.height)>0?L.height:a,ne=w.useCallback(ce=>{R(ce),typeof e=="function"&&e(ce),N(ce),T(ce),ce!=null&&(C.current=ce)},[R,e,N,T]),pe=w.useCallback(ce=>{P(x8(ce)),P(xa({handler:s,reactEvent:ce}))},[P,s]),Y=w.useCallback(ce=>{P(jE(ce)),P(xa({handler:h,reactEvent:ce}))},[P,h]),oe=w.useCallback(ce=>{P(ez()),P(xa({handler:p,reactEvent:ce}))},[P,p]),H=w.useCallback(ce=>{P(jE(ce)),P(xa({handler:g,reactEvent:ce}))},[P,g]),K=w.useCallback(()=>{P(S8())},[P]),se=w.useCallback(ce=>{P(A8(ce.key))},[P]),q=w.useCallback(ce=>{P(xa({handler:l,reactEvent:ce}))},[P,l]),re=w.useCallback(ce=>{P(xa({handler:d,reactEvent:ce}))},[P,d]),me=w.useCallback(ce=>{P(xa({handler:f,reactEvent:ce}))},[P,f]),ye=w.useCallback(ce=>{P(xa({handler:v,reactEvent:ce}))},[P,v]),Ce=w.useCallback(ce=>{P(xa({handler:A,reactEvent:ce}))},[P,A]),ke=w.useCallback(ce=>{k&&P(N8(ce)),P(xa({handler:E,reactEvent:ce}))},[P,k,E]),Pe=w.useCallback(ce=>{P(xa({handler:b,reactEvent:ce}))},[P,b]),Nt=Dge(U);return w.createElement(wz.Provider,{value:z},w.createElement(oZ.Provider,{value:M},w.createElement(Nt,{width:V??(S==null?void 0:S.width),height:$??(S==null?void 0:S.height),className:lt("recharts-wrapper",r),style:jge({position:"relative",cursor:"default",width:V,height:$},S),onClick:pe,onContextMenu:q,onDoubleClick:re,onFocus:K,onKeyDown:se,onMouseDown:me,onMouseEnter:Y,onMouseLeave:oe,onMouseMove:H,onMouseUp:ye,onTouchEnd:Pe,onTouchMove:ke,onTouchStart:Ce,ref:ne},w.createElement(Oge,null),n)))}),Lge=["width","height","responsive","children","className","style","compact","title","desc"];function Uge(t,e){if(t==null)return{};var n,r,a=zge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k8=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:l,style:d,compact:f,title:h,desc:p}=t,g=Uge(t,Lge),v=br(g);return f?w.createElement(w.Fragment,null,w.createElement(h0,{width:n,height:r}),w.createElement(zD,{otherAttributes:v,title:h,desc:p},s)):w.createElement(Mge,{className:l,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(zD,{otherAttributes:v,title:h,desc:p,ref:e},w.createElement(ume,null,s)))});function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(null,arguments)}var Vge={top:5,right:5,bottom:5,left:5},$ge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vge,reverseStackOrder:!1,syncMethod:"index",responsive:!1},tN=w.forwardRef(function(e,n){var r,a=En(e.categoricalChartProps,$ge),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(C8,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},w.createElement(Xz,{chartData:h.data}),w.createElement(O8,{layout:a.layout,margin:a.margin}),w.createElement(I8,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(k8,NE({},a,{ref:n})))}),Bge=["axis"],Fge=w.forwardRef((t,e)=>w.createElement(tN,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bge,tooltipPayloadSearcher:R0,categoricalChartProps:t,ref:e})),qge=["axis","item"],TE=w.forwardRef((t,e)=>w.createElement(tN,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qge,tooltipPayloadSearcher:R0,categoricalChartProps:t,ref:e}));function Hge(t){var e=Vt();return w.useEffect(()=>{e(fge(t))},[e,t]),null}var Gge=["layout"];function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function Kge(t,e){if(t==null)return{};var n,r,a=Wge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Wge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yge={top:5,right:5,bottom:5,left:5},Qge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yge,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Xge=w.forwardRef(function(e,n){var r,a=En(e.categoricalChartProps,Qge),{layout:s}=a,l=Kge(a,Gge),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(C8,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},w.createElement(Xz,{chartData:a.data}),w.createElement(O8,{layout:s,margin:a.margin}),w.createElement(I8,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(Hge,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(k8,CE({},l,{ref:n})))}),Zge=["item"],Jge={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},eye=w.forwardRef((t,e)=>{var n=En(t,Jge);return w.createElement(Xge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Zge,tooltipPayloadSearcher:R0,categoricalChartProps:n,ref:e})}),tye=["axis"],nye=w.forwardRef((t,e)=>w.createElement(tN,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tye,tooltipPayloadSearcher:R0,categoricalChartProps:t,ref:e}));const rye=({result:t,paper:e,answers:n,onDownloadModelAnswers:r,onHome:a})=>{var k;const[s,l]=w.useState(new Set),[d,f]=w.useState(""),[h,p]=w.useState(!1),[g,v]=w.useState(!1);w.useEffect(()=>{const C=(t.questionResults||t.breakdown||[]).map(P=>P.questionId);l(new Set(C))},[t]);const b=C=>{const P=new Set(s);P.has(C)?P.delete(C):P.add(C),l(P)},E=C=>{if(C){const P=(t.questionResults||[]).map(z=>z.questionId);l(new Set(P))}else l(new Set)},A=C=>{const P=document.getElementById(`q-${C}`);P&&(P.scrollIntoView({behavior:"smooth",block:"start"}),f(C),p(!1))},S=C=>{const P=C.currentTarget.scrollTop;v(P>500)},O=()=>{const C=document.getElementById("results-scroll-container");C&&C.scrollTo({top:0,behavior:"smooth"})},U=[{name:"AO1",value:0},{name:"AO2",value:0},{name:"AO3",value:0},{name:"AO4",value:0},{name:"AO5",value:0},{name:"AO6",value:0}];return(t.questionResults||t.breakdown||[]).forEach(C=>{C.aos&&Object.entries(C.aos).forEach(([P,z])=>{const N=parseInt(P.replace("AO",""))-1;U[N]&&(U[N].value+=z||0)})}),c.jsxs("div",{id:"results-scroll-container",onScroll:S,className:"h-screen overflow-y-auto bg-gray-50 font-sans print:bg-white print:p-0 flex flex-col print:h-auto print:overflow-visible scroll-smooth",children:[c.jsxs("nav",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 px-4 md:px-8 py-3 md:py-4 flex justify-between items-center shadow-sm print:hidden",children:[c.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[c.jsx("button",{onClick:()=>p(!0),className:"lg:hidden p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-md",children:c.jsx(tX,{size:24})}),c.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-600 hover:text-edexcel-blue font-medium transition-colors",children:[c.jsx(yy,{size:20})," ",c.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),c.jsx("div",{className:"h-6 w-px bg-gray-300 hidden sm:block"}),c.jsxs("h1",{className:"text-sm md:text-lg font-bold text-gray-800 truncate max-w-[150px] sm:max-w-md",children:["Results: ",(e==null?void 0:e.title)||`Exam Result - ${new Date((k=t.date)!=null&&k.toDate?t.date.toDate():t.date).toLocaleDateString()}`]})]}),c.jsx("div",{className:"flex gap-2 md:gap-3",children:c.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-edexcel-dark text-white px-3 py-2 rounded-lg font-bold hover:bg-gray-800 transition-colors shadow-sm text-xs md:text-sm",children:[c.jsx(w3,{size:16})," ",c.jsx("span",{className:"hidden sm:inline",children:"Print PDF"}),c.jsx("span",{className:"sm:hidden",children:"PDF"})]})})]}),c.jsxs("div",{className:"flex flex-1 max-w-[1400px] mx-auto w-full relative",children:[h&&c.jsxs("div",{className:"fixed inset-0 z-50 flex lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>p(!1)}),c.jsxs("aside",{className:"relative w-72 bg-white h-full shadow-2xl p-4 overflow-y-auto animate-in slide-in-from-left duration-200 flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-4",children:[c.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Question Map"}),c.jsx("button",{onClick:()=>p(!1),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:c.jsx(ri,{size:20})})]}),c.jsx("div",{className:"space-y-2 flex-1",children:(t.questionResults||t.breakdown||[]).map(C=>c.jsxs("button",{onClick:()=>A(C.questionId),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors flex justify-between items-center ${d===C.questionId?"bg-blue-50 text-edexcel-blue border border-blue-100":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-transparent"}`,children:[c.jsxs("span",{className:"truncate font-semibold",children:["Q",C.questionId]}),c.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${C.score===C.maxScore?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:[C.score,"/",C.maxScore]})]},C.questionId))}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[c.jsx("button",{onClick:()=>{E(!0),p(!1)},className:"block w-full text-left py-2 text-sm text-blue-600 font-bold hover:underline",children:"Expand All"}),c.jsx("button",{onClick:()=>{E(!1),p(!1)},className:"block w-full text-left py-2 text-sm text-gray-500 font-medium hover:underline",children:"Collapse All"})]})]})]}),c.jsx("aside",{className:"hidden lg:block w-72 sticky top-0 h-screen p-6 border-r border-gray-200 mr-4 bg-gray-50/50 backdrop-blur-sm z-30 overflow-hidden",children:c.jsxs("div",{className:"pt-4",children:[c.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Question Navigator"}),c.jsx("div",{className:"space-y-1 mb-8",children:(t.questionResults||t.breakdown||[]).map(C=>c.jsxs("button",{onClick:()=>A(C.questionId),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors flex justify-between items-center group ${d===C.questionId?"bg-blue-50 text-edexcel-blue":"text-gray-600 hover:bg-gray-100"}`,children:[c.jsxs("span",{className:"truncate",children:["Question ",C.questionId]}),c.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded ${C.score===C.maxScore?"bg-green-100 text-green-700":"bg-gray-200 text-gray-500 group-hover:bg-gray-300"}`,children:[C.score,"/",C.maxScore]})]},C.questionId))}),c.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:()=>E(!0),className:"block w-full text-left text-xs text-blue-600 font-bold mb-3 hover:underline",children:"Expand All Cards"}),c.jsx("button",{onClick:()=>E(!1),className:"block w-full text-left text-xs text-gray-500 font-medium hover:underline",children:"Collapse All Cards"})]})]})}),c.jsxs("main",{className:"flex-1 p-3 md:p-8 lg:p-12 print:p-0 print:w-full min-w-0",children:[c.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-xl p-4 md:p-6 mb-6 md:mb-8 flex gap-4 items-start print:hidden",children:[c.jsx(Gu,{size:24,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-amber-900 text-sm md:text-base mb-2",children:" Important Disclaimer"}),c.jsxs("ul",{className:"text-amber-800 text-xs md:text-sm space-y-1 leading-relaxed",children:[c.jsx("li",{children:" AI-generated results may contain errors. Always verify with your teacher or official textbooks."}),c.jsx("li",{children:" These grades are estimates only and not official qualifications."}),c.jsx("li",{children:" GoGCSE is independent and not affiliated with exam boards or educational authorities."}),c.jsx("li",{children:" Use this tool for practice and revision purposes only."})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-8 shadow-sm border border-gray-200 mb-6 md:mb-10 print:shadow-none print:border-none print:p-0 print:mb-8 break-inside-avoid",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6 md:gap-8",children:[c.jsxs("div",{className:"flex-1 w-full",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 print:mb-0",children:[c.jsx("span",{className:"px-3 py-1 bg-edexcel-blue text-white text-[10px] md:text-xs font-bold uppercase rounded-full print:hidden",children:"Official Simulation"}),c.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-gray-900",children:"Performance Summary"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 my-6 md:my-8 print:grid-cols-4",children:[c.jsxs("div",{className:"bg-blue-50 p-4 md:p-5 rounded-xl border border-blue-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-blue-600 font-bold uppercase tracking-wider mb-1",children:"Estimated Grade"}),c.jsx("span",{className:"text-3xl md:text-4xl font-extrabold text-edexcel-blue",children:t.gradeEstimate})]}),c.jsxs("div",{className:"bg-gray-50 p-4 md:p-5 rounded-xl border border-gray-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Total Marks"}),c.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:[t.totalScore," ",c.jsxs("span",{className:"text-sm md:text-lg text-gray-400 font-normal",children:["/ ",t.maxScore]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 md:p-5 rounded-xl border border-gray-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Reading"}),c.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-800",children:(t.questionResults||t.breakdown||[]).filter(C=>C.questionId.length<2||parseInt(C.questionId)<=4||(e==null?void 0:e.type)==="PAPER_2"&&parseInt(C.questionId)<=6).reduce((C,P)=>C+P.score,0)})]}),c.jsxs("div",{className:"bg-gray-50 p-4 md:p-5 rounded-xl border border-gray-100 print:bg-white print:border-gray-200",children:[c.jsx("span",{className:"block text-[10px] md:text-xs text-gray-500 font-bold uppercase tracking-wider mb-1",children:"Writing"}),c.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-800",children:(t.questionResults||t.breakdown||[]).filter(C=>parseInt(C.questionId)>=5||C.questionId.includes("7")).reduce((C,P)=>C+P.score,0)})]})]}),c.jsx("div",{className:"pl-4 md:pl-6 py-2 border-l-4 border-edexcel-blue bg-gray-50 rounded-r-lg print:bg-white print:pl-0 print:border-l-0",children:c.jsxs("p",{className:"text-gray-700 text-sm md:text-lg italic leading-relaxed",children:['"',t.overallFeedback,'"']})})]}),c.jsxs("div",{className:"w-full md:w-64 h-48 print:hidden flex-shrink-0 hidden md:block",children:[c.jsx(Au,{width:"100%",height:"100%",children:c.jsxs(TE,{data:U.filter(C=>C.value>0),children:[c.jsx(Cu,{dataKey:"name",fontSize:10,tickLine:!1,axisLine:!1}),c.jsx(Ou,{hide:!0}),c.jsx(Su,{cursor:{fill:"#f3f4f6"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(cv,{dataKey:"value",fill:"#005f87",radius:[4,4,0,0]})]})}),c.jsx("p",{className:"text-center text-xs text-gray-400 mt-2 font-medium",children:"AO Performance Breakdown"})]})]}),c.jsxs("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-xl p-4 md:p-6 mb-6 md:mb-8 flex gap-4 items-start print:hidden",children:[c.jsx(Gu,{size:24,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-amber-900 text-sm md:text-base mb-1",children:" Important: AI-Generated Results"}),c.jsx("p",{className:"text-amber-800 text-xs md:text-sm leading-relaxed",children:"AI can make mistakes. Always check with your teacher or official textbooks. This is not an official grade."})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6 print:hidden",children:[c.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Detailed Analysis"}),c.jsxs("div",{className:"flex gap-2 text-xs md:text-sm lg:hidden",children:[c.jsx("button",{onClick:()=>E(!0),className:"text-blue-600 font-bold hover:bg-blue-50 px-3 py-1 rounded transition-colors",children:"Expand All"}),c.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:bg-gray-100 px-3 py-1 rounded transition-colors",children:"Collapse"})]})]}),c.jsx("div",{className:"space-y-6 md:space-y-12 print:space-y-16 pb-20",children:(t.questionResults||t.breakdown||[]).map(C=>{var T,R;const P=(T=e==null?void 0:e.questions)==null?void 0:T.find(L=>L.id===C.questionId),z=n[C.questionId],N=C.studentAnswer||(z==null?void 0:z.text),M=s.has(C.questionId);return C?c.jsxs("div",{id:`q-${C.questionId}`,className:`bg-white rounded-xl shadow-sm border transition-all duration-300 print:shadow-none print:border-none print:block break-inside-avoid
                    ${M?"border-gray-300 shadow-md ring-1 ring-black/5":"border-gray-200"}`,children:[c.jsxs("div",{onClick:()=>b(C.questionId),className:"cursor-pointer bg-gray-50 p-4 md:p-6 border-b border-gray-200 flex justify-between items-start hover:bg-gray-100 transition-colors print:bg-white print:border-b-2 print:border-black print:px-0",children:[c.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[c.jsx("div",{className:"bg-white p-2 rounded-md shadow-sm border border-gray-200 text-gray-400 print:hidden hidden sm:block",children:c.jsx(RQ,{size:20})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsxs("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:["Question ",C.questionId]}),c.jsxs("span",{className:"text-xs md:text-sm px-2 py-0.5 bg-gray-200 text-gray-700 rounded-md font-medium print:bg-transparent print:p-0 border border-gray-300 print:border-none",children:[C.score," / ",C.maxScore," Marks"]})]}),c.jsxs("div",{className:"text-xs md:text-sm text-gray-500 font-mono",children:["Assessing: ",Object.keys(C.aos).join(", ")]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[C.level>0&&c.jsxs("div",{className:"text-right hidden sm:block",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:"Level"}),c.jsx("div",{className:"text-xl font-bold text-edexcel-blue",children:C.level})]}),c.jsx("button",{className:"text-gray-400 print:hidden p-1 md:p-2 hover:bg-gray-200 rounded-full transition-colors",children:M?c.jsx(g3,{size:20}):c.jsx(p3,{size:20})})]})]}),(M||typeof window<"u"&&window.matchMedia("print").matches)&&c.jsxs("div",{className:"p-4 md:p-6 lg:p-10 space-y-8 md:space-y-10 print:px-0 print:block",children:[c.jsxs("div",{className:"prose max-w-none text-gray-800",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Question"}),c.jsx("p",{className:"text-base md:text-lg font-serif font-medium leading-relaxed border-l-4 border-gray-300 pl-4",children:(P==null?void 0:P.text)||c.jsx("span",{className:"text-gray-400 italic",children:"(Question text not available for this result)"})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Marks Awarded"}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs md:text-sm",children:[Object.entries(C.aos).map(([L,V])=>c.jsxs("div",{className:"bg-gray-50 border border-gray-200 px-3 py-1 rounded font-mono",children:[c.jsxs("span",{className:"font-bold text-gray-700",children:[L,":"]})," ",V]},L)),c.jsxs("div",{className:"ml-auto font-bold text-gray-900 bg-gray-100 px-3 py-1 rounded",children:["Total: ",C.score," / ",C.maxScore]})]})]}),c.jsxs("div",{children:[(P==null?void 0:P.images)&&c.jsx("div",{className:"max-w-md rounded-lg overflow-hidden border border-gray-200 shadow-sm mb-6",children:c.jsx("img",{src:P.images[typeof(z==null?void 0:z.selectedImageIndex)=="number"?z.selectedImageIndex:0],alt:"Prompt Image",className:"w-full h-auto object-cover max-h-64"})}),c.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:["Your Answer ",c.jsx("span",{className:"text-gray-300",children:"|"})," ",N?N.split(/\s+/).length:0," words"]}),c.jsx("div",{className:"w-full bg-blue-50/30 border border-blue-100 rounded-lg p-4 md:p-6 lg:p-8 font-serif text-gray-800 text-sm md:text-base leading-relaxed whitespace-pre-wrap break-words h-auto overflow-visible",children:N||c.jsx("span",{className:"text-gray-400 italic",children:"(No answer text available for this result)"})})]}),c.jsxs("div",{className:"pt-2",children:[c.jsx("h4",{className:"text-xs font-bold text-green-700 uppercase tracking-wider mb-2 bg-green-50 w-fit px-2 py-1 rounded border border-green-100",children:"Model Answer / Suggested Response"}),c.jsx("div",{className:"w-full bg-green-50/20 border border-green-100 rounded-lg p-4 md:p-6 lg:p-8 font-serif text-gray-800 text-sm md:text-base leading-relaxed whitespace-pre-wrap break-words h-auto overflow-visible",children:(R=C.modelAnswer)==null?void 0:R.replace(/^(Prompt \d:|Option \d:|Image \d:)\s*/i,"")})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Examiner Feedback"}),c.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 md:p-6 border border-yellow-100 text-gray-800 text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:C.feedback})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Detailed Comparison"}),c.jsx("div",{className:"grid md:grid-cols-2 gap-3 md:gap-4",children:C.comparisonPoints.map((L,V)=>c.jsxs("div",{className:"flex items-start gap-3 text-xs md:text-sm p-3 rounded bg-gray-50 border border-gray-100",children:[c.jsxs("div",{className:"mt-0.5 shrink-0",children:[L.type==="strength"&&c.jsx(Wi,{className:"text-green-600",size:16}),L.type==="weakness"&&c.jsx(gQ,{className:"text-red-500",size:16}),L.type==="missing"&&c.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-orange-400 flex items-center justify-center text-[10px] font-bold text-orange-500",children:"M"}),L.type==="improvement"&&c.jsx(fw,{className:"text-blue-500",size:16})]}),c.jsx("span",{className:"text-gray-700 leading-relaxed",children:L.text})]},V))})]})]})]},C.questionId):null})}),(e==null?void 0:e.sources)&&e.sources.length>0&&c.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:p-8 print:shadow-none print:border-none print:px-0 print:block break-inside-avoid",children:[c.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-6",children:"Source Materials"}),c.jsx("div",{className:"space-y-8",children:e.sources.map(C=>c.jsxs("div",{className:"prose max-w-none",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 border-b border-gray-100 pb-2 mb-4",children:["Source ",C.id,": ",C.title," ",c.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["by ",C.author," (",C.year,")"]})]}),c.jsx("div",{className:"font-serif p-6 bg-gray-50 rounded-lg text-gray-800 leading-relaxed whitespace-pre-wrap border border-gray-100 print:bg-white print:border-none print:p-0 text-justify",children:C.content})]},C.id))})]}),c.jsx("div",{className:"mt-12 text-center print:hidden pb-12",children:c.jsxs("button",{onClick:O,className:"inline-flex items-center gap-2 text-gray-500 hover:text-edexcel-blue font-medium transition-colors p-4 bg-white rounded-full shadow-sm border border-gray-200",children:[c.jsx(fw,{size:20})," Back to Top"]})})]}),c.jsx("button",{onClick:O,className:`fixed bottom-6 right-6 z-50 p-3 bg-edexcel-blue text-white rounded-full shadow-xl hover:bg-edexcel-dark transition-all duration-300 md:hidden ${g?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:c.jsx(fw,{size:24})})]})]})},aye=()=>{const t=ra(),e=Ft(),{examResult:n,examData:r,answers:a={}}=t.state||{};if(!n)return c.jsx(Yl,{to:"/"});const s=()=>{if(!(n!=null&&n.generatedModelAnswers)||!r)return;const l=document.createElement("a"),d=new Blob([n.generatedModelAnswers],{type:"text/markdown"});l.href=URL.createObjectURL(d),l.download=`Model_Answers_${r.type}_${Date.now()}.md`,document.body.appendChild(l),l.click()};return c.jsx(rye,{result:n,paper:r,answers:a,onDownloadModelAnswers:s,onHome:()=>e("/")})},iye=()=>{const t=Ft(),[e,n]=w.useState(""),[r,a]=w.useState(""),[s,l]=w.useState(""),[d,f]=w.useState(!1),[h,p]=w.useState(""),[g,v]=w.useState(""),[b,E]=w.useState(!1),[A,S]=w.useState(""),[O,U]=w.useState("UK"),[k,C]=w.useState(!1),[P,z]=w.useState(!1),[N,M]=w.useState(!1),[T,R]=w.useState(!1),[L,V]=w.useState(!1),$=A==="13-15",ne=A==="under13",pe=()=>!(!A||ne||!k||!P||!N||$&&!T||!e||!r||!s),Y=async()=>{E(!0);try{const H=await r3(),K=await J6(H.uid);t(K?"/dashboard":"/legal-consent")}catch(H){console.error("Google Sign-In Failure:",H),p(`Failed to sign in with Google. ${H.message||""}`)}finally{E(!1)}},oe=async H=>{H.preventDefault(),p(""),v(""),E(!0);try{if(d){if(!pe()){p("Please complete all required fields and checkboxes."),E(!1);return}const K=await a3(e,r,s);await t3(K.uid,r,A,k,P,T,L,"email"),await n3(K.uid,{aiDisclaimerAccepted:!0,aiConsentTimestamp:new Date().toISOString()}),await i3(),v("Account created! Please check your email for verification."),setTimeout(()=>t("/dashboard"),3e3)}else await GA(r,s),t("/dashboard")}catch(K){K.code==="auth/email-already-in-use"?p("Email is already in use."):K.code==="auth/wrong-password"||K.code==="auth/user-not-found"||K.code==="auth/invalid-credential"?p("Invalid email or password."):K.code==="auth/weak-password"?p("Password is too weak (minimum 6 characters)."):p("Authentication failed. Please try again."),console.error(K)}finally{E(!1)}};return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 py-8 px-4 font-sans",children:[c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg relative overflow-hidden",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("img",{src:aS,alt:"Logo",className:"w-20 h-20 rounded-2xl shadow-lg mx-auto mb-4"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:d?"Create Account":"Welcome Back"}),c.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:d?"Start your GCSE English practice today.":"Sign in to access your dashboard."})]}),d&&c.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-100 rounded-xl p-4 text-sm text-blue-900",children:[c.jsxs("div",{className:"flex items-center gap-2 font-bold mb-2 text-blue-800",children:[c.jsx(T_,{size:16}),c.jsx("span",{children:"Before you start:"})]}),c.jsxs("ul",{className:"space-y-1 ml-1 list-disc list-inside opacity-90 text-xs sm:text-sm",children:[c.jsxs("li",{children:["This is a ",c.jsx("strong",{children:"practice platform only"}),"."]}),c.jsxs("li",{children:["We are ",c.jsx("strong",{children:"not"})," an exam board or awarding body."]}),c.jsxs("li",{children:["Results are ",c.jsx("strong",{children:"estimates"})," and not official grades."]}),c.jsxs("li",{children:["AI marking is automated and ",c.jsx("strong",{children:"may be inaccurate"}),"."]})]})]}),h&&c.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-start gap-2",children:[c.jsx(Mi,{size:18,className:"flex-shrink-0 mt-0.5"}),h]}),g&&c.jsxs("div",{className:"mb-4 p-3 bg-green-50 text-green-600 text-sm rounded-lg border border-green-100 flex items-start gap-2",children:[c.jsx(Wi,{size:18,className:"flex-shrink-0 mt-0.5"}),g]}),c.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[c.jsxs("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wider",children:["Age Group ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:A,onChange:H=>S(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-edexcel-blue focus:ring-2 focus:ring-edexcel-blue/20 outline-none transition-all bg-white text-sm",required:!0,children:[c.jsx("option",{value:"",children:"Select Age"}),c.jsx("option",{value:"under13",children:"Under 13"}),c.jsx("option",{value:"13-15",children:"13-15 years"}),c.jsx("option",{value:"16-17",children:"16-17 years"}),c.jsx("option",{value:"18+",children:"18+ / Adult"}),c.jsx("option",{value:"parent",children:"Parent"}),c.jsx("option",{value:"teacher",children:"Teacher"})]})]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[c.jsxs("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wider",children:["Country ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:O,onChange:H=>U(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-edexcel-blue focus:ring-2 focus:ring-edexcel-blue/20 outline-none transition-all bg-white text-sm",required:!0,children:[c.jsx("option",{value:"UK",children:"United Kingdom"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]}),ne&&c.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl text-amber-800 text-sm flex items-start gap-3",children:[c.jsx(Yi,{size:20,className:"mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Age Restriction"}),c.jsx("br",{}),"You must be at least 13 years old to create an account. Please ask a parent to help you."]})]}),!ne&&A&&c.jsx("input",{type:"text",placeholder:"Full Name",value:e,onChange:H=>n(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-edexcel-blue focus:ring-2 focus:ring-edexcel-blue/20 outline-none transition-all text-sm",required:!0})]}),(!d||d&&A&&!ne)&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"email",placeholder:"Email address",value:r,onChange:H=>a(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-edexcel-blue focus:ring-2 focus:ring-edexcel-blue/20 outline-none transition-all text-sm",required:!0}),c.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:H=>l(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-edexcel-blue focus:ring-2 focus:ring-edexcel-blue/20 outline-none transition-all text-sm",required:!0})]}),d&&A&&!ne&&c.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-100",children:[c.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider",children:"Required Consents"}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[c.jsx("input",{type:"checkbox",checked:k,onChange:H=>C(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-edexcel-blue focus:ring-edexcel-blue"}),c.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-900 leading-snug",children:["I agree to the"," ",c.jsx(Wr,{to:"/terms",target:"_blank",className:"text-edexcel-blue font-medium hover:underline",children:"Terms"})," ","and"," ",c.jsx(Wr,{to:"/privacy",target:"_blank",className:"text-edexcel-blue font-medium hover:underline",children:"Privacy Policy"}),".",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[c.jsx("input",{type:"checkbox",checked:P,onChange:H=>z(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-edexcel-blue focus:ring-edexcel-blue"}),c.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-900 leading-snug",children:["I understand GoGCSE is for ",c.jsx("strong",{children:"practice only"})," and does not provide official grades or qualifications.",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group bg-amber-50/50 p-3 rounded-lg border border-amber-200",children:[c.jsx("input",{type:"checkbox",checked:N,onChange:H=>M(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-edexcel-blue focus:ring-edexcel-blue"}),c.jsxs("span",{className:"text-xs sm:text-sm text-amber-900 group-hover:text-amber-950 leading-snug font-medium",children:["I agree that AI-generated content may occasionally contain errors. I will verify important information with official textbooks or my teacher.",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),$&&c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group bg-blue-50/50 p-2 rounded-lg border border-blue-100",children:[c.jsx("input",{type:"checkbox",checked:T,onChange:H=>R(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-edexcel-blue focus:ring-edexcel-blue"}),c.jsxs("span",{className:"text-xs sm:text-sm text-blue-800 font-medium leading-snug",children:["My parent/guardian knows I am using this site and has given permission.",c.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group pt-2 opacity-80 hover:opacity-100",children:[c.jsx("input",{type:"checkbox",checked:L,onChange:H=>V(H.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-edexcel-blue focus:ring-edexcel-blue"}),c.jsx("span",{className:"text-xs text-gray-500 group-hover:text-gray-700 leading-snug",children:"(Optional) Send me study tips and updates."})]})]}),(!d||d&&!ne)&&c.jsxs("div",{className:"pt-2",children:[d&&A&&c.jsx("p",{className:"text-xs text-center text-gray-500 mb-3 italic",children:"All three consent checkboxes are required to create your account."}),c.jsx("button",{type:"submit",disabled:b||d&&!pe(),className:"w-full py-3 px-4 bg-edexcel-blue hover:bg-edexcel-blue/90 disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed text-white rounded-xl transition-all font-bold flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:b?c.jsx("span",{className:"animate-pulse",children:"Processing..."}):c.jsxs(c.Fragment,{children:[d?c.jsx(DX,{size:18}):c.jsx(vy,{size:18}),d?"Create Account":"Sign In"]})})]})]}),!d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative my-6",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-widest",children:c.jsx("span",{className:"px-2 bg-white text-gray-400",children:"Or"})})]}),c.jsxs("button",{onClick:Y,disabled:b,className:"w-full py-3 px-4 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 disabled:opacity-50 transition-colors flex items-center justify-center gap-3 text-gray-700 font-bold text-sm",children:[c.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-4 h-4"}),"Sign in with Google"]})]}),c.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600 border-t border-gray-100 pt-6",children:[d?"Already have an account?":"Don't have an account?"," ",c.jsx("button",{onClick:()=>{f(!d),p(""),S(""),C(!1),z(!1),M(!1)},className:"text-edexcel-blue hover:text-edexcel-teal font-bold hover:underline",children:d?"Sign In":"Sign Up"})]}),c.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-x-4 gap-y-2 text-xs text-gray-400",children:[c.jsx(Wr,{to:"/terms",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Terms"}),c.jsx(Wr,{to:"/privacy",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Privacy"}),c.jsx(Wr,{to:"/cookies",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Cookies"}),c.jsx(Wr,{to:"/child-privacy",target:"_blank",className:"hover:text-gray-600 hover:underline",children:"Child Safety"})]})]}),c.jsx("p",{className:"text-[10px] text-gray-500 mt-4 text-center max-w-md px-4 leading-relaxed",children:"GoGCSE is not affiliated with Pearson Edexcel, AQA, or any examination board. All trademarks belong to their respective owners."})]})},P8="/assets/profile_icon-CK7ltl4l.png",sye=({isOpen:t,onClose:e,user:n})=>{const r=Ft(),[a,s]=w.useState(!1),[l,d]=w.useState(n.displayName||""),[f,h]=w.useState(!1),[p,g]=w.useState(!1),v=Mh.useRef(null);if(w.useEffect(()=>{d(n.displayName||"")},[n,t]),!t)return null;const b=async S=>{if(S.target.files&&S.target.files[0]){g(!0);try{const O=S.target.files[0],U=await by(()=>Promise.resolve().then(()=>YA),void 0).then(k=>k.uploadProfilePicture(n,O));window.location.reload()}catch(O){console.error("Failed to upload image",O),alert("Failed to upload profile picture.")}finally{g(!1)}}},E=async()=>{if(l.trim()){h(!0);try{await HA(n,{displayName:l}),s(!1),window.location.reload()}catch(S){console.error("Failed to update profile",S),alert("Failed to update profile.")}finally{h(!1)}}},A=async()=>{await fd(),r("/login")};return c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[c.jsxs("div",{className:"bg-edexcel-blue p-6 flex justify-between items-start",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Profile Details"}),c.jsx("button",{onClick:e,className:"text-white/80 hover:text-white hover:bg-white/10 p-1 rounded-full transition-colors",children:c.jsx(ri,{size:20})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex flex-col items-center mb-6 -mt-12 group relative",children:[c.jsxs("div",{className:"bg-white p-2 rounded-full shadow-md cursor-pointer relative",onClick:()=>{var S;return(S=v.current)==null?void 0:S.click()},children:[c.jsx("img",{src:n.photoURL||P8,alt:"Profile",className:"w-20 h-20 rounded-full bg-slate-100 object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"Change"})}),p&&c.jsx("div",{className:"absolute inset-0 bg-white/80 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-edexcel-blue border-t-transparent rounded-full"})})]}),c.jsx("input",{type:"file",ref:v,onChange:b,accept:"image/*",className:"hidden"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"Full Name"}),c.jsx("div",{className:"flex items-center gap-2",children:a?c.jsx("input",{type:"text",value:l,onChange:S=>d(S.target.value),className:"flex-1 px-3 py-2 border border-edexcel-teal rounded-lg focus:ring-2 focus:ring-edexcel-teal/20 outline-none font-bold text-gray-900",autoFocus:!0}):c.jsxs("div",{className:"flex-1 font-bold text-gray-900 text-lg flex items-center gap-2",children:[n.displayName||"No Name Set",c.jsx("button",{onClick:()=>s(!0),className:"text-gray-400 hover:text-edexcel-blue transition-colors",children:c.jsx(Wv,{size:14})})]})})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"Email Address"}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx(x3,{size:16,className:"text-gray-400"}),c.jsx("span",{children:n.email})]})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"Member Since"}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[c.jsx(dc,{size:16,className:"text-gray-400"}),c.jsx("span",{children:n.metadata.creationTime?new Date(n.metadata.creationTime).toLocaleDateString():"Unknown"})]})]})]}),c.jsx("div",{className:"mt-8 flex gap-3",children:a?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg font-bold text-gray-600 hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:E,disabled:f,className:"flex-1 py-2 px-4 bg-edexcel-teal text-white rounded-lg font-bold hover:bg-teal-700 transition-colors flex items-center justify-center gap-2",children:f?"Saving...":c.jsxs(c.Fragment,{children:[c.jsx(QA,{size:18})," Save Changes"]})})]}):c.jsxs("button",{onClick:A,className:"w-full py-2 px-4 border border-red-100 text-red-600 bg-red-50 rounded-lg font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[c.jsx(hd,{size:18})," Sign Out"]})})]})]})})},oye=()=>{const[t,e]=w.useState(je.currentUser),[n,r]=w.useState([]),[a,s]=w.useState(!0),[l,d]=w.useState(!1),[f,h]=w.useState([]),[p,g]=w.useState(new Set),[v,b]=w.useState(null),E=Ft();w.useEffect(()=>{const z=je.onAuthStateChanged(N=>{e(N),N?(A(N.uid),S()):s(!1)});return()=>z()},[]);const A=async z=>{const N=await KA(z);r(N),s(!1)},S=async()=>{try{const z=at.now(),N=Dr(it(we,"announcements")),T=(await $n(N)).docs.map(R=>({id:R.id,...R.data()})).filter(R=>R.active===!0).sort((R,L)=>{var V,$;return(((V=L.createdAt)==null?void 0:V.seconds)||0)-((($=R.createdAt)==null?void 0:$.seconds)||0)}).filter(R=>!(R.startDate&&R.startDate.seconds>z.seconds||R.endDate&&R.endDate.seconds<z.seconds));h(T)}catch(z){console.error("Failed to fetch announcements",z)}},O=z=>{g(N=>new Set(N).add(z))},U=async(z,N,M="this exam")=>{N.stopPropagation(),b({isOpen:!0,examId:z,examTitle:M})},k=async()=>{if(!v)return;await py(v.examId)&&r(N=>N.filter(M=>M.id!==v.examId)),b(null)},C=z=>{switch(z){case"info":return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:T_};case"success":return{bg:"bg-emerald-50 border-emerald-200",text:"text-emerald-800",icon:Wi};case"warning":return{bg:"bg-amber-50 border-amber-200",text:"text-amber-800",icon:Mi};case"error":return{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:Gu};default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:T_}}},P=f.filter(z=>!p.has(z.id));return c.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[c.jsx(A3,{title:"Student Dashboard",description:"Track your Edexcel GCSE English mock exam progress and view detailed grade reports."}),c.jsxs("nav",{className:"bg-white border-b border-gray-200 py-4 px-6 md:px-12 flex flex-col md:flex-row md:justify-between md:items-center gap-4 sticky top-0 z-10",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>E("/"),children:[c.jsx("img",{src:aS,alt:"Logo",className:"w-10 h-10 rounded-lg shadow-sm"}),c.jsx("span",{className:"font-bold text-lg text-gray-800",children:"Go GCSE"})]})}),c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-end",children:[(t==null?void 0:t.email)&&ti.includes(t.email)&&c.jsxs("button",{onClick:()=>E("/admin"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-sm font-bold rounded-lg shadow-md hover:shadow-lg hover:from-purple-700 hover:to-indigo-700 transition-all",children:[c.jsx(Yi,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Admin Panel"})]}),c.jsxs("div",{onClick:()=>d(!0),className:"flex items-center gap-2 text-sm font-bold text-gray-800 bg-white border border-gray-100 pl-1 pr-3 py-1 rounded-full shadow-sm cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("img",{src:(t==null?void 0:t.photoURL)||P8,alt:"Profile",className:"w-8 h-8 rounded-full border border-indigo-100 object-cover"}),c.jsx("span",{className:"hidden sm:inline",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]})]})]}),c.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[c.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-lg p-4 mb-8 flex gap-3",children:[c.jsx("span",{className:"text-blue-600 font-bold flex-shrink-0",children:"i"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Important Notice"}),c.jsx("p",{children:"All exam results and grades shown here are AI-generated estimates for practice purposes only. They are not official qualifications. Always verify your learning with your teacher."})]})]}),P.length>0&&c.jsx("div",{className:"space-y-3 mb-6",children:P.map(z=>{const N=C(z.type),M=N.icon;return c.jsxs("div",{className:`p-4 rounded-xl border ${N.bg} flex items-start gap-3`,children:[c.jsx(M,{size:20,className:N.text}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:`font-bold ${N.text}`,children:z.title}),c.jsx("p",{className:`text-sm ${N.text} opacity-80`,children:z.message})]}),c.jsx("button",{onClick:()=>O(z.id),className:`p-1 rounded hover:bg-white/50 ${N.text}`,children:c.jsx(ri,{size:16})})]},z.id)})}),c.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:justify-between sm:items-end gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Progress"}),c.jsx("p",{className:"text-gray-500 mt-1",children:"Track your mock exams and improvement over time."})]}),c.jsx("button",{onClick:()=>E("/"),className:"w-full sm:w-auto bg-gray-900 text-white px-6 py-2.5 rounded-lg font-bold hover:bg-gray-800 transition-colors shadow-lg shadow-gray-200",children:"New Mock Exam"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-purple-600",children:[c.jsx(Jn,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Exams Taken"})]}),c.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:n.length})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-teal-600",children:[c.jsx(f3,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Average Score"})]}),c.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:n.length>0?Math.round(n.reduce((z,N)=>z+(N.score||0),0)/n.length):"-"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-blue-600",children:[c.jsx(Gv,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Study Time"})]}),c.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:(()=>{const z=n.reduce((T,R)=>T+(R.duration||0),0),N=Math.floor(z/3600),M=Math.floor(z%3600/60);return N===0&&M===0?"0m":N===0?`${M}m`:`${N}h ${M}m`})()})]}),c.jsxs("div",{onClick:()=>E("/student/classroom"),className:"bg-white p-6 rounded-2xl shadow-sm border border-indigo-100 cursor-pointer hover:shadow-md hover:border-indigo-300 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2 text-indigo-600",children:[c.jsx(Jn,{size:20}),c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide group-hover:underline",children:"My Classroom"})]}),c.jsx("div",{className:"text-gray-500 text-sm",children:"Join classes & view assignments"}),c.jsxs("div",{className:"mt-4 text-indigo-700 font-bold flex items-center gap-1 text-sm",children:["Go to Class ",c.jsx(vh,{size:16})]})]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Exam History"}),a?c.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading history..."}):n.length===0?c.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border border-gray-100 border-dashed",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:c.jsx(Jn,{size:32})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"No exams taken yet"}),c.jsx("p",{className:"text-gray-500 mb-6 max-w-sm mx-auto",children:"Complete your first mock exam to see your detailed analysis and grade here."}),c.jsx("button",{onClick:()=>E("/"),className:"text-edexcel-blue font-bold hover:underline",children:"Start an Exam Now"})]}):c.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:n.map((z,N)=>{var M;return c.jsxs("div",{onClick:()=>E("/results",{state:{examResult:{...z,questionResults:z.questionResults||z.breakdown||[],overallFeedback:z.overallFeedback||z.feedback||"",gradeEstimate:z.gradeEstimate||"N/A"},examData:z.paperData||null,answers:z.fullAnswers||{}}}),className:"flex items-center p-6 border-b border-gray-50 last:border-0 hover:bg-gray-50 transition-colors cursor-pointer",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 ${z.paperType==="PAPER_1"?"bg-purple-100 text-purple-600":"bg-teal-100 text-teal-600"}`,children:c.jsx("span",{className:"font-bold text-xs",children:z.paperType==="PAPER_1"?"P1":"P2"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:z.paperType==="PAPER_1"?"Fiction & Imaginative Writing":"Non-Fiction & Transactional"}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(M=z.date)!=null&&M.toDate?new Date(z.date.toDate()).toLocaleDateString():"Unknown Date",c.jsx("span",{className:"text-gray-300",children:""}),z.score," Marks"]})]}),c.jsxs("div",{className:"text-right flex items-center gap-4",children:[c.jsxs("button",{className:"inline-flex items-center text-edexcel-blue font-bold hover:text-edexcel-teal transition-colors",children:["View Result ",c.jsx(vh,{size:16,className:"ml-1"})]}),z.pdfUrl&&c.jsxs("a",{href:z.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-4 inline-flex items-center text-green-600 font-bold hover:text-green-800 transition-colors text-sm",onClick:T=>T.stopPropagation(),children:[c.jsx(w3,{size:16,className:"mr-1"})," Download PDF"]}),c.jsx("button",{onClick:T=>U(z.id,T,z.paperType==="PAPER_1"?"Fiction & Imaginative Writing":"Non-Fiction & Transactional"),className:"ml-4 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",title:"Delete Exam",children:c.jsx(Ea,{size:18})})]})]},z.id||N)})})]}),v&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>b(null),children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",onClick:z=>z.stopPropagation(),children:[c.jsxs("div",{className:"bg-red-50 p-6 flex items-center gap-4 border-b border-red-100",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx(Mi,{className:"text-red-600",size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Exam Result"}),c.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone"})]})]}),c.jsx("div",{className:"p-6",children:c.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to permanently delete ",c.jsxs("span",{className:"font-semibold",children:['"',v.examTitle,'"']}),"? This will remove all associated scores, feedback, and reports."]})}),c.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[c.jsx("button",{onClick:()=>b(null),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:k,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(Ea,{size:18}),"Delete Exam"]})]})]})}),t&&c.jsx(sye,{isOpen:l,onClose:()=>d(!1),user:t})]})},zf=({children:t})=>{const[e,n]=w.useState(null),[r,a]=w.useState(!0),[s,l]=w.useState(!1),[d,f]=w.useState(!1);return w.useEffect(()=>{const h=wv(je,async p=>{if(n(p),p)try{if(ti.includes(p.email||"")){l(!0),f(!0),a(!1);return}const g=qe(we,"users",p.uid),v=await ea(g);if(v.exists()){const b=v.data();l(!!b.isApproved),f(!!b.hasConsented)}else l(!1),f(!1)}catch(g){console.error("Error fetching user status",g),l(!1),f(!1)}a(!1)});return()=>h()},[]),r?c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 gap-3",children:[c.jsx(Xa,{className:"animate-spin text-edexcel-blue",size:32}),c.jsx("p",{className:"text-gray-500 animate-pulse text-sm font-medium",children:"Verifying access..."})]}):e?d?s?c.jsx(c.Fragment,{children:t}):c.jsx(Yl,{to:"/pending-approval",replace:!0}):c.jsx(Yl,{to:"/legal-consent",replace:!0}):c.jsx(Yl,{to:"/login",replace:!0})},vu={techniques:{title:"Language Techniques",description:"Master the literary and rhetorical devices used by writers to create meaning and effect.",items:[{name:"Metaphor",definition:'A direct comparison stating one thing IS another, without using "like" or "as".',example:'"Life is a journey with many winding roads."',literarySource:"Common in Shakespeare and Romantic poetry",examTip:"Always explain the effectwhat does the comparison suggest about the subject?",level:"foundation"},{name:"Simile",definition:'A comparison using "like" or "as" to show similarity between two different things.',example:'"Her smile was like sunshine breaking through clouds."',literarySource:"Dickens uses extended similes in Great Expectations",examTip:"Identify what quality is being compared and why the writer chose that image.",level:"foundation"},{name:"Personification",definition:"Giving human qualities, emotions, or actions to non-human things or abstract concepts.",example:'"The wind whispered secrets through the trees."',literarySource:`Shelley's "Ozymandias" personifies the desert`,examTip:"Consider why the writer wants readers to see the object as alive or conscious.",level:"foundation"},{name:"Alliteration",definition:"Repetition of the same consonant sound at the beginning of nearby words.",example:'"Peter Piper picked a peck of pickled peppers."',literarySource:"Anglo-Saxon poetry like Beowulf relies heavily on alliteration",examTip:"Link the sound to the moodharsh sounds for tension, soft sounds for calm.",level:"foundation"},{name:"Pathetic Fallacy",definition:"Using weather or nature to reflect the emotional state of characters or the mood of a scene.",example:'"The storm raged as her anger reached its peak."',literarySource:"Bront uses storms in Wuthering Heights to mirror passion",examTip:"This is a specific type of personificationalways link weather to emotion.",level:"intermediate"},{name:"Onomatopoeia",definition:"Words that phonetically imitate the sound they describe.",example:'"The bees buzzed lazily around the hive."',literarySource:"War poetry uses onomatopoeia for battlefield sounds",examTip:"Explain how the sound word creates a sensory, immersive experience.",level:"foundation"},{name:"Oxymoron",definition:"Two contradictory terms placed together to create a paradoxical effect.",example:'"The silence was deafening."',literarySource:'Romeo and Juliet: "loving hate" and "heavy lightness"',examTip:"Show how the contradiction reveals complexity or tension in meaning.",level:"intermediate"},{name:"Hyperbole",definition:"Deliberate and obvious exaggeration for emphasis or dramatic effect.",example:`"I've told you a million times!"`,literarySource:"Common in satirical writing and comedy",examTip:"Consider whether it creates humour, emphasises emotion, or makes a point.",level:"foundation"},{name:"Sibilance",definition:'Repetition of "s", "sh", "z" sounds to create a hissing effect.',example:'"The snake slithered silently through the shadows."',literarySource:"Often used to create menacing or secretive atmospheres",examTip:"Link sibilance to the moodoften sinister, seductive, or soothing.",level:"intermediate"},{name:"Juxtaposition",definition:"Placing two contrasting elements side by side to highlight their differences.",example:'"It was the best of times, it was the worst of times."',literarySource:"Dickens' A Tale of Two Cities opening",examTip:"Explain what the contrast reveals about themes or characters.",level:"intermediate"},{name:"Anaphora",definition:"Repetition of a word or phrase at the beginning of successive clauses or sentences.",example:'"We shall fight on the beaches, we shall fight on the landing grounds, we shall fight..."',literarySource:`Churchill's WWII speeches; Martin Luther King's "I Have a Dream"`,examTip:"Shows emphasis and builds rhetorical powergreat for speeches.",level:"advanced"},{name:"Epistrophe",definition:"Repetition of a word or phrase at the END of successive clauses.",example:'"See no evil, hear no evil, speak no evil."',literarySource:`Lincoln's Gettysburg Address: "of the people, by the people, for the people"`,examTip:"Creates rhythm and reinforces a key concept at clause endings.",level:"advanced"},{name:"Tricolon",definition:'A series of three parallel elements (the "rule of three") for emphasis and rhythm.',example:'"Veni, vidi, vici" (I came, I saw, I conquered)',literarySource:"Used extensively in political rhetoric and advertising",examTip:"Three elements feel complete and memorableidentify why these three.",level:"intermediate"},{name:"Asyndeton",definition:"Omitting conjunctions between words or clauses to create pace and urgency.",example:'"I came, I saw, I conquered."',literarySource:"Caesar's famous quote demonstrates power through brevity",examTip:"Creates speed and directnessoften shows confidence or urgency.",level:"advanced"},{name:"Polysyndeton",definition:"Using many conjunctions (and, or, but) in quick succession for effect.",example:'"And the rain fell and the wind blew and the night grew darker."',literarySource:"Biblical prose and Hemingway's writing style",examTip:"Slows pace, suggests overwhelming accumulation or relentlessness.",level:"advanced"},{name:"Chiasmus",definition:"A reversal of grammatical structures in successive phrases (AB, BA pattern).",example:'"Ask not what your country can do for you, ask what you can do for your country."',literarySource:"JFK's inaugural address; common in Shakespeare",examTip:"The reversal creates balance and makes ideas memorable.",level:"advanced"},{name:"Antithesis",definition:"Contrasting ideas expressed in balanced, parallel grammatical structures.",example:'"To err is human; to forgive, divine."',literarySource:`Pope's "Essay on Criticism"; Milton's Paradise Lost`,examTip:"Different from juxtapositionantithesis requires parallel structure.",level:"advanced"},{name:"Euphemism",definition:"A milder or indirect word substituted for one considered harsh or blunt.",example:'"He passed away" instead of "He died"',literarySource:"Political and corporate language often uses euphemisms",examTip:"Consider what is being hidden or softened, and why.",level:"intermediate"},{name:"Litotes",definition:"Understatement using double negatives or negating the opposite.",example:`"She's not unattractive" (meaning she is attractive)`,literarySource:"Common in British humour and Old English poetry",examTip:"Often creates irony or understated emphasis.",level:"advanced"},{name:"Synecdoche",definition:"A part represents the whole, or the whole represents a part.",example:'"All hands on deck!" (hands = sailors)',literarySource:'Shakespeare: "lend me your ears" (ears = attention)',examTip:"Identify what part/whole relationship exists and its effect.",level:"advanced"},{name:"Metonymy",definition:"Substituting the name of something with something closely associated.",example:'"The Crown" for the monarchy; "Wall Street" for finance',literarySource:"Common in journalism and political writing",examTip:"Different from synecdochemetonymy is association, not part/whole.",level:"advanced"},{name:"Zeugma",definition:"A figure of speech where one word (usually a verb or adjective) applies to multiple words in different senses.",example:'"She lowered her standards and her neckline."',literarySource:`Pope's "The Rape of the Lock" and Dickens use zeugma for wit`,examTip:"Creates surprising connections or humouroften used for satirical effect.",level:"advanced"},{name:"Anadiplosis",definition:"Repetition of the last word of one clause at the beginning of the next clause.",example:'"Fear leads to anger. Anger leads to hate. Hate leads to suffering."',literarySource:"Yoda in Star Wars; also found in biblical and classical texts",examTip:"Creates a chain of logic or escalationshows cause and effect.",level:"advanced"},{name:"Enjambment",definition:"In poetry, continuing a sentence beyond the end of a line without pause.",example:'"I wandered lonely as a cloud / That floats on high..."',literarySource:`Wordsworth's "Daffodils" uses enjambment throughout`,examTip:"Creates flow, urgency, or highlights the word at line breaks.",level:"intermediate"},{name:"Caesura",definition:"A strong pause within a line of poetry, often marked by punctuation.",example:'"To be, or not to be. || That is the question."',literarySource:"Shakespeare uses caesura for dramatic emphasis",examTip:"The pause creates emphasiswhat comes before/after the break?",level:"intermediate"}]},grammar:{title:"Grammar Essentials",description:"Essential grammatical knowledge for accurate writing and language analysis.",items:[{name:"Simple Sentence",definition:"A sentence containing one independent clause with a subject and verb.",example:'"The dog barked."',examTip:"Simple sentences create impact through directness and clarity.",level:"foundation"},{name:"Compound Sentence",definition:"Two independent clauses joined by a coordinating conjunction (FANBOYS: for, and, nor, but, or, yet, so).",example:'"I wanted to go, but the weather was terrible."',examTip:"Shows equal importance between two connected ideas.",level:"foundation"},{name:"Complex Sentence",definition:"An independent clause joined with one or more dependent clauses using subordinating conjunctions.",example:'"Although it was raining, we went for a walk."',examTip:"The main clause holds the key idea; subordinate clauses add detail.",level:"foundation"},{name:"Minor Sentence",definition:"A sentence fragment used deliberately for effect, lacking subject or verb.",example:'"Silence. Complete, utter silence."',examTip:"Creates drama, emphasis, or mimics natural speech patterns.",level:"intermediate"},{name:"Active Voice",definition:"The subject performs the action of the verb directly.",example:'"The cat chased the mouse."',examTip:"Active voice is direct and engagingpreferred in most writing.",level:"foundation"},{name:"Passive Voice",definition:'The subject receives the action; the doer may be omitted or follow "by".',example:'"The mouse was chased by the cat."',examTip:"Creates formality, shifts focus to receiver, or obscures responsibility.",level:"intermediate"},{name:"First Person Narrative",definition:`Using "I" to tell the story from the narrator's perspective.`,example:'"I walked into the room and immediately sensed danger."',examTip:"Creates intimacy and subjectivitywe see only what the narrator knows.",level:"foundation"},{name:"Third Person Limited",definition:`Using "he/she/they" but limited to one character's thoughts and perceptions.`,example:'"She wondered what he was thinking as he stared out the window."',examTip:"Balances intimacy with objectivitycommon in modern fiction.",level:"intermediate"},{name:"Third Person Omniscient",definition:"An all-knowing narrator who can access any character's thoughts.",example:`"John didn't know that Mary had already left, but we know she was miles away."`,examTip:"Allows dramatic irony and broader perspective on events.",level:"intermediate"},{name:"Present Tense",definition:"Action happening now; creates immediacy and tension.",example:'"I walk through the door. The room is empty."',examTip:"Creates immediacycommon in modern literary fiction for tension.",level:"foundation"},{name:"Past Tense",definition:"Action that has already happened; traditional narrative tense.",example:'"I walked through the door. The room was empty."',examTip:"The default for most storytellingfeels natural and established.",level:"foundation"},{name:"Imperative Mood",definition:'Commands or instructions; verb at the start, often with implied "you".',example:'"Stop right there!" "Consider the evidence."',examTip:"Creates authority, urgency, or direct reader engagement.",level:"intermediate"},{name:"Interrogative",definition:"Questions used to engage the reader or create uncertainty.",example:'"What would you do in this situation?"',examTip:"Rhetorical questions don't need answersthey make readers think.",level:"foundation"},{name:"Modal Verbs",definition:"Verbs expressing possibility, necessity, or obligation (can, could, may, might, must, shall, should, will, would).",example:'"You should consider the consequences."',examTip:"Different modals show different levels of certainty or obligation.",level:"intermediate"},{name:"Noun Phrase",definition:"A group of words centred on a noun, providing more detail.",example:'"The old, weathered wooden door"',examTip:"Extended noun phrases add detail and create vivid imagery.",level:"intermediate"}]},writing:{title:"Writing Skills",description:"Techniques for crafting effective creative and transactional writing.",items:[{name:"Hook Opening",definition:"Starting with something attention-grabbing to immediately engage the reader.",example:'"The day I died was the most interesting day of my life."',examTip:"Start with action, dialogue, a question, or a striking statement.",level:"foundation"},{name:"In Medias Res",definition:"Beginning a narrative in the middle of the action, rather than from the start.",example:"Starting a story with a chase scene, then explaining how it began later.",examTip:"Creates immediate tension and curiosityavoid too much backstory.",level:"intermediate"},{name:"Cyclical Structure",definition:"Ending where you began, creating a sense of completeness or irony.",example:"Starting and ending with the same image or phrase, but with changed meaning.",examTip:"Shows development or changethe same words mean something different by the end.",level:"intermediate"},{name:"Foreshadowing",definition:"Hints or clues about what will happen later in the narrative.",example:'"Little did she know that this would be the last peaceful morning."',examTip:"Creates tension and makes readers feel clever when the prediction pays off.",level:"intermediate"},{name:"Flashback",definition:"Interrupting the narrative to show events from the past.",example:'"As she touched the old photograph, memories flooded back..."',examTip:"Use sparingly and signal clearlydon't confuse the reader.",level:"intermediate"},{name:"Show Don't Tell",definition:"Demonstrating emotions or situations through action and detail rather than stating them.",example:'"His hands trembled as he reached for the door" instead of "He was nervous."',examTip:"Let readers infer emotions from physical details and actions.",level:"foundation"},{name:"Sensory Description",definition:"Using all five senses (sight, sound, smell, taste, touch) to create vivid scenes.",example:'"The acrid smoke stung her eyes; somewhere, glass shattered."',examTip:"Go beyond sightsound, smell, and touch create immersive writing.",level:"foundation"},{name:"Pathetic Fallacy in Writing",definition:"Using setting and weather to reflect character emotions or story mood.",example:"A storm brewing as conflict increases; sunshine as hope returns.",examTip:"Avoid clichsfind fresh ways to mirror emotion in environment.",level:"intermediate"},{name:"Dialogue",definition:"Speech between characters that reveals personality and advances plot.",example:`"I never said I was sorry." She turned away. "Maybe that's the problem."`,examTip:"Each character should sound distinct. Use dialogue tags sparingly.",level:"foundation"},{name:"Paragraph for Effect",definition:"Using paragraph length deliberatelyshort for impact, long for description.",example:'A single-word paragraph: "Silence." after a long descriptive paragraph.',examTip:"Vary paragraph length. Short paragraphs create drama and pace.",level:"intermediate"},{name:"Rhetorical Questions",definition:"Questions that don't expect an answer, used to engage or persuade.",example:'"How many more lives must be lost before we act?"',examTip:"Powerful in speeches and articlesmake the reader think.",level:"foundation"},{name:"Direct Address",definition:'Speaking directly to the reader using "you" to create engagement.',example:`"You might think this doesn't affect you. Think again."`,examTip:"Creates connection and makes arguments feel personal and urgent.",level:"foundation"},{name:"Statistics & Evidence",definition:"Using facts, figures, and research to support arguments.",example:'"According to recent studies, 73% of teenagers..."',literarySource:"Essential for Article, Speech, and Letter writing",examTip:"Even in exams, you can create plausible statistics for effect.",level:"foundation"},{name:"Anecdote",definition:"A short personal story used to illustrate a point or engage readers.",example:'"Last summer, I witnessed something that changed my perspective forever..."',examTip:"Makes abstract arguments concrete and relatable.",level:"intermediate"},{name:"Counter-Argument",definition:"Acknowledging opposing views before refuting them.",example:'"Some argue that... However, this ignores the fact that..."',examTip:"Shows balanced thinking and strengthens your argument.",level:"intermediate"},{name:"Emotive Language",definition:"Words chosen to provoke an emotional response from the reader.",example:'"innocent children", "brutal attack", "heroic sacrifice"',examTip:"Powerful in persuasive writing but use judiciouslydon't overdo it.",level:"foundation"},{name:"Formal Register",definition:"Sophisticated vocabulary and complex sentences for professional contexts.",example:'"Furthermore, it is imperative that we consider..."',examTip:"Use for letters to authorities, formal articles, and official speeches.",level:"intermediate"},{name:"Informal Register",definition:"Conversational tone with contractions and colloquial language.",example:`"Let's be honestwe've all been there, haven't we?"`,examTip:"Use for friendly letters, blogs, or when connecting with peers.",level:"intermediate"}]}},lye=({onHome:t})=>{const[e,n]=w.useState("learn"),[r,a]=w.useState(""),[s,l]=w.useState(null),[d,f]=w.useState(!1),[h,p]=w.useState("techniques"),[g,v]=w.useState(""),[b,E]=w.useState(new Set),[A,S]=w.useState("all"),[O,U]=w.useState("Metaphor"),[k,C]=w.useState(""),[P,z]=w.useState(null),[N,M]=w.useState("techniques"),[T,R]=w.useState(!0);w.useEffect(()=>{(async()=>{const se=je.currentUser;if(!se){R(!1);return}if(ti.includes(se.email||"")){R(!0);return}try{const q=await ea(qe(we,"users",se.uid));q.exists()?R(q.data().isApproved??!1):R(!1)}catch(q){console.error("Failed to check approval status:",q),R(!1)}})()},[]);const $=N==="techniques"?["Metaphor","Simile","Personification","Alliteration","Pathetic Fallacy","Onomatopoeia","Oxymoron","Hyperbole","Sibilance","Juxtaposition","Anaphora","Epistrophe","Tricolon","Asyndeton","Polysyndeton","Chiasmus","Antithesis","Euphemism","Litotes","Synecdoche","Metonymy","Zeugma","Anadiplosis","Enjambment","Caesura"]:["Hook Opening","In Medias Res","Cyclical Structure","Foreshadowing","Flashback","Show Don't Tell","Sensory Description","Pathetic Fallacy in Writing","Dialogue","Paragraph for Effect","Rhetorical Questions","Direct Address","Statistics & Evidence","Anecdote","Counter-Argument","Emotive Language","Formal Register","Informal Register"],ne=w.useMemo(()=>vu[h].items.filter(se=>{const q=g===""||se.name.toLowerCase().includes(g.toLowerCase())||se.definition.toLowerCase().includes(g.toLowerCase()),re=A==="all"||se.level===A;return q&&re}),[h,g,A]),pe=K=>{E(se=>{const q=new Set(se);return q.has(K)?q.delete(K):q.add(K),q})},Y=K=>{switch(K){case"foundation":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-amber-100 text-amber-700 border-amber-200";case"advanced":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700"}},oe=async()=>{if(r.trim()){f(!0),l(null);try{const se=await new xh().analyzeTextForMethods(r);l(se)}catch(K){console.error(K),alert("Analysis failed. Please try again.")}finally{f(!1)}}},H=async()=>{if(k.trim()){f(!0),z(null);try{const se=await new xh().evaluateWritingPractice(k,O);z(se),je.currentUser&&o3(je.currentUser.uid,O,k,se).then(()=>console.log("Lab session saved")).catch(q=>console.error("Failed to save lab session",q))}catch(K){console.error(K),alert("Evaluation failed. Please try again.")}finally{f(!1)}}};return c.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[c.jsxs("nav",{className:"bg-white border-b border-gray-200 py-4 px-6 md:px-12 flex items-center gap-4 sticky top-0 z-10",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600",children:c.jsx(ni,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-md flex items-center justify-center text-white font-serif font-bold",children:"L"}),c.jsx("span",{className:"font-bold text-lg text-gray-800",children:"Language Lab"})]})]}),c.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[c.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 mb-8 border-b border-gray-200",children:[c.jsxs("button",{onClick:()=>n("learn"),className:`pb-4 px-3 md:px-4 font-medium flex items-center gap-2 transition-colors border-b-2 text-sm md:text-base ${e==="learn"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[c.jsx(Kv,{size:20}),c.jsx("span",{className:"hidden sm:inline",children:"Knowledge Base"}),c.jsx("span",{className:"sm:hidden",children:"Learn"})]}),c.jsxs("button",{onClick:()=>{if(!T){alert("This section requires account approval. Please wait for admin approval.");return}n("analyzer")},disabled:!T,className:`pb-4 px-3 md:px-4 font-medium flex items-center gap-2 transition-colors border-b-2 text-sm md:text-base ${T?e==="analyzer"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700":"border-transparent text-gray-400 cursor-not-allowed"}`,children:[c.jsx(Xr,{size:20}),c.jsx("span",{className:"hidden sm:inline",children:"Method Analyzer"}),c.jsx("span",{className:"sm:hidden",children:"Analyze"}),!T&&c.jsx(ah,{size:14})]}),c.jsxs("button",{onClick:()=>{if(!T){alert("This section requires account approval. Please wait for admin approval.");return}n("gym")},disabled:!T,className:`pb-4 px-3 md:px-4 font-medium flex items-center gap-2 transition-colors border-b-2 text-sm md:text-base ${T?e==="gym"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700":"border-transparent text-gray-400 cursor-not-allowed"}`,children:[c.jsx($g,{size:20}),c.jsx("span",{className:"hidden sm:inline",children:"Writer's Gym"}),c.jsx("span",{className:"sm:hidden",children:"Practice"}),!T&&c.jsx(ah,{size:14})]})]}),e==="learn"?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(vu).map(K=>{const se=!T&&(K==="grammar"||K==="writing");return c.jsxs("button",{onClick:()=>{if(se){alert("This section requires account approval. Please wait for admin approval.");return}p(K),v("")},disabled:se,className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${se?"bg-gray-100 text-gray-400 cursor-not-allowed border border-gray-200":h===K?"bg-indigo-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50"}`,children:[se&&c.jsx(ah,{size:14}),vu[K].title]},K)})}),c.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:vu[h].title}),c.jsx("p",{className:"text-indigo-100",children:vu[h].description})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:g,onChange:K=>v(K.target.value),placeholder:"Search techniques, definitions...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),c.jsx("div",{className:"flex gap-2",children:["all","foundation","intermediate","advanced"].map(K=>c.jsx("button",{onClick:()=>S(K),className:`px-3 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${A===K?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:K},K))})]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",ne.length," of ",vu[h].items.length," items"]}),c.jsxs("div",{className:"space-y-4",children:[ne.map(K=>{const se=b.has(K.name);return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[c.jsxs("button",{onClick:()=>pe(K.name),className:"w-full p-5 flex items-start justify-between text-left",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:K.name}),c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border capitalize ${Y(K.level)}`,children:K.level})]}),c.jsx("p",{className:"text-gray-600 text-sm",children:K.definition})]}),c.jsx("div",{className:"ml-4 mt-1 text-gray-400",children:se?c.jsx(g3,{size:20}):c.jsx(p3,{size:20})})]}),se&&c.jsxs("div",{className:"px-5 pb-5 pt-0 space-y-4 border-t border-gray-100",children:[c.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-medium text-sm mb-2",children:[c.jsx(fX,{size:16}),"Example"]}),c.jsx("p",{className:"text-slate-800 font-serif italic",children:K.example})]}),K.literarySource&&c.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-medium text-sm mb-1",children:[c.jsx(Jn,{size:16}),"Found in Literature"]}),c.jsx("p",{className:"text-purple-800 text-sm",children:K.literarySource})]}),c.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-amber-700 font-medium text-sm mb-1",children:[c.jsx(KQ,{size:16}),"Exam Tip"]}),c.jsx("p",{className:"text-amber-800 text-sm",children:K.examTip})]}),c.jsxs("button",{onClick:()=>{n("gym"),U(K.name)},className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-700 font-medium text-sm transition-colors",children:[c.jsx(E3,{size:16}),"Practice using ",K.name," in Writer's Gym "]})]})]},K.name)}),ne.length===0&&c.jsxs("div",{className:"text-center py-12 text-gray-500",children:[c.jsx(Xr,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("p",{children:"No items match your search. Try adjusting your filters."})]})]})]}):e==="analyzer"?c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Jn,{size:20,className:"text-indigo-600"}),"Input Text"]}),c.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Paste a paragraph from a book, article, or your own writing. AI will identify the language methods used."}),c.jsx("textarea",{value:r,onChange:K=>a(K.target.value),placeholder:"The wind howled like a banshee, tearing through the trees...",className:"w-full h-64 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none font-serif text-lg leading-relaxed"}),c.jsx("button",{onClick:oe,disabled:d||!r.trim(),className:`mt-4 w-full py-3 rounded-lg font-bold text-white transition-all ${d||!r.trim()?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-md hover:shadow-lg"}`,children:d?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx(Xa,{className:"animate-spin",size:18})," Analyzing..."]}):"Analyze Text"})]})}),c.jsx("div",{className:"space-y-4",children:s?c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 h-full",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Analysis Results"}),c.jsxs("div",{className:"mb-6 bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[c.jsx("h3",{className:"font-bold text-indigo-900 mb-1",children:"Summary"}),c.jsx("p",{className:"text-indigo-800 text-sm",children:s.summary})]}),c.jsx("div",{className:"space-y-4",children:s.methods.map((K,se)=>c.jsxs("div",{className:"border-l-4 border-purple-500 pl-4 py-1",children:[c.jsx("div",{className:"flex justify-between items-start mb-1",children:c.jsx("span",{className:"font-bold text-purple-700 bg-purple-50 px-2 py-0.5 rounded text-sm",children:K.name})}),c.jsxs("p",{className:"text-gray-800 font-serif italic mb-2",children:['"',K.quote,'"']}),c.jsx("p",{className:"text-gray-600 text-sm",children:K.effect})]},se))})]}):c.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[c.jsx(Xr,{size:48,className:"mb-4 opacity-20"}),c.jsx("p",{children:"Enter text and click Analyze to see the breakdown of language methods."})]})})]}):c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx($g,{size:20,className:"text-indigo-600"}),"Practice Area"]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("button",{onClick:()=>{M("techniques"),U("Metaphor")},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${N==="techniques"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Language Techniques"}),c.jsx("button",{onClick:()=>{M("writing"),U("Hook Opening")},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${N==="writing"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Writing Skills"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:N==="techniques"?"Target Technique":"Target Skill"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(K=>c.jsx("button",{onClick:()=>U(K),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${O===K?"bg-indigo-600 text-white font-medium":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:K},K))})]}),c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-4",children:c.jsxs("p",{className:"text-yellow-800 text-sm",children:[c.jsx("strong",{children:"Challenge:"})," ",N==="techniques"?c.jsxs(c.Fragment,{children:["Write a sentence or short paragraph using ",c.jsx("u",{children:O}),"."]}):c.jsxs(c.Fragment,{children:["Practice ",c.jsx("u",{children:O})," by writing a short example."]})]})}),c.jsx("textarea",{value:k,onChange:K=>C(K.target.value),placeholder:N==="techniques"?`Write something using a ${O}...`:`Practice ${O} here...`,className:"w-full h-48 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none font-serif text-lg"}),c.jsx("button",{onClick:H,disabled:d||!k.trim(),className:`mt-4 w-full py-3 rounded-lg font-bold text-white transition-all ${d||!k.trim()?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-md hover:shadow-lg"}`,children:d?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx(Xa,{className:"animate-spin",size:18})," Checking..."]}):"Check My Writing"})]})}),c.jsx("div",{className:"space-y-4",children:P?c.jsxs("div",{className:`p-6 rounded-xl shadow-sm border ${P.success?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[P.success?c.jsx(Wi,{className:"text-green-600",size:32}):c.jsx(Gu,{className:"text-orange-600",size:32}),c.jsx("h2",{className:`text-xl font-bold ${P.success?"text-green-800":"text-orange-800"}`,children:P.success?"Great Job!":"Keep Trying"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Feedback"}),c.jsx("p",{className:"text-gray-700",children:P.feedback})]}),c.jsxs("div",{className:"bg-white/50 p-4 rounded-lg",children:[c.jsxs("h3",{className:"font-bold text-gray-900 mb-1 flex items-center gap-2",children:[c.jsx(Xa,{size:16,className:"text-yellow-600"}),"Tip for Improvement"]}),c.jsx("p",{className:"text-gray-700 italic",children:P.improvementTip})]})]})]}):c.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[c.jsx($g,{size:48,className:"mb-4 opacity-20"}),c.jsx("p",{children:"Write your text and click Check to see if you used the method effectively."})]})})]})]})]})},cye=()=>{const t=Ft(),[e,n]=w.useState(!1),r=async()=>{n(!0);try{await fd(),t("/login")}catch(a){console.error("Logout error:",a),n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 font-sans p-4",children:c.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center border border-slate-100",children:[c.jsx("div",{className:"w-20 h-20 bg-amber-50 rounded-full flex items-center justify-center mx-auto mb-6 text-amber-500 animate-pulse",children:c.jsx(vX,{size:40})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Pending Approval"}),c.jsx("p",{className:"text-xs font-semibold text-amber-600 bg-amber-50 rounded-lg py-2 px-3 mb-6 inline-block",children:"Status: Awaiting Admin Review"}),c.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Thank you for signing up! Your account is currently awaiting administrative approval."}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(x3,{size:18,className:"text-blue-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-left text-sm text-blue-800",children:[c.jsx("p",{className:"font-semibold mb-1",children:"What happens next?"}),c.jsx("p",{children:"An administrator will review your account and send you an email once approved. You'll then have full access to the dashboard and exam services."})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>t("/"),className:"w-full py-3 px-4 bg-edexcel-blue hover:bg-edexcel-blue/90 text-white rounded-xl transition-colors font-bold",children:"Go to Home Page"}),c.jsxs("button",{onClick:r,disabled:e,className:"w-full py-3 px-4 bg-red-50 border-2 border-red-200 hover:bg-red-100 text-red-700 rounded-xl transition-colors font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(hd,{size:18}),e?"Signing Out...":"Sign Out"]})]}),c.jsx("p",{className:"text-xs text-gray-400 mt-6 border-t border-gray-100 pt-4",children:"GoGCSE Platform  Need help? Contact support"})]})})},uye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Wr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back to Login"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Terms of Service"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024 | Version 2.0"}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. Assessment & Educational Disclaimer"}),c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[c.jsx("p",{className:"text-amber-800 font-medium mb-2",children:" Important Notice"}),c.jsx("p",{className:"text-amber-700 text-sm",children:"GoGCSE is an independent educational practice platform. We are NOT an exam board and NOT affiliated with Pearson Edexcel, AQA, OCR, or Ofqual."})]}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"NO QUALIFICATIONS:"})," Use of this site does NOT confer any official grade, qualification,/certification, or academic credit."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"INDICATIVE SCORING:"}),' "Marks", "Grades", and "Levels" displayed on this platform are estimates generated by AI for practice purposes only. They may not reflect the grade you would achieve in a real examination.']}),c.jsxs("li",{children:[c.jsx("strong",{children:"NO RELIANCE:"})," You should not rely on these results for university applications, employment, or any other formal purpose."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. AI-Generated Content"}),c.jsx("p",{className:"text-gray-700 mb-3",children:"GoGCSE uses artificial intelligence (AI) technology to generate:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Practice exam questions and source texts"}),c.jsx("li",{children:"Automated marking and feedback"}),c.jsx("li",{children:"Model answers and suggestions"})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-800 mt-4 mb-2",children:"2a. Teacher Classroom Features"}),c.jsx("p",{className:"text-gray-700 mb-2",children:'If you join a "Classroom" using an invite code:'}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"You grant the verified teacher of that class access to view your name and assignment results for that specific class."}),c.jsx("li",{children:"Assignments generated by teachers are AI-created and subject to the same limitations as other platform content."}),c.jsx("li",{children:"You can leave a class at any time, which will remove the teacher's access to your future data."})]}),c.jsxs("p",{className:"text-gray-700 mt-3",children:[c.jsx("strong",{children:"AI Limitations:"})," AI-generated content may contain errors, inaccuracies, or hallucinations. It cannot replace the professional judgement of qualified teachers. Always verify key information with official sources."]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. User Eligibility & Conduct"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Age Requirement:"})," You must be at least 13 years old to create an account. If you are under 13, you may not use this service."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Teacher Accounts:"})," Teachers warrant that they have appropriate authority to invite students to the platform."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Prohibited Conduct:"})," You agree not to upload personal data (names, addresses) in free-text fields or submission boxes. You agree not to use the platform for bullying, harassment, or generating harmful content."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. Limitation of Liability"}),c.jsx("p",{className:"text-gray-700",children:"To the maximum extent permitted by law (and without excluding liability for death or personal injury caused by negligence):"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 mt-2",children:[c.jsx("li",{children:"We are not liable for any loss of academic performance, exam failure, or missed opportunities."}),c.jsx("li",{children:"We are not liable for any indirect or consequential losses."}),c.jsx("li",{children:"Our total liability to you in contract, tort, or otherwise is limited to the amount you paid us (if any) in the 12 months preceding the claim."})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. Intellectual Property"}),c.jsx("p",{className:"text-gray-700",children:'All content on GoGCSE, including generated questions and model answers, is protected by copyright. "GCSE" is a registered trademark of the examination boards. We use these terms purely for descriptive purposes to indicate compatibility with the curriculum.'}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"6. Governing Law"}),c.jsx("p",{className:"text-gray-700",children:"These terms are governed by the laws of England and Wales. Any disputes will be subject to the exclusive jurisdiction of the courts of England and Wales."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"7. Contact"}),c.jsx("p",{className:"text-gray-700",children:"For support or legal inquiries, please contact us via the help link on the dashboard."})]})]})]})}),dye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Wr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back to Login"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Privacy Notice"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024 | Version 2.0"}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:[c.jsx("p",{className:"text-blue-800 font-medium mb-2",children:" Privacy Summary (Easy Read)"}),c.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[c.jsx("li",{children:" We collect your email, name, and exam answers to help you learn."}),c.jsx("li",{children:" Your teachers can see your work ONLY if you join their class with a code."}),c.jsx("li",{children:" We use Google AI to write questions and mark your work."}),c.jsx("li",{children:" We keep your data safe and never sell it."}),c.jsx("li",{children:" You can ask us to delete your data at any time."})]})]}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. Who We Are (Data Controller)"}),c.jsx("p",{className:"text-gray-700",children:"GoGCSE is the Data Controller for your personal information. For privacy inquiries, please use the contact form on our dashboard or email our privacy team."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. What Data We Collect & Why"}),c.jsxs("table",{className:"w-full border-collapse border border-gray-200 text-sm mt-2",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50",children:[c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Data Type"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Purpose"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Legal Basis"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Email, Display Name"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Account setup & login."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Contract"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Age Confirmation"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Child safety (13+ Only)."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Legal Obligation"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Exam Data & AI Logs"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Providing the service & marking."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Contract"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2",children:"Consent Records"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Proof of agreement to Terms."}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Legal Obligation"})]})]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. Sharing Your Data"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Service Providers:"})," We use Google Firebase (hosting/db) and Google Gemini (AI generation). They process data on our behalf."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Teachers:"})," If you join a class via Invite Code, that teacher sees your name and results for that class."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Legal:"})," We may share data if required by UK law or to protect safety."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. Cookies (PECR Compliance)"}),c.jsx("p",{className:"text-gray-700",children:"We use:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Strictly Necessary Cookies:"})," To keep you logged in. You cannot switch these off."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Functional/Analytics:"})," Only set if you give consent via our Cookie Banner."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. Children's Privacy"}),c.jsx("p",{className:"text-gray-700",children:"This service is for users aged 13 and over. We do not knowingly collect data from children under 13. If we discover an account belongs to a child under 13 without verifiable parental consent, we will delete it."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"6. Your Rights (UK GDPR)"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Access & Portability:"})," Ask for a copy of your data."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Correction:"})," Fix mistakes in your data."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Deletion:"})," Ask us to delete your account."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Withdraw Consent:"})," You can leave a class or change cookie settings at any time."]})]}),c.jsx("p",{className:"text-gray-700 mt-2",children:"To exercise these rights, email specific-request@gogcse.com (Example). You also have the right to complain to the ICO (ico.org.uk)."})]})]})]})}),fye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Wr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cookie Policy"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024"}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("p",{className:"text-gray-700",children:'This Cookie Policy explains how GoGCSE ("we", "us", or "our") uses cookies and similar technologies to recognize you when you visit our website. It explains what these technologies are and why we use them, as well as your rights to control our use of them.'}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. What are cookies?"}),c.jsx("p",{className:"text-gray-700",children:"Cookies are small data files that are placed on your computer or mobile device when you visit a website. Cookies are widely used by website owners in order to make their websites work, or to work more efficiently, as well as to provide reporting information."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. Why do we use cookies?"}),c.jsx("p",{className:"text-gray-700 mb-2",children:"We use cookies for several reasons:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Essential Cookies:"})," strictly necessary for the website to function (e.g., to keep you logged in)."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Performance & Analytics Cookies:"})," to track how users use the site so we can improve it."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Functionality Cookies:"})," to remember your preferences (like your username or language)."]})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. Cookies we use"}),c.jsx("div",{className:"overflow-x-auto mt-4 mb-8",children:c.jsxs("table",{className:"w-full border-collapse border border-gray-200 text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50",children:[c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Category"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Purpose"}),c.jsx("th",{className:"border border-gray-200 p-2 text-left",children:"Opt-out?"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2 font-medium",children:"Strictly Necessary"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Login authentication, security, session management."}),c.jsx("td",{className:"border border-gray-200 p-2 text-red-600",children:"No (Required)"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-200 p-2 font-medium",children:"Performance / Analytics"}),c.jsx("td",{className:"border border-gray-200 p-2",children:"Google Analytics (anonymised) to see which pages are popular."}),c.jsx("td",{className:"border border-gray-200 p-2 text-green-600",children:"Yes"})]})]})]})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. Children and Cookies"}),c.jsx("p",{className:"text-gray-700",children:"For users identified as under 18, we strictly limit data collection. We do not use advertising or tracking cookies for marketing purposes for child accounts. Analytics data is anonymised."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. How can I control cookies?"}),c.jsx("p",{className:"text-gray-700",children:"You have the right to decide whether to accept or reject non-essential cookies. You can exercise your cookie rights by setting your preferences in the Cookie Consent Manager (coming soon) or by amending your web browser controls."}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"6. Updates to this policy"}),c.jsx("p",{className:"text-gray-700",children:"We may update this Cookie Policy from time to time in order to reflect, for example, changes to the cookies we use or for other operational, legal, or regulatory reasons."})]})]})]})}),hye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Wr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Acceptable Use Policy"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last updated: December 2024"}),c.jsxs("div",{className:"prose prose-gray max-w-none",children:[c.jsx("p",{className:"text-gray-700",children:'This Acceptable Use Policy ("AUP") outlines the rules for using GoGCSE. By accessing our platform, you agree to follow these rules.'}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"1. Academic Integrity"}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[c.jsx("p",{className:"text-red-800 font-bold mb-2",children:" STRICTLY PROHIBITED"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-red-700 text-sm",children:[c.jsx("li",{children:"Using the platform to cheat in real examinations"}),c.jsx("li",{children:"Sharing answers to real exam papers"}),c.jsx("li",{children:"Uploading copyrighted exam materials"})]})]}),c.jsxs("p",{className:"text-gray-700",children:["GoGCSE is for ",c.jsx("strong",{children:"practice only"}),". You must not use our tools to gain an unfair advantage in official assessments."]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"2. Prohibited Content"}),c.jsx("p",{className:"text-gray-700 mb-2",children:"You must NOT upload, generate, or share content that is:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Offensive, abusive, or hateful"}),c.jsx("li",{children:"Sexually explicit or violent"}),c.jsx("li",{children:"Harassing or bullying towards others"}),c.jsx("li",{children:"False, misleading, or fraudulent"})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"3. Account Security"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Do not share your password with anyone"}),c.jsx("li",{children:"Do not access someone else's account"}),c.jsx("li",{children:"Notify us immediately if you suspect unauthorized access"})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"4. System Abuse"}),c.jsx("p",{className:"text-gray-700 mb-2",children:"You agree NOT to:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Attempt to damage, hack, or interfere with the website"}),c.jsx("li",{children:"Use automated scripts or bots to access the site"}),c.jsx("li",{children:"Data scrape or harvest user information"})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-3",children:"5. Consequences of Breach"}),c.jsx("p",{className:"text-gray-700",children:"If you violate this policy, we may:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[c.jsx("li",{children:"Issue a warning"}),c.jsx("li",{children:"Suspend your account"}),c.jsx("li",{children:"Permanently terminate your account without refund"}),c.jsx("li",{children:"Report illegal activity to law enforcement"})]})]})]})]})}),mye=()=>c.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs(Wr,{to:"/login",className:"inline-flex items-center gap-2 text-edexcel-blue hover:text-edexcel-teal mb-6",children:[c.jsx(ni,{size:18}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:c.jsx(Yi,{className:"text-indigo-600",size:24})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Privacy Information for Students"})]}),c.jsx("p",{className:"text-lg text-gray-600 mb-8 border-b border-gray-100 pb-6",children:"This page explains how we keep your information safe and what we do with it. We want you to understand how GoGCSE works."}),c.jsxs("div",{className:"grid gap-6",children:[c.jsx("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(PX,{className:"text-blue-600 mt-1",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:"1. The Information We Collect"}),c.jsx("p",{className:"text-blue-800 mb-2",children:"When you sign up, we ask for your:"}),c.jsxs("ul",{className:"list-disc pl-5 text-blue-800 text-sm space-y-1",children:[c.jsx("li",{children:"Name (so we know what to call you)"}),c.jsx("li",{children:"Email (to log you in)"}),c.jsx("li",{children:"Age (to make sure you are old enough)"}),c.jsx("li",{children:"Exam answers (to help you practice)"})]})]})]})}),c.jsx("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-100",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(tm,{className:"text-emerald-600 mt-1",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-emerald-900 mb-2",children:"2. Why We Need It"}),c.jsx("p",{className:"text-emerald-800 mb-2",children:"We use this information to:"}),c.jsxs("ul",{className:"list-disc pl-5 text-emerald-800 text-sm space-y-1",children:[c.jsx("li",{children:"Create your account"}),c.jsx("li",{children:"Save your scores so you can see your progress"}),c.jsx("li",{children:"Use AI to mark your practice exams"})]})]})]})}),c.jsx("div",{className:"bg-amber-50 rounded-xl p-6 border border-amber-100",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(ah,{className:"text-amber-600 mt-1",size:24}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-2",children:"3. Keeping It Safe"}),c.jsxs("p",{className:"text-amber-800 mb-2",children:["We store your information securely. We ",c.jsx("strong",{children:"never"})," sell your information to advertisers or other companies to contact you."]}),c.jsx("p",{className:"text-amber-800",children:"Only you (and us, for technical help) can see your account details."})]})]})})]}),c.jsxs("div",{className:"mt-10 border-t border-gray-100 pt-8",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Rights"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"You are in control of your data. You can always:"}),c.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Ask to see what info we have"]}),c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Ask us to fix mistakes"]}),c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Ask us to delete your account"]}),c.jsxs("li",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Change your mind about emails"]})]})]}),c.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-xl",children:[c.jsx("p",{className:"text-gray-700 font-medium",children:"Need help?"}),c.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["If you have questions about privacy, you can ask a parent or guardian to email us at",c.jsx("span",{className:"font-mono text-indigo-600 ml-1",children:"support@gogcse.com"})]})]})]})]})}),pye=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(!1);w.useEffect(()=>{const d=localStorage.getItem("gogcse_cookie_consent");if(!d)e(!0);else{const f=JSON.parse(d);r(f.analytics)}},[]);const a=()=>{l({necessary:!0,analytics:!0})},s=()=>{l({necessary:!0,analytics:n})},l=d=>{localStorage.setItem("gogcse_cookie_consent",JSON.stringify({...d,timestamp:new Date().toISOString()})),e(!1),d.analytics&&console.log("Analytics cookies enabled")};return t?c.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] z-50 p-6 md:p-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row gap-8 items-start md:items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 mb-2",children:[c.jsx(xQ,{className:"text-edexcel-teal",size:20}),"Cookie Settings"]}),c.jsx("p",{className:"text-gray-600 text-sm leading-relaxed max-w-2xl",children:"We use cookies to ensure our website works (Strictly Necessary). With your permission, wed also like to use analytics cookies to see how you use the site so we can improve it. We do NOT use marketing/advertising cookies."}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-6 text-sm",children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-400 cursor-not-allowed",title:"Required for the site to function",children:[c.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"rounded text-gray-400 focus:ring-0"}),c.jsx("span",{className:"font-medium",children:"Strictly Necessary (Always On)"})]}),c.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:n,onChange:d=>r(d.target.checked),className:"rounded text-edexcel-teal focus:ring-edexcel-teal"}),c.jsx("span",{className:"font-medium",children:"Analytics (Optional)"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto min-w-[300px]",children:[c.jsx("button",{onClick:s,className:"px-6 py-2.5 rounded-lg border-2 border-gray-200 font-bold text-gray-700 hover:border-gray-300 hover:bg-gray-50 transition-colors",children:"Save Preferences"}),c.jsx("button",{onClick:a,className:"px-6 py-2.5 rounded-lg bg-edexcel-teal text-white font-bold hover:bg-teal-700 shadow-md transition-colors",children:"Accept All"})]})]})}):null},gye=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!0),a=Ft(),[s,l]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,v]=w.useState(!1),[b,E]=w.useState(!1),[A,S]=w.useState(!1),[O,U]=w.useState(null);w.useEffect(()=>{const C=wv(je,P=>{e(P),r(!1),P||a("/login")});return()=>C()},[a]);const k=async()=>{if(t){if(!s||!d||!h||!g){U("You must agree to all mandatory legal terms to proceed.");return}S(!0),U(null);try{const C="2.0-dec-2024",P=or(),z=qe(we,"users",t.uid);(await ea(z)).exists()?await Ya(z,{email:t.email,displayName:t.displayName||"",photoURL:t.photoURL||"",hasConsented:!0,consentVersion:C,consentedAt:P,updatedAt:P},{merge:!0}):await Ya(z,{email:t.email,displayName:t.displayName||"",photoURL:t.photoURL||"",createdAt:P,hasConsented:!0,consentVersion:C,consentedAt:P,status:"pending",isApproved:!1,updatedAt:P});try{await Ya(qe(we,"userConsents",t.uid),{userId:t.uid,createdAt:P},{merge:!0}),await xr(it(we,"userConsents",t.uid,"events"),{action:"accepted_legal_terms",consentVersion:C,acceptedTerms:s,acceptedPrivacy:d,acceptedDisclaimer:h,confirmedAge13Plus:g,marketingOptIn:b,timestamp:P,userAgent:navigator.userAgent})}catch(T){console.warn("Failed to create audit trail, continuing anyway:",T)}a("/pending-approval")}catch(C){console.error("Consent failed:",C),U("Failed to save your consent. Please check your connection and try again.")}finally{S(!1)}}};return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:"Loading..."}):c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white max-w-2xl w-full rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[c.jsxs("div",{className:"bg-edexcel-blue px-8 py-6 text-white text-center relative overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx(Yi,{className:"mx-auto mb-3",size:48}),c.jsx("h1",{className:"text-2xl font-bold",children:"Welcome to GoGCSE"}),c.jsx("p",{className:"text-blue-100 mt-2",children:"Before you start practising, please review and agree to our rules."})]}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/10 to-transparent pointer-events-none"})]}),c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 mb-8 border border-blue-100",children:[c.jsxs("h3",{className:"text-blue-900 font-bold flex items-center gap-2 mb-3",children:[c.jsx(Mi,{size:18}),"Important Reminders"]}),c.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx("span",{className:"mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Practice Only:"})," This platform is NOT an official exam and does not give real qualifications. Scores are estimates only."]})]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx("span",{className:"mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"AI Content:"})," Questions and marking are generated by AI. They may contain mistakes. Always double-check with your teacher."]})]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx("span",{className:"mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Age 13+:"})," You must be 13 or older to use this service."]})]})]})]}),c.jsxs("div",{className:"space-y-5 mb-8",children:[c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:s,onChange:C=>l(C.target.checked),className:"w-5 h-5 text-edexcel-blue rounded focus:ring-edexcel-teal cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Terms of Service (Required)"}),c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["I agree to the GoGCSE ",c.jsx("a",{href:"/terms",target:"_blank",className:"text-edexcel-blue underline hover:text-edexcel-teal",onClick:C=>C.stopPropagation(),children:"Terms of Service"}),", including the limitation of liability and acceptable use policy."]})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:d,onChange:C=>f(C.target.checked),className:"w-5 h-5 text-edexcel-blue rounded focus:ring-edexcel-teal cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Privacy Policy (Required)"}),c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["I have read the ",c.jsx("a",{href:"/privacy",target:"_blank",className:"text-edexcel-blue underline hover:text-edexcel-teal",onClick:C=>C.stopPropagation(),children:"Privacy Policy"})," and understand how my data (email, exam answers) is processed."]})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:h,onChange:C=>p(C.target.checked),className:"w-5 h-5 text-edexcel-blue rounded focus:ring-edexcel-teal cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Educational Disclaimer (Required)"}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"I understand this is a practice tool used at my own risk. Results are not official."})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:g,onChange:C=>v(C.target.checked),className:"w-5 h-5 text-edexcel-blue rounded focus:ring-edexcel-teal cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:"Age Confirmation (Required)"}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"I confirm I am 13 years of age or older."})]})]}),c.jsxs("label",{className:"flex gap-4 p-4 rounded-xl border border-dashed border-gray-300 bg-gray-50/50 cursor-pointer hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"pt-0.5",children:c.jsx("input",{type:"checkbox",checked:b,onChange:C=>E(C.target.checked),className:"w-5 h-5 text-edexcel-blue rounded focus:ring-edexcel-teal cursor-pointer"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-700",children:"Stay Updated (Optional)"}),c.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Email me about new features and exam tips. Unsubscribe anytime."})]})]})]}),O&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg text-sm font-medium border border-red-200",children:O}),c.jsx("button",{onClick:k,disabled:A||!s||!d||!h||!g,className:`w-full py-4 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-2 ${A||!s||!d||!h||!g?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-edexcel-blue text-white hover:bg-edexcel-teal shadow-lg hover:shadow-xl"}`,children:A?"Setting up account...":"Accept & Continue to Dashboard"}),c.jsx("div",{className:"text-center mt-6 text-xs text-gray-400",children:"GoGCSE Platform v2.0  London, UK"})]})]})})},yye=()=>c.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 py-8 px-4 mt-auto",children:c.jsxs("div",{className:"max-w-5xl mx-auto space-y-4",children:[c.jsx("p",{className:"text-xs text-gray-600 text-center leading-relaxed font-medium",children:"GoGCSE is an independent revision tool powered by Artificial Intelligence. We are not affiliated with, endorsed by, or connected to Ofqual, the Department for Education, or any exam boards (AQA, Edexcel, OCR, WJEC). Content is for practice only."}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs text-gray-500 leading-relaxed",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"AI Disclaimer:"}),c.jsx("p",{children:"AI-generated content may contain errors. Always verify important information with official sources before relying on it for academic decisions."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Not Official Grades:"}),c.jsx("p",{children:"Results are estimates for practice purposes only. They are not official grades and should not be submitted as qualifications."})]})]}),c.jsx("p",{className:"text-xs text-gray-400 text-center pt-4 border-t border-gray-200",children:" 2025 GoGCSE. All rights reserved. This is an independent educational tool."})]})}),vye=()=>{var v,b,E;const t=Ft(),e=ra(),n=Qa.includes(((v=je.currentUser)==null?void 0:v.email)||""),[r,a]=w.useState(!1),[s,l]=w.useState(()=>localStorage.getItem("adminDarkMode")==="true");w.useEffect(()=>{localStorage.setItem("adminDarkMode",s.toString()),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]);const d=async()=>{await fd(),t("/login")},f=()=>{const A=e.pathname.split("/").filter(Boolean),S=[{label:"Admin",path:"/admin"}];if(A[1]){const O={users:"User Directory",exams:"Exam Records","lab-sessions":"Lab Sessions",settings:"Settings",analytics:"Analytics",announcements:"Announcements","activity-log":"Activity Log",assets:"Assets",security:"Security"};S.push({label:O[A[1]]||A[1],path:e.pathname})}return S},h=({isActive:A})=>`flex items-center gap-3 px-4 py-3 rounded-md transition-colors ${A?"bg-edexcel-teal/20 text-edexcel-teal":"text-slate-300 hover:bg-slate-800"} ${r?"justify-center":""}`,p=[{to:"/admin",icon:eS,label:"Overview",end:!0},{to:"/teacher",icon:Kv,label:"Teacher Classroom"},{to:"/admin/users",icon:Aa,label:"User Directory"},{to:"/admin/exams",icon:fc,label:"Exam Records"},{to:"/admin/lab-sessions",icon:Jn,label:"Lab Sessions"},{to:"/admin/analytics",icon:m3,label:"Analytics"},{to:"/admin/announcements",icon:h3,label:"Announcements"},{to:"/admin/assets",icon:zQ,label:"Assets"}],g=[{to:"/admin/activity-log",icon:gy,label:"Activity Log"},{to:"/admin/security",icon:Yi,label:"Security"},{to:"/admin/settings",icon:rS,label:"Settings"},{to:"/admin/directory",icon:Aa,label:"Admin Directory"}];return c.jsxs("div",{className:`flex h-screen ${s?"bg-slate-900":"bg-gray-100"}`,children:[c.jsxs("aside",{className:`${r?"w-20":"w-64"} bg-slate-900 text-white flex flex-col shrink-0 transition-all duration-300`,children:[c.jsxs("div",{className:`p-4 border-b border-slate-700 flex items-center ${r?"justify-center":"justify-between"}`,children:[!r&&c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold tracking-tight text-edexcel-teal",children:"Admin Control"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Edexcel Simulator"})]}),c.jsx("button",{onClick:()=>a(!r),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",title:r?"Expand":"Collapse",children:r?c.jsx(vh,{size:18}):c.jsx(XA,{size:18})})]}),c.jsxs("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:[p.map(A=>c.jsxs(Wg,{to:A.to,end:A.end,className:h,title:r?A.label:void 0,children:[c.jsx(A.icon,{size:20}),!r&&c.jsx("span",{className:"font-medium",children:A.label})]},A.to)),n&&c.jsxs("div",{className:"pt-3 mt-3 border-t border-slate-700",children:[!r&&c.jsx("p",{className:"px-4 py-2 text-xs text-slate-500 uppercase tracking-wider",children:"Super Admin Control"}),g.map(A=>c.jsxs(Wg,{to:A.to,className:h,title:r?A.label:void 0,children:[c.jsx(A.icon,{size:20}),!r&&c.jsx("span",{className:"font-medium",children:A.label})]},A.to))]})]}),c.jsxs("div",{className:"p-3 border-t border-slate-700 space-y-2",children:[c.jsxs("button",{onClick:()=>l(!s),className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${r?"justify-center":""}`,title:s?"Light Mode":"Dark Mode",children:[s?c.jsx(_3,{size:18}):c.jsx(b3,{size:18}),!r&&c.jsx("span",{children:s?"Light Mode":"Dark Mode"})]}),c.jsxs("button",{onClick:d,className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${r?"justify-center":""}`,title:"Sign Out",children:[c.jsx(hd,{size:18}),!r&&c.jsx("span",{children:"Sign Out"})]}),!r&&c.jsx("div",{className:"px-4 pt-2 text-xs text-slate-500",children:"v2.0.0"})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxs("header",{className:`${s?"bg-slate-800 border-slate-700":"bg-white border-gray-200"} border-b h-16 flex items-center justify-between px-6 shadow-sm`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>t("/"),className:`p-2 rounded-lg hover:bg-slate-100 ${s?"hover:bg-slate-700":""}`,title:"Back to App",children:c.jsx(yy,{size:18,className:s?"text-slate-400":"text-slate-500"})}),c.jsx("nav",{className:"flex items-center gap-1 text-sm",children:f().map((A,S,O)=>c.jsxs(Mh.Fragment,{children:[c.jsx("button",{onClick:()=>t(A.path),className:`${S===O.length-1?s?"text-white font-semibold":"text-slate-900 font-semibold":s?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:A.label}),S<O.length-1&&c.jsx("span",{className:s?"text-slate-600":"text-slate-300",children:"/"})]},A.path))})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`text-sm font-bold ${s?"text-white":"text-gray-800"}`,children:((b=je.currentUser)==null?void 0:b.displayName)||"Admin User"}),c.jsx("div",{className:`text-xs ${s?"text-slate-400":"text-gray-500"}`,children:n?"Super Administrator":"Administrator"})]}),c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden",children:(E=je.currentUser)!=null&&E.photoURL?c.jsx("img",{src:je.currentUser.photoURL,alt:"Admin",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:c.jsx(Aa,{size:20})})})]})]}),c.jsx("main",{className:`flex-1 overflow-auto p-6 ${s?"bg-slate-900":""}`,children:c.jsx(sM,{context:{darkMode:s}})})]})]})},$D=()=>{const t=Ft(),e=Uh(),n=(e==null?void 0:e.darkMode)||!1,[r,a]=w.useState([]),[s,l]=w.useState([]),[d,f]=w.useState(!0),[h,p]=w.useState("30");w.useEffect(()=>{(async()=>{const[R,L]=await Promise.all([Ac(),WA()]);a(R),l(L),f(!1)})()},[]);const g=w.useMemo(()=>{if(h==="all")return s;const T=parseInt(h),R=Date.now()-T*24*60*60*1e3;return s.filter(L=>{var V;return((V=L.date)==null?void 0:V.seconds)&&L.date.seconds*1e3>=R})},[s,h]),v=w.useMemo(()=>{const T=g.reduce((L,V)=>L+(V.totalScore||0),0),R=g.length>0?Math.round(T/g.length):0;return{totalUsers:r.length,totalExams:g.length,avgScore:R,recentActivity:g.slice(0,5)}},[r,g]),b=w.useMemo(()=>{const T={};return r.forEach(R=>{T[R.uid||R.id]=R.displayName||R.email||"Unknown"}),T},[r]),E=w.useMemo(()=>{const T={9:0,8:0,7:0,6:0,5:0,4:0,3:0,2:0,1:0};return g.forEach(R=>{var V;const L=((V=R.gradeEstimate)==null?void 0:V.toString())||"1";T[L]!==void 0&&T[L]++}),Object.entries(T).map(([R,L])=>({grade:`Grade ${R}`,count:L})).reverse()},[g]),A=w.useMemo(()=>{const T=g.filter($=>{var ne;return $.paperType==="PAPER_1"||((ne=$.paperType)==null?void 0:ne.includes("1"))}),R=g.filter($=>{var ne;return $.paperType==="PAPER_2"||((ne=$.paperType)==null?void 0:ne.includes("2"))}),L=T.length>0?Math.round(T.reduce(($,ne)=>$+(ne.totalScore||0),0)/T.length):0,V=R.length>0?Math.round(R.reduce(($,ne)=>$+(ne.totalScore||0),0)/R.length):0;return[{name:"Paper 1",average:L,count:T.length},{name:"Paper 2",average:V,count:R.length}]},[g]),S=w.useMemo(()=>{const T={},R=new Date;for(let L=29;L>=0;L--){const V=new Date(R);V.setDate(V.getDate()-L),T[V.toLocaleDateString("en-US",{month:"short",day:"numeric"})]=new Set}return s.forEach(L=>{var V;if((V=L.date)!=null&&V.seconds&&L.userId){const $=new Date(L.date.seconds*1e3),ne=Math.floor((R.getTime()-$.getTime())/(1e3*60*60*24));if(ne>=0&&ne<30){const pe=$.toLocaleDateString("en-US",{month:"short",day:"numeric"});T[pe]&&T[pe].add(L.userId)}}}),Object.entries(T).map(([L,V])=>({day:L,activeUsers:V.size}))},[s]),O=w.useMemo(()=>{const T={};return g.forEach(R=>{var L;if((L=R.date)!=null&&L.seconds){const V=new Date(R.date.seconds*1e3),$=new Date(V);$.setDate(V.getDate()-V.getDay());const ne=$.toLocaleDateString("en-US",{month:"short",day:"numeric"});T[ne]||(T[ne]={total:0,count:0}),T[ne].total+=R.totalScore||0,T[ne].count++}}),Object.entries(T).map(([R,L])=>({week:R,avgScore:Math.round(L.total/L.count)})).slice(-8)},[g]),U=w.useMemo(()=>{const T={};return g.forEach(R=>{var L;(L=R.questionResults)==null||L.forEach(V=>{V.aos&&Object.entries(V.aos).forEach(([$,ne])=>{T[$]||(T[$]={score:0,max:0}),T[$].score+=Number(ne)||0,T[$].max+=V.maxScore||10})})}),Object.entries(T).map(([R,L])=>({ao:R,percentage:L.max>0?Math.round(L.score/L.max*100):0})).sort((R,L)=>R.percentage-L.percentage)},[g]),k=w.useMemo(()=>{const T={},R=new Date;for(let L=6;L>=0;L--){const V=new Date(R);V.setDate(V.getDate()-L),T[V.toLocaleDateString("en-US",{weekday:"short"})]=0}return g.forEach(L=>{var V;if((V=L.date)!=null&&V.seconds){const $=new Date(L.date.seconds*1e3),ne=Math.floor((R.getTime()-$.getTime())/(1e3*60*60*24));if(ne>=0&&ne<7){const pe=$.toLocaleDateString("en-US",{weekday:"short"});T[pe]!==void 0&&T[pe]++}}}),Object.entries(T).map(([L,V])=>({day:L,exams:V}))},[g]),C=n?"bg-slate-800 border-slate-700":"bg-white border-slate-200",P=n?"text-white":"text-slate-900",z=n?"text-slate-400":"text-slate-500";if(d)return c.jsx("div",{className:`p-8 text-center ${z}`,children:"Loading analytics..."});const N=({title:T,value:R,icon:L,color:V,subtitle:$})=>c.jsx("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${z}`,children:T}),c.jsx("h3",{className:`text-2xl font-bold ${P} mt-1`,children:R}),$&&c.jsx("p",{className:`text-xs ${z} mt-1`,children:$})]}),c.jsx("div",{className:`p-3 rounded-lg ${V}`,children:c.jsx(L,{size:22,className:"text-white"})})]})}),M=({label:T,onClick:R,icon:L})=>c.jsxs("button",{onClick:R,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${n?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(L,{size:16}),T,c.jsx(Hv,{size:14})]});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${P}`,children:"Platform Overview"}),c.jsx("p",{className:z,children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border ${C}`,children:[c.jsx(dc,{size:16,className:z}),c.jsxs("select",{value:h,onChange:T=>p(T.target.value),className:`bg-transparent text-sm font-medium ${P} focus:outline-none`,children:[c.jsx("option",{value:"7",children:"Last 7 days"}),c.jsx("option",{value:"30",children:"Last 30 days"}),c.jsx("option",{value:"90",children:"Last 90 days"}),c.jsx("option",{value:"all",children:"All time"})]})]}),c.jsx(M,{label:"Users",onClick:()=>t("/admin/users"),icon:Aa}),c.jsx(M,{label:"Exams",onClick:()=>t("/admin/exams"),icon:fc})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(N,{title:"Total Students",value:v.totalUsers,icon:Aa,color:"bg-blue-500"}),c.jsx(N,{title:"Exams Completed",value:v.totalExams,icon:fc,color:"bg-indigo-500",subtitle:h==="all"?"all time":`last ${h} days`}),c.jsx(N,{title:"Average Score",value:v.avgScore,icon:pw,color:"bg-emerald-500"}),c.jsx(N,{title:"System Status",value:"Active",icon:Wi,color:"bg-slate-500"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(m3,{size:18,className:"text-indigo-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Grade Distribution"})]}),c.jsx(Au,{width:"100%",height:220,children:c.jsxs(TE,{data:E,children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"grade",tick:{fontSize:11,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Ou,{allowDecimals:!1,tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Su,{}),c.jsx(cv,{dataKey:"count",fill:"#6366f1",radius:[4,4,0,0]})]})})]}),c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(oQ,{size:18,className:"text-purple-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Paper Comparison"})]}),c.jsxs("div",{className:"flex items-center justify-around",children:[c.jsx(Au,{width:"50%",height:180,children:c.jsxs(eye,{children:[c.jsx(qz,{data:A,dataKey:"count",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,label:!0,children:A.map((T,R)=>c.jsx(Am,{fill:R===0?"#6366f1":"#a855f7"},R))}),c.jsx(Su,{})]})}),c.jsx("div",{className:"space-y-3",children:A.map((T,R)=>c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:`text-sm ${z}`,children:T.name}),c.jsxs("p",{className:`text-lg font-bold ${P}`,children:["Avg: ",T.average]}),c.jsxs("p",{className:`text-xs ${z}`,children:[T.count," exams"]})]},R))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Aa,{size:18,className:"text-blue-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Active Users (30 Days)"})]}),c.jsx(Au,{width:"100%",height:180,children:c.jsxs(nye,{data:S.slice(-14),children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"day",tick:{fontSize:10,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Ou,{allowDecimals:!1,tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Su,{}),c.jsx(y8,{type:"monotone",dataKey:"activeUsers",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.2})]})})]}),c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(pw,{size:18,className:"text-emerald-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Score Trends (Weekly)"})]}),c.jsx(Au,{width:"100%",height:180,children:c.jsxs(Fge,{data:O,children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"week",tick:{fontSize:10,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Ou,{tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Su,{}),c.jsx(c8,{type:"monotone",dataKey:"avgScore",stroke:"#10b981",strokeWidth:2,dot:{r:4}})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(pw,{size:18,className:"text-amber-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"AO Performance"})]}),c.jsx("p",{className:`text-xs ${z} mb-3`,children:"Weakest first"}),c.jsx("div",{className:"space-y-2",children:U.length>0?U.slice(0,5).map((T,R)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[c.jsx("span",{className:`font-medium ${P}`,children:T.ao}),c.jsxs("span",{className:z,children:[T.percentage,"%"]})]}),c.jsx("div",{className:`w-full rounded-full h-2 ${n?"bg-slate-700":"bg-slate-100"}`,children:c.jsx("div",{className:`h-2 rounded-full ${T.percentage<50?"bg-red-500":T.percentage<70?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${T.percentage}%`}})})]},R)):c.jsx("p",{className:z,children:"No AO data available."})})]}),c.jsxs("div",{className:`p-5 rounded-xl shadow-sm border ${C}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(gy,{size:18,className:"text-emerald-500"}),c.jsx("h3",{className:`font-bold ${P}`,children:"Weekly Activity"})]}),c.jsx(Au,{width:"100%",height:180,children:c.jsxs(TE,{data:k,children:[c.jsx(Yf,{strokeDasharray:"3 3",stroke:n?"#334155":"#e2e8f0"}),c.jsx(Cu,{dataKey:"day",tick:{fontSize:11,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Ou,{allowDecimals:!1,tick:{fill:n?"#94a3b8":"#64748b"}}),c.jsx(Su,{}),c.jsx(cv,{dataKey:"exams",fill:"#10b981",radius:[4,4,0,0]})]})})]})]}),c.jsxs("div",{className:`rounded-xl shadow-sm border overflow-hidden ${C}`,children:[c.jsx("div",{className:`p-5 border-b ${n?"border-slate-700":"border-slate-100"}`,children:c.jsx("h3",{className:`font-bold ${P}`,children:"Recent Submissions"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:n?"bg-slate-700/50":"bg-slate-50",children:c.jsxs("tr",{className:`text-xs uppercase font-semibold ${z}`,children:[c.jsx("th",{className:"px-5 py-3",children:"User"}),c.jsx("th",{className:"px-5 py-3",children:"Paper"}),c.jsx("th",{className:"px-5 py-3",children:"Score"}),c.jsx("th",{className:"px-5 py-3",children:"Grade"}),c.jsx("th",{className:"px-5 py-3",children:"Date"})]})}),c.jsxs("tbody",{className:`divide-y ${n?"divide-slate-700":"divide-slate-100"}`,children:[v.recentActivity.map(T=>{var R,L,V;return c.jsxs("tr",{className:n?"hover:bg-slate-700/50":"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-5 py-3",children:[c.jsx("div",{className:`text-sm font-medium ${P}`,children:b[T.userId]||"Unknown"}),c.jsxs("div",{className:`text-xs font-mono ${z}`,children:[(R=T.userId)==null?void 0:R.substring(0,8),"..."]})]}),c.jsx("td",{className:`px-5 py-3 text-sm ${P}`,children:(L=T.paperType)!=null&&L.includes("1")?"Paper 1":"Paper 2"}),c.jsx("td",{className:"px-5 py-3",children:c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[T.totalScore,"/",T.maxScore]})}),c.jsx("td",{className:"px-5 py-3",children:c.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:["Grade ",T.gradeEstimate||"N/A"]})}),c.jsx("td",{className:`px-5 py-3 text-sm ${z}`,children:(V=T.date)!=null&&V.seconds?new Date(T.date.seconds*1e3).toLocaleDateString():"Just now"})]},T.id)}),v.recentActivity.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:`px-5 py-8 text-center ${z}`,children:"No recent activity."})})]})]})})]})]})},xye=()=>{var M,T;const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(""),[l,d]=w.useState(!0),[f,h]=w.useState(null),[p,g]=w.useState([]),[v,b]=w.useState(!1),[E,A]=w.useState(!1);Qa.includes(((M=je.currentUser)==null?void 0:M.email)||"");const S=Ft();w.useEffect(()=>{O()},[]),w.useEffect(()=>{if(!Array.isArray(t))return;const R=a.toLowerCase();r(t.filter(L=>L&&((L.email||"").toLowerCase().includes(R)||(L.displayName||"").toLowerCase().includes(R)||(L.id||"").includes(R))))},[a,t]);const O=async()=>{d(!0);const R=await Ac();e(R),d(!1)},U=async R=>{if(!window.confirm("Are you sure? This will delete the user and ALL their exam data permanently."))return;await u3(R)?(e(V=>V.filter($=>$.id!==R)),h(null),alert("User deleted successfully.")):alert("Failed to delete user.")},k=async R=>{h(R),b(!0);try{const L=await KA(R.id);g(L)}catch(L){console.error("Failed to load user exams",L),g([])}b(!1)},C=async R=>{var L,V;if(confirm("Approve this user to active status?")){A(!0);try{await vr(qe(we,"users",R),{status:"approved",isApproved:!0,updatedAt:or()}),await xr(it(we,"activityLogs"),{action:"User Status Approved",actionType:"update",targetType:"user",targetId:R,details:"User status changed from pending to approved",userId:((L=je.currentUser)==null?void 0:L.uid)||"unknown",userEmail:((V=je.currentUser)==null?void 0:V.email)||"unknown",timestamp:or()}),e($=>$.map(ne=>ne.id===R?{...ne,status:"approved",isApproved:!0}:ne)),h($=>$&&$.id===R?{...$,status:"approved",isApproved:!0}:$),alert("User approved successfully!")}catch($){console.error("Failed to approve user:",$),alert("Failed to approve user")}finally{A(!1)}}},P=async R=>{var L,V;if(confirm("Set this user to pending status?")){A(!0);try{await vr(qe(we,"users",R),{status:"pending",isApproved:!1,updatedAt:or()}),await xr(it(we,"activityLogs"),{action:"User Status Set to Pending",actionType:"update",targetType:"user",targetId:R,details:"User status changed from approved to pending",userId:((L=je.currentUser)==null?void 0:L.uid)||"unknown",userEmail:((V=je.currentUser)==null?void 0:V.email)||"unknown",timestamp:or()}),e($=>$.map(ne=>ne.id===R?{...ne,status:"pending",isApproved:!1}:ne)),h($=>$&&$.id===R?{...$,status:"pending",isApproved:!1}:$),alert("User set to pending!")}catch($){console.error("Failed to set user to pending:",$),alert("Failed to update user status")}finally{A(!1)}}},z=ti.includes(((T=je.currentUser)==null?void 0:T.email)||""),N=()=>{const R=["Display Name","Email","User ID","Last Active","Status"],L=t.map(Y=>{var oe;return[Y.displayName||"Unnamed",Y.email||"",Y.id,(oe=Y.lastActive)!=null&&oe.seconds?new Date(Y.lastActive.seconds*1e3).toISOString():"Unknown",Y.disabled?"Disabled":"Active"]}),V=[R,...L].map(Y=>Y.join(",")).join(`
`),$=new Blob([V],{type:"text/csv"}),ne=URL.createObjectURL($),pe=document.createElement("a");pe.href=ne,pe.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,pe.click(),URL.revokeObjectURL(ne)};return l?c.jsx("div",{className:"p-8",children:"Loading directory..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"User Directory"}),c.jsx("p",{className:"text-slate-500",children:"Manage student accounts and access."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors",children:[c.jsx(JA,{size:18}),"Export CSV"]}),c.jsxs("div",{className:"relative",children:[c.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:R=>s(R.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-edexcel-teal w-64"})]})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User"}),c.jsx("th",{className:"px-6 py-4",children:"Email"}),c.jsx("th",{className:"px-6 py-4",children:"Last Active"}),c.jsx("th",{className:"px-6 py-4",children:"Role"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(R=>{var L;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 overflow-hidden",children:R.photoURL?c.jsx("img",{src:R.photoURL,className:"w-full h-full object-cover",alt:""}):c.jsx(Ku,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-900",children:R.displayName||"Unnamed User"}),c.jsxs("div",{className:"text-xs text-slate-400 font-mono",title:R.id,children:[R.id.slice(0,12),"..."]})]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:R.email||c.jsx("span",{className:"text-slate-400 italic",children:"No Email"})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:(L=R.lastActive)!=null&&L.seconds?new Date(R.lastActive.seconds*1e3).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Qa.includes(R.email||"")&&c.jsxs("span",{className:"px-2 py-1 inline-flex items-center text-xs font-bold rounded-full bg-gradient-to-r from-amber-100 to-orange-100 text-amber-900 border border-amber-400 shadow-sm",children:[c.jsx(ZA,{size:12,className:"mr-1"}),"Super Admin"]}),R.isAdmin&&c.jsx("span",{className:"px-2 py-1 inline-flex items-center text-xs font-bold rounded-full bg-red-100 text-red-900 border border-red-300",children:"Admin"}),R.isTeacher&&c.jsxs("span",{className:"px-2 py-1 inline-flex items-center text-xs font-bold rounded-full bg-blue-100 text-blue-900 border border-blue-300",children:[c.jsx(Kv,{size:12,className:"mr-1"}),"Teacher"]}),!Qa.includes(R.email||"")&&!R.isAdmin&&!R.isTeacher&&c.jsx("span",{className:"px-2 py-1 inline-flex items-center text-xs font-semibold rounded-full bg-slate-100 text-slate-700 border border-slate-200",children:"Student"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"flex items-center gap-2",children:R.status==="approved"?c.jsxs("button",{onClick:()=>P(R.id),disabled:E||!z,className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border bg-emerald-100 text-emerald-800 border-emerald-300 transition-all ${z?"hover:bg-amber-100 hover:text-amber-800 hover:border-amber-300 cursor-pointer":"cursor-default"} disabled:opacity-50`,title:z?"Click to set Pending":"Active",children:[c.jsx(Wi,{size:12,className:"mr-1"}),"Active"]}):c.jsx("button",{onClick:()=>C(R.id),disabled:E||!z,className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border bg-amber-100 text-amber-800 border-amber-300 transition-all ${z?"hover:bg-emerald-100 hover:text-emerald-800 hover:border-emerald-300 cursor-pointer":"cursor-default"} disabled:opacity-50`,title:z?"Click to make Active":"Only admins can approve",children:"Pending"})})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[(f==null?void 0:f.id)===R.id&&R.isAdmin&&c.jsx("button",{onClick:()=>{S(`/teacher/view/${R.id}`)},className:"text-emerald-500 hover:text-emerald-700 p-2 hover:bg-emerald-50 rounded-md transition-colors",title:"View Classes",children:c.jsx(Jn,{size:18})}),c.jsx("button",{onClick:()=>k(R),className:"text-blue-500 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-md transition-colors",title:"View Profile",children:c.jsx(tm,{size:18})}),c.jsx("button",{onClick:()=>U(R.id),className:"text-slate-400 hover:text-red-500 p-2 hover:bg-red-50 rounded-md transition-colors",title:"Delete User",children:c.jsx(Ea,{size:18})})]})})]},R.id)}),n.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:['No users found matching "',a,'"']})})]})]})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"User Profile"}),c.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(ri,{size:20})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden",children:f.photoURL?c.jsx("img",{src:f.photoURL,className:"w-full h-full object-cover",alt:""}):c.jsx(Ku,{size:32,className:"text-slate-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:f.displayName||"Unnamed"}),c.jsx("p",{className:"text-slate-500",children:f.email}),c.jsx("p",{className:"text-xs text-slate-400 font-mono mt-1",children:f.id})]})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[c.jsx(fc,{size:18}),"Exam History (",p.length,")"]}),v?c.jsx("p",{className:"text-slate-400",children:"Loading exam history..."}):p.length>0?c.jsx("div",{className:"space-y-2",children:p.map((R,L)=>{var V,$;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(dc,{size:16,className:"text-slate-400"}),c.jsx("span",{className:"text-sm text-slate-600",children:(V=R.date)!=null&&V.seconds?new Date(R.date.seconds*1e3).toLocaleDateString():"Unknown"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm font-medium text-slate-700",children:($=R.paperType)!=null&&$.includes("1")?"Paper 1":"Paper 2"}),c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[R.totalScore,"/",R.maxScore]}),c.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:["Grade ",R.gradeEstimate||"N/A"]})]})]},L)})}):c.jsx("p",{className:"text-slate-400 text-sm",children:"No exam history for this user."})]})]}),c.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-end gap-2 flex-wrap",children:[z&&(f.status==="approved"?c.jsx("button",{onClick:()=>P(f.id),disabled:E,className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"Set Pending"}):c.jsx("button",{onClick:()=>C(f.id),disabled:E,className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"Make Active"})),c.jsx("button",{onClick:()=>k(f),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f.isAdmin?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:f.isAdmin?"View Admin":"View Profile"}),f.isAdmin&&c.jsxs("button",{onClick:()=>S(`/teacher/view/${f.id}`),className:"px-4 py-2 ml-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2",title:"View Classes",children:[c.jsx(Jn,{size:16}),"View Classes"]}),c.jsx("button",{onClick:()=>U(f.id),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:"Delete User"})]})]})})]})},bye=()=>{var oe;const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(!0),[l,d]=w.useState(null),[f,h]=w.useState(0),[p,g]=w.useState(null),[v,b]=w.useState(new Set),[E,A]=w.useState({}),[S,O]=w.useState("all"),[U,k]=w.useState("all"),[C,P]=w.useState("");w.useEffect(()=>{z()},[]),w.useEffect(()=>{let H=[...t];if(S!=="all"&&(H=H.filter(K=>{var se,q,re;return((se=K.paperType)==null?void 0:se.includes(S))||((re=(q=K.paperData)==null?void 0:q.type)==null?void 0:re.includes(S))})),U!=="all"&&(H=H.filter(K=>{var se;return((se=K.gradeEstimate)==null?void 0:se.toString())===U})),C){const K=C.toLowerCase();H=H.filter(se=>{var q,re,me;return((q=se.userId)==null?void 0:q.toLowerCase().includes(K))||((re=se.id)==null?void 0:re.toLowerCase().includes(K))||((me=E[se.userId])==null?void 0:me.toLowerCase().includes(K))})}r(H)},[t,S,U,C,E]);const z=async()=>{s(!0);const[H,K]=await Promise.all([WA(),Ac()]),se={};K.forEach(q=>{se[q.uid||q.id]=q.displayName||q.email||"Unknown"}),A(se),e(H),s(!1)},[N,M]=w.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),T=(H,K,se)=>{M({isOpen:!0,title:H,message:K,onConfirm:se})},R=async H=>{T("Delete Exam Record","Are you sure you want to permanently delete this exam record? This action cannot be undone.",async()=>{await py(H)&&(e(se=>se.filter(q=>q.id!==H)),b(se=>(se.delete(H),new Set(se)))),M(se=>({...se,isOpen:!1}))})},L=async()=>{v.size!==0&&T("Delete Multiple Records",`Are you sure you want to delete ${v.size} selected exam record${v.size>1?"s":""}? This action cannot be undone.`,async()=>{const H=Array.from(v).map(K=>py(K));await Promise.all(H),e(K=>K.filter(se=>!v.has(se.id))),b(new Set),M(K=>({...K,isOpen:!1}))})},V=()=>{v.size===n.length?b(new Set):b(new Set(n.map(H=>H.id)))},$=H=>{b(K=>{const se=new Set(K);return se.has(H)?se.delete(H):se.add(H),se})},ne=H=>{d(H.id),h(H.totalScore||0)},pe=async H=>{await c3(H,{totalScore:f})?(e(se=>se.map(q=>q.id===H?{...q,totalScore:f}:q)),d(null)):alert("Failed to update exam.")},Y=()=>{const H=["Exam ID","User ID","Paper Type","Score","Max Score","Grade","Date"],K=n.map(ye=>{var Ce,ke;return[ye.id,ye.userId,ye.paperType||((Ce=ye.paperData)==null?void 0:Ce.type)||"Unknown",ye.totalScore,ye.maxScore,ye.gradeEstimate||"N/A",(ke=ye.date)!=null&&ke.seconds?new Date(ye.date.seconds*1e3).toISOString():"Unknown"]}),se=[H,...K].map(ye=>ye.join(",")).join(`
`),q=new Blob([se],{type:"text/csv"}),re=URL.createObjectURL(q),me=document.createElement("a");me.href=re,me.download=`exams_export_${new Date().toISOString().split("T")[0]}.csv`,me.click(),URL.revokeObjectURL(re)};return a?c.jsx("div",{className:"p-8",children:"Loading records..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Exam Records"}),c.jsx("p",{className:"text-slate-500",children:"Global view of all assessment submissions."})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[v.size>0&&c.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[c.jsx(Ea,{size:18}),"Delete (",v.size,")"]}),c.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors",children:[c.jsx(JA,{size:18}),"Export CSV"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap bg-white p-4 rounded-xl border border-slate-200",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(v3,{size:18,className:"text-slate-400"}),c.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Filters:"})]}),c.jsxs("select",{value:S,onChange:H=>O(H.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Papers"}),c.jsx("option",{value:"1",children:"Paper 1"}),c.jsx("option",{value:"2",children:"Paper 2"})]}),c.jsxs("select",{value:U,onChange:H=>k(H.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Grades"}),[9,8,7,6,5,4,3,2,1].map(H=>c.jsxs("option",{value:H.toString(),children:["Grade ",H]},H))]}),c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search by name or user ID...",value:C,onChange:H=>P(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("span",{className:"text-sm text-slate-400",children:["Showing ",n.length," of ",t.length]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-4",children:c.jsx("input",{type:"checkbox",checked:v.size===n.length&&n.length>0,onChange:V,className:"w-4 h-4 rounded border-slate-300"})}),c.jsx("th",{className:"px-4 py-4",children:"User"}),c.jsx("th",{className:"px-4 py-4",children:"Paper"}),c.jsx("th",{className:"px-4 py-4",children:"Score"}),c.jsx("th",{className:"px-4 py-4",children:"Grade"}),c.jsx("th",{className:"px-4 py-4",children:"Date"}),c.jsx("th",{className:"px-4 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(H=>{var K,se,q,re;return c.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${v.has(H.id)?"bg-blue-50":""}`,children:[c.jsx("td",{className:"px-4 py-4",children:c.jsx("input",{type:"checkbox",checked:v.has(H.id),onChange:()=>$(H.id),className:"w-4 h-4 rounded border-slate-300"})}),c.jsxs("td",{className:"px-4 py-4",children:[c.jsx("div",{className:"text-sm font-medium text-slate-900",children:E[H.userId]||"Unknown"}),c.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:[(K=H.userId)==null?void 0:K.substring(0,10),"..."]})]}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ${(H.paperType||((se=H.paperData)==null?void 0:se.type)||"").includes("1")?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:[c.jsx(fc,{size:14}),(H.paperType||((q=H.paperData)==null?void 0:q.type)||"Unknown").includes("1")?"Paper 1":"Paper 2"]})}),c.jsx("td",{className:"px-4 py-4",children:l===H.id?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:f,onChange:me=>h(Number(me.target.value)),className:"w-16 border rounded px-2 py-1 text-sm"}),c.jsxs("span",{className:"text-slate-400 text-sm",children:["/ ",H.maxScore]})]}):c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H.totalScore/H.maxScore>.7?"bg-emerald-100 text-emerald-800":H.totalScore/H.maxScore>.4?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[H.totalScore," / ",H.maxScore]})}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Grade ",H.gradeEstimate||"N/A"]})}),c.jsx("td",{className:"px-4 py-4 text-sm text-slate-500",children:(re=H.date)!=null&&re.seconds?new Date(H.date.seconds*1e3).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-4 py-4 text-right",children:c.jsx("div",{className:"flex items-center justify-end gap-1",children:l===H.id?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>pe(H.id),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded",children:c.jsx(QA,{size:18})}),c.jsx("button",{onClick:()=>d(null),className:"p-2 text-slate-400 hover:bg-slate-100 rounded",children:c.jsx(ri,{size:18})})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>g(H),className:"p-2 text-slate-500 hover:bg-slate-100 rounded",title:"View Details",children:c.jsx(tm,{size:18})}),c.jsx("button",{onClick:()=>ne(H),className:"p-2 text-blue-500 hover:bg-blue-50 rounded",title:"Edit Score",children:c.jsx(Wv,{size:18})}),c.jsx("button",{onClick:()=>R(H.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(Ea,{size:18})})]})})})]},H.id)}),n.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-slate-400",children:"No exam records found."})})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Exam Details"}),c.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(ri,{size:20})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"User ID"}),c.jsx("p",{className:"font-mono text-sm",children:p.userId})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Paper Type"}),c.jsx("p",{className:"font-medium",children:p.paperType||((oe=p.paperData)==null?void 0:oe.type)||"Unknown"})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Score"}),c.jsxs("p",{className:"font-bold text-lg",children:[p.totalScore," / ",p.maxScore]})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Grade Estimate"}),c.jsxs("p",{className:"font-bold text-lg",children:["Grade ",p.gradeEstimate||"N/A"]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Overall Feedback"}),c.jsx("p",{className:"text-slate-600 text-sm bg-slate-50 p-4 rounded-lg",children:p.overallFeedback||"No feedback available."})]}),p.questionResults&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Question Results"}),c.jsx("div",{className:"space-y-2",children:p.questionResults.map((H,K)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[c.jsxs("span",{className:"font-medium text-slate-700",children:["Q",H.questionId]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[H.score,"/",H.maxScore]}),c.jsxs("span",{className:"text-sm text-slate-500",children:["Level ",H.level||"N/A"]})]})]},K))})]})]})]})}),N.isOpen&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-in fade-in zoom-in duration-200",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx(Ea,{className:"text-red-600",size:24})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900",children:N.title})]}),c.jsx("p",{className:"text-slate-600 mb-6",children:N.message}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>M(H=>({...H,isOpen:!1})),className:"flex-1 px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-xl transition-colors",children:"Cancel"}),c.jsx("button",{onClick:N.onConfirm,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-xl transition-all shadow-lg shadow-red-500/25",children:"Delete"})]})]})})})]})},wye=()=>{var A;const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(!0),[l,d]=w.useState(""),[f,h]=w.useState("all"),[p,g]=w.useState(null);w.useEffect(()=>{v()},[]),w.useEffect(()=>{let S=[...t];if(f!=="all"&&(S=S.filter(O=>O.method===f)),l){const O=l.toLowerCase();S=S.filter(U=>{var k,C;return((k=U.userId)==null?void 0:k.toLowerCase().includes(O))||((C=U.text)==null?void 0:C.toLowerCase().includes(O))})}r(S)},[t,f,l]);const v=async()=>{s(!0);try{const S=Dr(it(we,"labSessions"),Zh("date","desc"),Fv(100)),U=(await $n(S)).docs.map(k=>({id:k.id,...k.data()}));e(U)}catch(S){console.error("Failed to load lab sessions",S),e([])}s(!1)},b=async S=>{if(window.confirm("Delete this lab session?"))try{await cc(qe(we,"labSessions",S)),e(O=>O.filter(U=>U.id!==S))}catch(O){console.error("Failed to delete session",O),alert("Failed to delete session.")}},E=S=>{switch(S){case"analyzer":return c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Analyzer"});case"gym":return c.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Writing Gym"});default:return c.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-800 text-xs font-medium rounded-full",children:S})}};return a?c.jsx("div",{className:"p-8",children:"Loading lab sessions..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center flex-wrap gap-4",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Language Lab Sessions"}),c.jsx("p",{className:"text-slate-500",children:"View and manage student practice sessions."})]})}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap bg-white p-4 rounded-xl border border-slate-200",children:[c.jsxs("select",{value:f,onChange:S=>h(S.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Methods"}),c.jsx("option",{value:"analyzer",children:"Analyzer"}),c.jsx("option",{value:"gym",children:"Writing Gym"})]}),c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search by User ID or text...",value:l,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("span",{className:"text-sm text-slate-400",children:["Showing ",n.length," of ",t.length]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User ID"}),c.jsx("th",{className:"px-6 py-4",children:"Method"}),c.jsx("th",{className:"px-6 py-4",children:"Text Preview"}),c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(S=>{var O,U,k;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-slate-600",children:[(O=S.userId)==null?void 0:O.substring(0,12),"..."]}),c.jsx("td",{className:"px-6 py-4",children:E(S.method)}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-[300px] truncate",children:[(U=S.text)==null?void 0:U.substring(0,100),"..."]}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:(k=S.date)!=null&&k.seconds?new Date(S.date.seconds*1e3).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx("button",{onClick:()=>g(S),className:"p-2 text-slate-500 hover:bg-slate-100 rounded",title:"View Details",children:c.jsx(rX,{size:18})}),c.jsx("button",{onClick:()=>b(S.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(Ea,{size:18})})]})})]},S.id)}),n.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:"No lab sessions found."})})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Jn,{size:24,className:"text-indigo-500"}),c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Lab Session Details"})]}),c.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-slate-100 rounded-lg",children:c.jsx(ri,{size:20})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ku,{size:16,className:"text-slate-400"}),c.jsx("p",{className:"text-sm text-slate-500",children:"User ID"})]}),c.jsx("p",{className:"font-mono text-sm",children:p.userId})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(dc,{size:16,className:"text-slate-400"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Date"})]}),c.jsx("p",{className:"font-medium",children:(A=p.date)!=null&&A.seconds?new Date(p.date.seconds*1e3).toLocaleString():"Unknown"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Method"}),E(p.method)]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Submitted Text"}),c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg text-sm text-slate-700 whitespace-pre-wrap max-h-[200px] overflow-y-auto",children:p.text||"No text submitted."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"AI Feedback"}),c.jsx("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-slate-700 whitespace-pre-wrap max-h-[200px] overflow-y-auto",children:typeof p.feedback=="object"?JSON.stringify(p.feedback,null,2):p.feedback||"No feedback available."})]})]})]})})]})},_ye=()=>{var M;const t=Ft(),e=Qa.includes(((M=je.currentUser)==null?void 0:M.email)||""),[n,r]=w.useState({adminEmails:[...ti],featureFlags:{paper1Enabled:!0,paper2Enabled:!0,languageLabEnabled:!0},apiKeyConfigured:!0}),[a,s]=w.useState(!0),[l,d]=w.useState(!1),[f,h]=w.useState(!1),[p,g]=w.useState(""),[v,b]=w.useState([]),[E,A]=w.useState(null),[S,O]=w.useState("checking");w.useEffect(()=>{k(),U()},[]);const U=async()=>{O("checking");try{const T=await fetch("/api/debug-config");T.ok?(await T.json()).hasApiKey?O("active"):O("none"):O("invalid")}catch(T){console.error("Failed to check API key status:",T),O("invalid")}},k=async()=>{s(!0);try{const T=qe(we,"systemSettings","config"),R=await ea(T);if(R.exists()){const V=R.data();r($=>{var ne,pe,Y;return{adminEmails:V.adminEmails||[...ti],featureFlags:{paper1Enabled:((ne=V.featureFlags)==null?void 0:ne.paper1Enabled)??!0,paper2Enabled:((pe=V.featureFlags)==null?void 0:pe.paper2Enabled)??!0,languageLabEnabled:((Y=V.featureFlags)==null?void 0:Y.languageLabEnabled)??!0},apiKeyConfigured:V.apiKeyConfigured??!0}})}const L=await Ac();b(L)}catch(T){console.error("Failed to load settings",T)}s(!1)},C=async()=>{h(!0);try{const T=qe(we,"systemSettings","config");await Ya(T,n,{merge:!0}),A({type:"success",text:"Settings saved successfully!"}),setTimeout(()=>A(null),3e3)}catch(T){console.error("Failed to save settings",T),A({type:"error",text:"Failed to save settings. Check permissions."})}h(!1)},P=async()=>{var T,R,L;if(!p){A({type:"error",text:"Please select a user."});return}h(!0);try{const V=v.find($=>$.id===p);await vr(qe(we,"users",p),{isAdmin:!0,adminPromotedAt:or(),adminPromotedBy:(T=je.currentUser)==null?void 0:T.uid}),await xr(it(we,"activityLogs"),{action:"Admin Role Assigned",actionType:"update",targetType:"user",targetId:p,details:`Promoted user ${(V==null?void 0:V.displayName)||(V==null?void 0:V.email)} to admin`,userId:((R=je.currentUser)==null?void 0:R.uid)||"unknown",userEmail:((L=je.currentUser)==null?void 0:L.email)||"unknown",timestamp:or()}),b($=>$.map(ne=>ne.id===p?{...ne,isAdmin:!0}:ne)),g(""),A({type:"success",text:` ${(V==null?void 0:V.displayName)||"User"} promoted to Admin successfully!`})}catch(V){console.error("Error adding admin:",V),A({type:"error",text:"Failed to add admin."})}h(!1)},z=async T=>{var L,V,$,ne;if(T===((L=je.currentUser)==null?void 0:L.uid)){A({type:"error",text:"You cannot remove yourself."});return}const R=v.find(pe=>pe.id===T);if(R&&Qa.includes(R.email)){A({type:"error",text:"Cannot remove a Super Admin."});return}if(window.confirm(`Are you sure you want to remove admin access for ${(R==null?void 0:R.displayName)||"this user"}?`)){h(!0);try{await vr(qe(we,"users",T),{isAdmin:!1,adminRemovedAt:or(),adminRemovedBy:(V=je.currentUser)==null?void 0:V.uid}),await xr(it(we,"activityLogs"),{action:"Admin Role Removed",actionType:"update",targetType:"user",targetId:T,details:`Removed admin access from ${(R==null?void 0:R.displayName)||(R==null?void 0:R.email)}`,userId:(($=je.currentUser)==null?void 0:$.uid)||"unknown",userEmail:((ne=je.currentUser)==null?void 0:ne.email)||"unknown",timestamp:or()}),b(pe=>pe.map(Y=>Y.id===T?{...Y,isAdmin:!1}:Y)),A({type:"success",text:` Admin role removed from ${(R==null?void 0:R.displayName)||"user"}.`})}catch(pe){console.error("Error removing admin:",pe),A({type:"error",text:"Failed to remove admin."})}h(!1)}},N=T=>{r(R=>({...R,featureFlags:{...R.featureFlags,[T]:!R.featureFlags[T]}}))};return a?c.jsx("div",{className:"p-8",children:"Loading settings..."}):e?c.jsxs("div",{className:"space-y-8 max-w-4xl",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"System Settings"}),c.jsx("p",{className:"text-slate-500",children:"Manage platform configuration and access control."})]}),E&&c.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl ${E.type==="success"?"bg-emerald-50 text-emerald-800":"bg-red-50 text-red-800"}`,children:[E.type==="success"?c.jsx(Wi,{size:20}):c.jsx(Gu,{size:20}),c.jsx("span",{children:E.text})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:c.jsx(Aa,{size:20,className:"text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-slate-900",children:"Admin Management"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Manage users with Admin access."})]})]}),c.jsx("div",{className:"space-y-3 mb-6",children:v.filter(T=>T.isAdmin).length===0?c.jsx("p",{className:"text-sm text-slate-500 italic p-2",children:"No admins found in database."}):c.jsx("div",{className:"space-y-2",children:v.filter(T=>T.isAdmin).map(T=>{const R=Qa.includes(T.email||"");return c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${R?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm ${R?"bg-gradient-to-br from-amber-500 to-orange-600":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:R?c.jsx(ZA,{size:16}):c.jsx(Yi,{size:16})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-sm font-bold text-slate-900",children:T.displayName||"No Name"}),R&&c.jsx("span",{className:"px-2 py-1 bg-amber-200 text-amber-900 text-xs font-bold rounded-full",children:"Super Admin"})]}),c.jsx("p",{className:"text-xs text-slate-500",children:T.email})]})]}),!R&&c.jsx("button",{onClick:()=>z(T.id),disabled:f,className:"p-2 text-red-500 hover:bg-red-100 rounded-lg disabled:opacity-50 transition-colors",title:"Remove Admin Access",children:c.jsx(ri,{size:18})})]},T.id)})})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:p,onChange:T=>g(T.target.value),className:"flex-1 px-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",disabled:f,children:[c.jsx("option",{value:"",children:"Select a user to make admin..."}),v.filter(T=>!T.isAdmin&&T.isApproved).sort((T,R)=>(T.email||"").localeCompare(R.email||"")).map(T=>{const R=T.displayName?`${T.displayName} (${T.email||"No Email"})`:T.email||`Unnamed User (ID: ${T.id.slice(0,8)}...)`;return c.jsx("option",{value:T.id,children:R},T.id)})]}),c.jsxs("button",{onClick:P,disabled:!p||f,className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg font-medium flex items-center gap-2 disabled:bg-indigo-300",children:[c.jsx(tS,{size:18}),"Add Role"]})]}),c.jsxs("p",{className:"mt-4 text-xs text-blue-600 bg-blue-50 p-3 rounded-lg",children:[c.jsx("strong",{children:"Note:"})," Admins are now managed via the ",c.jsx("code",{children:"isAdmin"})," flag on their user profile. Detailed permissions are enforced by database rules."]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:c.jsx(rS,{size:20,className:"text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-slate-900",children:"Feature Flags"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Enable or disable platform features."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Paper 1 (Fiction)"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Allow students to take Paper 1 exams"})]}),c.jsx("button",{onClick:()=>N("paper1Enabled"),className:`p-2 rounded-lg transition-colors ${n.featureFlags.paper1Enabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:n.featureFlags.paper1Enabled?c.jsx(mw,{size:28}):c.jsx(hw,{size:28})})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Paper 2 (Non-Fiction)"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Allow students to take Paper 2 exams"})]}),c.jsx("button",{onClick:()=>N("paper2Enabled"),className:`p-2 rounded-lg transition-colors ${n.featureFlags.paper2Enabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:n.featureFlags.paper2Enabled?c.jsx(mw,{size:28}):c.jsx(hw,{size:28})})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Language Lab"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Enable the Language Lab practice area"})]}),c.jsx("button",{onClick:()=>N("languageLabEnabled"),className:`p-2 rounded-lg transition-colors ${n.featureFlags.languageLabEnabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-400"}`,children:n.featureFlags.languageLabEnabled?c.jsx(mw,{size:28}):c.jsx(hw,{size:28})})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:c.jsx(BQ,{size:20,className:"text-amber-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-slate-900",children:"API Configuration"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Manage API keys and external services."})]})]}),c.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800",children:"Gemini API Key"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Used for AI-powered exam generation and marking"})]}),c.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${S==="checking"?"bg-slate-100 text-slate-600":S==="active"?"bg-emerald-100 text-emerald-800":S==="none"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:[S==="checking"&&" Checking...",S==="active"&&" Active",S==="none"&&" Not Configured",S==="invalid"&&" Server Error"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("input",{type:l?"text":"password",id:"apiKeyInput",defaultValue:localStorage.getItem("gemini_api_key")||"",placeholder:"Enter your Gemini API key...",className:"w-full px-4 py-2 pr-10 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 font-mono"}),c.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:l?c.jsx(y3,{size:18}):c.jsx(tm,{size:18})})]}),c.jsxs("button",{onClick:async()=>{var L,V,$;const T=document.getElementById("apiKeyInput"),R=(L=T==null?void 0:T.value)==null?void 0:L.trim();if(!R){A({type:"error",text:"Please enter a valid API key."});return}A({type:"success",text:" Saving API key..."});try{const ne=qe(we,"systemSettings","config");await Ya(ne,{geminiApiKey:R},{merge:!0}),localStorage.setItem("gemini_api_key",R),await xr(it(we,"activityLogs"),{action:"API Key Updated",actionType:"update",targetType:"system",targetId:"gemini-api-key",details:"Gemini API key updated by super admin",userId:((V=je.currentUser)==null?void 0:V.uid)||"unknown",userEmail:(($=je.currentUser)==null?void 0:$.email)||"unknown",timestamp:or()}),A({type:"success",text:" API key saved successfully! Restart the server to apply changes."}),setTimeout(()=>{A(null),U()},3e3)}catch(ne){console.error("Failed to save API key:",ne),A({type:"error",text:"Failed to save API key. Check Firestore permissions."})}},className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-medium flex items-center gap-2",children:[c.jsx(xy,{size:18}),"Save Key"]})]}),c.jsxs("p",{className:"text-xs text-slate-400",children:["Your API key is stored in Firestore (for server access) and browser local storage.",c.jsx("button",{onClick:async()=>{try{const T=qe(we,"systemSettings","config");await Ya(T,{geminiApiKey:""},{merge:!0}),localStorage.removeItem("gemini_api_key"),document.getElementById("apiKeyInput").value="",A({type:"success",text:"API key removed from server and local storage."}),setTimeout(()=>A(null),3e3)}catch(T){console.error("Failed to clear API key:",T),A({type:"error",text:"Failed to clear API key from server."})}},className:"ml-2 text-red-500 hover:underline",children:"Clear saved key"})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:C,disabled:f,className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold flex items-center gap-2 disabled:opacity-50",children:[c.jsx(xy,{size:20}),f?"Saving...":"Save Settings"]})})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center",children:[c.jsx("div",{className:"p-4 bg-red-100 rounded-full mb-4",children:c.jsx(bX,{size:48,className:"text-red-500"})}),c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"You don't have permission to access System Settings."}),c.jsx("p",{className:"text-sm text-slate-400",children:"Only Super Administrators can modify these settings."}),c.jsx("button",{onClick:()=>t("/admin"),className:"mt-6 px-6 py-2 bg-slate-800 hover:bg-slate-900 text-white rounded-lg font-medium",children:"Return to Dashboard"})]})},Eye=()=>{const t=Ft(),[e,n]=w.useState(""),[r,a]=w.useState(""),[s,l]=w.useState(!1),[d,f]=w.useState(""),h=async p=>{p.preventDefault(),f(""),l(!0);try{const g=await GA(e,r);g&&ti.includes(g.email||"")?t("/admin"):(f("Unauthorized access. This area is reserved for administrators."),await fd())}catch(g){f("Authentication failed. Please check your credentials."),console.error(g)}finally{l(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#0f172a] relative overflow-hidden font-sans",children:[c.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-600/10 rounded-full blur-[120px]"}),c.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[120px]"}),c.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-indigo-500/20 mb-6",children:c.jsx(Yi,{size:32})}),c.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight mb-2",children:"Admin Control"}),c.jsx("p",{className:"text-slate-400",children:"Secure access to the Go GCSE platform"})]}),c.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-white/10 p-8 rounded-3xl shadow-2xl",children:[d&&c.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 text-red-400 text-sm",children:[c.jsx(Gu,{size:18}),c.jsx("span",{children:d})]}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Administrator Email"}),c.jsxs("div",{className:"relative group",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:c.jsx(sX,{size:18})}),c.jsx("input",{type:"email",value:e,onChange:p=>n(p.target.value),placeholder:"admin@example.com",required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-900/50 border border-white/10 rounded-2xl text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all font-medium"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Secure Password"}),c.jsxs("div",{className:"relative group",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:c.jsx(ah,{size:18})}),c.jsx("input",{type:"password",value:r,onChange:p=>a(p.target.value),placeholder:"",required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-900/50 border border-white/10 rounded-2xl text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all font-medium"})]})]}),c.jsx("button",{type:"submit",disabled:s,className:`w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white rounded-2xl font-bold shadow-lg shadow-blue-600/20 transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?c.jsx(Xa,{size:20,className:"animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"Authorize Access"}),c.jsx(Hv,{size:20})]})})]}),c.jsx("div",{className:"mt-8 pt-8 border-t border-white/5 text-center",children:c.jsx("button",{onClick:()=>t("/login"),className:"text-sm text-slate-500 hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto",children:"Return to Student Login"})})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx("p",{className:"text-xs text-slate-600 uppercase tracking-widest font-bold",children:"Go GCSE Admin v1.0.2"})})]})]})},Aye=()=>{var b;const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(""),[l,d]=w.useState(!0),[f,h]=w.useState(!1),p=Qa.includes(((b=je.currentUser)==null?void 0:b.email)||"");w.useEffect(()=>{g()},[]),w.useEffect(()=>{if(!Array.isArray(t))return;const E=a.toLowerCase();r(t.filter(A=>A&&((A.email||"").toLowerCase().includes(E)||(A.displayName||"").toLowerCase().includes(E))))},[a,t]);const g=async()=>{d(!0);const E=await Ac();E.sort((A,S)=>{const O=(A.isAdmin?2:0)+(A.isTeacher?1:0);return(S.isAdmin?2:0)+(S.isTeacher?1:0)-O}),e(E),d(!1)},v=async(E,A,S)=>{var C,P;if(!p){alert("Only super admins can change user roles.");return}const O=t.find(z=>z.id===E);if(A==="admin"&&Qa.includes((O==null?void 0:O.email)||"")){alert("Cannot modify Super Admin roles.");return}const U=A==="admin"?"Admin":"Teacher";if(confirm(`Are you sure you want to ${S?"remove":"assign"} the ${U} role for ${(O==null?void 0:O.displayName)||"this user"}?`)){h(!0);try{const z=!S,N={};A==="admin"?N.isAdmin=z:N.isTeacher=z,N.updatedAt=or(),await vr(qe(we,"users",E),N),await xr(it(we,"activityLogs"),{action:`${U} Role ${z?"Assigned":"Removed"}`,actionType:"update",targetType:"user",targetId:E,details:`User ${U.toLowerCase()} role ${z?"enabled":"disabled"} for ${O==null?void 0:O.email}`,userId:((C=je.currentUser)==null?void 0:C.uid)||"unknown",userEmail:((P=je.currentUser)==null?void 0:P.email)||"unknown",timestamp:or()});const M=t.map(T=>T.id===E?A==="admin"?{...T,isAdmin:z}:{...T,isTeacher:z}:T);e(M)}catch(z){console.error("Failed to toggle role:",z),alert("Failed to update user role")}finally{h(!1)}}};return l?c.jsx("div",{className:"p-8",children:"Loading staff directory..."}):p?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin & Staff Directory"}),c.jsx("p",{className:"text-slate-500",children:"Manage elevated privileges for admins and teachers."})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:E=>s(E.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-edexcel-teal w-64"})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User"}),c.jsx("th",{className:"px-6 py-4",children:"Email"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Admin Role"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Teacher Role"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(E=>{const A=Qa.includes(E.email||"");return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 overflow-hidden font-bold",children:E.photoURL?c.jsx("img",{src:E.photoURL,className:"w-full h-full object-cover",alt:""}):(E.displayName||E.email||"?")[0].toUpperCase()}),c.jsx("div",{children:c.jsxs("div",{className:"font-medium text-slate-900 flex items-center gap-2",children:[E.displayName||"Unnamed User",A&&c.jsx(ZA,{size:14,className:"text-amber-500"})]})})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:E.email}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("button",{onClick:()=>v(E.id,"admin",E.isAdmin),disabled:f||A,className:`inline-flex items-center justify-center p-2 rounded-lg transition-all ${E.isAdmin?"bg-red-100 text-red-600 hover:bg-red-200":"bg-slate-100 text-slate-300 hover:bg-slate-200"} ${A?"opacity-50 cursor-not-allowed":""}`,title:A?"Super Admins are always Admins":"Toggle Admin Role",children:c.jsx(Yi,{size:20,className:E.isAdmin?"fill-current":""})})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("button",{onClick:()=>v(E.id,"teacher",E.isTeacher),disabled:f,className:`inline-flex items-center justify-center p-2 rounded-lg transition-all ${E.isTeacher?"bg-blue-100 text-blue-600 hover:bg-blue-200":"bg-slate-100 text-slate-300 hover:bg-slate-200"}`,title:"Toggle Teacher Role",children:c.jsx(Kv,{size:20,className:E.isTeacher?"fill-current":""})})})]},E.id)}),n.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-400",children:['No users found matching "',a,'"']})})]})]})})]}):c.jsx("div",{className:"p-8 text-center text-red-500",children:"Access Denied: Super Admin privileges required."})},Sye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=w.useState([]),[a,s]=w.useState(!0),[l,d]=w.useState(!1),[f,h]=w.useState(null),[p,g]=w.useState({title:"",message:"",type:"info",active:!0,startDate:"",endDate:""}),v=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",b=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500",A=e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-200 text-slate-900";w.useEffect(()=>{S()},[]);const S=async()=>{s(!0);try{const N=Dr(it(we,"announcements"),Zh("createdAt","desc")),T=(await $n(N)).docs.map(R=>({id:R.id,...R.data()}));r(T)}catch(N){console.error("Failed to load announcements",N)}s(!1)},O=async()=>{var N;if(!p.title||!p.message){alert("Please fill in title and message");return}try{const M={title:p.title,message:p.message,type:p.type,active:p.active,startDate:p.startDate?at.fromDate(new Date(p.startDate)):null,endDate:p.endDate?at.fromDate(new Date(p.endDate)):null,createdAt:at.now(),createdBy:((N=je.currentUser)==null?void 0:N.email)||"unknown"};f?await vr(qe(we,"announcements",f),M):await xr(it(we,"announcements"),M),d(!1),h(null),P(),S()}catch(M){console.error("Failed to save announcement",M),alert("Failed to save announcement")}},U=N=>{g({title:N.title,message:N.message,type:N.type,active:N.active,startDate:N.startDate?new Date(N.startDate.seconds*1e3).toISOString().split("T")[0]:"",endDate:N.endDate?new Date(N.endDate.seconds*1e3).toISOString().split("T")[0]:""}),h(N.id),d(!0)},k=async N=>{if(window.confirm("Delete this announcement?"))try{await cc(qe(we,"announcements",N)),r(M=>M.filter(T=>T.id!==N))}catch(M){console.error("Failed to delete",M)}},C=async(N,M)=>{try{await vr(qe(we,"announcements",N),{active:!M}),r(T=>T.map(R=>R.id===N?{...R,active:!M}:R))}catch(T){console.error("Failed to toggle",T)}},P=()=>{g({title:"",message:"",type:"info",active:!0,startDate:"",endDate:""})},z=N=>{const M={info:"bg-blue-100 text-blue-800",warning:"bg-amber-100 text-amber-800",success:"bg-emerald-100 text-emerald-800",error:"bg-red-100 text-red-800"};return M[N]||M.info};return a?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading announcements..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${b}`,children:"Announcements"}),c.jsx("p",{className:E,children:"Manage platform-wide announcements for students."})]}),c.jsxs("button",{onClick:()=>{P(),h(null),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[c.jsx(tS,{size:18}),"New Announcement"]})]}),c.jsx("div",{className:"space-y-4",children:n.length===0?c.jsxs("div",{className:`text-center py-12 ${v} rounded-xl border`,children:[c.jsx(h3,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No announcements yet."})]}):n.map(N=>c.jsx("div",{className:`p-5 rounded-xl border ${v} ${N.active?"":"opacity-60"}`,children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:`font-bold ${b}`,children:N.title}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${z(N.type)}`,children:N.type}),N.active?c.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-emerald-100 text-emerald-800",children:"Active"}):c.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-slate-100 text-slate-600",children:"Inactive"})]}),c.jsx("p",{className:`text-sm ${E} mb-3`,children:N.message}),c.jsxs("div",{className:`flex items-center gap-4 text-xs ${E}`,children:[c.jsxs("span",{children:["Created by ",N.createdBy]}),N.startDate&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(dc,{size:12}),"Starts: ",new Date(N.startDate.seconds*1e3).toLocaleDateString()]}),N.endDate&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(dc,{size:12}),"Ends: ",new Date(N.endDate.seconds*1e3).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>C(N.id,N.active),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,title:N.active?"Deactivate":"Activate",children:N.active?c.jsx(y3,{size:18,className:E}):c.jsx(tm,{size:18,className:E})}),c.jsx("button",{onClick:()=>U(N),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:c.jsx(Wv,{size:18,className:"text-blue-500"})}),c.jsx("button",{onClick:()=>k(N.id),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:c.jsx(Ea,{size:18,className:"text-red-500"})})]})]})},N.id))}),l&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:`rounded-2xl shadow-2xl max-w-lg w-full ${e?"bg-slate-800":"bg-white"}`,children:[c.jsxs("div",{className:`p-5 border-b flex justify-between items-center ${e?"border-slate-700":"border-slate-100"}`,children:[c.jsx("h2",{className:`text-lg font-bold ${b}`,children:f?"Edit Announcement":"New Announcement"}),c.jsx("button",{onClick:()=>d(!1),className:`p-2 rounded-lg ${e?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:c.jsx(ri,{size:20,className:E})})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Title"}),c.jsx("input",{type:"text",value:p.title,onChange:N=>g(M=>({...M,title:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`,placeholder:"Announcement title..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Message"}),c.jsx("textarea",{value:p.message,onChange:N=>g(M=>({...M,message:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`,placeholder:"Announcement message...",rows:3})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Type"}),c.jsxs("select",{value:p.type,onChange:N=>g(M=>({...M,type:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`,children:[c.jsx("option",{value:"info",children:"Info"}),c.jsx("option",{value:"success",children:"Success"}),c.jsx("option",{value:"warning",children:"Warning"}),c.jsx("option",{value:"error",children:"Error"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[c.jsx("input",{type:"checkbox",checked:p.active,onChange:N=>g(M=>({...M,active:N.target.checked})),className:"w-4 h-4"}),c.jsx("label",{className:`text-sm ${b}`,children:"Active immediately"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"Start Date (optional)"}),c.jsx("input",{type:"date",value:p.startDate,onChange:N=>g(M=>({...M,startDate:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-1 ${E}`,children:"End Date (optional)"}),c.jsx("input",{type:"date",value:p.endDate,onChange:N=>g(M=>({...M,endDate:N.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${A}`})]})]})]}),c.jsxs("div",{className:`p-5 border-t flex justify-end gap-3 ${e?"border-slate-700":"border-slate-100"}`,children:[c.jsx("button",{onClick:()=>d(!1),className:`px-4 py-2 rounded-lg font-medium ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:"Cancel"}),c.jsxs("button",{onClick:O,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium flex items-center gap-2",children:[c.jsx(QA,{size:18}),f?"Update":"Create"]})]})]})})]})},jye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=w.useState([]),[a,s]=w.useState(!0),[l,d]=w.useState("all"),[f,h]=w.useState(""),[p,g]=w.useState("7"),v=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",b=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500";w.useEffect(()=>{A()},[p]);const A=async()=>{s(!0);try{const k=parseInt(p),C=new Date;C.setDate(C.getDate()-k);const P=Dr(it(we,"activityLogs"),Rs("timestamp",">=",at.fromDate(C)),Zh("timestamp","desc"),Fv(200)),N=(await $n(P)).docs.map(M=>({id:M.id,...M.data()}));r(N)}catch(k){console.error("Failed to load activity logs",k),r([])}s(!1)},S=n.filter(k=>{var C,P,z;if(l!=="all"&&k.actionType!==l)return!1;if(f){const N=f.toLowerCase();return((C=k.userEmail)==null?void 0:C.toLowerCase().includes(N))||((P=k.action)==null?void 0:P.toLowerCase().includes(N))||((z=k.details)==null?void 0:z.toLowerCase().includes(N))}return!0}),O=k=>{switch(k){case"login":return c.jsx(vy,{size:16,className:"text-green-500"});case"logout":return c.jsx(hd,{size:16,className:"text-slate-400"});case"create":return c.jsx(Wv,{size:16,className:"text-blue-500"});case"update":return c.jsx(rS,{size:16,className:"text-amber-500"});case"delete":return c.jsx(Ea,{size:16,className:"text-red-500"});case"setting":return c.jsx(Yi,{size:16,className:"text-purple-500"});default:return c.jsx(gy,{size:16,className:E})}},U=k=>{const C={login:"bg-green-100 text-green-800",logout:"bg-slate-100 text-slate-600",create:"bg-blue-100 text-blue-800",update:"bg-amber-100 text-amber-800",delete:"bg-red-100 text-red-800",setting:"bg-purple-100 text-purple-800",other:"bg-slate-100 text-slate-600"};return C[k]||C.other};return a?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading activity logs..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${b}`,children:"Activity Log"}),c.jsx("p",{className:E,children:"Track all admin actions and system events."})]}),c.jsxs("div",{className:`flex items-center gap-4 flex-wrap p-4 rounded-xl border ${v}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(v3,{size:18,className:E}),c.jsx("span",{className:`text-sm font-medium ${E}`,children:"Filters:"})]}),c.jsxs("select",{value:l,onChange:k=>d(k.target.value),className:`px-3 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-200"}`,children:[c.jsx("option",{value:"all",children:"All Actions"}),c.jsx("option",{value:"login",children:"Logins"}),c.jsx("option",{value:"logout",children:"Logouts"}),c.jsx("option",{value:"create",children:"Creates"}),c.jsx("option",{value:"update",children:"Updates"}),c.jsx("option",{value:"delete",children:"Deletes"}),c.jsx("option",{value:"setting",children:"Settings"})]}),c.jsxs("select",{value:p,onChange:k=>g(k.target.value),className:`px-3 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-200"}`,children:[c.jsx("option",{value:"1",children:"Last 24 hours"}),c.jsx("option",{value:"7",children:"Last 7 days"}),c.jsx("option",{value:"30",children:"Last 30 days"}),c.jsx("option",{value:"90",children:"Last 90 days"})]}),c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2",size:18}),c.jsx("input",{type:"text",placeholder:"Search by email or action...",value:f,onChange:k=>h(k.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-200"}`})]}),c.jsxs("span",{className:`text-sm ${E}`,children:[S.length," events"]})]}),c.jsx("div",{className:`rounded-xl border overflow-hidden ${v}`,children:S.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(gy,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No activity logs found."}),c.jsx("p",{className:`text-sm ${E} mt-2`,children:"Activity will be recorded as admins perform actions."})]}):c.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:S.map(k=>{var C,P;return c.jsx("div",{className:`p-4 ${e?"hover:bg-slate-700/50":"hover:bg-slate-50"} transition-colors`,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`p-2 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:O(k.actionType)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`font-medium ${b}`,children:k.action}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${U(k.actionType)}`,children:k.actionType})]}),c.jsxs("div",{className:`flex items-center gap-3 text-sm ${E}`,children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ku,{size:14}),k.userEmail]}),k.targetType&&c.jsxs("span",{children:["Target: ",k.targetType," ",k.targetId?`(${k.targetId.substring(0,8)}...)`:""]})]}),k.details&&c.jsx("p",{className:`text-sm mt-1 ${E}`,children:k.details})]}),c.jsxs("div",{className:`text-right text-sm ${E}`,children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(dc,{size:14}),(C=k.timestamp)!=null&&C.seconds?new Date(k.timestamp.seconds*1e3).toLocaleDateString():"Unknown"]}),c.jsx("div",{className:"text-xs mt-1",children:(P=k.timestamp)!=null&&P.seconds?new Date(k.timestamp.seconds*1e3).toLocaleTimeString():""}),k.ipAddress&&c.jsx("div",{className:"text-xs mt-1 font-mono",children:k.ipAddress})]})]})},k.id)})})})]})},Nye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=w.useState([]),[a,s]=w.useState(!0),[l,d]=w.useState(""),[f,h]=w.useState(null),[p,g]=w.useState(null),v=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",b=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500";w.useEffect(()=>{A()},[]);const A=async()=>{s(!0);try{const P=["exam-images","pdfs","uploads"],z=[];for(const N of P)try{const M=my(yh,N),T=await OY(M);for(const R of T.items)try{const L=await FA(R),V=await CY(R);z.push({name:R.name,fullPath:R.fullPath,url:L,size:V.size,contentType:V.contentType,timeCreated:V.timeCreated})}catch{}}catch{}r(z.sort((N,M)=>new Date(M.timeCreated||0).getTime()-new Date(N.timeCreated||0).getTime()))}catch(P){console.error("Failed to load assets",P)}s(!1)},S=async P=>{if(window.confirm(`Delete "${P.name}"? This cannot be undone.`)){g(P.fullPath);try{const z=my(yh,P.fullPath);await IY(z),r(N=>N.filter(M=>M.fullPath!==P.fullPath)),(f==null?void 0:f.fullPath)===P.fullPath&&h(null)}catch(z){console.error("Failed to delete asset",z),alert("Failed to delete asset")}g(null)}},O=P=>P?P<1024?`${P} B`:P<1024*1024?`${(P/1024).toFixed(1)} KB`:`${(P/(1024*1024)).toFixed(1)} MB`:"Unknown",U=n.filter(P=>P.name.toLowerCase().includes(l.toLowerCase())),k=P=>P==null?void 0:P.startsWith("image/"),C=P=>P==="application/pdf";return a?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading assets..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${b}`,children:"Asset Management"}),c.jsx("p",{className:E,children:"View and manage uploaded files and generated images."})]}),c.jsxs("button",{onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(nS,{size:18}),"Refresh"]})]}),c.jsxs("div",{className:`flex items-center gap-4 flex-wrap p-4 rounded-xl border ${v}`,children:[c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2",size:18}),c.jsx("input",{type:"text",placeholder:"Search by filename...",value:l,onChange:P=>d(P.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-200"}`})]}),c.jsxs("span",{className:`text-sm ${E}`,children:[U.length," files  ",O(U.reduce((P,z)=>P+(z.size||0),0))," total"]})]}),U.length===0?c.jsxs("div",{className:`text-center py-12 ${v} rounded-xl border`,children:[c.jsx(dg,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No assets found."})]}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:U.map(P=>c.jsxs("div",{className:`rounded-xl border overflow-hidden cursor-pointer transition-transform hover:scale-[1.02] ${v} ${(f==null?void 0:f.fullPath)===P.fullPath?"ring-2 ring-indigo-500":""}`,onClick:()=>h(P),children:[c.jsx("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700 flex items-center justify-center overflow-hidden",children:k(P.contentType)?c.jsx("img",{src:P.url,alt:P.name,className:"w-full h-full object-cover"}):C(P.contentType)?c.jsxs("div",{className:"text-red-500",children:[c.jsx(dg,{size:48}),c.jsx("p",{className:"text-xs mt-2",children:"PDF"})]}):c.jsx(dg,{size:48,className:E})}),c.jsxs("div",{className:"p-3",children:[c.jsx("p",{className:`text-sm font-medium truncate ${b}`,children:P.name}),c.jsx("p",{className:`text-xs ${E}`,children:O(P.size)})]})]},P.fullPath))}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>h(null),children:c.jsxs("div",{className:`rounded-2xl shadow-2xl max-w-2xl w-full ${e?"bg-slate-800":"bg-white"}`,onClick:P=>P.stopPropagation(),children:[c.jsx("div",{className:"aspect-video bg-slate-100 dark:bg-slate-700 flex items-center justify-center overflow-hidden rounded-t-2xl",children:k(f.contentType)?c.jsx("img",{src:f.url,alt:f.name,className:"max-w-full max-h-full object-contain"}):c.jsx(dg,{size:64,className:E})}),c.jsxs("div",{className:"p-5",children:[c.jsx("h3",{className:`text-lg font-bold ${b} mb-3`,children:f.name}),c.jsxs("div",{className:`grid grid-cols-2 gap-4 text-sm ${E} mb-4`,children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Size:"})," ",O(f.size)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Type:"})," ",f.contentType||"Unknown"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Path:"})," ",f.fullPath]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Created:"})," ",f.timeCreated?new Date(f.timeCreated).toLocaleDateString():"Unknown"]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium",children:[c.jsx(EQ,{size:18}),"Open"]}),c.jsxs("a",{href:f.url,download:f.name,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(JA,{size:18}),"Download"]}),c.jsxs("button",{onClick:()=>S(f),disabled:p===f.fullPath,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium disabled:opacity-50",children:[c.jsx(Ea,{size:18}),p===f.fullPath?"Deleting...":"Delete"]})]})]})]})})]})},Tye=()=>{const t=Uh(),e=(t==null?void 0:t.darkMode)||!1,[n,r]=w.useState([]),[a,s]=w.useState([]),[l,d]=w.useState(!0),[f,h]=w.useState("logins"),[p,g]=w.useState(""),v=e?"bg-slate-800 border-slate-700":"bg-white border-slate-200",b=e?"text-white":"text-slate-900",E=e?"text-slate-400":"text-slate-500";w.useEffect(()=>{A()},[]);const A=async()=>{d(!0);try{try{const P=Dr(it(we,"loginEvents"),Zh("timestamp","desc"),Fv(100)),z=await $n(P);r(z.docs.map(N=>({id:N.id,...N.data()})))}catch{r([])}const C=await Ac();s(C.map(P=>{var z;return{id:P.id,email:P.email,displayName:P.displayName,lastLogin:(z=P.metadata)!=null&&z.lastSignInTime?at.fromDate(new Date(P.metadata.lastSignInTime)):null,failedAttempts:P.failedAttempts||0,disabled:P.disabled||!1}}))}catch(C){console.error("Failed to load security data",C)}d(!1)},S=async(C,P)=>{if(window.confirm(`${P?"Enable":"Disable"} this user?`))try{const z=qe(we,"users",C);await vr(z,{disabled:!P}),s(N=>N.map(M=>M.id===C?{...M,disabled:!P}:M))}catch(z){console.error("Failed to toggle user status",z),alert("Failed to update user status")}},O=n.filter(C=>{var P;return f==="failed"&&C.success?!1:p?(P=C.email)==null?void 0:P.toLowerCase().includes(p.toLowerCase()):!0}),U=a.filter(C=>{var P,z;return p?((P=C.email)==null?void 0:P.toLowerCase().includes(p.toLowerCase()))||((z=C.displayName)==null?void 0:z.toLowerCase().includes(p.toLowerCase())):!0}),k={totalLogins:n.filter(C=>C.success).length,failedAttempts:n.filter(C=>!C.success).length,activeUsers:a.filter(C=>!C.disabled).length,disabledUsers:a.filter(C=>C.disabled).length};return l?c.jsx("div",{className:`p-8 text-center ${E}`,children:"Loading security data..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${b}`,children:"Security Center"}),c.jsx("p",{className:E,children:"Monitor login activity and manage user access."})]}),c.jsxs("button",{onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-700"}`,children:[c.jsx(nS,{size:18}),"Refresh"]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:`p-4 rounded-xl border ${v}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:c.jsx(vy,{size:20,className:"text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${b}`,children:k.totalLogins}),c.jsx("p",{className:`text-sm ${E}`,children:"Successful Logins"})]})]})}),c.jsx("div",{className:`p-4 rounded-xl border ${v}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:c.jsx(Mi,{size:20,className:"text-red-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${b}`,children:k.failedAttempts}),c.jsx("p",{className:`text-sm ${E}`,children:"Failed Attempts"})]})]})}),c.jsx("div",{className:`p-4 rounded-xl border ${v}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(Ku,{size:20,className:"text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${b}`,children:k.activeUsers}),c.jsx("p",{className:`text-sm ${E}`,children:"Active Users"})]})]})}),c.jsx("div",{className:`p-4 rounded-xl border ${v}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:c.jsx(tQ,{size:20,className:"text-slate-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-2xl font-bold ${b}`,children:k.disabledUsers}),c.jsx("p",{className:`text-sm ${E}`,children:"Disabled Users"})]})]})})]}),c.jsx("div",{className:`flex gap-1 p-1 rounded-xl ${e?"bg-slate-700":"bg-slate-100"}`,children:[{id:"logins",label:"Login History",icon:vy},{id:"failed",label:"Failed Attempts",icon:Mi},{id:"sessions",label:"User Sessions",icon:Ku}].map(C=>c.jsxs("button",{onClick:()=>h(C.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${f===C.id?e?"bg-slate-800 text-white":"bg-white text-slate-900 shadow-sm":E}`,children:[c.jsx(C.icon,{size:18}),C.label]},C.id))}),c.jsxs("div",{className:"relative",children:[c.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2",size:18}),c.jsx("input",{type:"text",placeholder:"Search by email...",value:p,onChange:C=>g(C.target.value),className:`w-full pl-10 pr-4 py-3 rounded-xl text-sm border focus:outline-none focus:ring-2 focus:ring-indigo-500 ${e?"bg-slate-800 border-slate-700 text-white placeholder-slate-400":"bg-white border-slate-200"}`})]}),f==="sessions"?c.jsx("div",{className:`rounded-xl border overflow-hidden ${v}`,children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-50",children:c.jsxs("tr",{className:`text-xs uppercase font-semibold ${E}`,children:[c.jsx("th",{className:"px-5 py-3",children:"User"}),c.jsx("th",{className:"px-5 py-3",children:"Last Login"}),c.jsx("th",{className:"px-5 py-3",children:"Status"}),c.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-100"}`,children:[U.map(C=>c.jsxs("tr",{className:e?"hover:bg-slate-700/50":"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-5 py-4",children:[c.jsx("div",{className:`font-medium ${b}`,children:C.displayName||"Anonymous"}),c.jsx("div",{className:`text-sm ${E}`,children:C.email})]}),c.jsx("td",{className:`px-5 py-4 text-sm ${E}`,children:C.lastLogin?new Date(C.lastLogin.seconds*1e3).toLocaleString():"Never"}),c.jsx("td",{className:"px-5 py-4",children:C.disabled?c.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Disabled"}):c.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Active"})}),c.jsx("td",{className:"px-5 py-4 text-right",children:c.jsx("button",{onClick:()=>S(C.id,C.disabled),className:`px-3 py-1 text-sm font-medium rounded-lg transition-colors ${C.disabled?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:C.disabled?"Enable":"Disable"})})]},C.id)),U.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:`px-5 py-12 text-center ${E}`,children:"No users found."})})]})]})}):c.jsx("div",{className:`rounded-xl border overflow-hidden ${v}`,children:O.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(Yi,{size:48,className:`mx-auto mb-4 ${E}`}),c.jsx("p",{className:E,children:"No login events recorded yet."}),c.jsx("p",{className:`text-sm ${E} mt-2`,children:"Events will appear as users log in."})]}):c.jsx("div",{className:`divide-y ${e?"divide-slate-700":"divide-slate-100"}`,children:O.map(C=>{var P;return c.jsx("div",{className:`p-4 ${e?"hover:bg-slate-700/50":"hover:bg-slate-50"}`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-2 rounded-lg ${C.success?"bg-green-100":"bg-red-100"}`,children:C.success?c.jsx(Wi,{size:20,className:"text-green-600"}):c.jsx(Mi,{size:20,className:"text-red-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:`font-medium ${b}`,children:C.email}),c.jsx("div",{className:`text-sm ${E}`,children:C.success?"Successful login":C.reason||"Failed attempt"})]}),c.jsxs("div",{className:`text-right text-sm ${E}`,children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Gv,{size:14}),(P=C.timestamp)!=null&&P.seconds?new Date(C.timestamp.seconds*1e3).toLocaleString():"Unknown"]}),C.ipAddress&&c.jsxs("div",{className:"flex items-center gap-1 justify-end mt-1 text-xs font-mono",children:[c.jsx(JQ,{size:12}),C.ipAddress]})]})]})},C.id)})})})]})},Cye=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[a,s]=w.useState(!1),[l,d]=w.useState(""),[f,h]=w.useState(!1),[p,g]=w.useState("English Language"),[v,b]=w.useState(""),[E,A]=w.useState("Edexcel"),[S,O]=w.useState(""),[U,k]=w.useState(!1),C=i4(),P=Ft();w.useEffect(()=>{z()},[C.currentUser]);const z=async()=>{if(C.currentUser){r(!0);try{const T=await ea(qe(we,"users",C.currentUser.uid));if(console.log("TeacherDashboard: Current User UID:",C.currentUser.uid),T.exists()){const $=T.data();console.log("TeacherDashboard: User Doc Data:",$),$.isAdmin&&h(!0)}else console.warn("TeacherDashboard: No user doc found in Firestore for UID:",C.currentUser.uid);const R=Dr(it(we,"classes"),Rs("teacherId","==",C.currentUser.uid)),V=(await $n(R)).docs.map($=>({id:$.id,...$.data()}));e(V.sort(($,ne)=>ne.createdAt-$.createdAt))}catch(T){console.error("Error loading classes:",T)}r(!1)}},N=async()=>{if(!(!l.trim()||!C.currentUser)){k(!0);try{const T=Math.random().toString(36).substring(2,8).toUpperCase(),R={name:l.trim(),teacherId:C.currentUser.uid,inviteCode:T,studentCount:0,createdAt:Date.now(),config:{subject:p,yearGroup:v,examBoard:E,level:"Mixed",teacherPrompt:S}};console.log("TeacherDashboard: Attempting to create class with data:",{...R,createdAt:"serverTimestamp"}),await xr(it(we,"classes"),{...R,createdAt:or()}),console.log("TeacherDashboard: Class created successfully"),s(!1),d(""),b(""),O(""),z()}catch(T){console.error("TeacherDashboard: Error creating class:",T),alert(`Failed to create class: ${T.code||"unknown"} - ${T.message}`)}k(!1)}},M=async(T,R)=>{if(window.confirm(`Are you sure you want to delete "${R}"? This action cannot be undone. All associated data (assignments, student records) will be deleted.`))try{await cc(qe(we,"classes",T)),e(L=>L.filter(V=>V.id!==T))}catch(L){console.error("TeacherDashboard: Error deleting class:",L),alert(`Failed to delete class: ${L.message}`)}};return c.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Teacher Dashboard"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your classes and assignments."})]}),f&&c.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-semibold transition-colors shadow-lg shadow-indigo-200",children:[c.jsx(tS,{size:20}),"Create Class"]})]}),n?c.jsx("div",{className:"flex justify-center p-12",children:c.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):t.length===0?c.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-300",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Aa,{size:32})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No classes yet"}),c.jsx("p",{className:"text-slate-500 max-w-md mx-auto mb-6",children:"Create your first class to start assigning AI-generated practice exams to your students."}),f?c.jsx("button",{onClick:()=>s(!0),className:"text-indigo-600 font-semibold hover:text-indigo-700 hover:underline",children:"Create a Class now"}):c.jsx("p",{className:"text-slate-400 text-sm",children:"Contact your administrator to create a class."})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(T=>c.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors cursor-pointer",onClick:()=>P(`/teacher/class/${T.id}`),children:T.name})}),c.jsx("button",{onClick:R=>{R.stopPropagation(),M(T.id,T.name)},className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors ml-2 flex-shrink-0",title:"Delete Class",children:c.jsx(Ea,{size:18})}),c.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-full uppercase tracking-wide",children:[T.studentCount," Students"]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-6 p-3 bg-slate-50 rounded-lg border border-slate-100",children:[c.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Connect Code:"}),c.jsx("code",{className:"text-lg font-mono font-bold text-slate-900 tracking-widest",children:T.inviteCode})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>P(`/teacher/class/${T.id}`),className:"flex-1 py-2.5 bg-slate-900 text-white rounded-lg font-medium text-sm hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[c.jsx(Jn,{size:16}),"Manage"]}),c.jsx("button",{onClick:()=>P(`/teacher/class/${T.id}/assignments`),className:"flex-1 py-2.5 bg-white border border-slate-200 text-slate-700 rounded-lg font-medium text-sm hover:bg-slate-50 transition-colors",children:"Assignments"})]})]})},T.id))}),a&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-8 shadow-2xl my-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Create New Class"}),c.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:c.jsx("p",{className:"text-amber-800 text-xs font-medium",children:" Legal Reminder: By creating a class, you confirm you are an authorised educator. This platform handles specific student data under your instruction."})}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Class Name *"}),c.jsx("input",{type:"text",value:l,onChange:T=>d(T.target.value),placeholder:"e.g. Year 10 English - Set 2",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),c.jsxs("select",{value:p,onChange:T=>g(T.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"English Language",children:"English Language"}),c.jsx("option",{value:"English Literature",children:"English Literature"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Year Group"}),c.jsx("input",{type:"text",value:v,onChange:T=>b(T.target.value),placeholder:"e.g. Year 11",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Exam Board Focus"}),c.jsxs("select",{value:E,onChange:T=>A(T.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"Edexcel",children:"Edexcel (Default)"}),c.jsx("option",{value:"AQA",children:"AQA"}),c.jsx("option",{value:"Eduqas",children:"Eduqas"}),c.jsx("option",{value:"OCR",children:"OCR"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["AI Teacher Prompt ",c.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),c.jsx("p",{className:"text-xs text-slate-500 mb-2",children:'Provide context for the AI when generating content for this class (e.g. "Focus on weaker students", "Include more creative writing prompts").'}),c.jsx("textarea",{value:S,onChange:T=>O(T.target.value),placeholder:"e.g. This is a high-ability Year 10 group. Focus on complex inference questions.",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 h-24 resize-none"})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 text-slate-600 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:"Cancel"}),c.jsx("button",{onClick:N,disabled:U||!l.trim(),className:`flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors ${U?"opacity-70 cursor-wait":""}`,children:U?"Creating...":"Create Class"})]})]})})]})},BD=()=>{const{classId:t}=gv(),e=Ft(),[n,r]=w.useState(null),[a,s]=w.useState([]),[l,d]=w.useState([]),[f,h]=w.useState(!0),[p,g]=w.useState("assignments");w.useEffect(()=>{t&&v()},[t]);const v=async()=>{if(t){h(!0);try{const E=qe(we,"classes",t),A=await ea(E);if(A.exists())r({id:A.id,...A.data()});else{e("/teacher");return}const S=it(we,"classes",t,"members"),U=(await $n(S)).docs.map(N=>({uid:N.id,...N.data()}));s(U);const k=it(we,"assignments"),C=Dr(k,Rs("classId","==",t)),z=(await $n(C)).docs.map(N=>({id:N.id,...N.data()}));d(z.sort((N,M)=>M.createdAt-N.createdAt))}catch(E){console.error("Error loading class data:",E)}h(!1)}},b=async E=>{if(window.confirm("Are you sure? This will delete the assignment and all student results associated with it."))try{await cc(qe(we,"assignments",E)),d(A=>A.filter(S=>S.id!==E))}catch(A){console.error("Error deleting assignment:",A),alert("Failed to delete assignment.")}};return f?c.jsx("div",{className:"p-12 text-center text-slate-500",children:"Loading class details..."}):n?c.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[c.jsxs("button",{onClick:()=>e("/teacher"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ni,{size:18}),"Back to Dashboard"]}),c.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-8 mb-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 mb-2",children:n.name}),c.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-lg",children:[c.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Join Code:"}),c.jsx("span",{className:"font-mono font-bold text-slate-900",children:n.inviteCode})]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[a.length," Students"]})]})]}),c.jsx("div",{children:c.jsx("button",{onClick:()=>e(`/teacher/class/${t}/create-assignment`),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 transition-all transform hover:scale-105",children:"+ New Assignment"})})]})}),c.jsxs("div",{className:"flex gap-8 border-b border-slate-200 mb-8",children:[c.jsxs("button",{onClick:()=>g("assignments"),className:`pb-4 px-2 font-bold text-lg transition-colors relative ${p==="assignments"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:["Assignments",p==="assignments"&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t-full"})]}),c.jsxs("button",{onClick:()=>g("students"),className:`pb-4 px-2 font-bold text-lg transition-colors relative ${p==="students"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:["Students (",a.length,")",p==="students"&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t-full"})]})]}),p==="assignments"&&c.jsx("div",{className:"grid gap-4",children:l.length===0?c.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-2xl border border-dashed border-slate-300",children:[c.jsx(fc,{size:48,className:"mx-auto text-slate-300 mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"No assignments created yet"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Generate your first AI practice set for this class."}),c.jsx("button",{onClick:()=>e(`/teacher/class/${t}/create-assignment`),className:"text-indigo-600 font-bold hover:underline",children:"Create Assignment"})]}):l.map(E=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex justify-between items-center group",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:E.title||"Untitled Assignment"}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Gv,{size:16})," Created ",new Date(E.createdAt).toLocaleDateString()]}),c.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${E.settings.difficulty==="Easy"?"bg-green-100 text-green-700":E.settings.difficulty==="Medium"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:E.settings.difficulty}),c.jsx("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-xs text-slate-600 uppercase font-medium",children:E.settings.topic})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"View Results"}),c.jsx("button",{onClick:()=>b(E.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(Ea,{size:20})})]})]},E.id))}),p==="students"&&c.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Student Name"}),c.jsx("th",{className:"px-6 py-4",children:"Joined At"}),c.jsx("th",{className:"px-6 py-4",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:a.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:3,className:"px-6 py-12 text-center text-slate-500",children:["No students have joined yet. Share the code ",c.jsx("b",{children:n.inviteCode})," with them."]})}):a.map(E=>{var A;return c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-6 py-4 font-medium text-slate-900 flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-bold",children:((A=E.displayName)==null?void 0:A.charAt(0))||"S"}),E.displayName||"Unnamed Student"]}),c.jsx("td",{className:"px-6 py-4 text-slate-500 text-sm",children:E.joinedAt?new Date(E.joinedAt).toLocaleDateString():"Unknown"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("button",{className:"text-red-400 hover:text-red-600 text-sm font-medium",children:"Remove"})})]},E.uid)})})]})})]}):c.jsx("div",{className:"p-12 text-center text-red-500",children:"Class not found."})},Oye=()=>{const{classId:t}=gv(),e=Ft(),[n,r]=w.useState(""),[a,s]=w.useState("Medium"),[l,d]=w.useState(5),[f,h]=w.useState(""),[p,g]=w.useState(!1),[v,b]=w.useState(null),[E,A]=w.useState(!1),S=async()=>{if(n){g(!0);try{const k=await new xh().generatePracticeSet(n,a,l);if(k&&k.questions)b(k);else throw new Error("Invalid response from AI")}catch(U){console.error("Generation failed:",U),alert("Failed to generate questions. Please try again.")}g(!1)}},O=async()=>{if(!(!v||!je.currentUser||!t)){A(!0);try{const U={classId:t,teacherId:je.currentUser.uid,title:v.title,questions:v.questions,settings:{topic:n,difficulty:a},status:"active",createdAt:Date.now()};await xr(it(we,"assignments"),U),e(`/teacher/class/${t}`)}catch(U){console.error("Save failed:",U),alert("Failed to save assignment.")}A(!1)}};return c.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[c.jsxs("button",{onClick:()=>e(`/teacher/class/${t}`),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ni,{size:18}),"Cancel & Back"]}),c.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 mb-8",children:"Create New Assignment"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[c.jsx(Xa,{className:"text-purple-500",size:20}),"AI Configuration"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Topic / Theme"}),c.jsx("input",{type:"text",value:n,onChange:U=>r(U.target.value),placeholder:"e.g. Macbeth Act 1, Persuasive Writing, Grammar...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Difficulty"}),c.jsxs("select",{value:a,onChange:U=>s(U.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",children:[c.jsx("option",{value:"Easy",children:"Foundation (Easy)"}),c.jsx("option",{value:"Medium",children:"Standard (Medium)"}),c.jsx("option",{value:"Hard",children:"Advanced (Hard)"}),c.jsx("option",{value:"Mixed",children:"Mixed Ability"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Questions"}),c.jsxs("select",{value:l,onChange:U=>d(Number(U.target.value)),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",children:[c.jsx("option",{value:3,children:"3 Questions"}),c.jsx("option",{value:5,children:"5 Questions"}),c.jsx("option",{value:10,children:"10 Questions"})]})]})]}),c.jsx("div",{className:"pt-4",children:c.jsx("button",{onClick:S,disabled:!n||p,className:`w-full py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-xl shadow-lg transition-all ${p?"opacity-70 cursor-wait":"hover:scale-[1.02]"}`,children:p?"Generating Questions...":"Generate with AI"})})]})]})}),c.jsx("div",{className:"space-y-6",children:v?c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm h-full flex flex-col",children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-2",children:v.title}),c.jsx("div",{className:"flex-1 overflow-y-auto max-h-[500px] pr-2 space-y-4 mb-4",children:v.questions.map((U,k)=>c.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsxs("span",{className:"font-bold text-slate-700",children:["Q",U.number]}),c.jsxs("span",{className:"text-xs bg-slate-200 px-2 py-1 rounded text-slate-600",children:[U.marks," Marks"]})]}),c.jsx("p",{className:"text-slate-600 text-sm",children:U.text})]},k))}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100",children:[c.jsxs("button",{onClick:S,className:"flex-1 py-3 border border-slate-200 text-slate-600 font-semibold rounded-xl hover:bg-slate-50 transition-colors flex items-center justify-center gap-2",children:[c.jsx(nS,{size:18})," Regenerate"]}),c.jsxs("button",{onClick:O,disabled:E,className:"flex-[2] py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(xy,{size:18})," ",E?"Saving...":"Assign to Class"]})]})]}):c.jsxs("div",{className:"h-full bg-slate-50 rounded-2xl border border-dashed border-slate-300 flex flex-col items-center justify-center text-slate-400 p-8",children:[c.jsx(Xa,{size:48,className:"mb-4 opacity-50"}),c.jsxs("p",{className:"text-center",children:["Configure your topic and settings,",c.jsx("br",{}),"then click Generate to preview."]})]})})]})]})},Iye=()=>{const{teacherId:t}=gv(),e=Ft(),[n,r]=w.useState([]),[a,s]=w.useState(!0),[l,d]=w.useState("");w.useEffect(()=>{t&&f()},[t]);const f=async()=>{if(t){s(!0);try{const h=await ea(qe(we,"users",t));h.exists()&&d(h.data().displayName||h.data().email||"Teacher");const p=Dr(it(we,"classes"),Rs("teacherId","==",t)),v=(await $n(p)).docs.map(b=>({id:b.id,...b.data()}));r(v.sort((b,E)=>E.createdAt-b.createdAt))}catch(h){console.error("Error loading teacher classes:",h)}s(!1)}};return a?c.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[c.jsxs("button",{onClick:()=>e("/admin/users"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ni,{size:18}),"Back to Users"]}),c.jsx("div",{className:"flex justify-center p-12",children:c.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})})]}):c.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[c.jsxs("button",{onClick:()=>e("/admin/users"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 transition-colors mb-6 font-medium",children:[c.jsx(ni,{size:18}),"Back to Users"]}),c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-slate-900",children:[l,"'s Classes"]}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Viewing all classes created by this teacher."})]})}),n.length===0?c.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-300",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Aa,{size:32})}),c.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No classes found"}),c.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"This teacher hasn't created any classes yet."})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(h=>c.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors cursor-pointer",onClick:()=>e(`/teacher/class/${h.id}`),children:h.name}),c.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-full uppercase tracking-wide",children:[h.studentCount||0," Students"]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-6 p-3 bg-slate-50 rounded-lg border border-slate-100",children:[c.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Connect Code:"}),c.jsx("code",{className:"text-lg font-mono font-bold text-slate-900 tracking-widest",children:h.inviteCode})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>e(`/teacher/class/${h.id}`),className:"flex-1 py-2.5 bg-slate-900 text-white rounded-lg font-medium text-sm hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[c.jsx(Jn,{size:16}),"Manage"]}),c.jsx("button",{onClick:()=>e(`/teacher/class/${h.id}/assignments`),className:"flex-1 py-2.5 bg-white border border-slate-200 text-slate-700 rounded-lg font-medium text-sm hover:bg-slate-50 transition-colors",children:"Assignments"})]})]})},h.id))})]})},kye=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(""),[l,d]=w.useState(!0),[f,h]=w.useState("all"),[p,g]=w.useState([]);w.useEffect(()=>{je.currentUser&&v()},[]),w.useEffect(()=>{const b=a.toLowerCase();let E=t.filter(A=>(A.displayName||"").toLowerCase().includes(b)||(A.uid||"").includes(b));f!=="all"&&(E=E.filter(A=>A.classId===f)),r(E)},[a,t,f]);const v=async()=>{if(je.currentUser){d(!0);try{const b=Dr(it(we,"classes"),Rs("teacherId","==",je.currentUser.uid)),A=(await $n(b)).docs.map(U=>({id:U.id,...U.data()}));g(A);const S=[];for(const U of A)try{const k=it(we,"classes",U.id,"members");(await $n(k)).docs.forEach(P=>{const z=P.data();S.push({uid:z.uid||P.id,displayName:z.displayName||"Unnamed Student",joinedAt:z.joinedAt||Date.now(),classId:U.id,className:U.name})})}catch(k){console.error(`Error loading members for class ${U.id}:`,k)}const O=Array.from(new Map(S.map(U=>[`${U.uid}-${U.classId}`,U])).values());e(O),r(O)}catch(b){console.error("Error loading teacher data:",b)}d(!1)}};return l?c.jsx("div",{className:"p-8",children:"Loading student directory..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Student Directory"}),c.jsx("p",{className:"text-slate-500",children:"View all students enrolled in your classes."})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:b=>s(b.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-edexcel-teal w-64"})]})]}),p.length>0&&c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="all"?"bg-edexcel-teal text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["All Classes (",t.length,")"]}),p.map(b=>{const E=t.filter(A=>A.classId===b.id).length;return c.jsxs("button",{onClick:()=>h(b.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f===b.id?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[b.name," (",E,")"]},b.id)})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Student Name"}),c.jsx("th",{className:"px-6 py-4",children:"Class"}),c.jsx("th",{className:"px-6 py-4",children:"Joined"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:n.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-slate-400",children:p.length===0?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Aa,{size:32,className:"text-slate-300"}),c.jsx("p",{children:"No classes created yet. Create a class to enroll students."})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Aa,{size:32,className:"text-slate-300"}),c.jsx("p",{children:"No students found matching your search."})]})})}):n.map(b=>{var E;return c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-sm",children:((E=b.displayName)==null?void 0:E.charAt(0))||"S"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-900",children:b.displayName}),c.jsxs("div",{className:"text-xs text-slate-400 font-mono",title:b.uid,children:[b.uid.slice(0,12),"..."]})]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Jn,{size:16,className:"text-slate-400"}),b.className]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:b.joinedAt?new Date(b.joinedAt).toLocaleDateString():"Unknown"})]},`${b.uid}-${b.classId}`)})})]})})]})},Pye=()=>{var p,g;const t=Ft(),e=ra(),[n,r]=w.useState(!1),[a,s]=w.useState(()=>localStorage.getItem("teacherDarkMode")==="true");w.useEffect(()=>{localStorage.setItem("teacherDarkMode",a.toString()),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]);const l=async()=>{await fd(),t("/login")},d=()=>{const v=e.pathname.split("/").filter(Boolean),b=[{label:"Teacher",path:"/teacher"}];return v.length>1&&(v[1]==="students"?b.push({label:"Student Dictionary",path:e.pathname}):v[1]==="class"&&v[2]?b.push({label:"Class Manager",path:e.pathname}):v[1]==="view"&&v[2]&&b.push({label:"View Classes",path:e.pathname})),b},f=({isActive:v})=>`flex items-center gap-3 px-4 py-3 rounded-md transition-colors ${v?"bg-blue-500/20 text-blue-500":"text-slate-300 hover:bg-slate-800"} ${n?"justify-center":""}`,h=[{to:"/teacher",icon:eS,label:"Dashboard",end:!0},{to:"/teacher/students",icon:Aa,label:"Student Dictionary"},{to:"/admin",icon:yy,label:"Back to Admin"}];return c.jsxs("div",{className:`flex h-screen ${a?"bg-slate-900":"bg-gray-100"}`,children:[c.jsxs("aside",{className:`${n?"w-20":"w-64"} bg-slate-900 text-white flex flex-col shrink-0 transition-all duration-300`,children:[c.jsxs("div",{className:`p-4 border-b border-slate-700 flex items-center ${n?"justify-center":"justify-between"}`,children:[!n&&c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold tracking-tight text-blue-400",children:"Teacher Control Panel"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Edexcel Simulator"})]}),c.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",title:n?"Expand":"Collapse",children:n?c.jsx(vh,{size:18}):c.jsx(XA,{size:18})})]}),c.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:h.map(v=>c.jsxs(Wg,{to:v.to,end:v.end,className:f,title:n?v.label:void 0,children:[c.jsx(v.icon,{size:20}),!n&&c.jsx("span",{className:"font-medium",children:v.label})]},v.to))}),c.jsxs("div",{className:"p-3 border-t border-slate-700 space-y-2",children:[c.jsxs("button",{onClick:()=>s(!a),className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${n?"justify-center":""}`,title:a?"Light Mode":"Dark Mode",children:[a?c.jsx(_3,{size:18}):c.jsx(b3,{size:18}),!n&&c.jsx("span",{children:a?"Light Mode":"Dark Mode"})]}),c.jsxs("button",{onClick:l,className:`flex items-center gap-3 px-4 py-2 w-full text-slate-300 hover:text-white hover:bg-slate-800 rounded-md transition-colors ${n?"justify-center":""}`,title:"Sign Out",children:[c.jsx(hd,{size:18}),!n&&c.jsx("span",{children:"Sign Out"})]}),!n&&c.jsx("div",{className:"px-4 pt-2 text-xs text-slate-500",children:"v2.0.0"})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxs("header",{className:`${a?"bg-slate-800 border-slate-700":"bg-white border-gray-200"} border-b h-16 flex items-center justify-between px-6 shadow-sm`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>t("/"),className:`p-2 rounded-lg hover:bg-slate-100 ${a?"hover:bg-slate-700":""}`,title:"Back to App",children:c.jsx(yy,{size:18,className:a?"text-slate-400":"text-slate-500"})}),c.jsx("nav",{className:"flex items-center gap-1 text-sm",children:d().map((v,b,E)=>c.jsxs(Mh.Fragment,{children:[c.jsx("button",{onClick:()=>t(v.path),className:`${b===E.length-1?a?"text-white font-semibold":"text-slate-900 font-semibold":a?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:v.label}),b<E.length-1&&c.jsx("span",{className:a?"text-slate-600":"text-slate-300",children:"/"})]},v.path))})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`text-sm font-bold ${a?"text-white":"text-gray-800"}`,children:((p=je.currentUser)==null?void 0:p.displayName)||"Teacher"}),c.jsx("div",{className:`text-xs ${a?"text-slate-400":"text-gray-500"}`,children:"Educator"})]}),c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden",children:(g=je.currentUser)!=null&&g.photoURL?c.jsx("img",{src:je.currentUser.photoURL,alt:"Teacher",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:c.jsx(Jn,{size:20})})})]})]}),c.jsx("main",{className:`flex-1 overflow-auto p-6 ${a?"bg-slate-900":""}`,children:c.jsx(sM,{context:{darkMode:a}})})]})]})},Rye=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(""),[a,s]=w.useState(!0),[l,d]=w.useState(!1),f=Ft();w.useEffect(()=>{je.currentUser&&h()},[je.currentUser]);const h=async()=>{if(je.currentUser){s(!0);try{const g=it(we,"users",je.currentUser.uid,"enrolled_classes"),b=(await $n(g)).docs.map(S=>S.id);if(b.length===0){e([]),s(!1);return}const E=[];for(let S=0;S<b.length;S+=10)E.push(b.slice(S,S+10));const A=[];for(const S of E){const O=Dr(it(we,"classes"),Rs("__name__","in",S));(await $n(O)).forEach(k=>A.push({id:k.id,...k.data()}))}e(A)}catch(g){console.error("Error loading classes:",g)}s(!1)}},p=async()=>{if(!(!n||!je.currentUser)){d(!0);try{const g=Dr(it(we,"classes"),Rs("inviteCode","==",n.trim().toUpperCase())),v=await $n(g);if(v.empty){alert("Invalid class code."),d(!1);return}const b=v.docs[0],E=b.id,A=b.data();await Ya(qe(we,"classes",E,"members",je.currentUser.uid),{uid:je.currentUser.uid,displayName:je.currentUser.displayName||"Unknown Student",joinedAt:Date.now()}),await Ya(qe(we,"users",je.currentUser.uid,"enrolled_classes",E),{joinedAt:Date.now(),name:A.name}),alert(`Successfully joined ${A.name}!`),r(""),h()}catch(g){console.error("Join failed:",g),alert("Failed to join class. Please try again.")}d(!1)}};return c.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-8",children:"My Classroom"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-indigo-100 shadow-lg shadow-indigo-50",children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[c.jsx(Xr,{className:"text-indigo-600",size:20}),"Join a Class"]}),c.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Enter the 6-character code shared by your teacher."}),c.jsx("input",{type:"text",value:n,onChange:g=>r(g.target.value.toUpperCase()),placeholder:"e.g. AB12CD",maxLength:6,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-mono text-center text-lg tracking-widest mb-4 focus:ring-2 focus:ring-indigo-500 focus:outline-none uppercase"}),c.jsx("button",{onClick:p,disabled:l||n.length<3,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition-colors disabled:opacity-50",children:l?"Joining...":"Join Class"})]})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Enrolled Classes"}),a?c.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading your classes..."}):t.length===0?c.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-dashed border-slate-300 text-center",children:[c.jsx(Jn,{size:48,className:"mx-auto text-slate-300 mb-4"}),c.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"No classes yet"}),c.jsx("p",{className:"text-slate-400",children:"Join a class to see your assignments here."})]}):c.jsx("div",{className:"grid gap-4",children:t.map(g=>c.jsx("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-200 hover:shadow-md transition-all group cursor-pointer",onClick:()=>f(`/student/class/${g.id}`),children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-indigo-700 transition-colors",children:g.name}),c.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Joined ",new Date().toLocaleDateString()]})]}),c.jsx(Hv,{className:"text-slate-300 group-hover:text-indigo-500 transition-colors"})]})},g.id))})]})]})]})},Dye=()=>{const{assignmentId:t}=gv(),e=Ft(),[n,r]=w.useState(null),[a,s]=w.useState({}),[l,d]=w.useState(!1),[f,h]=w.useState(!0);w.useEffect(()=>{p()},[t]);const p=async()=>{if(t){try{const b=qe(we,"assignments",t),E=await ea(b);E.exists()?r({id:E.id,...E.data()}):(alert("Assignment not found."),e("/student/classroom"))}catch(b){console.error("Error loading assignment:",b)}h(!1)}},g=(b,E)=>{s(A=>({...A,[b]:{questionId:b,text:E,timestamp:Date.now(),isFlagged:!1}}))},v=async()=>{if(!(!window.confirm("Submit assignment? You cannot change your answers after submitting.")||!je.currentUser||!n)){d(!0);try{const b=Object.values(a);await xr(it(we,"assignment_results"),{assignmentId:n.id,classId:n.classId,studentId:je.currentUser.uid,studentName:je.currentUser.displayName||"Student",score:0,maxScore:n.questions.reduce((E,A)=>E+A.marks,0),answers:b,completedAt:Date.now(),feedback:"Pending AI Marking..."}),alert("Assignment submitted! Your teacher will review the results."),e("/student/classroom")}catch(b){console.error("Submission failed:",b),alert("Failed to submit assignment.")}d(!1)}};return f?c.jsx("div",{className:"p-12 text-center text-slate-500",children:"Loading assignment..."}):n?c.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",children:[c.jsxs("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-30 px-6 py-4 flex justify-between items-center shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>e("/student/classroom"),className:"text-slate-400 hover:text-slate-600",children:c.jsx(ni,{})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-slate-900",children:n.title}),c.jsxs("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wide",children:[n.settings.topic,"  ",n.questions.length," Questions"]})]})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("button",{onClick:v,disabled:l,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition-colors flex items-center gap-2",children:l?"Submitting...":c.jsxs(c.Fragment,{children:["Submit ",c.jsx(Wi,{size:18})]})})})]}),c.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-8 mt-6",children:n.questions.map((b,E)=>{var A;return c.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-200 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Question ",E+1]}),c.jsxs("span",{className:"bg-slate-100 text-slate-600 px-3 py-1 rounded text-sm font-medium",children:[b.marks," Marks"]})]}),c.jsx("div",{className:"prose prose-slate max-w-none mb-6",children:c.jsx("p",{className:"whitespace-pre-wrap text-slate-800 text-lg leading-relaxed",children:b.text})}),c.jsx("textarea",{value:((A=a[b.id])==null?void 0:A.text)||"",onChange:S=>g(b.id,S.target.value),placeholder:"Type your answer here...",rows:6,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none focus:bg-white transition-all text-slate-900 leading-relaxed resize-y"})]},b.id||E)})})]}):null},FD=({children:t})=>{const[e,n]=w.useState(null),[r,a]=w.useState(!1),[s,l]=w.useState(!0);return w.useEffect(()=>{const d=wv(je,async f=>{if(n(f),f){const h=await e3(f.uid);a(h)}l(!1)});return()=>d()},[]),s?c.jsx("div",{className:"h-screen flex items-center justify-center",children:c.jsx(Xa,{className:"animate-spin text-edexcel-blue",size:32})}):!e||!r?c.jsx(Yl,{to:"/admin/login",replace:!0}):c.jsx(c.Fragment,{children:t})},Mye=()=>{const t=Ft(),e=ra(),n=e.pathname.startsWith("/admin")||e.pathname.startsWith("/teacher");return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsxs(_$,{children:[c.jsx(Ye,{path:"/",element:c.jsx(KX,{})}),c.jsx(Ye,{path:"/login",element:c.jsx(iye,{})}),c.jsx(Ye,{path:"/legal-consent",element:c.jsx(gye,{})}),c.jsx(Ye,{path:"/pending-approval",element:c.jsx(cye,{})}),c.jsx(Ye,{path:"/terms",element:c.jsx(uye,{})}),c.jsx(Ye,{path:"/privacy",element:c.jsx(dye,{})}),c.jsx(Ye,{path:"/cookies",element:c.jsx(fye,{})}),c.jsx(Ye,{path:"/acceptable-use",element:c.jsx(hye,{})}),c.jsx(Ye,{path:"/child-privacy",element:c.jsx(mye,{})}),c.jsx(Ye,{path:"/admin/login",element:c.jsx(Eye,{})}),c.jsx(Ye,{path:"/dashboard",element:c.jsx(zf,{children:c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsx(oye,{})})})}),c.jsxs(Ye,{path:"/admin",element:c.jsx(FD,{children:c.jsx(vye,{})}),children:[c.jsx(Ye,{index:!0,element:c.jsx($D,{})}),c.jsx(Ye,{path:"users",element:c.jsx(xye,{})}),c.jsx(Ye,{path:"exams",element:c.jsx(bye,{})}),c.jsx(Ye,{path:"lab-sessions",element:c.jsx(wye,{})}),c.jsx(Ye,{path:"analytics",element:c.jsx($D,{})}),c.jsx(Ye,{path:"announcements",element:c.jsx(Sye,{})}),c.jsx(Ye,{path:"assets",element:c.jsx(Nye,{})}),c.jsx(Ye,{path:"activity-log",element:c.jsx(jye,{})}),c.jsx(Ye,{path:"security",element:c.jsx(Tye,{})}),c.jsx(Ye,{path:"directory",element:c.jsx(Aye,{})}),c.jsx(Ye,{path:"settings",element:c.jsx(_ye,{})})]}),c.jsx(Ye,{path:"/exam/:type",element:c.jsx(zf,{children:c.jsx(QX,{})})}),c.jsx(Ye,{path:"/results",element:c.jsx(zf,{children:c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsx(aye,{})})})}),c.jsxs(Ye,{path:"/teacher",element:c.jsx(FD,{children:c.jsx(Pye,{})}),children:[c.jsx(Ye,{index:!0,element:c.jsx(Cye,{})}),c.jsx(Ye,{path:"students",element:c.jsx(kye,{})}),c.jsx(Ye,{path:"view/:teacherId",element:c.jsx(Iye,{})}),c.jsx(Ye,{path:"class/:classId",element:c.jsx(BD,{})}),c.jsx(Ye,{path:"class/:classId/assignments",element:c.jsx(BD,{})}),c.jsx(Ye,{path:"class/:classId/create-assignment",element:c.jsx(Oye,{})})]}),c.jsx(Ye,{path:"/student/classroom",element:c.jsx(zf,{children:c.jsx(Rye,{})})}),c.jsx(Ye,{path:"/student/assignment/:assignmentId",element:c.jsx(zf,{children:c.jsx(Dye,{})})}),c.jsx(Ye,{path:"/language-lab",element:c.jsx("div",{className:"flex flex-col min-h-screen",children:c.jsx(lye,{onHome:()=>t("/")})})}),c.jsx(Ye,{path:"*",element:c.jsx(Yl,{to:"/"})})]})}),!n&&c.jsx(yye,{})]})},Lye=()=>c.jsxs(G$,{children:[c.jsx(Mye,{}),c.jsx(pye,{})]}),R8=document.getElementById("root");if(!R8)throw new Error("Could not find root element to mount to");const Uye=A9.createRoot(R8);Uye.render(c.jsx(Mh.StrictMode,{children:c.jsx(Lye,{})}));export{by as _,Vye as c,Hi as g};
